(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();function g6(s,t){const e=Object.create(null),i=s.split(",");for(let n=0;n<i.length;n++)e[i[n]]=!0;return t?n=>!!e[n.toLowerCase()]:n=>!!e[n]}const ye={},Ir=[],ei=()=>{},gy=()=>!1,yy=/^on[^a-z]/,m4=s=>yy.test(s),y6=s=>s.startsWith("onUpdate:"),Fe=Object.assign,x6=(s,t)=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)},xy=Object.prototype.hasOwnProperty,ne=(s,t)=>xy.call(s,t),Bt=Array.isArray,Nr=s=>G1(s)==="[object Map]",g4=s=>G1(s)==="[object Set]",dh=s=>G1(s)==="[object Date]",Vt=s=>typeof s=="function",ge=s=>typeof s=="string",g1=s=>typeof s=="symbol",fe=s=>s!==null&&typeof s=="object",yd=s=>fe(s)&&Vt(s.then)&&Vt(s.catch),xd=Object.prototype.toString,G1=s=>xd.call(s),_y=s=>G1(s).slice(8,-1),_d=s=>G1(s)==="[object Object]",_6=s=>ge(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,La=g6(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),y4=s=>{const t=Object.create(null);return e=>t[e]||(t[e]=s(e))},vy=/-(\w)/g,Li=y4(s=>s.replace(vy,(t,e)=>e?e.toUpperCase():"")),My=/\B([A-Z])/g,T9=y4(s=>s.replace(My,"-$1").toLowerCase()),x4=y4(s=>s.charAt(0).toUpperCase()+s.slice(1)),Ia=y4(s=>s?`on${x4(s)}`:""),y1=(s,t)=>!Object.is(s,t),Na=(s,t)=>{for(let e=0;e<s.length;e++)s[e](t)},Ja=(s,t,e)=>{Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value:e})},Q7=s=>{const t=parseFloat(s);return isNaN(t)?s:t},by=s=>{const t=ge(s)?Number(s):NaN;return isNaN(t)?s:t};let fh;const t3=()=>fh||(fh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _4(s){if(Bt(s)){const t={};for(let e=0;e<s.length;e++){const i=s[e],n=ge(i)?Ey(i):_4(i);if(n)for(const r in n)t[r]=n[r]}return t}else{if(ge(s))return s;if(fe(s))return s}}const Sy=/;(?![^(]*\))/g,wy=/:([^]+)/,Ay=/\/\*[^]*?\*\//g;function Ey(s){const t={};return s.replace(Ay,"").split(Sy).forEach(e=>{if(e){const i=e.split(wy);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function bi(s){let t="";if(ge(s))t=s;else if(Bt(s))for(let e=0;e<s.length;e++){const i=bi(s[e]);i&&(t+=i+" ")}else if(fe(s))for(const e in s)s[e]&&(t+=e+" ");return t.trim()}const Ty="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cy=g6(Ty);function vd(s){return!!s||s===""}function Ry(s,t){if(s.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<s.length;i++)e=v4(s[i],t[i]);return e}function v4(s,t){if(s===t)return!0;let e=dh(s),i=dh(t);if(e||i)return e&&i?s.getTime()===t.getTime():!1;if(e=g1(s),i=g1(t),e||i)return s===t;if(e=Bt(s),i=Bt(t),e||i)return e&&i?Ry(s,t):!1;if(e=fe(s),i=fe(t),e||i){if(!e||!i)return!1;const n=Object.keys(s).length,r=Object.keys(t).length;if(n!==r)return!1;for(const a in s){const o=s.hasOwnProperty(a),h=t.hasOwnProperty(a);if(o&&!h||!o&&h||!v4(s[a],t[a]))return!1}}return String(s)===String(t)}function Md(s,t){return s.findIndex(e=>v4(e,t))}const bd=s=>ge(s)?s:s==null?"":Bt(s)||fe(s)&&(s.toString===xd||!Vt(s.toString))?JSON.stringify(s,Sd,2):String(s),Sd=(s,t)=>t&&t.__v_isRef?Sd(s,t.value):Nr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,n])=>(e[`${i} =>`]=n,e),{})}:g4(t)?{[`Set(${t.size})`]:[...t.values()]}:fe(t)&&!Bt(t)&&!_d(t)?String(t):t;let B0;class wd{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=B0,!t&&B0&&(this.index=(B0.scopes||(B0.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=B0;try{return B0=this,t()}finally{B0=e}}}on(){B0=this}off(){B0=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Py(s){return new wd(s)}function Ly(s,t=B0){t&&t.active&&t.effects.push(s)}function Ad(){return B0}function Iy(s){B0&&B0.cleanups.push(s)}const v6=s=>{const t=new Set(s);return t.w=0,t.n=0,t},Ed=s=>(s.w&ms)>0,Td=s=>(s.n&ms)>0,Ny=({deps:s})=>{if(s.length)for(let t=0;t<s.length;t++)s[t].w|=ms},Dy=s=>{const{deps:t}=s;if(t.length){let e=0;for(let i=0;i<t.length;i++){const n=t[i];Ed(n)&&!Td(n)?n.delete(s):t[e++]=n,n.w&=~ms,n.n&=~ms}t.length=e}},Ka=new WeakMap;let Z5=0,ms=1;const e3=30;let Ai;const m9=Symbol(""),i3=Symbol("");class M6{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Ly(this,i)}run(){if(!this.active)return this.fn();let t=Ai,e=os;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ai,Ai=this,os=!0,ms=1<<++Z5,Z5<=e3?Ny(this):ph(this),this.fn()}finally{Z5<=e3&&Dy(this),ms=1<<--Z5,Ai=this.parent,os=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ai===this?this.deferStop=!0:this.active&&(ph(this),this.onStop&&this.onStop(),this.active=!1)}}function ph(s){const{deps:t}=s;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(s);t.length=0}}let os=!0;const Cd=[];function s5(){Cd.push(os),os=!1}function r5(){const s=Cd.pop();os=s===void 0?!0:s}function T0(s,t,e){if(os&&Ai){let i=Ka.get(s);i||Ka.set(s,i=new Map);let n=i.get(e);n||i.set(e,n=v6()),Rd(n)}}function Rd(s,t){let e=!1;Z5<=e3?Td(s)||(s.n|=ms,e=!Ed(s)):e=!s.has(Ai),e&&(s.add(Ai),Ai.deps.push(s))}function Ln(s,t,e,i,n,r){const a=Ka.get(s);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(e==="length"&&Bt(s)){const h=Number(i);a.forEach((l,c)=>{(c==="length"||c>=h)&&o.push(l)})}else switch(e!==void 0&&o.push(a.get(e)),t){case"add":Bt(s)?_6(e)&&o.push(a.get("length")):(o.push(a.get(m9)),Nr(s)&&o.push(a.get(i3)));break;case"delete":Bt(s)||(o.push(a.get(m9)),Nr(s)&&o.push(a.get(i3)));break;case"set":Nr(s)&&o.push(a.get(m9));break}if(o.length===1)o[0]&&n3(o[0]);else{const h=[];for(const l of o)l&&h.push(...l);n3(v6(h))}}function n3(s,t){const e=Bt(s)?s:[...s];for(const i of e)i.computed&&mh(i);for(const i of e)i.computed||mh(i)}function mh(s,t){(s!==Ai||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}function Fy(s,t){var e;return(e=Ka.get(s))==null?void 0:e.get(t)}const Oy=g6("__proto__,__v_isRef,__isVue"),Pd=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(g1)),zy=b6(),By=b6(!1,!0),Uy=b6(!0),gh=ky();function ky(){const s={};return["includes","indexOf","lastIndexOf"].forEach(t=>{s[t]=function(...e){const i=he(this);for(let r=0,a=this.length;r<a;r++)T0(i,"get",r+"");const n=i[t](...e);return n===-1||n===!1?i[t](...e.map(he)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{s[t]=function(...e){s5();const i=he(this)[t].apply(this,e);return r5(),i}}),s}function Hy(s){const t=he(this);return T0(t,"has",s),t.hasOwnProperty(s)}function b6(s=!1,t=!1){return function(i,n,r){if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(s?t?nx:Fd:t?Dd:Nd).get(i))return i;const a=Bt(i);if(!s){if(a&&ne(gh,n))return Reflect.get(gh,n,r);if(n==="hasOwnProperty")return Hy}const o=Reflect.get(i,n,r);return(g1(n)?Pd.has(n):Oy(n))||(s||T0(i,"get",n),t)?o:qe(o)?a&&_6(n)?o:o.value:fe(o)?s?A6(o):a5(o):o}}const Gy=Ld(),Vy=Ld(!0);function Ld(s=!1){return function(e,i,n,r){let a=e[i];if(Vr(a)&&qe(a)&&!qe(n))return!1;if(!s&&(!Qa(n)&&!Vr(n)&&(a=he(a),n=he(n)),!Bt(e)&&qe(a)&&!qe(n)))return a.value=n,!0;const o=Bt(e)&&_6(i)?Number(i)<e.length:ne(e,i),h=Reflect.set(e,i,n,r);return e===he(r)&&(o?y1(n,a)&&Ln(e,"set",i,n):Ln(e,"add",i,n)),h}}function Wy(s,t){const e=ne(s,t);s[t];const i=Reflect.deleteProperty(s,t);return i&&e&&Ln(s,"delete",t,void 0),i}function qy(s,t){const e=Reflect.has(s,t);return(!g1(t)||!Pd.has(t))&&T0(s,"has",t),e}function $y(s){return T0(s,"iterate",Bt(s)?"length":m9),Reflect.ownKeys(s)}const Id={get:zy,set:Gy,deleteProperty:Wy,has:qy,ownKeys:$y},Xy={get:Uy,set(s,t){return!0},deleteProperty(s,t){return!0}},jy=Fe({},Id,{get:By,set:Vy}),S6=s=>s,M4=s=>Reflect.getPrototypeOf(s);function o2(s,t,e=!1,i=!1){s=s.__v_raw;const n=he(s),r=he(t);e||(t!==r&&T0(n,"get",t),T0(n,"get",r));const{has:a}=M4(n),o=i?S6:e?T6:x1;if(a.call(n,t))return o(s.get(t));if(a.call(n,r))return o(s.get(r));s!==n&&s.get(t)}function h2(s,t=!1){const e=this.__v_raw,i=he(e),n=he(s);return t||(s!==n&&T0(i,"has",s),T0(i,"has",n)),s===n?e.has(s):e.has(s)||e.has(n)}function l2(s,t=!1){return s=s.__v_raw,!t&&T0(he(s),"iterate",m9),Reflect.get(s,"size",s)}function yh(s){s=he(s);const t=he(this);return M4(t).has.call(t,s)||(t.add(s),Ln(t,"add",s,s)),this}function xh(s,t){t=he(t);const e=he(this),{has:i,get:n}=M4(e);let r=i.call(e,s);r||(s=he(s),r=i.call(e,s));const a=n.call(e,s);return e.set(s,t),r?y1(t,a)&&Ln(e,"set",s,t):Ln(e,"add",s,t),this}function _h(s){const t=he(this),{has:e,get:i}=M4(t);let n=e.call(t,s);n||(s=he(s),n=e.call(t,s)),i&&i.call(t,s);const r=t.delete(s);return n&&Ln(t,"delete",s,void 0),r}function vh(){const s=he(this),t=s.size!==0,e=s.clear();return t&&Ln(s,"clear",void 0,void 0),e}function c2(s,t){return function(i,n){const r=this,a=r.__v_raw,o=he(a),h=t?S6:s?T6:x1;return!s&&T0(o,"iterate",m9),a.forEach((l,c)=>i.call(n,h(l),h(c),r))}}function u2(s,t,e){return function(...i){const n=this.__v_raw,r=he(n),a=Nr(r),o=s==="entries"||s===Symbol.iterator&&a,h=s==="keys"&&a,l=n[s](...i),c=e?S6:t?T6:x1;return!t&&T0(r,"iterate",h?i3:m9),{next(){const{value:u,done:d}=l.next();return d?{value:u,done:d}:{value:o?[c(u[0]),c(u[1])]:c(u),done:d}},[Symbol.iterator](){return this}}}}function Dn(s){return function(...t){return s==="delete"?!1:this}}function Yy(){const s={get(r){return o2(this,r)},get size(){return l2(this)},has:h2,add:yh,set:xh,delete:_h,clear:vh,forEach:c2(!1,!1)},t={get(r){return o2(this,r,!1,!0)},get size(){return l2(this)},has:h2,add:yh,set:xh,delete:_h,clear:vh,forEach:c2(!1,!0)},e={get(r){return o2(this,r,!0)},get size(){return l2(this,!0)},has(r){return h2.call(this,r,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:c2(!0,!1)},i={get(r){return o2(this,r,!0,!0)},get size(){return l2(this,!0)},has(r){return h2.call(this,r,!0)},add:Dn("add"),set:Dn("set"),delete:Dn("delete"),clear:Dn("clear"),forEach:c2(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=u2(r,!1,!1),e[r]=u2(r,!0,!1),t[r]=u2(r,!1,!0),i[r]=u2(r,!0,!0)}),[s,e,t,i]}const[Zy,Jy,Ky,Qy]=Yy();function w6(s,t){const e=t?s?Qy:Ky:s?Jy:Zy;return(i,n,r)=>n==="__v_isReactive"?!s:n==="__v_isReadonly"?s:n==="__v_raw"?i:Reflect.get(ne(e,n)&&n in i?e:i,n,r)}const tx={get:w6(!1,!1)},ex={get:w6(!1,!0)},ix={get:w6(!0,!1)},Nd=new WeakMap,Dd=new WeakMap,Fd=new WeakMap,nx=new WeakMap;function sx(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rx(s){return s.__v_skip||!Object.isExtensible(s)?0:sx(_y(s))}function a5(s){return Vr(s)?s:E6(s,!1,Id,tx,Nd)}function Od(s){return E6(s,!1,jy,ex,Dd)}function A6(s){return E6(s,!0,Xy,ix,Fd)}function E6(s,t,e,i,n){if(!fe(s)||s.__v_raw&&!(t&&s.__v_isReactive))return s;const r=n.get(s);if(r)return r;const a=rx(s);if(a===0)return s;const o=new Proxy(s,a===2?i:e);return n.set(s,o),o}function Dr(s){return Vr(s)?Dr(s.__v_raw):!!(s&&s.__v_isReactive)}function Vr(s){return!!(s&&s.__v_isReadonly)}function Qa(s){return!!(s&&s.__v_isShallow)}function zd(s){return Dr(s)||Vr(s)}function he(s){const t=s&&s.__v_raw;return t?he(t):s}function Bd(s){return Ja(s,"__v_skip",!0),s}const x1=s=>fe(s)?a5(s):s,T6=s=>fe(s)?A6(s):s;function Ud(s){os&&Ai&&(s=he(s),Rd(s.dep||(s.dep=v6())))}function C6(s,t){s=he(s);const e=s.dep;e&&n3(e)}function qe(s){return!!(s&&s.__v_isRef===!0)}function G0(s){return kd(s,!1)}function ax(s){return kd(s,!0)}function kd(s,t){return qe(s)?s:new ox(s,t)}class ox{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:he(t),this._value=e?t:x1(t)}get value(){return Ud(this),this._value}set value(t){const e=this.__v_isShallow||Qa(t)||Vr(t);t=e?t:he(t),y1(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:x1(t),C6(this))}}function PB(s){C6(s)}function qt(s){return qe(s)?s.value:s}const hx={get:(s,t,e)=>qt(Reflect.get(s,t,e)),set:(s,t,e,i)=>{const n=s[t];return qe(n)&&!qe(e)?(n.value=e,!0):Reflect.set(s,t,e,i)}};function Hd(s){return Dr(s)?s:new Proxy(s,hx)}function LB(s){const t=Bt(s)?new Array(s.length):{};for(const e in s)t[e]=Gd(s,e);return t}class lx{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Fy(he(this._object),this._key)}}class cx{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function IB(s,t,e){return qe(s)?s:Vt(s)?new cx(s):fe(s)&&arguments.length>1?Gd(s,t,e):G0(s)}function Gd(s,t,e){const i=s[t];return qe(i)?i:new lx(s,t,e)}class ux{constructor(t,e,i,n){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new M6(t,()=>{this._dirty||(this._dirty=!0,C6(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=he(this);return Ud(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function dx(s,t,e=!1){let i,n;const r=Vt(s);return r?(i=s,n=ei):(i=s.get,n=s.set),new ux(i,n,r||!n,e)}function fx(s,...t){}function hs(s,t,e,i){let n;try{n=i?s(...i):s()}catch(r){b4(r,t,e)}return n}function ii(s,t,e,i){if(Vt(s)){const r=hs(s,t,e,i);return r&&yd(r)&&r.catch(a=>{b4(a,t,e)}),r}const n=[];for(let r=0;r<s.length;r++)n.push(ii(s[r],t,e,i));return n}function b4(s,t,e,i=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const a=t.proxy,o=e;for(;r;){const l=r.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](s,a,o)===!1)return}r=r.parent}const h=t.appContext.config.errorHandler;if(h){hs(h,null,10,[s,a,o]);return}}px(s,e,n,i)}function px(s,t,e,i=!0){console.error(s)}let _1=!1,s3=!1;const u0=[];let Xi=0;const Fr=[];let wn=null,i9=0;const Vd=Promise.resolve();let R6=null;function P6(s){const t=R6||Vd;return s?t.then(this?s.bind(this):s):t}function mx(s){let t=Xi+1,e=u0.length;for(;t<e;){const i=t+e>>>1;v1(u0[i])<s?t=i+1:e=i}return t}function L6(s){(!u0.length||!u0.includes(s,_1&&s.allowRecurse?Xi+1:Xi))&&(s.id==null?u0.push(s):u0.splice(mx(s.id),0,s),Wd())}function Wd(){!_1&&!s3&&(s3=!0,R6=Vd.then($d))}function gx(s){const t=u0.indexOf(s);t>Xi&&u0.splice(t,1)}function yx(s){Bt(s)?Fr.push(...s):(!wn||!wn.includes(s,s.allowRecurse?i9+1:i9))&&Fr.push(s),Wd()}function Mh(s,t=_1?Xi+1:0){for(;t<u0.length;t++){const e=u0[t];e&&e.pre&&(u0.splice(t,1),t--,e())}}function qd(s){if(Fr.length){const t=[...new Set(Fr)];if(Fr.length=0,wn){wn.push(...t);return}for(wn=t,wn.sort((e,i)=>v1(e)-v1(i)),i9=0;i9<wn.length;i9++)wn[i9]();wn=null,i9=0}}const v1=s=>s.id==null?1/0:s.id,xx=(s,t)=>{const e=v1(s)-v1(t);if(e===0){if(s.pre&&!t.pre)return-1;if(t.pre&&!s.pre)return 1}return e};function $d(s){s3=!1,_1=!0,u0.sort(xx);const t=ei;try{for(Xi=0;Xi<u0.length;Xi++){const e=u0[Xi];e&&e.active!==!1&&hs(e,null,14)}}finally{Xi=0,u0.length=0,qd(),_1=!1,R6=null,(u0.length||Fr.length)&&$d()}}function _x(s,t,...e){if(s.isUnmounted)return;const i=s.vnode.props||ye;let n=e;const r=t.startsWith("update:"),a=r&&t.slice(7);if(a&&a in i){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:d}=i[c]||ye;d&&(n=e.map(f=>ge(f)?f.trim():f)),u&&(n=e.map(Q7))}let o,h=i[o=Ia(t)]||i[o=Ia(Li(t))];!h&&r&&(h=i[o=Ia(T9(t))]),h&&ii(h,s,6,n);const l=i[o+"Once"];if(l){if(!s.emitted)s.emitted={};else if(s.emitted[o])return;s.emitted[o]=!0,ii(l,s,6,n)}}function Xd(s,t,e=!1){const i=t.emitsCache,n=i.get(s);if(n!==void 0)return n;const r=s.emits;let a={},o=!1;if(!Vt(s)){const h=l=>{const c=Xd(l,t,!0);c&&(o=!0,Fe(a,c))};!e&&t.mixins.length&&t.mixins.forEach(h),s.extends&&h(s.extends),s.mixins&&s.mixins.forEach(h)}return!r&&!o?(fe(s)&&i.set(s,null),null):(Bt(r)?r.forEach(h=>a[h]=null):Fe(a,r),fe(s)&&i.set(s,a),a)}function S4(s,t){return!s||!m4(t)?!1:(t=t.slice(2).replace(/Once$/,""),ne(s,t[0].toLowerCase()+t.slice(1))||ne(s,T9(t))||ne(s,t))}let s0=null,w4=null;function t4(s){const t=s0;return s0=s,w4=s&&s.type.__scopeId||null,t}function NB(s){w4=s}function DB(){w4=null}function e1(s,t=s0,e){if(!t||s._n)return s;const i=(...n)=>{i._d&&Dh(-1);const r=t4(t);let a;try{a=s(...n)}finally{t4(r),i._d&&Dh(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function So(s){const{type:t,vnode:e,proxy:i,withProxy:n,props:r,propsOptions:[a],slots:o,attrs:h,emit:l,render:c,renderCache:u,data:d,setupState:f,ctx:p,inheritAttrs:g}=s;let m,y;const _=t4(s);try{if(e.shapeFlag&4){const v=n||i;m=$i(c.call(v,v,u,r,f,d,p)),y=h}else{const v=t;m=$i(v.length>1?v(r,{attrs:h,slots:o,emit:l}):v(r,null)),y=t.props?h:vx(h)}}catch(v){a1.length=0,b4(v,s,1),m=$e(ni)}let x=m;if(y&&g!==!1){const v=Object.keys(y),{shapeFlag:b}=x;v.length&&b&7&&(a&&v.some(y6)&&(y=Mx(y,a)),x=gs(x,y))}return e.dirs&&(x=gs(x),x.dirs=x.dirs?x.dirs.concat(e.dirs):e.dirs),e.transition&&(x.transition=e.transition),m=x,t4(_),m}const vx=s=>{let t;for(const e in s)(e==="class"||e==="style"||m4(e))&&((t||(t={}))[e]=s[e]);return t},Mx=(s,t)=>{const e={};for(const i in s)(!y6(i)||!(i.slice(9)in t))&&(e[i]=s[i]);return e};function bx(s,t,e){const{props:i,children:n,component:r}=s,{props:a,children:o,patchFlag:h}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&h>=0){if(h&1024)return!0;if(h&16)return i?bh(i,a,l):!!a;if(h&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const d=c[u];if(a[d]!==i[d]&&!S4(l,d))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?bh(i,a,l):!0:!!a;return!1}function bh(s,t,e){const i=Object.keys(t);if(i.length!==Object.keys(s).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==s[r]&&!S4(e,r))return!0}return!1}function Sx({vnode:s,parent:t},e){for(;t&&t.subTree===s;)(s=t.vnode).el=e,t=t.parent}const wx=s=>s.__isSuspense;function Ax(s,t){t&&t.pendingBranch?Bt(s)?t.effects.push(...s):t.effects.push(s):yx(s)}function FB(s,t){return I6(s,null,t)}const d2={};function Pi(s,t,e){return I6(s,t,e)}function I6(s,t,{immediate:e,deep:i,flush:n,onTrack:r,onTrigger:a}=ye){var o;const h=Ad()===((o=i0)==null?void 0:o.scope)?i0:null;let l,c=!1,u=!1;if(qe(s)?(l=()=>s.value,c=Qa(s)):Dr(s)?(l=()=>s,i=!0):Bt(s)?(u=!0,c=s.some(v=>Dr(v)||Qa(v)),l=()=>s.map(v=>{if(qe(v))return v.value;if(Dr(v))return l9(v);if(Vt(v))return hs(v,h,2)})):Vt(s)?t?l=()=>hs(s,h,2):l=()=>{if(!(h&&h.isUnmounted))return d&&d(),ii(s,h,3,[f])}:l=ei,t&&i){const v=l;l=()=>l9(v())}let d,f=v=>{d=_.onStop=()=>{hs(v,h,4)}},p;if(w1)if(f=ei,t?e&&ii(t,h,3,[l(),u?[]:void 0,f]):l(),n==="sync"){const v=__();p=v.__watcherHandles||(v.__watcherHandles=[])}else return ei;let g=u?new Array(s.length).fill(d2):d2;const m=()=>{if(_.active)if(t){const v=_.run();(i||c||(u?v.some((b,E)=>y1(b,g[E])):y1(v,g)))&&(d&&d(),ii(t,h,3,[v,g===d2?void 0:u&&g[0]===d2?[]:g,f]),g=v)}else _.run()};m.allowRecurse=!!t;let y;n==="sync"?y=m:n==="post"?y=()=>b0(m,h&&h.suspense):(m.pre=!0,h&&(m.id=h.uid),y=()=>L6(m));const _=new M6(l,y);t?e?m():g=_.run():n==="post"?b0(_.run.bind(_),h&&h.suspense):_.run();const x=()=>{_.stop(),h&&h.scope&&x6(h.scope.effects,_)};return p&&p.push(x),x}function Ex(s,t,e){const i=this.proxy,n=ge(s)?s.includes(".")?jd(i,s):()=>i[s]:s.bind(i,i);let r;Vt(t)?r=t:(r=t.handler,e=t);const a=i0;qr(this);const o=I6(n,r.bind(i),e);return a?qr(a):g9(),o}function jd(s,t){const e=t.split(".");return()=>{let i=s;for(let n=0;n<e.length&&i;n++)i=i[e[n]];return i}}function l9(s,t){if(!fe(s)||s.__v_skip||(t=t||new Set,t.has(s)))return s;if(t.add(s),qe(s))l9(s.value,t);else if(Bt(s))for(let e=0;e<s.length;e++)l9(s[e],t);else if(g4(s)||Nr(s))s.forEach(e=>{l9(e,t)});else if(_d(s))for(const e in s)l9(s[e],t);return s}function Yd(s,t){const e=s0;if(e===null)return s;const i=P4(e)||e.proxy,n=s.dirs||(s.dirs=[]);for(let r=0;r<t.length;r++){let[a,o,h,l=ye]=t[r];a&&(Vt(a)&&(a={mounted:a,updated:a}),a.deep&&l9(o),n.push({dir:a,instance:i,value:o,oldValue:void 0,arg:h,modifiers:l}))}return s}function Ls(s,t,e,i){const n=s.dirs,r=t&&t.dirs;for(let a=0;a<n.length;a++){const o=n[a];r&&(o.oldValue=r[a].value);let h=o.dir[i];h&&(s5(),ii(h,e,8,[s.el,o,s,t]),r5())}}function Zd(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return T4(()=>{s.isMounted=!0}),ef(()=>{s.isUnmounting=!0}),s}const W0=[Function,Array],Jd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:W0,onEnter:W0,onAfterEnter:W0,onEnterCancelled:W0,onBeforeLeave:W0,onLeave:W0,onAfterLeave:W0,onLeaveCancelled:W0,onBeforeAppear:W0,onAppear:W0,onAfterAppear:W0,onAppearCancelled:W0},Tx={name:"BaseTransition",props:Jd,setup(s,{slots:t}){const e=C9(),i=Zd();let n;return()=>{const r=t.default&&N6(t.default(),!0);if(!r||!r.length)return;let a=r[0];if(r.length>1){for(const g of r)if(g.type!==ni){a=g;break}}const o=he(s),{mode:h}=o;if(i.isLeaving)return wo(a);const l=Sh(a);if(!l)return wo(a);const c=M1(l,o,i,e);b1(l,c);const u=e.subTree,d=u&&Sh(u);let f=!1;const{getTransitionKey:p}=l.type;if(p){const g=p();n===void 0?n=g:g!==n&&(n=g,f=!0)}if(d&&d.type!==ni&&(!s9(l,d)||f)){const g=M1(d,o,i,e);if(b1(d,g),h==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,e.update.active!==!1&&e.update()},wo(a);h==="in-out"&&l.type!==ni&&(g.delayLeave=(m,y,_)=>{const x=Kd(i,d);x[String(d.key)]=d,m._leaveCb=()=>{y(),m._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=_})}return a}}},Cx=Tx;function Kd(s,t){const{leavingVNodes:e}=s;let i=e.get(t.type);return i||(i=Object.create(null),e.set(t.type,i)),i}function M1(s,t,e,i){const{appear:n,mode:r,persisted:a=!1,onBeforeEnter:o,onEnter:h,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:_}=t,x=String(s.key),v=Kd(e,s),b=(R,S)=>{R&&ii(R,i,9,S)},E=(R,S)=>{const A=S[1];b(R,S),Bt(R)?R.every(U=>U.length<=1)&&A():R.length<=1&&A()},w={mode:r,persisted:a,beforeEnter(R){let S=o;if(!e.isMounted)if(n)S=g||o;else return;R._leaveCb&&R._leaveCb(!0);const A=v[x];A&&s9(s,A)&&A.el._leaveCb&&A.el._leaveCb(),b(S,[R])},enter(R){let S=h,A=l,U=c;if(!e.isMounted)if(n)S=m||h,A=y||l,U=_||c;else return;let B=!1;const F=R._enterCb=H=>{B||(B=!0,H?b(U,[R]):b(A,[R]),w.delayedLeave&&w.delayedLeave(),R._enterCb=void 0)};S?E(S,[R,F]):F()},leave(R,S){const A=String(s.key);if(R._enterCb&&R._enterCb(!0),e.isUnmounting)return S();b(u,[R]);let U=!1;const B=R._leaveCb=F=>{U||(U=!0,S(),F?b(p,[R]):b(f,[R]),R._leaveCb=void 0,v[A]===s&&delete v[A])};v[A]=s,d?E(d,[R,B]):B()},clone(R){return M1(R,t,e,i)}};return w}function wo(s){if(A4(s))return s=gs(s),s.children=null,s}function Sh(s){return A4(s)?s.children?s.children[0]:void 0:s}function b1(s,t){s.shapeFlag&6&&s.component?b1(s.component.subTree,t):s.shapeFlag&128?(s.ssContent.transition=t.clone(s.ssContent),s.ssFallback.transition=t.clone(s.ssFallback)):s.transition=t}function N6(s,t=!1,e){let i=[],n=0;for(let r=0;r<s.length;r++){let a=s[r];const o=e==null?a.key:String(e)+String(a.key!=null?a.key:r);a.type===S0?(a.patchFlag&128&&n++,i=i.concat(N6(a.children,t,o))):(t||a.type!==ni)&&i.push(o!=null?gs(a,{key:o}):a)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Ss(s,t){return Vt(s)?(()=>Fe({name:s.name},t,{setup:s}))():s}const i1=s=>!!s.type.__asyncLoader,A4=s=>s.type.__isKeepAlive;function Rx(s,t){Qd(s,"a",t)}function Px(s,t){Qd(s,"da",t)}function Qd(s,t,e=i0){const i=s.__wdc||(s.__wdc=()=>{let n=e;for(;n;){if(n.isDeactivated)return;n=n.parent}return s()});if(E4(t,i,e),e){let n=e.parent;for(;n&&n.parent;)A4(n.parent.vnode)&&Lx(i,t,e,n),n=n.parent}}function Lx(s,t,e,i){const n=E4(t,s,i,!0);nf(()=>{x6(i[t],n)},e)}function E4(s,t,e=i0,i=!1){if(e){const n=e[s]||(e[s]=[]),r=t.__weh||(t.__weh=(...a)=>{if(e.isUnmounted)return;s5(),qr(e);const o=ii(t,e,s,a);return g9(),r5(),o});return i?n.unshift(r):n.push(r),r}}const Nn=s=>(t,e=i0)=>(!w1||s==="sp")&&E4(s,(...i)=>t(...i),e),Ix=Nn("bm"),T4=Nn("m"),Nx=Nn("bu"),tf=Nn("u"),ef=Nn("bum"),nf=Nn("um"),Dx=Nn("sp"),Fx=Nn("rtg"),Ox=Nn("rtc");function zx(s,t=i0){E4("ec",s,t)}const D6="components",Bx="directives";function Ux(s,t){return F6(D6,s,!0,t)||s}const sf=Symbol.for("v-ndc");function kx(s){return ge(s)?F6(D6,s,!1)||s:s||sf}function OB(s){return F6(Bx,s)}function F6(s,t,e=!0,i=!1){const n=s0||i0;if(n){const r=n.type;if(s===D6){const o=g_(r,!1);if(o&&(o===t||o===Li(t)||o===x4(Li(t))))return r}const a=wh(n[s]||r[s],t)||wh(n.appContext[s],t);return!a&&i?r:a}}function wh(s,t){return s&&(s[t]||s[Li(t)]||s[x4(Li(t))])}function zB(s,t,e,i){let n;const r=e&&e[i];if(Bt(s)||ge(s)){n=new Array(s.length);for(let a=0,o=s.length;a<o;a++)n[a]=t(s[a],a,void 0,r&&r[a])}else if(typeof s=="number"){n=new Array(s);for(let a=0;a<s;a++)n[a]=t(a+1,a,void 0,r&&r[a])}else if(fe(s))if(s[Symbol.iterator])n=Array.from(s,(a,o)=>t(a,o,void 0,r&&r[o]));else{const a=Object.keys(s);n=new Array(a.length);for(let o=0,h=a.length;o<h;o++){const l=a[o];n[o]=t(s[l],l,o,r&&r[o])}}else n=[];return e&&(e[i]=n),n}function BB(s,t){for(let e=0;e<t.length;e++){const i=t[e];if(Bt(i))for(let n=0;n<i.length;n++)s[i[n].name]=i[n].fn;else i&&(s[i.name]=i.key?(...n)=>{const r=i.fn(...n);return r&&(r.key=i.key),r}:i.fn)}return s}function O6(s,t,e={},i,n){if(s0.isCE||s0.parent&&i1(s0.parent)&&s0.parent.isCE)return t!=="default"&&(e.name=t),$e("slot",e,i&&i());let r=s[t];r&&r._c&&(r._d=!1),re();const a=r&&rf(r(e)),o=n9(S0,{key:e.key||a&&a.key||`_${t}`},a||(i?i():[]),a&&s._===1?64:-2);return!n&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),r&&r._c&&(r._d=!0),o}function rf(s){return s.some(t=>Wr(t)?!(t.type===ni||t.type===S0&&!rf(t.children)):!0)?s:null}function UB(s,t){const e={};for(const i in s)e[t&&/[A-Z]/.test(i)?`on:${i}`:Ia(i)]=s[i];return e}const r3=s=>s?xf(s)?P4(s)||s.proxy:r3(s.parent):null,n1=Fe(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>r3(s.parent),$root:s=>r3(s.root),$emit:s=>s.emit,$options:s=>z6(s),$forceUpdate:s=>s.f||(s.f=()=>L6(s.update)),$nextTick:s=>s.n||(s.n=P6.bind(s.proxy)),$watch:s=>Ex.bind(s)}),Ao=(s,t)=>s!==ye&&!s.__isScriptSetup&&ne(s,t),Hx={get({_:s},t){const{ctx:e,setupState:i,data:n,props:r,accessCache:a,type:o,appContext:h}=s;let l;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return n[t];case 4:return e[t];case 3:return r[t]}else{if(Ao(i,t))return a[t]=1,i[t];if(n!==ye&&ne(n,t))return a[t]=2,n[t];if((l=s.propsOptions[0])&&ne(l,t))return a[t]=3,r[t];if(e!==ye&&ne(e,t))return a[t]=4,e[t];a3&&(a[t]=0)}}const c=n1[t];let u,d;if(c)return t==="$attrs"&&T0(s,"get",t),c(s);if((u=o.__cssModules)&&(u=u[t]))return u;if(e!==ye&&ne(e,t))return a[t]=4,e[t];if(d=h.config.globalProperties,ne(d,t))return d[t]},set({_:s},t,e){const{data:i,setupState:n,ctx:r}=s;return Ao(n,t)?(n[t]=e,!0):i!==ye&&ne(i,t)?(i[t]=e,!0):ne(s.props,t)||t[0]==="$"&&t.slice(1)in s?!1:(r[t]=e,!0)},has({_:{data:s,setupState:t,accessCache:e,ctx:i,appContext:n,propsOptions:r}},a){let o;return!!e[a]||s!==ye&&ne(s,a)||Ao(t,a)||(o=r[0])&&ne(o,a)||ne(i,a)||ne(n1,a)||ne(n.config.globalProperties,a)},defineProperty(s,t,e){return e.get!=null?s._.accessCache[t]=0:ne(e,"value")&&this.set(s,t,e.value,null),Reflect.defineProperty(s,t,e)}};function kB(){return af().slots}function HB(){return af().attrs}function af(){const s=C9();return s.setupContext||(s.setupContext=vf(s))}function Ah(s){return Bt(s)?s.reduce((t,e)=>(t[e]=null,t),{}):s}let a3=!0;function Gx(s){const t=z6(s),e=s.proxy,i=s.ctx;a3=!1,t.beforeCreate&&Eh(t.beforeCreate,s,"bc");const{data:n,computed:r,methods:a,watch:o,provide:h,inject:l,created:c,beforeMount:u,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:_,destroyed:x,unmounted:v,render:b,renderTracked:E,renderTriggered:w,errorCaptured:R,serverPrefetch:S,expose:A,inheritAttrs:U,components:B,directives:F,filters:H}=t;if(l&&Vx(l,i,null),a)for(const $ in a){const j=a[$];Vt(j)&&(i[$]=j.bind(e))}if(n){const $=n.call(e,e);fe($)&&(s.data=a5($))}if(a3=!0,r)for(const $ in r){const j=r[$],rt=Vt(j)?j.bind(e,e):Vt(j.get)?j.get.bind(e,e):ei,at=!Vt(j)&&Vt(j.set)?j.set.bind(e):ei,V=Jt({get:rt,set:at});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>V.value,set:tt=>V.value=tt})}if(o)for(const $ in o)of(o[$],i,e,$);if(h){const $=Vt(h)?h.call(e):h;Reflect.ownKeys($).forEach(j=>{s1(j,$[j])})}c&&Eh(c,s,"c");function Y($,j){Bt(j)?j.forEach(rt=>$(rt.bind(e))):j&&$(j.bind(e))}if(Y(Ix,u),Y(T4,d),Y(Nx,f),Y(tf,p),Y(Rx,g),Y(Px,m),Y(zx,R),Y(Ox,E),Y(Fx,w),Y(ef,_),Y(nf,v),Y(Dx,S),Bt(A))if(A.length){const $=s.exposed||(s.exposed={});A.forEach(j=>{Object.defineProperty($,j,{get:()=>e[j],set:rt=>e[j]=rt})})}else s.exposed||(s.exposed={});b&&s.render===ei&&(s.render=b),U!=null&&(s.inheritAttrs=U),B&&(s.components=B),F&&(s.directives=F)}function Vx(s,t,e=ei){Bt(s)&&(s=o3(s));for(const i in s){const n=s[i];let r;fe(n)?"default"in n?r=y0(n.from||i,n.default,!0):r=y0(n.from||i):r=y0(n),qe(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[i]=r}}function Eh(s,t,e){ii(Bt(s)?s.map(i=>i.bind(t.proxy)):s.bind(t.proxy),t,e)}function of(s,t,e,i){const n=i.includes(".")?jd(e,i):()=>e[i];if(ge(s)){const r=t[s];Vt(r)&&Pi(n,r)}else if(Vt(s))Pi(n,s.bind(e));else if(fe(s))if(Bt(s))s.forEach(r=>of(r,t,e,i));else{const r=Vt(s.handler)?s.handler.bind(e):t[s.handler];Vt(r)&&Pi(n,r,s)}}function z6(s){const t=s.type,{mixins:e,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,o=r.get(t);let h;return o?h=o:!n.length&&!e&&!i?h=t:(h={},n.length&&n.forEach(l=>e4(h,l,a,!0)),e4(h,t,a)),fe(t)&&r.set(t,h),h}function e4(s,t,e,i=!1){const{mixins:n,extends:r}=t;r&&e4(s,r,e,!0),n&&n.forEach(a=>e4(s,a,e,!0));for(const a in t)if(!(i&&a==="expose")){const o=Wx[a]||e&&e[a];s[a]=o?o(s[a],t[a]):t[a]}return s}const Wx={data:Th,props:Ch,emits:Ch,methods:J5,computed:J5,beforeCreate:m0,created:m0,beforeMount:m0,mounted:m0,beforeUpdate:m0,updated:m0,beforeDestroy:m0,beforeUnmount:m0,destroyed:m0,unmounted:m0,activated:m0,deactivated:m0,errorCaptured:m0,serverPrefetch:m0,components:J5,directives:J5,watch:$x,provide:Th,inject:qx};function Th(s,t){return t?s?function(){return Fe(Vt(s)?s.call(this,this):s,Vt(t)?t.call(this,this):t)}:t:s}function qx(s,t){return J5(o3(s),o3(t))}function o3(s){if(Bt(s)){const t={};for(let e=0;e<s.length;e++)t[s[e]]=s[e];return t}return s}function m0(s,t){return s?[...new Set([].concat(s,t))]:t}function J5(s,t){return s?Fe(Object.create(null),s,t):t}function Ch(s,t){return s?Bt(s)&&Bt(t)?[...new Set([...s,...t])]:Fe(Object.create(null),Ah(s),Ah(t??{})):t}function $x(s,t){if(!s)return t;if(!t)return s;const e=Fe(Object.create(null),s);for(const i in t)e[i]=m0(s[i],t[i]);return e}function hf(){return{app:null,config:{isNativeTag:gy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xx=0;function jx(s,t){return function(i,n=null){Vt(i)||(i=Fe({},i)),n!=null&&!fe(n)&&(n=null);const r=hf(),a=new Set;let o=!1;const h=r.app={_uid:Xx++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:v_,get config(){return r.config},set config(l){},use(l,...c){return a.has(l)||(l&&Vt(l.install)?(a.add(l),l.install(h,...c)):Vt(l)&&(a.add(l),l(h,...c))),h},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),h},component(l,c){return c?(r.components[l]=c,h):r.components[l]},directive(l,c){return c?(r.directives[l]=c,h):r.directives[l]},mount(l,c,u){if(!o){const d=$e(i,n);return d.appContext=r,c&&t?t(d,l):s(d,l,u),o=!0,h._container=l,l.__vue_app__=h,P4(d.component)||d.component.proxy}},unmount(){o&&(s(null,h._container),delete h._container.__vue_app__)},provide(l,c){return r.provides[l]=c,h},runWithContext(l){i4=h;try{return l()}finally{i4=null}}};return h}}let i4=null;function s1(s,t){if(i0){let e=i0.provides;const i=i0.parent&&i0.parent.provides;i===e&&(e=i0.provides=Object.create(i)),e[s]=t}}function y0(s,t,e=!1){const i=i0||s0;if(i||i4){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:i4._context.provides;if(n&&s in n)return n[s];if(arguments.length>1)return e&&Vt(t)?t.call(i&&i.proxy):t}}function Yx(s,t,e,i=!1){const n={},r={};Ja(r,R4,1),s.propsDefaults=Object.create(null),lf(s,t,n,r);for(const a in s.propsOptions[0])a in n||(n[a]=void 0);e?s.props=i?n:Od(n):s.type.props?s.props=n:s.props=r,s.attrs=r}function Zx(s,t,e,i){const{props:n,attrs:r,vnode:{patchFlag:a}}=s,o=he(n),[h]=s.propsOptions;let l=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=s.vnode.dynamicProps;for(let u=0;u<c.length;u++){let d=c[u];if(S4(s.emitsOptions,d))continue;const f=t[d];if(h)if(ne(r,d))f!==r[d]&&(r[d]=f,l=!0);else{const p=Li(d);n[p]=h3(h,o,p,f,s,!1)}else f!==r[d]&&(r[d]=f,l=!0)}}}else{lf(s,t,n,r)&&(l=!0);let c;for(const u in o)(!t||!ne(t,u)&&((c=T9(u))===u||!ne(t,c)))&&(h?e&&(e[u]!==void 0||e[c]!==void 0)&&(n[u]=h3(h,o,u,void 0,s,!0)):delete n[u]);if(r!==o)for(const u in r)(!t||!ne(t,u))&&(delete r[u],l=!0)}l&&Ln(s,"set","$attrs")}function lf(s,t,e,i){const[n,r]=s.propsOptions;let a=!1,o;if(t)for(let h in t){if(La(h))continue;const l=t[h];let c;n&&ne(n,c=Li(h))?!r||!r.includes(c)?e[c]=l:(o||(o={}))[c]=l:S4(s.emitsOptions,h)||(!(h in i)||l!==i[h])&&(i[h]=l,a=!0)}if(r){const h=he(e),l=o||ye;for(let c=0;c<r.length;c++){const u=r[c];e[u]=h3(n,h,u,l[u],s,!ne(l,u))}}return a}function h3(s,t,e,i,n,r){const a=s[e];if(a!=null){const o=ne(a,"default");if(o&&i===void 0){const h=a.default;if(a.type!==Function&&!a.skipFactory&&Vt(h)){const{propsDefaults:l}=n;e in l?i=l[e]:(qr(n),i=l[e]=h.call(null,t),g9())}else i=h}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===T9(e))&&(i=!0))}return i}function cf(s,t,e=!1){const i=t.propsCache,n=i.get(s);if(n)return n;const r=s.props,a={},o=[];let h=!1;if(!Vt(s)){const c=u=>{h=!0;const[d,f]=cf(u,t,!0);Fe(a,d),f&&o.push(...f)};!e&&t.mixins.length&&t.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}if(!r&&!h)return fe(s)&&i.set(s,Ir),Ir;if(Bt(r))for(let c=0;c<r.length;c++){const u=Li(r[c]);Rh(u)&&(a[u]=ye)}else if(r)for(const c in r){const u=Li(c);if(Rh(u)){const d=r[c],f=a[u]=Bt(d)||Vt(d)?{type:d}:Fe({},d);if(f){const p=Ih(Boolean,f.type),g=Ih(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||ne(f,"default"))&&o.push(u)}}}const l=[a,o];return fe(s)&&i.set(s,l),l}function Rh(s){return s[0]!=="$"}function Ph(s){const t=s&&s.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:s===null?"null":""}function Lh(s,t){return Ph(s)===Ph(t)}function Ih(s,t){return Bt(t)?t.findIndex(e=>Lh(e,s)):Vt(t)&&Lh(t,s)?0:-1}const uf=s=>s[0]==="_"||s==="$stable",B6=s=>Bt(s)?s.map($i):[$i(s)],Jx=(s,t,e)=>{if(t._n)return t;const i=e1((...n)=>B6(t(...n)),e);return i._c=!1,i},df=(s,t,e)=>{const i=s._ctx;for(const n in s){if(uf(n))continue;const r=s[n];if(Vt(r))t[n]=Jx(n,r,i);else if(r!=null){const a=B6(r);t[n]=()=>a}}},ff=(s,t)=>{const e=B6(t);s.slots.default=()=>e},Kx=(s,t)=>{if(s.vnode.shapeFlag&32){const e=t._;e?(s.slots=he(t),Ja(t,"_",e)):df(t,s.slots={})}else s.slots={},t&&ff(s,t);Ja(s.slots,R4,1)},Qx=(s,t,e)=>{const{vnode:i,slots:n}=s;let r=!0,a=ye;if(i.shapeFlag&32){const o=t._;o?e&&o===1?r=!1:(Fe(n,t),!e&&o===1&&delete n._):(r=!t.$stable,df(t,n)),a=t}else t&&(ff(s,t),a={default:1});if(r)for(const o in n)!uf(o)&&!(o in a)&&delete n[o]};function l3(s,t,e,i,n=!1){if(Bt(s)){s.forEach((d,f)=>l3(d,t&&(Bt(t)?t[f]:t),e,i,n));return}if(i1(i)&&!n)return;const r=i.shapeFlag&4?P4(i.component)||i.component.proxy:i.el,a=n?null:r,{i:o,r:h}=s,l=t&&t.r,c=o.refs===ye?o.refs={}:o.refs,u=o.setupState;if(l!=null&&l!==h&&(ge(l)?(c[l]=null,ne(u,l)&&(u[l]=null)):qe(l)&&(l.value=null)),Vt(h))hs(h,o,12,[a,c]);else{const d=ge(h),f=qe(h);if(d||f){const p=()=>{if(s.f){const g=d?ne(u,h)?u[h]:c[h]:h.value;n?Bt(g)&&x6(g,r):Bt(g)?g.includes(r)||g.push(r):d?(c[h]=[r],ne(u,h)&&(u[h]=c[h])):(h.value=[r],s.k&&(c[s.k]=h.value))}else d?(c[h]=a,ne(u,h)&&(u[h]=a)):f&&(h.value=a,s.k&&(c[s.k]=a))};a?(p.id=-1,b0(p,e)):p()}}}const b0=Ax;function t_(s){return e_(s)}function e_(s,t){const e=t3();e.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:a,createText:o,createComment:h,setText:l,setElementText:c,parentNode:u,nextSibling:d,setScopeId:f=ei,insertStaticContent:p}=s,g=(M,P,I,z=null,O=null,Z=null,et=!1,J=null,ht=!!P.dynamicChildren)=>{if(M===P)return;M&&!s9(M,P)&&(z=q(M),tt(M,O,Z,!0),M=null),P.patchFlag===-2&&(ht=!1,P.dynamicChildren=null);const{type:nt,ref:wt,shapeFlag:C}=P;switch(nt){case C4:m(M,P,I,z);break;case ni:y(M,P,I,z);break;case Eo:M==null&&_(P,I,z,et);break;case S0:B(M,P,I,z,O,Z,et,J,ht);break;default:C&1?b(M,P,I,z,O,Z,et,J,ht):C&6?F(M,P,I,z,O,Z,et,J,ht):(C&64||C&128)&&nt.process(M,P,I,z,O,Z,et,J,ht,pt)}wt!=null&&O&&l3(wt,M&&M.ref,Z,P||M,!P)},m=(M,P,I,z)=>{if(M==null)i(P.el=o(P.children),I,z);else{const O=P.el=M.el;P.children!==M.children&&l(O,P.children)}},y=(M,P,I,z)=>{M==null?i(P.el=h(P.children||""),I,z):P.el=M.el},_=(M,P,I,z)=>{[M.el,M.anchor]=p(M.children,P,I,z,M.el,M.anchor)},x=({el:M,anchor:P},I,z)=>{let O;for(;M&&M!==P;)O=d(M),i(M,I,z),M=O;i(P,I,z)},v=({el:M,anchor:P})=>{let I;for(;M&&M!==P;)I=d(M),n(M),M=I;n(P)},b=(M,P,I,z,O,Z,et,J,ht)=>{et=et||P.type==="svg",M==null?E(P,I,z,O,Z,et,J,ht):S(M,P,O,Z,et,J,ht)},E=(M,P,I,z,O,Z,et,J)=>{let ht,nt;const{type:wt,props:C,shapeFlag:T,transition:W,dirs:st}=M;if(ht=M.el=a(M.type,Z,C&&C.is,C),T&8?c(ht,M.children):T&16&&R(M.children,ht,null,z,O,Z&&wt!=="foreignObject",et,J),st&&Ls(M,null,z,"created"),w(ht,M,M.scopeId,et,z),C){for(const D in C)D!=="value"&&!La(D)&&r(ht,D,null,C[D],Z,M.children,z,O,Et);"value"in C&&r(ht,"value",null,C.value),(nt=C.onVnodeBeforeMount)&&Gi(nt,z,M)}st&&Ls(M,null,z,"beforeMount");const ft=(!O||O&&!O.pendingBranch)&&W&&!W.persisted;ft&&W.beforeEnter(ht),i(ht,P,I),((nt=C&&C.onVnodeMounted)||ft||st)&&b0(()=>{nt&&Gi(nt,z,M),ft&&W.enter(ht),st&&Ls(M,null,z,"mounted")},O)},w=(M,P,I,z,O)=>{if(I&&f(M,I),z)for(let Z=0;Z<z.length;Z++)f(M,z[Z]);if(O){let Z=O.subTree;if(P===Z){const et=O.vnode;w(M,et,et.scopeId,et.slotScopeIds,O.parent)}}},R=(M,P,I,z,O,Z,et,J,ht=0)=>{for(let nt=ht;nt<M.length;nt++){const wt=M[nt]=J?ts(M[nt]):$i(M[nt]);g(null,wt,P,I,z,O,Z,et,J)}},S=(M,P,I,z,O,Z,et)=>{const J=P.el=M.el;let{patchFlag:ht,dynamicChildren:nt,dirs:wt}=P;ht|=M.patchFlag&16;const C=M.props||ye,T=P.props||ye;let W;I&&Is(I,!1),(W=T.onVnodeBeforeUpdate)&&Gi(W,I,P,M),wt&&Ls(P,M,I,"beforeUpdate"),I&&Is(I,!0);const st=O&&P.type!=="foreignObject";if(nt?A(M.dynamicChildren,nt,J,I,z,st,Z):et||j(M,P,J,null,I,z,st,Z,!1),ht>0){if(ht&16)U(J,P,C,T,I,z,O);else if(ht&2&&C.class!==T.class&&r(J,"class",null,T.class,O),ht&4&&r(J,"style",C.style,T.style,O),ht&8){const ft=P.dynamicProps;for(let D=0;D<ft.length;D++){const ot=ft[D],mt=C[ot],Q=T[ot];(Q!==mt||ot==="value")&&r(J,ot,mt,Q,O,M.children,I,z,Et)}}ht&1&&M.children!==P.children&&c(J,P.children)}else!et&&nt==null&&U(J,P,C,T,I,z,O);((W=T.onVnodeUpdated)||wt)&&b0(()=>{W&&Gi(W,I,P,M),wt&&Ls(P,M,I,"updated")},z)},A=(M,P,I,z,O,Z,et)=>{for(let J=0;J<P.length;J++){const ht=M[J],nt=P[J],wt=ht.el&&(ht.type===S0||!s9(ht,nt)||ht.shapeFlag&70)?u(ht.el):I;g(ht,nt,wt,null,z,O,Z,et,!0)}},U=(M,P,I,z,O,Z,et)=>{if(I!==z){if(I!==ye)for(const J in I)!La(J)&&!(J in z)&&r(M,J,I[J],null,et,P.children,O,Z,Et);for(const J in z){if(La(J))continue;const ht=z[J],nt=I[J];ht!==nt&&J!=="value"&&r(M,J,nt,ht,et,P.children,O,Z,Et)}"value"in z&&r(M,"value",I.value,z.value)}},B=(M,P,I,z,O,Z,et,J,ht)=>{const nt=P.el=M?M.el:o(""),wt=P.anchor=M?M.anchor:o("");let{patchFlag:C,dynamicChildren:T,slotScopeIds:W}=P;W&&(J=J?J.concat(W):W),M==null?(i(nt,I,z),i(wt,I,z),R(P.children,I,wt,O,Z,et,J,ht)):C>0&&C&64&&T&&M.dynamicChildren?(A(M.dynamicChildren,T,I,O,Z,et,J),(P.key!=null||O&&P===O.subTree)&&U6(M,P,!0)):j(M,P,I,wt,O,Z,et,J,ht)},F=(M,P,I,z,O,Z,et,J,ht)=>{P.slotScopeIds=J,M==null?P.shapeFlag&512?O.ctx.activate(P,I,z,et,ht):H(P,I,z,O,Z,et,ht):G(M,P,ht)},H=(M,P,I,z,O,Z,et)=>{const J=M.component=d_(M,z,O);if(A4(M)&&(J.ctx.renderer=pt),f_(J),J.asyncDep){if(O&&O.registerDep(J,Y),!M.el){const ht=J.subTree=$e(ni);y(null,ht,P,I)}return}Y(J,M,P,I,O,Z,et)},G=(M,P,I)=>{const z=P.component=M.component;if(bx(M,P,I))if(z.asyncDep&&!z.asyncResolved){$(z,P,I);return}else z.next=P,gx(z.update),z.update();else P.el=M.el,z.vnode=P},Y=(M,P,I,z,O,Z,et)=>{const J=()=>{if(M.isMounted){let{next:wt,bu:C,u:T,parent:W,vnode:st}=M,ft=wt,D;Is(M,!1),wt?(wt.el=st.el,$(M,wt,et)):wt=st,C&&Na(C),(D=wt.props&&wt.props.onVnodeBeforeUpdate)&&Gi(D,W,wt,st),Is(M,!0);const ot=So(M),mt=M.subTree;M.subTree=ot,g(mt,ot,u(mt.el),q(mt),M,O,Z),wt.el=ot.el,ft===null&&Sx(M,ot.el),T&&b0(T,O),(D=wt.props&&wt.props.onVnodeUpdated)&&b0(()=>Gi(D,W,wt,st),O)}else{let wt;const{el:C,props:T}=P,{bm:W,m:st,parent:ft}=M,D=i1(P);if(Is(M,!1),W&&Na(W),!D&&(wt=T&&T.onVnodeBeforeMount)&&Gi(wt,ft,P),Is(M,!0),C&&bt){const ot=()=>{M.subTree=So(M),bt(C,M.subTree,M,O,null)};D?P.type.__asyncLoader().then(()=>!M.isUnmounted&&ot()):ot()}else{const ot=M.subTree=So(M);g(null,ot,I,z,M,O,Z),P.el=ot.el}if(st&&b0(st,O),!D&&(wt=T&&T.onVnodeMounted)){const ot=P;b0(()=>Gi(wt,ft,ot),O)}(P.shapeFlag&256||ft&&i1(ft.vnode)&&ft.vnode.shapeFlag&256)&&M.a&&b0(M.a,O),M.isMounted=!0,P=I=z=null}},ht=M.effect=new M6(J,()=>L6(nt),M.scope),nt=M.update=()=>ht.run();nt.id=M.uid,Is(M,!0),nt()},$=(M,P,I)=>{P.component=M;const z=M.vnode.props;M.vnode=P,M.next=null,Zx(M,P.props,z,I),Qx(M,P.children,I),s5(),Mh(),r5()},j=(M,P,I,z,O,Z,et,J,ht=!1)=>{const nt=M&&M.children,wt=M?M.shapeFlag:0,C=P.children,{patchFlag:T,shapeFlag:W}=P;if(T>0){if(T&128){at(nt,C,I,z,O,Z,et,J,ht);return}else if(T&256){rt(nt,C,I,z,O,Z,et,J,ht);return}}W&8?(wt&16&&Et(nt,O,Z),C!==nt&&c(I,C)):wt&16?W&16?at(nt,C,I,z,O,Z,et,J,ht):Et(nt,O,Z,!0):(wt&8&&c(I,""),W&16&&R(C,I,z,O,Z,et,J,ht))},rt=(M,P,I,z,O,Z,et,J,ht)=>{M=M||Ir,P=P||Ir;const nt=M.length,wt=P.length,C=Math.min(nt,wt);let T;for(T=0;T<C;T++){const W=P[T]=ht?ts(P[T]):$i(P[T]);g(M[T],W,I,null,O,Z,et,J,ht)}nt>wt?Et(M,O,Z,!0,!1,C):R(P,I,z,O,Z,et,J,ht,C)},at=(M,P,I,z,O,Z,et,J,ht)=>{let nt=0;const wt=P.length;let C=M.length-1,T=wt-1;for(;nt<=C&&nt<=T;){const W=M[nt],st=P[nt]=ht?ts(P[nt]):$i(P[nt]);if(s9(W,st))g(W,st,I,null,O,Z,et,J,ht);else break;nt++}for(;nt<=C&&nt<=T;){const W=M[C],st=P[T]=ht?ts(P[T]):$i(P[T]);if(s9(W,st))g(W,st,I,null,O,Z,et,J,ht);else break;C--,T--}if(nt>C){if(nt<=T){const W=T+1,st=W<wt?P[W].el:z;for(;nt<=T;)g(null,P[nt]=ht?ts(P[nt]):$i(P[nt]),I,st,O,Z,et,J,ht),nt++}}else if(nt>T)for(;nt<=C;)tt(M[nt],O,Z,!0),nt++;else{const W=nt,st=nt,ft=new Map;for(nt=st;nt<=T;nt++){const Tt=P[nt]=ht?ts(P[nt]):$i(P[nt]);Tt.key!=null&&ft.set(Tt.key,nt)}let D,ot=0;const mt=T-st+1;let Q=!1,Dt=0;const Ot=new Array(mt);for(nt=0;nt<mt;nt++)Ot[nt]=0;for(nt=W;nt<=C;nt++){const Tt=M[nt];if(ot>=mt){tt(Tt,O,Z,!0);continue}let Ct;if(Tt.key!=null)Ct=ft.get(Tt.key);else for(D=st;D<=T;D++)if(Ot[D-st]===0&&s9(Tt,P[D])){Ct=D;break}Ct===void 0?tt(Tt,O,Z,!0):(Ot[Ct-st]=nt+1,Ct>=Dt?Dt=Ct:Q=!0,g(Tt,P[Ct],I,null,O,Z,et,J,ht),ot++)}const zt=Q?i_(Ot):Ir;for(D=zt.length-1,nt=mt-1;nt>=0;nt--){const Tt=st+nt,Ct=P[Tt],kt=Tt+1<wt?P[Tt+1].el:z;Ot[nt]===0?g(null,Ct,I,kt,O,Z,et,J,ht):Q&&(D<0||nt!==zt[D]?V(Ct,I,kt,2):D--)}}},V=(M,P,I,z,O=null)=>{const{el:Z,type:et,transition:J,children:ht,shapeFlag:nt}=M;if(nt&6){V(M.component.subTree,P,I,z);return}if(nt&128){M.suspense.move(P,I,z);return}if(nt&64){et.move(M,P,I,pt);return}if(et===S0){i(Z,P,I);for(let C=0;C<ht.length;C++)V(ht[C],P,I,z);i(M.anchor,P,I);return}if(et===Eo){x(M,P,I);return}if(z!==2&&nt&1&&J)if(z===0)J.beforeEnter(Z),i(Z,P,I),b0(()=>J.enter(Z),O);else{const{leave:C,delayLeave:T,afterLeave:W}=J,st=()=>i(Z,P,I),ft=()=>{C(Z,()=>{st(),W&&W()})};T?T(Z,st,ft):ft()}else i(Z,P,I)},tt=(M,P,I,z=!1,O=!1)=>{const{type:Z,props:et,ref:J,children:ht,dynamicChildren:nt,shapeFlag:wt,patchFlag:C,dirs:T}=M;if(J!=null&&l3(J,null,I,M,!0),wt&256){P.ctx.deactivate(M);return}const W=wt&1&&T,st=!i1(M);let ft;if(st&&(ft=et&&et.onVnodeBeforeUnmount)&&Gi(ft,P,M),wt&6)St(M.component,I,z);else{if(wt&128){M.suspense.unmount(I,z);return}W&&Ls(M,null,P,"beforeUnmount"),wt&64?M.type.remove(M,P,I,O,pt,z):nt&&(Z!==S0||C>0&&C&64)?Et(nt,P,I,!1,!0):(Z===S0&&C&384||!O&&wt&16)&&Et(ht,P,I),z&&yt(M)}(st&&(ft=et&&et.onVnodeUnmounted)||W)&&b0(()=>{ft&&Gi(ft,P,M),W&&Ls(M,null,P,"unmounted")},I)},yt=M=>{const{type:P,el:I,anchor:z,transition:O}=M;if(P===S0){xt(I,z);return}if(P===Eo){v(M);return}const Z=()=>{n(I),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(M.shapeFlag&1&&O&&!O.persisted){const{leave:et,delayLeave:J}=O,ht=()=>et(I,Z);J?J(M.el,Z,ht):ht()}else Z()},xt=(M,P)=>{let I;for(;M!==P;)I=d(M),n(M),M=I;n(P)},St=(M,P,I)=>{const{bum:z,scope:O,update:Z,subTree:et,um:J}=M;z&&Na(z),O.stop(),Z&&(Z.active=!1,tt(et,M,P,I)),J&&b0(J,P),b0(()=>{M.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Et=(M,P,I,z=!1,O=!1,Z=0)=>{for(let et=Z;et<M.length;et++)tt(M[et],P,I,z,O)},q=M=>M.shapeFlag&6?q(M.component.subTree):M.shapeFlag&128?M.suspense.next():d(M.anchor||M.el),lt=(M,P,I)=>{M==null?P._vnode&&tt(P._vnode,null,null,!0):g(P._vnode||null,M,P,null,null,null,I),Mh(),qd(),P._vnode=M},pt={p:g,um:tt,m:V,r:yt,mt:H,mc:R,pc:j,pbc:A,n:q,o:s};let vt,bt;return t&&([vt,bt]=t(pt)),{render:lt,hydrate:vt,createApp:jx(lt,vt)}}function Is({effect:s,update:t},e){s.allowRecurse=t.allowRecurse=e}function U6(s,t,e=!1){const i=s.children,n=t.children;if(Bt(i)&&Bt(n))for(let r=0;r<i.length;r++){const a=i[r];let o=n[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[r]=ts(n[r]),o.el=a.el),e||U6(a,o)),o.type===C4&&(o.el=a.el)}}function i_(s){const t=s.slice(),e=[0];let i,n,r,a,o;const h=s.length;for(i=0;i<h;i++){const l=s[i];if(l!==0){if(n=e[e.length-1],s[n]<l){t[i]=n,e.push(i);continue}for(r=0,a=e.length-1;r<a;)o=r+a>>1,s[e[o]]<l?r=o+1:a=o;l<s[e[r]]&&(r>0&&(t[i]=e[r-1]),e[r]=i)}}for(r=e.length,a=e[r-1];r-- >0;)e[r]=a,a=t[a];return e}const n_=s=>s.__isTeleport,r1=s=>s&&(s.disabled||s.disabled===""),Nh=s=>typeof SVGElement<"u"&&s instanceof SVGElement,c3=(s,t)=>{const e=s&&s.to;return ge(e)?t?t(e):null:e},s_={__isTeleport:!0,process(s,t,e,i,n,r,a,o,h,l){const{mc:c,pc:u,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:m}}=l,y=r1(t.props);let{shapeFlag:_,children:x,dynamicChildren:v}=t;if(s==null){const b=t.el=g(""),E=t.anchor=g("");f(b,e,i),f(E,e,i);const w=t.target=c3(t.props,p),R=t.targetAnchor=g("");w&&(f(R,w),a=a||Nh(w));const S=(A,U)=>{_&16&&c(x,A,U,n,r,a,o,h)};y?S(e,E):w&&S(w,R)}else{t.el=s.el;const b=t.anchor=s.anchor,E=t.target=s.target,w=t.targetAnchor=s.targetAnchor,R=r1(s.props),S=R?e:E,A=R?b:w;if(a=a||Nh(E),v?(d(s.dynamicChildren,v,S,n,r,a,o),U6(s,t,!0)):h||u(s,t,S,A,n,r,a,o,!1),y)R||f2(t,e,b,l,1);else if((t.props&&t.props.to)!==(s.props&&s.props.to)){const U=t.target=c3(t.props,p);U&&f2(t,U,null,l,0)}else R&&f2(t,E,w,l,1)}pf(t)},remove(s,t,e,i,{um:n,o:{remove:r}},a){const{shapeFlag:o,children:h,anchor:l,targetAnchor:c,target:u,props:d}=s;if(u&&r(c),(a||!r1(d))&&(r(l),o&16))for(let f=0;f<h.length;f++){const p=h[f];n(p,t,e,!0,!!p.dynamicChildren)}},move:f2,hydrate:r_};function f2(s,t,e,{o:{insert:i},m:n},r=2){r===0&&i(s.targetAnchor,t,e);const{el:a,anchor:o,shapeFlag:h,children:l,props:c}=s,u=r===2;if(u&&i(a,t,e),(!u||r1(c))&&h&16)for(let d=0;d<l.length;d++)n(l[d],t,e,2);u&&i(o,t,e)}function r_(s,t,e,i,n,r,{o:{nextSibling:a,parentNode:o,querySelector:h}},l){const c=t.target=c3(t.props,h);if(c){const u=c._lpa||c.firstChild;if(t.shapeFlag&16)if(r1(t.props))t.anchor=l(a(s),t,o(s),e,i,n,r),t.targetAnchor=u;else{t.anchor=a(s);let d=u;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&a(t.targetAnchor);break}l(u,t,c,e,i,n,r)}pf(t)}return t.anchor&&a(t.anchor)}const GB=s_;function pf(s){const t=s.ctx;if(t&&t.ut){let e=s.children[0].el;for(;e!==s.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",t.uid),e=e.nextSibling;t.ut()}}const S0=Symbol.for("v-fgt"),C4=Symbol.for("v-txt"),ni=Symbol.for("v-cmt"),Eo=Symbol.for("v-stc"),a1=[];let Ei=null;function re(s=!1){a1.push(Ei=s?null:[])}function a_(){a1.pop(),Ei=a1[a1.length-1]||null}let S1=1;function Dh(s){S1+=s}function mf(s){return s.dynamicChildren=S1>0?Ei||Ir:null,a_(),S1>0&&Ei&&Ei.push(s),s}function me(s,t,e,i,n,r){return mf(de(s,t,e,i,n,r,!0))}function n9(s,t,e,i,n){return mf($e(s,t,e,i,n,!0))}function Wr(s){return s?s.__v_isVNode===!0:!1}function s9(s,t){return s.type===t.type&&s.key===t.key}const R4="__vInternal",gf=({key:s})=>s??null,Da=({ref:s,ref_key:t,ref_for:e})=>(typeof s=="number"&&(s=""+s),s!=null?ge(s)||qe(s)||Vt(s)?{i:s0,r:s,k:t,f:!!e}:s:null);function de(s,t=null,e=null,i=0,n=null,r=s===S0?0:1,a=!1,o=!1){const h={__v_isVNode:!0,__v_skip:!0,type:s,props:t,key:t&&gf(t),ref:t&&Da(t),scopeId:w4,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:s0};return o?(k6(h,e),r&128&&s.normalize(h)):e&&(h.shapeFlag|=ge(e)?8:16),S1>0&&!a&&Ei&&(h.patchFlag>0||r&6)&&h.patchFlag!==32&&Ei.push(h),h}const $e=o_;function o_(s,t=null,e=null,i=0,n=null,r=!1){if((!s||s===sf)&&(s=ni),Wr(s)){const o=gs(s,t,!0);return e&&k6(o,e),S1>0&&!r&&Ei&&(o.shapeFlag&6?Ei[Ei.indexOf(s)]=o:Ei.push(o)),o.patchFlag|=-2,o}if(y_(s)&&(s=s.__vccOpts),t){t=h_(t);let{class:o,style:h}=t;o&&!ge(o)&&(t.class=bi(o)),fe(h)&&(zd(h)&&!Bt(h)&&(h=Fe({},h)),t.style=_4(h))}const a=ge(s)?1:wx(s)?128:n_(s)?64:fe(s)?4:Vt(s)?2:0;return de(s,t,e,i,n,a,r,!0)}function h_(s){return s?zd(s)||R4 in s?Fe({},s):s:null}function gs(s,t,e=!1){const{props:i,ref:n,patchFlag:r,children:a}=s,o=t?yf(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:o,key:o&&gf(o),ref:t&&t.ref?e&&n?Bt(n)?n.concat(Da(t)):[n,Da(t)]:Da(t):n,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:a,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:t&&s.type!==S0?r===-1?16:r|16:r,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&gs(s.ssContent),ssFallback:s.ssFallback&&gs(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce}}function l_(s=" ",t=0){return $e(C4,null,s,t)}function p2(s="",t=!1){return t?(re(),n9(ni,null,s)):$e(ni,null,s)}function $i(s){return s==null||typeof s=="boolean"?$e(ni):Bt(s)?$e(S0,null,s.slice()):typeof s=="object"?ts(s):$e(C4,null,String(s))}function ts(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:gs(s)}function k6(s,t){let e=0;const{shapeFlag:i}=s;if(t==null)t=null;else if(Bt(t))e=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),k6(s,n()),n._c&&(n._d=!0));return}else{e=32;const n=t._;!n&&!(R4 in t)?t._ctx=s0:n===3&&s0&&(s0.slots._===1?t._=1:(t._=2,s.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:s0},e=32):(t=String(t),i&64?(e=16,t=[l_(t)]):e=8);s.children=t,s.shapeFlag|=e}function yf(...s){const t={};for(let e=0;e<s.length;e++){const i=s[e];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=bi([t.class,i.class]));else if(n==="style")t.style=_4([t.style,i.style]);else if(m4(n)){const r=t[n],a=i[n];a&&r!==a&&!(Bt(r)&&r.includes(a))&&(t[n]=r?[].concat(r,a):a)}else n!==""&&(t[n]=i[n])}return t}function Gi(s,t,e,i=null){ii(s,t,7,[e,i])}const c_=hf();let u_=0;function d_(s,t,e){const i=s.type,n=(t?t.appContext:s.appContext)||c_,r={uid:u_++,vnode:s,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new wd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cf(i,n),emitsOptions:Xd(i,n),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:i.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=_x.bind(null,r),s.ce&&s.ce(r),r}let i0=null;const C9=()=>i0||s0;let H6,N9,Fh="__VUE_INSTANCE_SETTERS__";(N9=t3()[Fh])||(N9=t3()[Fh]=[]),N9.push(s=>i0=s),H6=s=>{N9.length>1?N9.forEach(t=>t(s)):N9[0](s)};const qr=s=>{H6(s),s.scope.on()},g9=()=>{i0&&i0.scope.off(),H6(null)};function xf(s){return s.vnode.shapeFlag&4}let w1=!1;function f_(s,t=!1){w1=t;const{props:e,children:i}=s.vnode,n=xf(s);Yx(s,e,n,t),Kx(s,i);const r=n?p_(s,t):void 0;return w1=!1,r}function p_(s,t){const e=s.type;s.accessCache=Object.create(null),s.proxy=Bd(new Proxy(s.ctx,Hx));const{setup:i}=e;if(i){const n=s.setupContext=i.length>1?vf(s):null;qr(s),s5();const r=hs(i,s,0,[s.props,n]);if(r5(),g9(),yd(r)){if(r.then(g9,g9),t)return r.then(a=>{Oh(s,a,t)}).catch(a=>{b4(a,s,0)});s.asyncDep=r}else Oh(s,r,t)}else _f(s,t)}function Oh(s,t,e){Vt(t)?s.type.__ssrInlineRender?s.ssrRender=t:s.render=t:fe(t)&&(s.setupState=Hd(t)),_f(s,e)}let zh;function _f(s,t,e){const i=s.type;if(!s.render){if(!t&&zh&&!i.render){const n=i.template||z6(s).template;if(n){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:o,compilerOptions:h}=i,l=Fe(Fe({isCustomElement:r,delimiters:o},a),h);i.render=zh(n,l)}}s.render=i.render||ei}qr(s),s5(),Gx(s),r5(),g9()}function m_(s){return s.attrsProxy||(s.attrsProxy=new Proxy(s.attrs,{get(t,e){return T0(s,"get","$attrs"),t[e]}}))}function vf(s){const t=e=>{s.exposed=e||{}};return{get attrs(){return m_(s)},slots:s.slots,emit:s.emit,expose:t}}function P4(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(Hd(Bd(s.exposed)),{get(t,e){if(e in t)return t[e];if(e in n1)return n1[e](s)},has(t,e){return e in t||e in n1}}))}function g_(s,t=!0){return Vt(s)?s.displayName||s.name:s.name||t&&s.__name}function y_(s){return Vt(s)&&"__vccOpts"in s}const Jt=(s,t)=>dx(s,t,w1);function G6(s,t,e){const i=arguments.length;return i===2?fe(t)&&!Bt(t)?Wr(t)?$e(s,null,[t]):$e(s,t):$e(s,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Wr(e)&&(e=[e]),$e(s,t,e))}const x_=Symbol.for("v-scx"),__=()=>y0(x_),v_="3.3.4",M_="http://www.w3.org/2000/svg",r9=typeof document<"u"?document:null,Bh=r9&&r9.createElement("template"),b_={insert:(s,t,e)=>{t.insertBefore(s,e||null)},remove:s=>{const t=s.parentNode;t&&t.removeChild(s)},createElement:(s,t,e,i)=>{const n=t?r9.createElementNS(M_,s):r9.createElement(s,e?{is:e}:void 0);return s==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:s=>r9.createTextNode(s),createComment:s=>r9.createComment(s),setText:(s,t)=>{s.nodeValue=t},setElementText:(s,t)=>{s.textContent=t},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>r9.querySelector(s),setScopeId(s,t){s.setAttribute(t,"")},insertStaticContent(s,t,e,i,n,r){const a=e?e.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),e),!(n===r||!(n=n.nextSibling)););else{Bh.innerHTML=i?`<svg>${s}</svg>`:s;const o=Bh.content;if(i){const h=o.firstChild;for(;h.firstChild;)o.appendChild(h.firstChild);o.removeChild(h)}t.insertBefore(o,e)}return[a?a.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function S_(s,t,e){const i=s._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?s.removeAttribute("class"):e?s.setAttribute("class",t):s.className=t}function w_(s,t,e){const i=s.style,n=ge(e);if(e&&!n){if(t&&!ge(t))for(const r in t)e[r]==null&&u3(i,r,"");for(const r in e)u3(i,r,e[r])}else{const r=i.display;n?t!==e&&(i.cssText=e):t&&s.removeAttribute("style"),"_vod"in s&&(i.display=r)}}const Uh=/\s*!important$/;function u3(s,t,e){if(Bt(e))e.forEach(i=>u3(s,t,i));else if(e==null&&(e=""),t.startsWith("--"))s.setProperty(t,e);else{const i=A_(s,t);Uh.test(e)?s.setProperty(T9(i),e.replace(Uh,""),"important"):s[i]=e}}const kh=["Webkit","Moz","ms"],To={};function A_(s,t){const e=To[t];if(e)return e;let i=Li(t);if(i!=="filter"&&i in s)return To[t]=i;i=x4(i);for(let n=0;n<kh.length;n++){const r=kh[n]+i;if(r in s)return To[t]=r}return t}const Hh="http://www.w3.org/1999/xlink";function E_(s,t,e,i,n){if(i&&t.startsWith("xlink:"))e==null?s.removeAttributeNS(Hh,t.slice(6,t.length)):s.setAttributeNS(Hh,t,e);else{const r=Cy(t);e==null||r&&!vd(e)?s.removeAttribute(t):s.setAttribute(t,r?"":e)}}function T_(s,t,e,i,n,r,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,n,r),s[t]=e??"";return}const o=s.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){s._value=e;const l=o==="OPTION"?s.getAttribute("value"):s.value,c=e??"";l!==c&&(s.value=c),e==null&&s.removeAttribute(t);return}let h=!1;if(e===""||e==null){const l=typeof s[t];l==="boolean"?e=vd(e):e==null&&l==="string"?(e="",h=!0):l==="number"&&(e=0,h=!0)}try{s[t]=e}catch{}h&&s.removeAttribute(t)}function a9(s,t,e,i){s.addEventListener(t,e,i)}function C_(s,t,e,i){s.removeEventListener(t,e,i)}function R_(s,t,e,i,n=null){const r=s._vei||(s._vei={}),a=r[t];if(i&&a)a.value=i;else{const[o,h]=P_(t);if(i){const l=r[t]=N_(i,n);a9(s,o,l,h)}else a&&(C_(s,o,a,h),r[t]=void 0)}}const Gh=/(?:Once|Passive|Capture)$/;function P_(s){let t;if(Gh.test(s)){t={};let i;for(;i=s.match(Gh);)s=s.slice(0,s.length-i[0].length),t[i[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):T9(s.slice(2)),t]}let Co=0;const L_=Promise.resolve(),I_=()=>Co||(L_.then(()=>Co=0),Co=Date.now());function N_(s,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;ii(D_(i,e.value),t,5,[i])};return e.value=s,e.attached=I_(),e}function D_(s,t){if(Bt(t)){const e=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{e.call(s),s._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Vh=/^on[a-z]/,F_=(s,t,e,i,n=!1,r,a,o,h)=>{t==="class"?S_(s,i,n):t==="style"?w_(s,e,i):m4(t)?y6(t)||R_(s,t,e,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):O_(s,t,i,n))?T_(s,t,i,r,a,o,h):(t==="true-value"?s._trueValue=i:t==="false-value"&&(s._falseValue=i),E_(s,t,i,n))};function O_(s,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in s&&Vh.test(t)&&Vt(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&s.tagName==="INPUT"||t==="type"&&s.tagName==="TEXTAREA"||Vh.test(t)&&ge(e)?!1:t in s}const Fn="transition",E5="animation",L4=(s,{slots:t})=>G6(Cx,bf(s),t);L4.displayName="Transition";const Mf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},z_=L4.props=Fe({},Jd,Mf),Ns=(s,t=[])=>{Bt(s)?s.forEach(e=>e(...t)):s&&s(...t)},Wh=s=>s?Bt(s)?s.some(t=>t.length>1):s.length>1:!1;function bf(s){const t={};for(const B in s)B in Mf||(t[B]=s[B]);if(s.css===!1)return t;const{name:e="v",type:i,duration:n,enterFromClass:r=`${e}-enter-from`,enterActiveClass:a=`${e}-enter-active`,enterToClass:o=`${e}-enter-to`,appearFromClass:h=r,appearActiveClass:l=a,appearToClass:c=o,leaveFromClass:u=`${e}-leave-from`,leaveActiveClass:d=`${e}-leave-active`,leaveToClass:f=`${e}-leave-to`}=s,p=B_(n),g=p&&p[0],m=p&&p[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:x,onLeave:v,onLeaveCancelled:b,onBeforeAppear:E=y,onAppear:w=_,onAppearCancelled:R=x}=t,S=(B,F,H)=>{Kn(B,F?c:o),Kn(B,F?l:a),H&&H()},A=(B,F)=>{B._isLeaving=!1,Kn(B,u),Kn(B,f),Kn(B,d),F&&F()},U=B=>(F,H)=>{const G=B?w:_,Y=()=>S(F,B,H);Ns(G,[F,Y]),qh(()=>{Kn(F,B?h:r),Sn(F,B?c:o),Wh(G)||$h(F,i,g,Y)})};return Fe(t,{onBeforeEnter(B){Ns(y,[B]),Sn(B,r),Sn(B,a)},onBeforeAppear(B){Ns(E,[B]),Sn(B,h),Sn(B,l)},onEnter:U(!1),onAppear:U(!0),onLeave(B,F){B._isLeaving=!0;const H=()=>A(B,F);Sn(B,u),wf(),Sn(B,d),qh(()=>{B._isLeaving&&(Kn(B,u),Sn(B,f),Wh(v)||$h(B,i,m,H))}),Ns(v,[B,H])},onEnterCancelled(B){S(B,!1),Ns(x,[B])},onAppearCancelled(B){S(B,!0),Ns(R,[B])},onLeaveCancelled(B){A(B),Ns(b,[B])}})}function B_(s){if(s==null)return null;if(fe(s))return[Ro(s.enter),Ro(s.leave)];{const t=Ro(s);return[t,t]}}function Ro(s){return by(s)}function Sn(s,t){t.split(/\s+/).forEach(e=>e&&s.classList.add(e)),(s._vtc||(s._vtc=new Set)).add(t)}function Kn(s,t){t.split(/\s+/).forEach(i=>i&&s.classList.remove(i));const{_vtc:e}=s;e&&(e.delete(t),e.size||(s._vtc=void 0))}function qh(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let U_=0;function $h(s,t,e,i){const n=s._endId=++U_,r=()=>{n===s._endId&&i()};if(e)return setTimeout(r,e);const{type:a,timeout:o,propCount:h}=Sf(s,t);if(!a)return i();const l=a+"end";let c=0;const u=()=>{s.removeEventListener(l,d),r()},d=f=>{f.target===s&&++c>=h&&u()};setTimeout(()=>{c<h&&u()},o+1),s.addEventListener(l,d)}function Sf(s,t){const e=window.getComputedStyle(s),i=p=>(e[p]||"").split(", "),n=i(`${Fn}Delay`),r=i(`${Fn}Duration`),a=Xh(n,r),o=i(`${E5}Delay`),h=i(`${E5}Duration`),l=Xh(o,h);let c=null,u=0,d=0;t===Fn?a>0&&(c=Fn,u=a,d=r.length):t===E5?l>0&&(c=E5,u=l,d=h.length):(u=Math.max(a,l),c=u>0?a>l?Fn:E5:null,d=c?c===Fn?r.length:h.length:0);const f=c===Fn&&/\b(transform|all)(,|$)/.test(i(`${Fn}Property`).toString());return{type:c,timeout:u,propCount:d,hasTransform:f}}function Xh(s,t){for(;s.length<t.length;)s=s.concat(s);return Math.max(...t.map((e,i)=>jh(e)+jh(s[i])))}function jh(s){return Number(s.slice(0,-1).replace(",","."))*1e3}function wf(){return document.body.offsetHeight}const Af=new WeakMap,Ef=new WeakMap,Tf={name:"TransitionGroup",props:Fe({},z_,{tag:String,moveClass:String}),setup(s,{slots:t}){const e=C9(),i=Zd();let n,r;return tf(()=>{if(!n.length)return;const a=s.moveClass||`${s.name||"v"}-move`;if(!W_(n[0].el,e.vnode.el,a))return;n.forEach(H_),n.forEach(G_);const o=n.filter(V_);wf(),o.forEach(h=>{const l=h.el,c=l.style;Sn(l,a),c.transform=c.webkitTransform=c.transitionDuration="";const u=l._moveCb=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",u),l._moveCb=null,Kn(l,a))};l.addEventListener("transitionend",u)})}),()=>{const a=he(s),o=bf(a);let h=a.tag||S0;n=r,r=t.default?N6(t.default()):[];for(let l=0;l<r.length;l++){const c=r[l];c.key!=null&&b1(c,M1(c,o,i,e))}if(n)for(let l=0;l<n.length;l++){const c=n[l];b1(c,M1(c,o,i,e)),Af.set(c,c.el.getBoundingClientRect())}return $e(h,null,r)}}},k_=s=>delete s.mode;Tf.props;const VB=Tf;function H_(s){const t=s.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function G_(s){Ef.set(s,s.el.getBoundingClientRect())}function V_(s){const t=Af.get(s),e=Ef.get(s),i=t.left-e.left,n=t.top-e.top;if(i||n){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${n}px)`,r.transitionDuration="0s",s}}function W_(s,t,e){const i=s.cloneNode();s._vtc&&s._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),e.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:r}=Sf(i);return n.removeChild(i),r}const n4=s=>{const t=s.props["onUpdate:modelValue"]||!1;return Bt(t)?e=>Na(t,e):t};function q_(s){s.target.composing=!0}function Yh(s){const t=s.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const WB={created(s,{modifiers:{lazy:t,trim:e,number:i}},n){s._assign=n4(n);const r=i||n.props&&n.props.type==="number";a9(s,t?"change":"input",a=>{if(a.target.composing)return;let o=s.value;e&&(o=o.trim()),r&&(o=Q7(o)),s._assign(o)}),e&&a9(s,"change",()=>{s.value=s.value.trim()}),t||(a9(s,"compositionstart",q_),a9(s,"compositionend",Yh),a9(s,"change",Yh))},mounted(s,{value:t}){s.value=t??""},beforeUpdate(s,{value:t,modifiers:{lazy:e,trim:i,number:n}},r){if(s._assign=n4(r),s.composing||document.activeElement===s&&s.type!=="range"&&(e||i&&s.value.trim()===t||(n||s.type==="number")&&Q7(s.value)===t))return;const a=t??"";s.value!==a&&(s.value=a)}},qB={deep:!0,created(s,t,e){s._assign=n4(e),a9(s,"change",()=>{const i=s._modelValue,n=$_(s),r=s.checked,a=s._assign;if(Bt(i)){const o=Md(i,n),h=o!==-1;if(r&&!h)a(i.concat(n));else if(!r&&h){const l=[...i];l.splice(o,1),a(l)}}else if(g4(i)){const o=new Set(i);r?o.add(n):o.delete(n),a(o)}else a(Cf(s,r))})},mounted:Zh,beforeUpdate(s,t,e){s._assign=n4(e),Zh(s,t,e)}};function Zh(s,{value:t,oldValue:e},i){s._modelValue=t,Bt(t)?s.checked=Md(t,i.props.value)>-1:g4(t)?s.checked=t.has(i.props.value):t!==e&&(s.checked=v4(t,Cf(s,!0)))}function $_(s){return"_value"in s?s._value:s.value}function Cf(s,t){const e=t?"_trueValue":"_falseValue";return e in s?s[e]:t}const X_=["ctrl","shift","alt","meta"],j_={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,t)=>X_.some(e=>s[`${e}Key`]&&!t.includes(e))},Y_=(s,t)=>(e,...i)=>{for(let n=0;n<t.length;n++){const r=j_[t[n]];if(r&&r(e,t))return}return s(e,...i)},Z_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$B=(s,t)=>e=>{if(!("key"in e))return;const i=T9(e.key);if(t.some(n=>n===i||Z_[n]===i))return s(e)},Rf={beforeMount(s,{value:t},{transition:e}){s._vod=s.style.display==="none"?"":s.style.display,e&&t?e.beforeEnter(s):T5(s,t)},mounted(s,{value:t},{transition:e}){e&&t&&e.enter(s)},updated(s,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(s),T5(s,!0),i.enter(s)):i.leave(s,()=>{T5(s,!1)}):T5(s,t))},beforeUnmount(s,{value:t}){T5(s,t)}};function T5(s,t){s.style.display=t?s._vod:"none"}const J_=Fe({patchProp:F_},b_);let Jh;function Pf(){return Jh||(Jh=t_(J_))}const Kh=(...s)=>{Pf().render(...s)},K_=(...s)=>{const t=Pf().createApp(...s),{mount:e}=t;return t.mount=i=>{const n=Q_(i);if(!n)return;const r=t._component;!Vt(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const a=e(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t};function Q_(s){return ge(s)?document.querySelector(s):s}const tv=(s,t)=>{const e=s.__vccOpts||s;for(const[i,n]of t)e[i]=n;return e},ev={},iv={class:"pContainer"};function nv(s,t){const e=Ux("router-view");return re(),me("div",iv,[$e(e)])}const sv=tv(ev,[["render",nv],["__scopeId","data-v-657ea9ef"]]),rv="modulepreload",av=function(s,t){return new URL(s,t).href},Qh={},On=function(t,e,i){if(!e||e.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(e.map(r=>{if(r=av(r,i),r in Qh)return;Qh[r]=!0;const a=r.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!i)for(let c=n.length-1;c>=0;c--){const u=n[c];if(u.href===r&&(!a||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${o}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":rv,a||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),a)return new Promise((c,u)=>{l.addEventListener("load",c),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())};function ov(){return Lf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Lf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const hv=typeof Proxy=="function",lv="devtools-plugin:setup",cv="plugin:settings:set";let D9,d3;function uv(){var s;return D9!==void 0||(typeof window<"u"&&window.performance?(D9=!0,d3=window.performance):typeof global<"u"&&(!((s=global.perf_hooks)===null||s===void 0)&&s.performance)?(D9=!0,d3=global.perf_hooks.performance):D9=!1),D9}function dv(){return uv()?d3.now():Date.now()}class fv{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const a in t.settings){const o=t.settings[a];i[a]=o.defaultValue}const n=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},i);try{const a=localStorage.getItem(n),o=JSON.parse(a);Object.assign(r,o)}catch{}this.fallbacks={getSettings(){return r},setSettings(a){try{localStorage.setItem(n,JSON.stringify(a))}catch{}r=a},now(){return dv()}},e&&e.on(cv,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...h)=>{this.onQueue.push({method:o,args:h})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...h)=>(this.targetQueue.push({method:o,args:h,resolve:()=>{}}),this.fallbacks[o](...h)):(...h)=>new Promise(l=>{this.targetQueue.push({method:o,args:h,resolve:l})})})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function pv(s,t){const e=s,i=Lf(),n=ov(),r=hv&&e.enableEarlyProxy;if(n&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))n.emit(lv,s,t);else{const a=r?new fv(e,n):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Tr=typeof window<"u";function mv(s){return s.__esModule||s[Symbol.toStringTag]==="Module"}const pe=Object.assign;function Po(s,t){const e={};for(const i in t){const n=t[i];e[i]=Ii(n)?n.map(s):s(n)}return e}const o1=()=>{},Ii=Array.isArray,gv=/\/$/,yv=s=>s.replace(gv,"");function Lo(s,t,e="/"){let i,n={},r="",a="";const o=t.indexOf("#");let h=t.indexOf("?");return o<h&&o>=0&&(h=-1),h>-1&&(i=t.slice(0,h),r=t.slice(h+1,o>-1?o:t.length),n=s(r)),o>-1&&(i=i||t.slice(0,o),a=t.slice(o,t.length)),i=Mv(i??t,e),{fullPath:i+(r&&"?")+r+a,path:i,query:n,hash:a}}function xv(s,t){const e=t.query?s(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function tl(s,t){return!t||!s.toLowerCase().startsWith(t.toLowerCase())?s:s.slice(t.length)||"/"}function _v(s,t,e){const i=t.matched.length-1,n=e.matched.length-1;return i>-1&&i===n&&$r(t.matched[i],e.matched[n])&&If(t.params,e.params)&&s(t.query)===s(e.query)&&t.hash===e.hash}function $r(s,t){return(s.aliasOf||s)===(t.aliasOf||t)}function If(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(!vv(s[e],t[e]))return!1;return!0}function vv(s,t){return Ii(s)?el(s,t):Ii(t)?el(t,s):s===t}function el(s,t){return Ii(t)?s.length===t.length&&s.every((e,i)=>e===t[i]):s.length===1&&s[0]===t}function Mv(s,t){if(s.startsWith("/"))return s;if(!s)return t;const e=t.split("/"),i=s.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let r=e.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var A1;(function(s){s.pop="pop",s.push="push"})(A1||(A1={}));var h1;(function(s){s.back="back",s.forward="forward",s.unknown=""})(h1||(h1={}));function bv(s){if(!s)if(Tr){const t=document.querySelector("base");s=t&&t.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),yv(s)}const Sv=/^[^#]+#/;function wv(s,t){return s.replace(Sv,"#")+t}function Av(s,t){const e=document.documentElement.getBoundingClientRect(),i=s.getBoundingClientRect();return{behavior:t.behavior,left:i.left-e.left-(t.left||0),top:i.top-e.top-(t.top||0)}}const I4=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ev(s){let t;if("el"in s){const e=s.el,i=typeof e=="string"&&e.startsWith("#"),n=typeof e=="string"?i?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!n)return;t=Av(n,s)}else t=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function il(s,t){return(history.state?history.state.position-t:-1)+s}const f3=new Map;function Tv(s,t){f3.set(s,t)}function Cv(s){const t=f3.get(s);return f3.delete(s),t}let Rv=()=>location.protocol+"//"+location.host;function Nf(s,t){const{pathname:e,search:i,hash:n}=t,r=s.indexOf("#");if(r>-1){let o=n.includes(s.slice(r))?s.slice(r).length:1,h=n.slice(o);return h[0]!=="/"&&(h="/"+h),tl(h,"")}return tl(e,s)+i+n}function Pv(s,t,e,i){let n=[],r=[],a=null;const o=({state:d})=>{const f=Nf(s,location),p=e.value,g=t.value;let m=0;if(d){if(e.value=f,t.value=d,a&&a===p){a=null;return}m=g?d.position-g.position:0}else i(f);n.forEach(y=>{y(e.value,p,{delta:m,type:A1.pop,direction:m?m>0?h1.forward:h1.back:h1.unknown})})};function h(){a=e.value}function l(d){n.push(d);const f=()=>{const p=n.indexOf(d);p>-1&&n.splice(p,1)};return r.push(f),f}function c(){const{history:d}=window;d.state&&d.replaceState(pe({},d.state,{scroll:I4()}),"")}function u(){for(const d of r)d();r=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:h,listen:l,destroy:u}}function nl(s,t,e,i=!1,n=!1){return{back:s,current:t,forward:e,replaced:i,position:window.history.length,scroll:n?I4():null}}function Lv(s){const{history:t,location:e}=window,i={value:Nf(s,e)},n={value:t.state};n.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(h,l,c){const u=s.indexOf("#"),d=u>-1?(e.host&&document.querySelector("base")?s:s.slice(u))+h:Rv()+s+h;try{t[c?"replaceState":"pushState"](l,"",d),n.value=l}catch(f){console.error(f),e[c?"replace":"assign"](d)}}function a(h,l){const c=pe({},t.state,nl(n.value.back,h,n.value.forward,!0),l,{position:n.value.position});r(h,c,!0),i.value=h}function o(h,l){const c=pe({},n.value,t.state,{forward:h,scroll:I4()});r(c.current,c,!0);const u=pe({},nl(i.value,h,null),{position:c.position+1},l);r(h,u,!1),i.value=h}return{location:i,state:n,push:o,replace:a}}function Iv(s){s=bv(s);const t=Lv(s),e=Pv(s,t.state,t.location,t.replace);function i(r,a=!0){a||e.pauseListeners(),history.go(r)}const n=pe({location:"",base:s,go:i,createHref:wv.bind(null,s)},t,e);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Nv(s){return s=location.host?s||location.pathname+location.search:"",s.includes("#")||(s+="#"),Iv(s)}function Dv(s){return typeof s=="string"||s&&typeof s=="object"}function Df(s){return typeof s=="string"||typeof s=="symbol"}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ff=Symbol("");var sl;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(sl||(sl={}));function Xr(s,t){return pe(new Error,{type:s,[Ff]:!0},t)}function an(s,t){return s instanceof Error&&Ff in s&&(t==null||!!(s.type&t))}const rl="[^/]+?",Fv={sensitive:!1,strict:!1,start:!0,end:!0},Ov=/[.+*?^${}()[\]/\\]/g;function zv(s,t){const e=pe({},Fv,t),i=[];let n=e.start?"^":"";const r=[];for(const l of s){const c=l.length?[]:[90];e.strict&&!l.length&&(n+="/");for(let u=0;u<l.length;u++){const d=l[u];let f=40+(e.sensitive?.25:0);if(d.type===0)u||(n+="/"),n+=d.value.replace(Ov,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:g,optional:m,regexp:y}=d;r.push({name:p,repeatable:g,optional:m});const _=y||rl;if(_!==rl){f+=10;try{new RegExp(`(${_})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+v.message)}}let x=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;u||(x=m&&l.length<2?`(?:/${x})`:"/"+x),m&&(x+="?"),n+=x,f+=20,m&&(f+=-8),g&&(f+=-20),_===".*"&&(f+=-50)}c.push(f)}i.push(c)}if(e.strict&&e.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}e.strict||(n+="/?"),e.end?n+="$":e.strict&&(n+="(?:/|$)");const a=new RegExp(n,e.sensitive?"":"i");function o(l){const c=l.match(a),u={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",p=r[d-1];u[p.name]=f&&p.repeatable?f.split("/"):f}return u}function h(l){let c="",u=!1;for(const d of s){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:m}=f,y=p in l?l[p]:"";if(Ii(y)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Ii(y)?y.join("/"):y;if(!_)if(m)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);c+=_}}return c||"/"}return{re:a,score:i,keys:r,parse:o,stringify:h}}function Bv(s,t){let e=0;for(;e<s.length&&e<t.length;){const i=t[e]-s[e];if(i)return i;e++}return s.length<t.length?s.length===1&&s[0]===40+40?-1:1:s.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Uv(s,t){let e=0;const i=s.score,n=t.score;for(;e<i.length&&e<n.length;){const r=Bv(i[e],n[e]);if(r)return r;e++}if(Math.abs(n.length-i.length)===1){if(al(i))return 1;if(al(n))return-1}return n.length-i.length}function al(s){const t=s[s.length-1];return s.length>0&&t[t.length-1]<0}const kv={type:0,value:""},Hv=/[a-zA-Z0-9_]/;function Gv(s){if(!s)return[[]];if(s==="/")return[[kv]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function t(f){throw new Error(`ERR (${e})/"${l}": ${f}`)}let e=0,i=e;const n=[];let r;function a(){r&&n.push(r),r=[]}let o=0,h,l="",c="";function u(){l&&(e===0?r.push({type:0,value:l}):e===1||e===2||e===3?(r.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:c,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=h}for(;o<s.length;){if(h=s[o++],h==="\\"&&e!==2){i=e,e=4;continue}switch(e){case 0:h==="/"?(l&&u(),a()):h===":"?(u(),e=1):d();break;case 4:d(),e=i;break;case 1:h==="("?e=2:Hv.test(h)?d():(u(),e=0,h!=="*"&&h!=="?"&&h!=="+"&&o--);break;case 2:h===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+h:e=3:c+=h;break;case 3:u(),e=0,h!=="*"&&h!=="?"&&h!=="+"&&o--,c="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${l}"`),u(),a(),n}function Vv(s,t,e){const i=zv(Gv(s.path),e),n=pe(i,{record:s,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function Wv(s,t){const e=[],i=new Map;t=ll({strict:!1,end:!0,sensitive:!1},t);function n(c){return i.get(c)}function r(c,u,d){const f=!d,p=qv(c);p.aliasOf=d&&d.record;const g=ll(t,c),m=[p];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const v of x)m.push(pe({},p,{components:d?d.record.components:p.components,path:v,aliasOf:d?d.record:p}))}let y,_;for(const x of m){const{path:v}=x;if(u&&v[0]!=="/"){const b=u.record.path,E=b[b.length-1]==="/"?"":"/";x.path=u.record.path+(v&&E+v)}if(y=Vv(x,u,g),d?d.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),f&&c.name&&!hl(y)&&a(c.name)),p.children){const b=p.children;for(let E=0;E<b.length;E++)r(b[E],y,d&&d.children[E])}d=d||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&h(y)}return _?()=>{a(_)}:o1}function a(c){if(Df(c)){const u=i.get(c);u&&(i.delete(c),e.splice(e.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=e.indexOf(c);u>-1&&(e.splice(u,1),c.record.name&&i.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return e}function h(c){let u=0;for(;u<e.length&&Uv(c,e[u])>=0&&(c.record.path!==e[u].record.path||!Of(c,e[u]));)u++;e.splice(u,0,c),c.record.name&&!hl(c)&&i.set(c.record.name,c)}function l(c,u){let d,f={},p,g;if("name"in c&&c.name){if(d=i.get(c.name),!d)throw Xr(1,{location:c});g=d.record.name,f=pe(ol(u.params,d.keys.filter(_=>!_.optional).map(_=>_.name)),c.params&&ol(c.params,d.keys.map(_=>_.name))),p=d.stringify(f)}else if("path"in c)p=c.path,d=e.find(_=>_.re.test(p)),d&&(f=d.parse(p),g=d.record.name);else{if(d=u.name?i.get(u.name):e.find(_=>_.re.test(u.path)),!d)throw Xr(1,{location:c,currentLocation:u});g=d.record.name,f=pe({},u.params,c.params),p=d.stringify(f)}const m=[];let y=d;for(;y;)m.unshift(y.record),y=y.parent;return{name:g,path:p,params:f,matched:m,meta:Xv(m)}}return s.forEach(c=>r(c)),{addRoute:r,resolve:l,removeRoute:a,getRoutes:o,getRecordMatcher:n}}function ol(s,t){const e={};for(const i of t)i in s&&(e[i]=s[i]);return e}function qv(s){return{path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:void 0,beforeEnter:s.beforeEnter,props:$v(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}}}function $v(s){const t={},e=s.props||!1;if("component"in s)t.default=e;else for(const i in s.components)t[i]=typeof e=="boolean"?e:e[i];return t}function hl(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function Xv(s){return s.reduce((t,e)=>pe(t,e.meta),{})}function ll(s,t){const e={};for(const i in s)e[i]=i in t?t[i]:s[i];return e}function Of(s,t){return t.children.some(e=>e===s||Of(s,e))}const zf=/#/g,jv=/&/g,Yv=/\//g,Zv=/=/g,Jv=/\?/g,Bf=/\+/g,Kv=/%5B/g,Qv=/%5D/g,Uf=/%5E/g,tM=/%60/g,kf=/%7B/g,eM=/%7C/g,Hf=/%7D/g,iM=/%20/g;function V6(s){return encodeURI(""+s).replace(eM,"|").replace(Kv,"[").replace(Qv,"]")}function nM(s){return V6(s).replace(kf,"{").replace(Hf,"}").replace(Uf,"^")}function p3(s){return V6(s).replace(Bf,"%2B").replace(iM,"+").replace(zf,"%23").replace(jv,"%26").replace(tM,"`").replace(kf,"{").replace(Hf,"}").replace(Uf,"^")}function sM(s){return p3(s).replace(Zv,"%3D")}function rM(s){return V6(s).replace(zf,"%23").replace(Jv,"%3F")}function aM(s){return s==null?"":rM(s).replace(Yv,"%2F")}function s4(s){try{return decodeURIComponent(""+s)}catch{}return""+s}function oM(s){const t={};if(s===""||s==="?")return t;const i=(s[0]==="?"?s.slice(1):s).split("&");for(let n=0;n<i.length;++n){const r=i[n].replace(Bf," "),a=r.indexOf("="),o=s4(a<0?r:r.slice(0,a)),h=a<0?null:s4(r.slice(a+1));if(o in t){let l=t[o];Ii(l)||(l=t[o]=[l]),l.push(h)}else t[o]=h}return t}function cl(s){let t="";for(let e in s){const i=s[e];if(e=sM(e),i==null){i!==void 0&&(t+=(t.length?"&":"")+e);continue}(Ii(i)?i.map(r=>r&&p3(r)):[i&&p3(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+e,r!=null&&(t+="="+r))})}return t}function hM(s){const t={};for(const e in s){const i=s[e];i!==void 0&&(t[e]=Ii(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}const lM=Symbol(""),ul=Symbol(""),W6=Symbol(""),Gf=Symbol(""),m3=Symbol("");function C5(){let s=[];function t(i){return s.push(i),()=>{const n=s.indexOf(i);n>-1&&s.splice(n,1)}}function e(){s=[]}return{add:t,list:()=>s,reset:e}}function es(s,t,e,i,n){const r=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,o)=>{const h=u=>{u===!1?o(Xr(4,{from:e,to:t})):u instanceof Error?o(u):Dv(u)?o(Xr(2,{from:t,to:u})):(r&&i.enterCallbacks[n]===r&&typeof u=="function"&&r.push(u),a())},l=s.call(i&&i.instances[n],t,e,h);let c=Promise.resolve(l);s.length<3&&(c=c.then(h)),c.catch(u=>o(u))})}function Io(s,t,e,i){const n=[];for(const r of s)for(const a in r.components){let o=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(cM(o)){const l=(o.__vccOpts||o)[t];l&&n.push(es(l,e,i,r,a))}else{let h=o();n.push(()=>h.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const c=mv(l)?l.default:l;r.components[a]=c;const d=(c.__vccOpts||c)[t];return d&&es(d,e,i,r,a)()}))}}return n}function cM(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function dl(s){const t=y0(W6),e=y0(Gf),i=Jt(()=>t.resolve(qt(s.to))),n=Jt(()=>{const{matched:h}=i.value,{length:l}=h,c=h[l-1],u=e.matched;if(!c||!u.length)return-1;const d=u.findIndex($r.bind(null,c));if(d>-1)return d;const f=fl(h[l-2]);return l>1&&fl(c)===f&&u[u.length-1].path!==f?u.findIndex($r.bind(null,h[l-2])):d}),r=Jt(()=>n.value>-1&&pM(e.params,i.value.params)),a=Jt(()=>n.value>-1&&n.value===e.matched.length-1&&If(e.params,i.value.params));function o(h={}){return fM(h)?t[qt(s.replace)?"replace":"push"](qt(s.to)).catch(o1):Promise.resolve()}return{route:i,href:Jt(()=>i.value.href),isActive:r,isExactActive:a,navigate:o}}const uM=Ss({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dl,setup(s,{slots:t}){const e=a5(dl(s)),{options:i}=y0(W6),n=Jt(()=>({[pl(s.activeClass,i.linkActiveClass,"router-link-active")]:e.isActive,[pl(s.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const r=t.default&&t.default(e);return s.custom?r:G6("a",{"aria-current":e.isExactActive?s.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:n.value},r)}}}),dM=uM;function fM(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const t=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return s.preventDefault&&s.preventDefault(),!0}}function pM(s,t){for(const e in t){const i=t[e],n=s[e];if(typeof i=="string"){if(i!==n)return!1}else if(!Ii(n)||n.length!==i.length||i.some((r,a)=>r!==n[a]))return!1}return!0}function fl(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const pl=(s,t,e)=>s??t??e,mM=Ss({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:t,slots:e}){const i=y0(m3),n=Jt(()=>s.route||i.value),r=y0(ul,0),a=Jt(()=>{let l=qt(r);const{matched:c}=n.value;let u;for(;(u=c[l])&&!u.components;)l++;return l}),o=Jt(()=>n.value.matched[a.value]);s1(ul,Jt(()=>a.value+1)),s1(lM,o),s1(m3,n);const h=G0();return Pi(()=>[h.value,o.value,s.name],([l,c,u],[d,f,p])=>{c&&(c.instances[u]=l,f&&f!==c&&l&&l===d&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),l&&c&&(!f||!$r(c,f)||!d)&&(c.enterCallbacks[u]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=n.value,c=s.name,u=o.value,d=u&&u.components[c];if(!d)return ml(e.default,{Component:d,route:l});const f=u.props[c],p=f?f===!0?l.params:typeof f=="function"?f(l):f:null,m=G6(d,pe({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[c]=null)},ref:h}));return ml(e.default,{Component:m,route:l})||m}}});function ml(s,t){if(!s)return null;const e=s(t);return e.length===1?e[0]:e}const gM=mM;function yM(s){const t=Wv(s.routes,s),e=s.parseQuery||oM,i=s.stringifyQuery||cl,n=s.history,r=C5(),a=C5(),o=C5(),h=ax(zn);let l=zn;Tr&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Po.bind(null,q=>""+q),u=Po.bind(null,aM),d=Po.bind(null,s4);function f(q,lt){let pt,vt;return Df(q)?(pt=t.getRecordMatcher(q),vt=lt):vt=q,t.addRoute(vt,pt)}function p(q){const lt=t.getRecordMatcher(q);lt&&t.removeRoute(lt)}function g(){return t.getRoutes().map(q=>q.record)}function m(q){return!!t.getRecordMatcher(q)}function y(q,lt){if(lt=pe({},lt||h.value),typeof q=="string"){const I=Lo(e,q,lt.path),z=t.resolve({path:I.path},lt),O=n.createHref(I.fullPath);return pe(I,z,{params:d(z.params),hash:s4(I.hash),redirectedFrom:void 0,href:O})}let pt;if("path"in q)pt=pe({},q,{path:Lo(e,q.path,lt.path).path});else{const I=pe({},q.params);for(const z in I)I[z]==null&&delete I[z];pt=pe({},q,{params:u(I)}),lt.params=u(lt.params)}const vt=t.resolve(pt,lt),bt=q.hash||"";vt.params=c(d(vt.params));const M=xv(i,pe({},q,{hash:nM(bt),path:vt.path})),P=n.createHref(M);return pe({fullPath:M,hash:bt,query:i===cl?hM(q.query):q.query||{}},vt,{redirectedFrom:void 0,href:P})}function _(q){return typeof q=="string"?Lo(e,q,h.value.path):pe({},q)}function x(q,lt){if(l!==q)return Xr(8,{from:lt,to:q})}function v(q){return w(q)}function b(q){return v(pe(_(q),{replace:!0}))}function E(q){const lt=q.matched[q.matched.length-1];if(lt&&lt.redirect){const{redirect:pt}=lt;let vt=typeof pt=="function"?pt(q):pt;return typeof vt=="string"&&(vt=vt.includes("?")||vt.includes("#")?vt=_(vt):{path:vt},vt.params={}),pe({query:q.query,hash:q.hash,params:"path"in vt?{}:q.params},vt)}}function w(q,lt){const pt=l=y(q),vt=h.value,bt=q.state,M=q.force,P=q.replace===!0,I=E(pt);if(I)return w(pe(_(I),{state:typeof I=="object"?pe({},bt,I.state):bt,force:M,replace:P}),lt||pt);const z=pt;z.redirectedFrom=lt;let O;return!M&&_v(i,vt,pt)&&(O=Xr(16,{to:z,from:vt}),V(vt,vt,!0,!1)),(O?Promise.resolve(O):A(z,vt)).catch(Z=>an(Z)?an(Z,2)?Z:at(Z):j(Z,z,vt)).then(Z=>{if(Z){if(an(Z,2))return w(pe({replace:P},_(Z.to),{state:typeof Z.to=="object"?pe({},bt,Z.to.state):bt,force:M}),lt||z)}else Z=B(z,vt,!0,P,bt);return U(z,vt,Z),Z})}function R(q,lt){const pt=x(q,lt);return pt?Promise.reject(pt):Promise.resolve()}function S(q){const lt=xt.values().next().value;return lt&&typeof lt.runWithContext=="function"?lt.runWithContext(q):q()}function A(q,lt){let pt;const[vt,bt,M]=xM(q,lt);pt=Io(vt.reverse(),"beforeRouteLeave",q,lt);for(const I of vt)I.leaveGuards.forEach(z=>{pt.push(es(z,q,lt))});const P=R.bind(null,q,lt);return pt.push(P),Et(pt).then(()=>{pt=[];for(const I of r.list())pt.push(es(I,q,lt));return pt.push(P),Et(pt)}).then(()=>{pt=Io(bt,"beforeRouteUpdate",q,lt);for(const I of bt)I.updateGuards.forEach(z=>{pt.push(es(z,q,lt))});return pt.push(P),Et(pt)}).then(()=>{pt=[];for(const I of q.matched)if(I.beforeEnter&&!lt.matched.includes(I))if(Ii(I.beforeEnter))for(const z of I.beforeEnter)pt.push(es(z,q,lt));else pt.push(es(I.beforeEnter,q,lt));return pt.push(P),Et(pt)}).then(()=>(q.matched.forEach(I=>I.enterCallbacks={}),pt=Io(M,"beforeRouteEnter",q,lt),pt.push(P),Et(pt))).then(()=>{pt=[];for(const I of a.list())pt.push(es(I,q,lt));return pt.push(P),Et(pt)}).catch(I=>an(I,8)?I:Promise.reject(I))}function U(q,lt,pt){for(const vt of o.list())S(()=>vt(q,lt,pt))}function B(q,lt,pt,vt,bt){const M=x(q,lt);if(M)return M;const P=lt===zn,I=Tr?history.state:{};pt&&(vt||P?n.replace(q.fullPath,pe({scroll:P&&I&&I.scroll},bt)):n.push(q.fullPath,bt)),h.value=q,V(q,lt,pt,P),at()}let F;function H(){F||(F=n.listen((q,lt,pt)=>{if(!St.listening)return;const vt=y(q),bt=E(vt);if(bt){w(pe(bt,{replace:!0}),vt).catch(o1);return}l=vt;const M=h.value;Tr&&Tv(il(M.fullPath,pt.delta),I4()),A(vt,M).catch(P=>an(P,12)?P:an(P,2)?(w(P.to,vt).then(I=>{an(I,20)&&!pt.delta&&pt.type===A1.pop&&n.go(-1,!1)}).catch(o1),Promise.reject()):(pt.delta&&n.go(-pt.delta,!1),j(P,vt,M))).then(P=>{P=P||B(vt,M,!1),P&&(pt.delta&&!an(P,8)?n.go(-pt.delta,!1):pt.type===A1.pop&&an(P,20)&&n.go(-1,!1)),U(vt,M,P)}).catch(o1)}))}let G=C5(),Y=C5(),$;function j(q,lt,pt){at(q);const vt=Y.list();return vt.length?vt.forEach(bt=>bt(q,lt,pt)):console.error(q),Promise.reject(q)}function rt(){return $&&h.value!==zn?Promise.resolve():new Promise((q,lt)=>{G.add([q,lt])})}function at(q){return $||($=!q,H(),G.list().forEach(([lt,pt])=>q?pt(q):lt()),G.reset()),q}function V(q,lt,pt,vt){const{scrollBehavior:bt}=s;if(!Tr||!bt)return Promise.resolve();const M=!pt&&Cv(il(q.fullPath,0))||(vt||!pt)&&history.state&&history.state.scroll||null;return P6().then(()=>bt(q,lt,M)).then(P=>P&&Ev(P)).catch(P=>j(P,q,lt))}const tt=q=>n.go(q);let yt;const xt=new Set,St={currentRoute:h,listening:!0,addRoute:f,removeRoute:p,hasRoute:m,getRoutes:g,resolve:y,options:s,push:v,replace:b,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:r.add,beforeResolve:a.add,afterEach:o.add,onError:Y.add,isReady:rt,install(q){const lt=this;q.component("RouterLink",dM),q.component("RouterView",gM),q.config.globalProperties.$router=lt,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>qt(h)}),Tr&&!yt&&h.value===zn&&(yt=!0,v(n.location).catch(bt=>{}));const pt={};for(const bt in zn)pt[bt]=Jt(()=>h.value[bt]);q.provide(W6,lt),q.provide(Gf,a5(pt)),q.provide(m3,h);const vt=q.unmount;xt.add(q),q.unmount=function(){xt.delete(q),xt.size<1&&(l=zn,F&&F(),F=null,h.value=zn,yt=!1,$=!1),vt()}}};function Et(q){return q.reduce((lt,pt)=>lt.then(()=>S(pt)),Promise.resolve())}return St}function xM(s,t){const e=[],i=[],n=[],r=Math.max(t.matched.length,s.matched.length);for(let a=0;a<r;a++){const o=t.matched[a];o&&(s.matched.find(l=>$r(l,o))?i.push(o):e.push(o));const h=s.matched[a];h&&(t.matched.find(l=>$r(l,h))||n.push(h))}return[e,i,n]}const _M=[{path:"/",name:"index",component:()=>On(()=>import("./HelloWorld-fb0f9741.js"),["./HelloWorld-fb0f9741.js","./HelloWorld-d6c3d3a2.css"],import.meta.url)},{path:"/shpBuilder",name:"shpBuilder",component:()=>On(()=>import("./shpBuilder-c67f61b3.js"),["./shpBuilder-c67f61b3.js","./drawerBarTop-bd3322b4.js","./drawerBarTop-357f6a47.css","./gisViewController-06cad0fc.js","./el-button-781620e6.js","./el-button-0842ab44.css","./el-overlay-03490b0e.js","./event-9d5467f9.js","./focus-trap-100c1603.js","./el-overlay-f5017b26.css","./el-tooltip-da30f31f.js","./el-tooltip-b17b6765.css","./el-divider-fbf90400.js","./el-divider-0d364c3b.css","./gisViewController-06fc41dc.css","./aboutme-5d5b2b3f.css","./shpSolver-fdbd14a9.js","./shpSolver-07b4a77e.css","./gisAreaView-eb9e05ec.js","./gisAreaView-2ed0a78d.css","./popUp-13b7d89b.js","./popUp-bb7b6708.css","./shpBuilder-16f417d0.css"],import.meta.url)},{path:"/about",name:"AboutAuthor",component:()=>On(()=>import("./aboutme-87c5a5c0.js"),["./aboutme-87c5a5c0.js","./aboutme-5d5b2b3f.css"],import.meta.url)},{path:"/shpC",name:"shpSolve",component:()=>On(()=>import("./shpSolver-fdbd14a9.js"),["./shpSolver-fdbd14a9.js","./el-button-781620e6.js","./el-button-0842ab44.css","./el-overlay-03490b0e.js","./event-9d5467f9.js","./focus-trap-100c1603.js","./el-overlay-f5017b26.css","./shpSolver-07b4a77e.css"],import.meta.url)},{path:"/gisViewC",name:"gisShpViewer",component:()=>On(()=>import("./gisAreaView-eb9e05ec.js"),["./gisAreaView-eb9e05ec.js","./el-tooltip-da30f31f.js","./focus-trap-100c1603.js","./el-button-781620e6.js","./el-button-0842ab44.css","./el-tooltip-b17b6765.css","./gisAreaView-2ed0a78d.css"],import.meta.url)},{path:"/gisControl",name:"gisViewController",component:()=>On(()=>import("./gisViewController-06cad0fc.js"),["./gisViewController-06cad0fc.js","./el-button-781620e6.js","./el-button-0842ab44.css","./el-overlay-03490b0e.js","./event-9d5467f9.js","./focus-trap-100c1603.js","./el-overlay-f5017b26.css","./el-tooltip-da30f31f.js","./el-tooltip-b17b6765.css","./el-divider-fbf90400.js","./el-divider-0d364c3b.css","./gisViewController-06fc41dc.css","./aboutme-5d5b2b3f.css"],import.meta.url)},{path:"/drawerTop",name:"drawerBarTop",component:()=>On(()=>import("./drawerBarTop-bd3322b4.js"),["./drawerBarTop-bd3322b4.js","./drawerBarTop-357f6a47.css"],import.meta.url)},{path:"/popup",name:"messagePopup",component:()=>On(()=>import("./popUp-13b7d89b.js"),["./popUp-13b7d89b.js","./el-button-781620e6.js","./el-button-0842ab44.css","./el-divider-fbf90400.js","./event-9d5467f9.js","./el-divider-0d364c3b.css","./popUp-bb7b6708.css"],import.meta.url)}],vM=yM({history:Nv(),routes:_M});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Vf="store";function MM(s){return s===void 0&&(s=null),y0(s!==null?s:Vf)}function o5(s,t){Object.keys(s).forEach(function(e){return t(s[e],e)})}function bM(s){return s!==null&&typeof s=="object"}function SM(s){return s&&typeof s.then=="function"}function wM(s,t){return function(){return s(t)}}function Wf(s,t,e){return t.indexOf(s)<0&&(e&&e.prepend?t.unshift(s):t.push(s)),function(){var i=t.indexOf(s);i>-1&&t.splice(i,1)}}function qf(s,t){s._actions=Object.create(null),s._mutations=Object.create(null),s._wrappedGetters=Object.create(null),s._modulesNamespaceMap=Object.create(null);var e=s.state;N4(s,e,[],s._modules.root,!0),q6(s,e,t)}function q6(s,t,e){var i=s._state,n=s._scope;s.getters={},s._makeLocalGettersCache=Object.create(null);var r=s._wrappedGetters,a={},o={},h=Py(!0);h.run(function(){o5(r,function(l,c){a[c]=wM(l,s),o[c]=Jt(function(){return a[c]()}),Object.defineProperty(s.getters,c,{get:function(){return o[c].value},enumerable:!0})})}),s._state=a5({data:t}),s._scope=h,s.strict&&RM(s),i&&e&&s._withCommit(function(){i.data=null}),n&&n.stop()}function N4(s,t,e,i,n){var r=!e.length,a=s._modules.getNamespace(e);if(i.namespaced&&(s._modulesNamespaceMap[a],s._modulesNamespaceMap[a]=i),!r&&!n){var o=$6(t,e.slice(0,-1)),h=e[e.length-1];s._withCommit(function(){o[h]=i.state})}var l=i.context=AM(s,a,e);i.forEachMutation(function(c,u){var d=a+u;EM(s,d,c,l)}),i.forEachAction(function(c,u){var d=c.root?u:a+u,f=c.handler||c;TM(s,d,f,l)}),i.forEachGetter(function(c,u){var d=a+u;CM(s,d,c,l)}),i.forEachChild(function(c,u){N4(s,t,e.concat(u),c,n)})}function AM(s,t,e){var i=t==="",n={dispatch:i?s.dispatch:function(r,a,o){var h=r4(r,a,o),l=h.payload,c=h.options,u=h.type;return(!c||!c.root)&&(u=t+u),s.dispatch(u,l)},commit:i?s.commit:function(r,a,o){var h=r4(r,a,o),l=h.payload,c=h.options,u=h.type;(!c||!c.root)&&(u=t+u),s.commit(u,l,c)}};return Object.defineProperties(n,{getters:{get:i?function(){return s.getters}:function(){return $f(s,t)}},state:{get:function(){return $6(s.state,e)}}}),n}function $f(s,t){if(!s._makeLocalGettersCache[t]){var e={},i=t.length;Object.keys(s.getters).forEach(function(n){if(n.slice(0,i)===t){var r=n.slice(i);Object.defineProperty(e,r,{get:function(){return s.getters[n]},enumerable:!0})}}),s._makeLocalGettersCache[t]=e}return s._makeLocalGettersCache[t]}function EM(s,t,e,i){var n=s._mutations[t]||(s._mutations[t]=[]);n.push(function(a){e.call(s,i.state,a)})}function TM(s,t,e,i){var n=s._actions[t]||(s._actions[t]=[]);n.push(function(a){var o=e.call(s,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:s.getters,rootState:s.state},a);return SM(o)||(o=Promise.resolve(o)),s._devtoolHook?o.catch(function(h){throw s._devtoolHook.emit("vuex:error",h),h}):o})}function CM(s,t,e,i){s._wrappedGetters[t]||(s._wrappedGetters[t]=function(r){return e(i.state,i.getters,r.state,r.getters)})}function RM(s){Pi(function(){return s._state.data},function(){},{deep:!0,flush:"sync"})}function $6(s,t){return t.reduce(function(e,i){return e[i]},s)}function r4(s,t,e){return bM(s)&&s.type&&(e=t,t=s,s=s.type),{type:s,payload:t,options:e}}var PM="vuex bindings",gl="vuex:mutations",No="vuex:actions",F9="vuex",LM=0;function IM(s,t){pv({id:"org.vuejs.vuex",app:s,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[PM]},function(e){e.addTimelineLayer({id:gl,label:"Vuex Mutations",color:yl}),e.addTimelineLayer({id:No,label:"Vuex Actions",color:yl}),e.addInspector({id:F9,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),e.on.getInspectorTree(function(i){if(i.app===s&&i.inspectorId===F9)if(i.filter){var n=[];Zf(n,t._modules.root,i.filter,""),i.rootNodes=n}else i.rootNodes=[Yf(t._modules.root,"")]}),e.on.getInspectorState(function(i){if(i.app===s&&i.inspectorId===F9){var n=i.nodeId;$f(t,n),i.state=FM(zM(t._modules,n),n==="root"?t.getters:t._makeLocalGettersCache,n)}}),e.on.editInspectorState(function(i){if(i.app===s&&i.inspectorId===F9){var n=i.nodeId,r=i.path;n!=="root"&&(r=n.split("/").filter(Boolean).concat(r)),t._withCommit(function(){i.set(t._state.data,r,i.state.value)})}}),t.subscribe(function(i,n){var r={};i.payload&&(r.payload=i.payload),r.state=n,e.notifyComponentUpdate(),e.sendInspectorTree(F9),e.sendInspectorState(F9),e.addTimelineEvent({layerId:gl,event:{time:Date.now(),title:i.type,data:r}})}),t.subscribeAction({before:function(i,n){var r={};i.payload&&(r.payload=i.payload),i._id=LM++,i._time=Date.now(),r.state=n,e.addTimelineEvent({layerId:No,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:r}})},after:function(i,n){var r={},a=Date.now()-i._time;r.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},i.payload&&(r.payload=i.payload),r.state=n,e.addTimelineEvent({layerId:No,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:r}})}})})}var yl=8702998,NM=6710886,DM=16777215,Xf={label:"namespaced",textColor:DM,backgroundColor:NM};function jf(s){return s&&s!=="root"?s.split("/").slice(-2,-1)[0]:"Root"}function Yf(s,t){return{id:t||"root",label:jf(t),tags:s.namespaced?[Xf]:[],children:Object.keys(s._children).map(function(e){return Yf(s._children[e],t+e+"/")})}}function Zf(s,t,e,i){i.includes(e)&&s.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[Xf]:[]}),Object.keys(t._children).forEach(function(n){Zf(s,t._children[n],e,i+n+"/")})}function FM(s,t,e){t=e==="root"?t:t[e];var i=Object.keys(t),n={state:Object.keys(s.state).map(function(a){return{key:a,editable:!0,value:s.state[a]}})};if(i.length){var r=OM(t);n.getters=Object.keys(r).map(function(a){return{key:a.endsWith("/")?jf(a):a,editable:!1,value:g3(function(){return r[a]})}})}return n}function OM(s){var t={};return Object.keys(s).forEach(function(e){var i=e.split("/");if(i.length>1){var n=t,r=i.pop();i.forEach(function(a){n[a]||(n[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),n=n[a]._custom.value}),n[r]=g3(function(){return s[e]})}else t[e]=g3(function(){return s[e]})}),t}function zM(s,t){var e=t.split("/").filter(function(i){return i});return e.reduce(function(i,n,r){var a=i[n];if(!a)throw new Error('Missing module "'+n+'" for path "'+t+'".');return r===e.length-1?a:a._children},t==="root"?s:s.root._children)}function g3(s){try{return s()}catch(t){return t}}var Oi=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},Jf={namespaced:{configurable:!0}};Jf.namespaced.get=function(){return!!this._rawModule.namespaced};Oi.prototype.addChild=function(t,e){this._children[t]=e};Oi.prototype.removeChild=function(t){delete this._children[t]};Oi.prototype.getChild=function(t){return this._children[t]};Oi.prototype.hasChild=function(t){return t in this._children};Oi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Oi.prototype.forEachChild=function(t){o5(this._children,t)};Oi.prototype.forEachGetter=function(t){this._rawModule.getters&&o5(this._rawModule.getters,t)};Oi.prototype.forEachAction=function(t){this._rawModule.actions&&o5(this._rawModule.actions,t)};Oi.prototype.forEachMutation=function(t){this._rawModule.mutations&&o5(this._rawModule.mutations,t)};Object.defineProperties(Oi.prototype,Jf);var R9=function(t){this.register([],t,!1)};R9.prototype.get=function(t){return t.reduce(function(e,i){return e.getChild(i)},this.root)};R9.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(i,n){return e=e.getChild(n),i+(e.namespaced?n+"/":"")},"")};R9.prototype.update=function(t){Kf([],this.root,t)};R9.prototype.register=function(t,e,i){var n=this;i===void 0&&(i=!0);var r=new Oi(e,i);if(t.length===0)this.root=r;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],r)}e.modules&&o5(e.modules,function(o,h){n.register(t.concat(h),o,i)})};R9.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)};R9.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return e?e.hasChild(i):!1};function Kf(s,t,e){if(t.update(e),e.modules)for(var i in e.modules){if(!t.getChild(i))return;Kf(s.concat(i),t.getChild(i),e.modules[i])}}function BM(s){return new C0(s)}var C0=function(t){var e=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var n=t.strict;n===void 0&&(n=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new R9(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var a=this,o=this,h=o.dispatch,l=o.commit;this.dispatch=function(d,f){return h.call(a,d,f)},this.commit=function(d,f,p){return l.call(a,d,f,p)},this.strict=n;var c=this._modules.root.state;N4(this,c,[],this._modules.root),q6(this,c),i.forEach(function(u){return u(e)})},X6={state:{configurable:!0}};C0.prototype.install=function(t,e){t.provide(e||Vf,this),t.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&IM(t,this)};X6.state.get=function(){return this._state.data};X6.state.set=function(s){};C0.prototype.commit=function(t,e,i){var n=this,r=r4(t,e,i),a=r.type,o=r.payload,h={type:a,payload:o},l=this._mutations[a];l&&(this._withCommit(function(){l.forEach(function(u){u(o)})}),this._subscribers.slice().forEach(function(c){return c(h,n.state)}))};C0.prototype.dispatch=function(t,e){var i=this,n=r4(t,e),r=n.type,a=n.payload,o={type:r,payload:a},h=this._actions[r];if(h){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(o,i.state)})}catch{}var l=h.length>1?Promise.all(h.map(function(c){return c(a)})):h[0](a);return new Promise(function(c,u){l.then(function(d){try{i._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(o,i.state)})}catch{}c(d)},function(d){try{i._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(o,i.state,d)})}catch{}u(d)})})}};C0.prototype.subscribe=function(t,e){return Wf(t,this._subscribers,e)};C0.prototype.subscribeAction=function(t,e){var i=typeof t=="function"?{before:t}:t;return Wf(i,this._actionSubscribers,e)};C0.prototype.watch=function(t,e,i){var n=this;return Pi(function(){return t(n.state,n.getters)},e,Object.assign({},i))};C0.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._state.data=t})};C0.prototype.registerModule=function(t,e,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,e),N4(this,this.state,t,this._modules.get(t),i.preserveState),q6(this,this.state)};C0.prototype.unregisterModule=function(t){var e=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=$6(e.state,t.slice(0,-1));delete i[t[t.length-1]]}),qf(this)};C0.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};C0.prototype.hotUpdate=function(t){this._modules.update(t),qf(this,!0)};C0.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e};Object.defineProperties(C0.prototype,X6);const UM="FeatureCollection",kM=[{geometry:{type:"Polygon",coordinates:[[[74.54140625000002,37.02216796875],[74.00185546875002,36.823095703125],[73.769140625,36.888476562499996],[72.62285156250002,36.82958984375],[71.62050781250002,36.436474609375],[71.18505859375,36.04208984375],[71.42753906250002,35.833740234375],[71.62050781250002,35.183007812499994],[70.96562500000002,34.53037109375],[71.05156250000002,34.049707031249994],[69.86806640625002,33.89765625],[70.2841796875,33.369042968749994],[69.92011718750001,33.1125],[69.5015625,33.020068359374996],[69.24140625000001,32.433544921875],[69.279296875,31.936816406249996],[68.86894531250002,31.634228515624997],[68.21396484375,31.807373046875],[67.57822265625,31.506494140624994],[67.28730468750001,31.217822265624996],[66.92431640625,31.305615234374997],[66.39716796875001,30.91220703125],[66.17705078125002,29.835595703124994],[65.09550781250002,29.559472656249994],[64.52109375,29.564501953124996],[64.09873046875,29.391943359375],[63.56757812500001,29.497998046874997],[62.4765625,29.408349609374994],[62.37343750000002,29.425390625],[61.22441406250002,29.749414062499994],[60.843359375000006,29.858691406249996],[61.104101562500006,30.12841796875],[61.55947265625002,30.599365234375],[61.7841796875,30.831933593749994],[61.81083984375002,30.913281249999997],[61.81425781250002,31.072558593749996],[61.75507812500001,31.285302734374994],[61.66015625,31.382421875],[61.34648437500002,31.421630859375],[61.11074218750002,31.451123046874997],[60.854101562500006,31.483251953125],[60.82929687500001,32.249414062499994],[60.71044921875,32.599999999999994],[60.57656250000002,32.994873046875],[60.560546875,33.137841796874994],[60.9169921875,33.505224609375],[60.485937500000006,33.7119140625],[60.48574218750002,34.094775390624996],[60.72626953125001,34.51826171875],[60.802343750000006,34.554638671875],[60.91474609375001,34.633984375],[60.951171875,34.653857421874996],[61.080078125,34.855615234374994],[61.18925781250002,35.31201171875],[61.3447265625,35.6294921875],[61.54277343750002,35.457861328125],[62.61054687500001,35.233154296875],[62.688085937500006,35.255322265625],[62.72265625,35.271337890625],[62.858007812500006,35.349658203124996],[62.98027343750002,35.4091796875],[63.056640625,35.44580078125],[63.08417968750001,35.56806640625],[63.16972656250002,35.678124999999994],[63.15078125000002,35.728271484375],[63.129980468750006,35.766748046874994],[63.10859375000001,35.818701171875],[63.129980468750006,35.84619140625],[63.17890625000001,35.858447265624996],[63.30166015625002,35.8583984375],[63.86250000000001,36.012353515624994],[64.18437500000002,36.14892578125],[64.51103515625002,36.340673828125],[64.6025390625,36.554541015625],[64.75312500000001,36.964794921875],[64.78242187500001,37.05927734375],[64.81630859375002,37.132080078125],[64.95156250000002,37.1935546875],[65.08964843750002,37.237939453124994],[65.30361328125002,37.24677734375],[65.55498046875002,37.251171875],[65.76503906250002,37.569140624999996],[66.1083984375,37.41474609375],[66.35029296875001,37.3681640625],[66.47187500000001,37.3447265625],[66.52226562500002,37.348486328125],[66.827734375,37.3712890625],[67.06884765625,37.334814453125],[67.19550781250001,37.235205078125],[67.31972656250002,37.2095703125],[67.44169921875002,37.2580078125],[67.51728515625001,37.266650390624996],[67.546484375,37.235644531249996],[67.607421875,37.222509765625],[67.70000000000002,37.22724609375],[67.7529296875,37.1998046875],[67.75898437500001,37.172216796875],[67.76601562500002,37.14013671875],[67.83447265625,37.064208984375],[67.9580078125,36.972021484375],[68.06777343750002,36.9498046875],[68.21210937500001,37.021533203124996],[68.38691406250001,37.137499999999996],[68.66914062500001,37.2583984375],[68.96044921875,37.325048828125],[69.18017578125,37.15830078125],[69.26484375000001,37.1083984375],[69.30390625000001,37.116943359375],[69.35380859375002,37.150048828124994],[69.41445312500002,37.207763671875],[69.4296875,37.290869140625],[69.39921875000002,37.399316406249994],[69.42011718750001,37.486718749999994],[69.49208984375002,37.553076171875],[69.62578125000002,37.594042968749996],[69.8208984375,37.6095703125],[69.9849609375,37.566162109375],[70.25146484375,37.66416015625],[70.41777343750002,38.075439453125],[70.87890625,38.456396484375],[71.255859375,38.306982421875],[71.33271484375001,38.170263671875],[71.2828125,38.00791015625],[71.27851562500001,37.918408203125],[71.319921875,37.90185546875],[71.3896484375,37.906298828124996],[71.48779296875,37.931884765625],[71.55195312500001,37.933154296874996],[71.58222656250001,37.910107421875],[71.58037109375002,37.8642578125],[71.50507812500001,37.602929687499994],[71.43291015625002,37.1275390625],[71.530859375,36.845117187499994],[71.665625,36.696923828124994],[72.65742187500001,37.029052734375],[72.8955078125,37.267529296875],[73.21113281250001,37.408496093749996],[73.38291015625,37.462255859375],[73.48134765625002,37.4716796875],[73.60468750000001,37.446044921875],[73.63261718750002,37.43720703125],[73.65712890625002,37.430468749999996],[73.72060546875002,37.418749999999996],[73.71728515625,37.329443359375],[73.749609375,37.231787109375],[74.16708984375,37.329443359375],[74.20351562500002,37.372460937499994],[74.25966796875002,37.415429687499994],[74.65937500000001,37.394482421875],[74.37216796875,37.15771484375],[74.37617187500001,37.137353515624994],[74.49794921875002,37.0572265625],[74.52646484375,37.030664062499994],[74.54140625000002,37.02216796875]]]},properties:{name:"Afghanistan",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[17.57958984375,-8.099023437500009],[17.643359375000017,-8.090722656250009],[18.00878906250003,-8.107617187499983],[18.56269531250001,-7.9359375000000085],[18.89833984375008,-7.998144531249977],[18.944433593750063,-8.001464843750028],[19.142675781250034,-8.001464843750028],[19.34082031249997,-7.966601562500031],[19.369921875000045,-7.706542968749986],[19.371679687500063,-7.655078124999989],[19.527636718750017,-7.144433593749952],[19.87519531250004,-6.986328124999986],[19.99746093750008,-6.976464843750023],[20.190039062500063,-6.9462890625],[20.482226562500074,-6.915820312500017],[20.59003906250001,-6.919921874999957],[20.598730468750006,-6.935156249999949],[20.536914062500045,-7.1217773437499545],[20.558398437500045,-7.244433593749989],[20.60781250000008,-7.277734375000023],[20.910937500000017,-7.281445312499983],[21.190332031250023,-7.284960937499989],[21.751074218750034,-7.305468749999989],[21.905371093750034,-8.693359374999943],[21.813183593750068,-9.46875],[22.19775390625,-10.040624999999977],[22.274511718750006,-10.259082031249974],[22.30244140625001,-10.39667968750004],[22.203515625000023,-10.829492187500009],[22.226171875000006,-11.121972656250009],[23.156738281250057,-11.074804687499991],[23.400195312500017,-10.976464843750023],[23.55996093750005,-10.97861328125002],[23.696386718750034,-11.007617187499974],[23.83388671875008,-11.013671874999972],[23.96650390625001,-10.871777343750011],[24.046679687500074,-11.405371093750006],[23.991308593750006,-12.422167968750031],[23.90937500000001,-12.636132812500009],[23.843164062500023,-13.0009765625],[22.209570312500006,-13.0009765625],[21.97890625000008,-13.0009765625],[21.979101562500034,-13.477734374999969],[21.979101562500034,-13.798730468749994],[21.979296875000074,-14.11962890625],[21.979394531249994,-14.440527343750006],[21.97949218750003,-14.761425781250011],[21.979589843750034,-15.082324218750017],[21.979687500000068,-15.403222656250023],[21.97978515624999,-15.724121093750028],[21.97978515624999,-15.955566406250014],[22.15068359374999,-16.597167968749986],[22.193945312500006,-16.628124999999983],[22.305078125000023,-16.689550781249977],[22.955859375000074,-17.28574218750002],[23.181640625000057,-17.474414062500003],[23.380664062500017,-17.64062500000003],[23.06826171875005,-17.698828124999977],[22.624023437500057,-17.78164062499998],[22.32421875,-17.83749999999999],[21.96083984375005,-17.90517578125001],[21.41689453125008,-18.00068359375001],[20.625097656250063,-17.99667968749999],[20.507617187500017,-17.95253906249998],[20.392968750000023,-17.887402343750026],[19.076464843750045,-17.81767578125003],[18.825976562500074,-17.766308593750054],[18.718066406250045,-17.70322265624999],[18.39638671875005,-17.3994140625],[17.83535156250005,-17.392773437499983],[17.296289062500023,-17.391992187499994],[16.913671875000034,-17.39140624999996],[16.531054687500074,-17.390820312500026],[16.14843750000003,-17.39023437499999],[15.765820312500068,-17.389648437499957],[13.93798828125,-17.388769531249963],[13.403710937500051,-17.00781249999997],[13.101171875000063,-16.967675781249966],[12.548144531250017,-17.212695312499974],[12.35927734375008,-17.205859375000003],[12.318457031250006,-17.21337890625003],[12.213378906250028,-17.209960937500043],[12.013964843750074,-17.168554687500034],[11.902539062500011,-17.226562499999957],[11.743066406250023,-17.24921875000004],[11.780078125000017,-16.87128906249997],[11.818945312500034,-16.704101562500014],[11.750878906250023,-15.831933593749966],[11.967871093750006,-15.63398437500004],[12.280468750000011,-14.637499999999989],[12.55048828125004,-13.437792968750003],[12.983203124999989,-12.775683593750017],[13.4169921875,-12.52041015624998],[13.785351562499983,-11.81279296874996],[13.847460937500045,-11.054394531249997],[13.20937500000008,-9.703222656249977],[12.99853515625,-9.048046874999997],[13.358984375000006,-8.687207031250026],[13.378515625000063,-8.369726562500006],[12.862304687500057,-7.231835937499994],[12.82343750000004,-6.9547851562499545],[12.521289062500045,-6.590332031249957],[12.302539062500074,-6.092578124999989],[13.346484375000017,-5.863378906250006],[13.978515625,-5.857226562500003],[14.398632812500068,-5.89267578125002],[15.726953125000051,-5.86386718750002],[16.060156250000063,-5.864941406249969],[16.315234375000074,-5.865625000000023],[16.431445312500045,-5.90019531249996],[16.53710937499997,-5.9658203125],[16.63955078125008,-6.114550781250017],[16.697265625,-6.164257812500026],[16.71777343750003,-6.241406250000011],[16.70937500000008,-6.471679687499943],[16.74296874999999,-6.618457031250003],[16.813085937500063,-6.772558593749963],[16.919433593750057,-6.93398437499998],[16.98476562500005,-7.257421874999977],[17.57958984375,-8.099023437500009]]],[[[12.255273437500023,-5.746484374999994],[12.018359375000074,-5.004296874999966],[12.384570312500074,-4.619140625000014],[12.829687499999977,-4.73662109374996],[12.573535156250017,-4.996582031249986],[12.502734375000074,-5.036914062500031],[12.451464843750017,-5.071484374999969],[12.453222656250034,-5.09062499999996],[12.52236328125008,-5.148925781250028],[12.518945312499994,-5.424609374999974],[12.503710937500017,-5.695800781249972],[12.255273437500023,-5.746484374999994]]]]},properties:{name:"Angola",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[20.06396484375,42.547265624999994],[20.485449218750006,42.223388671875],[20.566210937500017,41.873681640624994],[20.48896484375001,41.272607421874994],[20.964257812500023,40.849902343749996],[20.95576171875001,40.775292968749994],[20.881640625000017,40.467919921874994],[20.4560546875,40.065576171874994],[20.382421875000006,39.802636718749994],[20.001269531250017,39.709423828125],[19.851855468750017,40.0435546875],[19.39814453125001,40.28486328125],[19.44062500000001,41.424755859375],[19.342382812500006,41.869091796875],[19.280664062500023,42.17255859375],[19.65449218750001,42.628564453124994],[20.06396484375,42.547265624999994]]]},properties:{name:"Albania",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[56.29785156250003,25.650683593750045],[56.38798828125002,24.97919921875004],[56.06386718750005,24.73876953125],[55.795703125000074,24.868115234374955],[55.76083984375006,24.24267578125],[55.1999023437501,23.034765625000034],[55.185839843750074,22.7041015625],[55.104296875000074,22.621484375000023],[52.55507812500005,22.932812499999955],[51.592578125000074,24.07885742187503],[51.56835937500003,24.286181640625074],[51.906054687500074,23.98535156249997],[52.64824218750002,24.154638671875006],[53.89335937500002,24.077050781249994],[54.39707031250006,24.278173828125034],[54.74677734375004,24.810449218750023],[55.09814453124997,25.041601562500034],[55.522851562499994,25.498144531249977],[55.94121093750002,25.793994140625017],[56.080468749999994,26.06264648437505],[56.29785156250003,25.650683593750045]]]},properties:{name:"United Arab Emirates",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-68.65322265624994,-54.85361328124999],[-68.62993164062499,-52.65263671875004],[-68.27822265625002,-52.98398437500004],[-68.00849609374995,-53.5640625],[-67.29423828125002,-54.049804687500014],[-65.34599609374993,-54.87792968749997],[-66.5111328125,-55.032128906249945],[-66.93046874999999,-54.92490234375004],[-68.65322265624994,-54.85361328124999]]],[[[-61.084716796875,-23.65644531250001],[-60.83984375000003,-23.85810546874997],[-59.89248046874994,-24.093554687499974],[-59.60859375000001,-24.26679687500001],[-59.372949218749966,-24.45390625000003],[-58.72402343750002,-24.786621093749957],[-58.519628906250034,-24.84287109375005],[-58.422802734374926,-24.894140625000006],[-58.365380859374966,-24.95927734374996],[-57.82167968749994,-25.136425781249983],[-57.58715820312494,-25.405078125000003],[-57.943115234375,-26.05292968750001],[-58.19130859375002,-26.629980468749977],[-58.31767578125002,-26.79589843750003],[-58.33466796875001,-26.824902343749983],[-58.32255859374993,-26.857617187499983],[-58.64174804687494,-27.196093750000017],[-58.60483398437498,-27.314355468750037],[-58.16826171874993,-27.27343749999997],[-57.11181640625,-27.47011718749998],[-56.437158203124966,-27.553808593749977],[-56.16406250000003,-27.321484374999983],[-55.789990234374926,-27.416406249999966],[-55.426660156249994,-27.00927734374997],[-54.934472656249994,-26.70253906250001],[-54.677734375,-26.308789062499997],[-54.631933593750006,-26.005761718749994],[-54.615869140624994,-25.576074218750023],[-54.15458984374999,-25.523046874999963],[-53.89116210937499,-25.66884765625001],[-53.67128906249994,-26.22509765625],[-53.83818359375002,-27.121093750000014],[-54.32700195312495,-27.423535156249997],[-54.82910156250003,-27.55058593750003],[-55.10151367187501,-27.866796874999963],[-55.72548828125002,-28.20410156250003],[-56.938623046874994,-29.594824218750034],[-57.60888671875003,-30.187792968750045],[-57.87250976562501,-30.591015625000026],[-57.81059570312499,-30.85859375000001],[-58.18901367187499,-31.924218750000037],[-58.12304687499997,-32.32187499999996],[-58.201171875,-32.471679687500014],[-58.219970703125,-32.563964843749986],[-58.17099609374998,-32.95927734374996],[-58.424462890624994,-33.11152343749998],[-58.54721679687498,-33.66347656249998],[-58.28334960937494,-34.68349609375005],[-57.303662109374926,-35.188476562499986],[-57.15888671875001,-35.505957031250006],[-57.35390624999994,-35.72031249999998],[-57.26499023437495,-36.14414062499999],[-56.698095703125006,-36.42646484375004],[-56.67202148437494,-36.85126953124998],[-57.39575195312494,-37.74462890625],[-57.546972656250034,-38.085644531250026],[-58.17919921874994,-38.435839843750045],[-59.82832031250001,-38.83818359375003],[-61.112207031249994,-38.99296875000003],[-62.06689453125,-38.91914062500001],[-62.33808593749998,-39.1505859375],[-62.053662109374955,-39.373828125],[-62.28691406249996,-39.89531250000002],[-62.39501953124997,-40.89082031249997],[-62.95903320312493,-41.10966796875006],[-63.77299804687493,-41.150000000000006],[-64.85297851562495,-40.81376953124999],[-65.13339843749998,-40.88066406250003],[-65.05908203125003,-41.96992187499998],[-64.42041015625003,-42.43378906249998],[-63.59589843750001,-42.40654296875003],[-63.69248046874998,-42.80527343749999],[-64.13066406249996,-42.86142578124998],[-64.65048828125,-42.53144531249998],[-65.02690429687496,-42.75888671874996],[-64.43222656250003,-43.059179687500034],[-64.98554687499995,-43.29355468749999],[-65.28359375000002,-43.62998046874996],[-65.36127929687495,-44.47734375000002],[-65.64760742187502,-44.661425781250045],[-65.63876953125,-45.0078125],[-66.19013671874995,-44.96474609375002],[-66.94140625,-45.25732421875003],[-67.556640625,-45.97011718750002],[-67.56337890624997,-46.34541015625001],[-66.77685546874994,-47.005859375],[-65.99853515625,-47.09374999999997],[-65.73808593749999,-47.34492187499998],[-65.81005859374997,-47.941113281250026],[-67.03310546875002,-48.627734375000024],[-67.68486328125002,-49.2466796875],[-67.78349609374996,-49.85888671875002],[-68.939453125,-50.382324218749986],[-69.23515625000002,-50.95058593750003],[-69.03251953124993,-51.63623046875],[-68.443359375,-52.35664062500004],[-69.96025390624993,-52.00820312500002],[-71.91865234374995,-51.98955078125004],[-72.40766601562501,-51.54082031250002],[-72.27631835937498,-50.910253906249984],[-72.50981445312496,-50.607519531250034],[-73.15292968749998,-50.73828125000003],[-73.50126953124996,-50.125292968750024],[-73.57626953124998,-49.582910156250016],[-72.61440429687494,-48.79287109375],[-72.35473632812497,-48.36582031250005],[-72.517919921875,-47.87636718749998],[-72.34594726562497,-47.49267578124997],[-71.90498046875001,-47.201660156250014],[-71.94023437499999,-46.831250000000054],[-71.69521484375,-46.57841796875006],[-71.87568359374998,-46.16054687500001],[-71.77265624999995,-45.724414062499974],[-71.35375976562497,-45.23046874999997],[-71.5962890625,-44.97919921875004],[-71.26113281250002,-44.763085937499966],[-71.21259765624998,-44.44121093750003],[-71.82001953124993,-44.38310546875],[-71.68007812500002,-43.92958984374998],[-71.90498046875001,-43.44013671875001],[-71.781494140625,-43.16679687500002],[-72.14643554687498,-42.990039062499974],[-72.12460937499998,-42.298339843750014],[-71.76093749999998,-42.101464843749966],[-71.91127929687497,-41.650390624999986],[-71.93212890624994,-40.69169921874999],[-71.69531250000003,-40.33525390625003],[-71.71992187499995,-39.63525390624997],[-71.53945312499997,-39.60244140624995],[-71.42558593749996,-38.98564453125006],[-70.95161132812493,-38.73847656249997],[-71.028173828125,-38.041210937500026],[-71.16757812499998,-37.76230468749996],[-71.05551757812498,-36.52373046874996],[-70.40478515625,-36.06171874999998],[-70.47041015624995,-35.32617187499997],[-70.28994140624997,-34.732812499999966],[-69.85244140625,-34.224316406250026],[-69.79775390624997,-33.398632812500026],[-70.01982421874999,-33.27148437499997],[-70.16962890624995,-32.471679687500014],[-70.585205078125,-31.569433593749963],[-70.51958007812493,-31.1484375],[-70.16142578124999,-30.44023437499996],[-69.95634765624996,-30.35820312500003],[-69.92763671874997,-29.76914062500002],[-70.02680664062501,-29.324023437500017],[-69.82788085937497,-29.10322265624997],[-69.65693359374995,-28.413574218749986],[-69.17441406249998,-27.924707031250037],[-68.84633789062494,-27.153710937499994],[-68.34599609374996,-27.02792968750005],[-68.58115234375,-26.518359374999974],[-68.41450195312498,-26.153710937500023],[-68.60029296874998,-25.48564453124999],[-68.38422851562495,-25.091894531249977],[-68.56201171875,-24.83769531249996],[-68.25029296875002,-24.391992187500023],[-67.35620117187503,-24.033789062499963],[-67.00878906249994,-23.00136718750005],[-67.19487304687493,-22.821679687500037],[-66.99111328125,-22.509863281250006],[-66.71171874999999,-22.216308593749986],[-66.36518554687501,-22.113769531249957],[-66.32246093750001,-22.053125000000037],[-66.28212890624997,-21.94746093750001],[-66.24760742187496,-21.83046874999998],[-66.22016601562495,-21.802539062499974],[-66.174658203125,-21.805664062499986],[-66.09858398437495,-21.83505859375002],[-66.05859375,-21.87949218750002],[-65.86015624999999,-22.019726562499983],[-65.77104492187493,-22.099609375000014],[-65.68618164062497,-22.11025390625005],[-65.05781249999995,-22.102734375000026],[-64.60551757812499,-22.228808593750045],[-64.52363281250001,-22.37158203125],[-64.47773437499998,-22.485351562499986],[-64.44550781249998,-22.585351562500023],[-64.37397460937498,-22.761035156250017],[-64.32529296875,-22.82763671875],[-64.30791015624993,-22.795312499999994],[-64.26640625000002,-22.60332031249996],[-63.97612304687502,-22.072558593750003],[-63.92167968749993,-22.028613281250017],[-63.81865234374999,-22.00546875000002],[-62.843359375000006,-21.997265625000026],[-62.62597656250003,-22.29042968749998],[-62.54155273437496,-22.349609374999957],[-62.37250976562498,-22.439160156249997],[-61.798535156249955,-23.182031249999994],[-61.084716796875,-23.65644531250001]]]]},properties:{name:"Argentina",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[46.490624999999994,38.90668945312498],[46.1144531250001,38.877783203125034],[45.76630859375004,39.37846679687499],[45.03164062500005,39.76513671874997],[44.76826171875004,39.70351562500005],[44.28925781250004,40.040380859375006],[43.79169921875004,40.07026367187498],[43.56933593750003,40.48237304687498],[43.72265624999997,40.71953124999999],[43.43945312500003,41.10712890625001],[44.077246093750006,41.182519531249994],[44.227343750000074,41.213330078124955],[44.473046874999994,41.191015625000034],[44.56484375000005,41.20820312499998],[44.841406250000006,41.21137695312501],[44.84853515625005,41.22016601562501],[44.810937499999994,41.248583984375045],[44.81132812500002,41.259375000000006],[44.97587890625002,41.277490234374966],[45.001367187499994,41.29096679687498],[45.58750000000006,40.846923828125],[45.37617187500004,40.63808593750002],[45.96464843750002,40.233789062499966],[45.789648437500006,39.88110351562497],[46.5500000000001,39.20141601562497],[46.490624999999994,38.90668945312498]]]},properties:{name:"Armenia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[69.18486328125002,-49.10957031250004],[69.915625,-49.348535156249966],[69.612890625,-49.65097656250003],[68.87207031249997,-49.44433593750003],[69.18486328125002,-49.10957031250004]]]},properties:{name:"France",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[145.04296875000003,-40.78671874999999],[145.28300781250002,-40.76992187500002],[146.31748046875006,-41.16347656250001],[146.98984375000006,-40.99238281249997],[147.45478515625004,-41.00166015624998],[147.96875000000003,-40.779589843750045],[148.29287109375,-40.947070312499974],[148.30146484375004,-42.03994140624995],[147.92441406250006,-42.5724609375],[147.980859375,-43.157031249999974],[147.40800781250002,-42.89384765625],[146.87392578125,-43.61250000000004],[146.04316406250004,-43.547167968749974],[145.26816406250006,-42.54433593749995],[145.23818359375,-42.01962890624999],[144.77792968750012,-41.41884765624998],[144.64609375000006,-40.98085937500001],[145.04296875000003,-40.78671874999999]]],[[[137.59648437500007,-35.73867187499998],[137.44843750000004,-36.07480468749999],[136.7550781250001,-36.03310546875002],[136.63867187499997,-35.74882812500002],[137.33408203125006,-35.59248046875004],[137.59648437500007,-35.73867187499998]]],[[[136.71464843750002,-13.803906249999983],[136.89433593750002,-14.293066406249977],[136.36328125000003,-14.228906249999966],[136.42470703125,-13.864843749999963],[136.71464843750002,-13.803906249999983]]],[[[130.6188476562501,-11.376074218749991],[131.26826171875004,-11.18984374999998],[131.53857421874997,-11.436914062500037],[130.95097656250007,-11.926464843750026],[130.644921875,-11.742382812500011],[130.6188476562501,-11.376074218749991]]],[[[143.17890625000004,-11.954492187499966],[143.11025390625,-12.303515625000017],[143.40156250000004,-12.639941406249989],[143.5866210937501,-13.443652343750031],[143.54843750000012,-13.74101562499996],[143.75634765625003,-14.348828124999969],[143.96181640625005,-14.462890625000028],[144.473046875,-14.231835937500023],[144.64804687500006,-14.492480468750017],[145.28769531250006,-14.943164062499989],[145.27158203125006,-15.476660156249963],[145.45800781250003,-16.05644531249996],[145.42607421875002,-16.406152343749966],[145.90195312500006,-17.070214843749994],[146.12587890625005,-17.63525390625],[146.03222656249997,-18.272851562500037],[146.3332031250001,-18.55371093749997],[146.48115234375004,-19.07871093749999],[147.13876953125006,-19.39316406250002],[147.41855468750012,-19.37812499999997],[147.91562500000006,-19.86923828125002],[148.75937500000006,-20.28955078125003],[148.68369140625012,-20.58017578124999],[149.20488281250007,-21.125097656249977],[149.70390625000002,-22.440527343750006],[150.07617187500003,-22.16445312499998],[150.54130859375002,-22.55908203125],[150.76386718750004,-22.576171875000014],[150.84316406250005,-23.4580078125],[151.50078125000002,-24.01240234374997],[151.902734375,-24.200976562500017],[152.12988281250003,-24.59755859374998],[152.45634765625007,-24.802441406249983],[152.91347656250005,-25.432128906250014],[153.16494140625,-25.964160156250045],[153.0841796875001,-26.303808593749963],[153.11679687500006,-27.194433593750034],[153.57568359375003,-28.24052734374999],[153.60458984375006,-28.854492187500014],[153.348046875,-29.29042968750001],[153.27236328125005,-29.89248046875001],[153.03056640625002,-30.563378906249994],[152.94394531250012,-31.43486328124999],[152.5592773437501,-32.045703125],[152.4704101562501,-32.439062500000034],[151.812890625,-32.90107421875001],[151.4837890625,-33.3474609375],[151.23154296875006,-34.02968749999998],[150.96035156250005,-34.29707031250001],[150.69033203125,-35.177734375000014],[150.19531249999997,-35.83359374999996],[149.96025390625002,-36.845507812499974],[149.93271484375012,-37.528515625000026],[149.29843750000012,-37.802148437499994],[148.26250000000002,-37.830664062500034],[147.39560546875006,-38.21914062499995],[146.8568359375,-38.663476562499966],[145.93535156250002,-38.90175781250002],[145.79082031250007,-38.66699218749997],[144.6652343750001,-38.20996093750003],[143.53896484375005,-38.82089843749998],[142.61210937500007,-38.451660156249986],[141.725,-38.27138671875002],[141.42421875,-38.36347656250004],[141.0109375000001,-38.07695312500003],[140.62724609375007,-38.02841796874999],[139.78427734375012,-37.24580078124998],[139.85732421875,-36.662109375],[139.54873046875,-36.0966796875],[139.03769531250006,-35.68925781249996],[138.18437500000002,-35.612695312499994],[138.5111328125,-35.02441406249996],[138.48994140625004,-34.76357421875002],[138.0892578125,-34.16982421875002],[137.69169921875002,-35.14296875000004],[136.88359375000007,-35.23974609375004],[137.01425781250012,-34.91582031250003],[137.39101562500005,-34.91328124999997],[137.49384765625004,-34.16113281250003],[137.9318359375001,-33.57910156250003],[137.85234375000007,-33.20078124999996],[137.44228515625,-33.1935546875],[137.23730468750003,-33.62949218749999],[136.43066406249997,-34.02998046875004],[135.64755859375006,-34.93964843750001],[135.18544921875005,-33.906738281249986],[134.79101562499997,-33.32832031250001],[134.30126953124997,-33.16503906249996],[134.10039062500007,-32.748632812500034],[134.23417968750007,-32.54853515625004],[133.55136718750012,-32.182910156249974],[133.21210937500004,-32.18378906249998],[132.75742187500012,-31.956249999999983],[132.21464843750002,-32.00712890624996],[131.72119140625003,-31.696289062499957],[131.14365234375006,-31.49570312500005],[130.78300781250002,-31.604003906249986],[130.12978515625,-31.579101562499986],[128.94619140625,-31.702636718750014],[128.06767578125002,-32.06650390624998],[127.31982421874997,-32.264062499999994],[125.91718750000004,-32.296972656250034],[124.75878906250003,-32.882714843749994],[124.12607421875006,-33.129394531249986],[123.65039062499997,-33.83632812500002],[123.20761718750012,-33.988281249999986],[122.7775390625001,-33.890820312500026],[121.40507812500007,-33.826757812500034],[119.85410156250012,-33.97470703124998],[119.45058593750005,-34.368261718750034],[118.89531250000007,-34.47988281250004],[118.13554687500002,-34.98662109374999],[117.58193359375005,-35.09775390624998],[116.51718750000012,-34.98789062499998],[115.98671875000005,-34.795019531250034],[115.7262695312501,-34.52607421875004],[115.00878906250003,-34.25585937499997],[115.18164062499997,-33.643457031249994],[115.5153320312501,-33.53134765624998],[115.68300781250005,-33.19287109375003],[115.6984375000001,-31.694531250000054],[115.17685546875006,-30.80800781250001],[114.99453125000005,-30.216210937499966],[114.95898437499997,-29.433593749999957],[114.53740234375007,-28.542871093750037],[114.16513671875012,-28.08066406250002],[114.02812500000007,-27.34726562499999],[113.58164062500006,-26.558105468749986],[113.85283203125007,-26.33212890625005],[113.58906250000004,-26.098632812499986],[113.539453125,-25.625195312499997],[114.21572265625,-26.289453124999966],[114.2142578125,-25.851562500000014],[113.67080078125,-24.97705078125003],[113.41767578125004,-24.435644531250034],[113.5529296875001,-23.732812500000023],[113.7570312500001,-23.418164062500054],[113.68281250000004,-22.637792968749963],[113.9583984375,-21.93916015625001],[114.16386718750002,-22.32333984375002],[114.37773437500007,-22.341503906249997],[114.85908203125004,-21.73593749999999],[115.45615234375012,-21.49169921874997],[116.0109375000001,-21.030371093749963],[116.7067382812501,-20.653808593749986],[117.40625000000003,-20.72119140625003],[118.19921875000003,-20.37519531249997],[118.75146484374997,-20.261914062499983],[119.10449218749997,-19.995312500000026],[119.58593750000003,-20.038281249999997],[120.87841796874997,-19.665039062499986],[121.49355468750005,-19.106445312499957],[121.83378906250002,-18.477050781249986],[122.23740234375006,-17.968554687500045],[122.16025390625006,-17.313671875000026],[122.72041015625004,-16.78769531249999],[122.97070312499997,-16.436816406250003],[123.52519531250007,-17.485742187499994],[123.77812500000007,-16.867773437499963],[123.4904296875001,-16.49072265624997],[124.5768554687501,-16.11367187499998],[124.38164062500002,-15.758203125000037],[124.83906250000004,-15.160742187500006],[125.24326171875006,-14.944531250000011],[125.17871093749997,-14.714746093749994],[125.68125000000012,-14.38798828124996],[126.0207031250001,-14.494531249999994],[126.11132812499997,-14.114062500000017],[126.5697265625,-14.160937499999974],[126.90322265625,-13.744140624999972],[127.67285156249997,-14.195117187500003],[128.19941406250004,-14.751757812499989],[129.45898437499997,-14.933203125000006],[129.75351562500006,-14.789550781249957],[129.37871093750002,-14.39248046874998],[129.70986328125,-13.979980468749972],[129.83886718749997,-13.572949218749997],[130.25976562500003,-13.30224609375],[130.1681640625001,-12.957421875000009],[130.67236328124997,-12.40693359375004],[131.43828125000002,-12.27695312500002],[132.37207031250003,-12.239160156249966],[132.58378906250002,-12.110253906249994],[132.6828125000001,-11.505566406249997],[133.02490234374997,-11.452832031249997],[133.18525390625004,-11.705664062499991],[133.90419921875,-11.832031249999972],[134.23710937500002,-12.00771484374998],[134.73027343750002,-11.984375000000014],[135.2179687500001,-12.221679687499957],[135.7884765625,-11.907031249999974],[136.08183593750007,-12.422460937500006],[136.5402343750001,-11.957617187499977],[136.94746093750004,-12.34990234374996],[136.53701171875,-12.784277343749991],[136.59433593750012,-13.003808593750051],[135.92734375000012,-13.304296874999977],[135.98955078125002,-13.810156250000006],[135.88339843750006,-14.153124999999974],[135.40517578125005,-14.758203124999966],[135.53076171874997,-15.000390625000023],[136.20537109375002,-15.403417968749963],[136.78466796874997,-15.89423828125004],[137.00214843750004,-15.878320312499994],[137.70371093750006,-16.233007812499963],[138.24501953125005,-16.718359374999977],[139.00986328125006,-16.899316406249994],[139.2484375,-17.328613281249957],[140.03583984375004,-17.702636718749957],[140.51113281250005,-17.62451171875003],[140.83046875,-17.414453125000037],[141.21914062500005,-16.646191406250026],[141.41191406250007,-16.069531250000054],[141.45156250000005,-15.605273437499974],[141.62548828124997,-15.056640625000014],[141.52294921875003,-14.470117187499994],[141.59433593750006,-14.152832031250014],[141.47255859375,-13.797558593750011],[141.64541015625,-13.259082031250003],[141.67773437500003,-12.491406250000011],[141.95156250000005,-11.896191406249997],[142.168359375,-10.946582031249974],[142.45644531250005,-10.707324218749989],[142.83681640625,-11.306933593750031],[142.87255859374997,-11.821386718750034],[143.17890625000004,-11.954492187499966]]]]},properties:{name:"Australia",childNum:5}},{geometry:{type:"Polygon",coordinates:[[[16.953125,48.598828125],[17.147363281250023,48.00595703125],[16.434375000000017,47.367431640625],[16.453417968750017,47.006787109375],[16.093066406250017,46.86328125],[15.957617187500006,46.677636718749994],[15.000683593750011,46.6259765625],[14.503515625000006,46.417041015624996],[13.700000000000017,46.520263671875],[13.490039062500017,46.555566406249994],[13.3515625,46.557910156249996],[13.168750000000017,46.572656249999994],[12.388281250000006,46.70263671875],[11.775683593750017,46.986083984375],[11.025097656250011,46.79697265625],[10.993261718750006,46.777001953124994],[10.927343750000006,46.769482421875],[10.828906250000017,46.775244140625],[10.759765625,46.793310546875],[10.689257812500017,46.84638671875],[10.579785156250011,46.8537109375],[10.479394531250023,46.855126953124994],[10.452832031250011,46.86494140625],[10.45458984375,46.8994140625],[10.414941406250023,46.964404296874996],[10.349414062500017,46.984765624999994],[9.996875000000017,46.8853515625],[9.580273437500011,47.057373046875],[9.527539062500011,47.270751953125],[9.524023437500006,47.524218749999996],[9.748925781250023,47.575537109375],[10.034082031250023,47.473583984375],[10.07421875,47.428515624999996],[10.066308593750023,47.393359374999996],[10.096484375000017,47.37958984375],[10.200292968750006,47.363427734374994],[10.312792968750017,47.313427734375],[10.403906250000006,47.4169921875],[10.430371093750011,47.541064453124996],[10.439453125,47.551562499999996],[10.482812500000023,47.541796874999996],[10.65869140625,47.547216796875],[10.873046875,47.52021484375],[11.297949218750006,47.42490234375],[11.716796875,47.58349609375],[12.685839843750017,47.669335937499994],[13.014355468750011,47.478076171874996],[12.953515625000023,47.890625],[13.215234375000023,48.301904296874994],[13.322851562500006,48.33125],[13.374609375000006,48.361376953124996],[13.409375000000011,48.394140625],[13.459863281250023,48.56455078125],[13.4716796875,48.571826171874996],[13.486621093750017,48.581835937499996],[13.675195312500023,48.523046875],[13.785351562500011,48.587451171874996],[13.798828125,48.6216796875],[13.802929687500011,48.747509765625],[13.814746093750017,48.766943359375],[14.049121093750017,48.602490234375],[14.691308593750023,48.59921875],[14.97216796875,48.983935546874996],[16.057226562500006,48.754785156249994],[16.477929687500023,48.800097656249996],[16.953125,48.598828125]]]},properties:{name:"Austria",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[46.1144531250001,38.877783203125034],[45.4796875000001,39.006249999999994],[44.81718750000002,39.65043945312496],[44.76826171875004,39.70351562500005],[45.03164062500005,39.76513671874997],[45.76630859375004,39.37846679687499],[46.1144531250001,38.877783203125034]]],[[[48.572851562500006,41.84448242187503],[49.10664062500004,41.30170898437504],[49.22646484375005,41.026220703125034],[49.77597656250006,40.583984375],[49.3244140625001,39.60834960937501],[49.36279296875003,39.349560546874955],[49.013476562500074,39.13398437500001],[48.86875000000006,38.43549804687498],[48.59267578125005,38.41108398437498],[48.02324218750002,38.81904296874998],[48.24199218750002,38.978955078124955],[47.995898437500074,39.683935546875034],[47.772851562499994,39.64858398437505],[46.490624999999994,38.90668945312498],[46.5500000000001,39.20141601562497],[45.789648437500006,39.88110351562497],[45.96464843750002,40.233789062499966],[45.37617187500004,40.63808593750002],[45.58750000000006,40.846923828125],[45.001367187499994,41.29096679687498],[45.217187499999994,41.423193359375006],[45.28095703125004,41.449560546875034],[46.086523437500006,41.183837890625],[46.43095703125002,41.077050781249994],[46.30546875000002,41.507714843749994],[46.42988281250004,41.890966796875006],[46.74931640625002,41.812597656250006],[47.26113281250005,41.315087890624994],[47.861132812500074,41.212744140625034],[48.572851562500006,41.84448242187503]]]]},properties:{name:"Azerbaijan",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[30.553613281250023,-2.4000976562500114],[30.53369140625,-2.42626953125],[30.441992187500006,-2.6134765625000114],[30.424218750000023,-2.6416015625],[30.42402343750001,-2.824023437500003],[30.433496093750023,-2.87451171875],[30.515039062500023,-2.9175781250000057],[30.811132812500006,-3.1164062500000114],[30.400000000000006,-3.6539062500000057],[30.14716796875001,-4.0853515625000085],[29.947265625,-4.307324218750011],[29.7177734375,-4.455859375000003],[29.403222656250023,-4.449316406250006],[29.223242187500006,-3.9108398437500114],[29.224414062500017,-3.053515625000003],[29.01435546875001,-2.72021484375],[29.390234375000006,-2.80859375],[29.8681640625,-2.7164062500000057],[29.93017578125,-2.3395507812500114],[30.553613281250023,-2.4000976562500114]]]},properties:{name:"Burundi",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[5.693554687500011,50.774755859375006],[5.993945312500017,50.75043945312504],[6.364453125000011,50.31616210937503],[6.1165039062500455,50.120996093749966],[6.110058593750068,50.123779296875],[6.08906250000004,50.15458984374996],[5.976269531250068,50.167187499999955],[5.866894531250068,50.08281250000002],[5.817382812500028,50.01269531250003],[5.7880859375,49.96123046875002],[5.744042968749994,49.91962890624998],[5.73525390625008,49.875634765624994],[5.7408203125000625,49.85717773437506],[5.725781250000011,49.83334960937498],[5.725000000000023,49.80830078125004],[5.78798828125008,49.758886718750006],[5.8037109375,49.73217773437497],[5.880371093749972,49.64477539062503],[5.789746093749983,49.53828125000001],[4.867578125000051,49.78813476562502],[4.174609375000017,50.24648437500005],[2.8397460937500227,50.71176757812498],[2.52490234375,51.097119140624955],[3.35009765625,51.37768554687503],[3.9020507812500114,51.20766601562502],[4.226171875000034,51.38647460937503],[4.503417968750028,51.47470703124998],[5.827148437500057,51.125634765624994],[5.693554687500011,50.774755859375006]]]},properties:{name:"Belgium",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[3.5954101562500114,11.6962890625],[3.5539062500000114,11.631884765624989],[3.490527343750017,11.499218749999997],[3.48779296875,11.395410156249994],[3.6388671875000114,11.176855468749991],[3.7164062500000057,11.07958984375],[3.7568359375,10.768749999999997],[3.83447265625,10.607421875],[3.6465820312500057,10.408984374999989],[3.5572265625000057,9.907324218749991],[3.3251953125,9.778466796874994],[3.044921875,9.083837890624991],[2.7748046875000227,9.048535156249997],[2.703125,8.371826171875],[2.68603515625,7.873730468749997],[2.75048828125,7.395068359374989],[2.7213867187500114,6.980273437499989],[2.731738281250017,6.852832031249989],[2.7529296875,6.771630859374994],[2.7746093750000114,6.711718749999989],[2.753710937500017,6.661767578124994],[2.735644531250017,6.595703125],[2.7064453125000227,6.3692382812499915],[1.6226562500000057,6.216796875],[1.6001953125000057,9.050048828125],[1.42431640625,9.285009765624991],[1.330078125,9.996972656249994],[.7799804687500114,10.359570312499997],[.9004882812500057,10.993261718749991],[1.4267578125,11.447119140624991],[1.9803710937500227,11.418408203124997],[2.38916015625,11.897070312499991],[2.366015625000017,12.221923828125],[2.8781250000000114,12.367724609374989],[3.3599609375000057,11.880468749999991],[3.4498046875000057,11.851953124999994],[3.5954101562500114,11.6962890625]]]},properties:{name:"Benin",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[.21748046875001137,14.911474609374991],[.16386718750001705,14.497216796874994],[.6181640625,13.703417968750003],[.9777343750000114,13.551953124999997],[.9873046875,13.041894531249994],[1.56494140625,12.635400390624994],[2.0738281250000057,12.713964843749991],[2.0914062500000057,12.277978515624994],[2.38916015625,11.897070312499991],[1.9803710937500227,11.418408203124997],[1.4267578125,11.447119140624991],[.9004882812500057,10.993261718749991],[-.068603515625,11.115624999999994],[-.701416015625,10.988964843749997],[-2.8299316406249773,10.998388671874991],[-2.9148925781249773,10.592333984374989],[-2.78662109375,10.401904296874989],[-2.6958496093749886,9.481347656249994],[-2.7666015625,9.424707031249994],[-2.8167480468749773,9.425830078124989],[-3.2235351562499943,9.895458984374997],[-3.5811523437499773,9.92431640625],[-3.7906249999999773,9.917187499999997],[-4.18115234375,9.78173828125],[-4.267187499999977,9.743261718749991],[-4.332226562499983,9.645703124999997],[-4.406201171874983,9.647998046874989],[-4.526611328125,9.723486328124991],[-4.625830078124977,9.713574218749997],[-4.721777343749977,9.756542968749997],[-4.969921874999983,9.930078124999994],[-5.262304687499977,10.319677734374991],[-5.523535156249977,10.426025390625],[-5.457080078124989,10.771386718749994],[-5.490478515625,11.042382812499994],[-5.299853515624989,11.205957031249994],[-5.288134765624989,11.827929687499989],[-4.797949218749977,12.032128906249994],[-4.4287109375,12.337597656249997],[-4.480615234374994,12.672216796874991],[-4.227099609374989,12.793701171875],[-4.328710937499977,13.119042968749994],[-4.051171874999994,13.382421874999991],[-3.5757812499999773,13.194189453124991],[-3.3017578125,13.28076171875],[-3.198437499999983,13.6728515625],[-2.457226562499983,14.274121093749997],[-2.113232421874983,14.16845703125],[-1.767773437499983,14.486035156249997],[-1.049560546875,14.819531249999997],[-.760449218749983,15.047753906249994],[-.23588867187498863,15.059423828124991],[.21748046875001137,14.911474609374991]]]},properties:{name:"Burkina Faso",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[88.94072265625002,26.24536132812497],[88.97041015625004,26.250878906250023],[88.95195312500002,26.412109375],[89.01865234375012,26.410253906249977],[89.10830078125005,26.202246093749977],[89.57275390625003,26.13232421875003],[89.8229492187501,25.94140625000003],[89.82490234375004,25.560156250000006],[89.80087890625012,25.33613281250001],[89.81406250000006,25.305371093749955],[89.86630859375012,25.293164062499955],[90.11962890625003,25.21997070312497],[90.61308593750002,25.16772460937497],[92.04970703125005,25.16948242187499],[92.38496093750004,24.848779296875023],[92.22666015625012,24.77099609374997],[92.11748046875002,24.493945312500017],[92.06416015625004,24.374365234375006],[91.72656250000003,24.20507812499997],[91.35019531250012,24.06049804687501],[91.16044921875007,23.66064453125],[91.35937500000003,23.06835937500003],[91.43623046875004,23.19990234375001],[91.75097656250003,23.053515625000017],[91.75419921875007,23.287304687499955],[91.79003906249997,23.361035156249983],[91.937890625,23.504687500000017],[91.92949218750007,23.598242187499977],[91.92958984375,23.68598632812501],[91.97851562500003,23.691992187499977],[92.04404296875006,23.677783203125017],[92.33378906250002,23.242382812499955],[92.36162109375002,22.929003906250074],[92.46445312500006,22.734423828125045],[92.49140625000004,22.685400390625006],[92.5612304687501,22.04804687500001],[92.57490234375004,21.978076171875045],[92.5934570312501,21.46733398437499],[92.17958984375005,21.293115234375023],[92.32412109375,20.791845703125063],[92.0560546875,21.1748046875],[92.0080078125001,21.684765624999983],[91.69296875000012,22.504785156249966],[91.48212890625004,22.79741210937499],[90.94560546875002,22.597021484375034],[90.63359375000002,23.09423828124997],[90.43505859374997,22.751904296874955],[90.58945312500012,22.258447265624966],[90.15878906250012,21.816845703124983],[89.81191406250005,21.983496093750006],[89.56855468750004,21.767431640625034],[89.09394531250004,21.872753906249983],[89.0500000000001,22.274609374999983],[88.92070312500002,22.632031249999955],[88.89970703125002,22.843505859375057],[88.72441406250002,23.254980468750034],[88.69765625,23.493017578125034],[88.56738281249997,23.674414062500034],[88.69980468750006,24.002539062500006],[88.71376953125,24.069628906250017],[88.72656250000003,24.186230468749955],[88.7335937500001,24.23090820312501],[88.72353515625,24.27490234375],[88.64228515625004,24.325976562500017],[88.49853515625003,24.34663085937504],[88.33750000000006,24.45385742187503],[88.22500000000005,24.460644531249983],[88.14550781250003,24.485791015624955],[88.07910156249997,24.549902343750063],[88.02343750000003,24.62783203125005],[88.03027343749997,24.66445312500005],[88.0451171875001,24.713037109374994],[88.1498046875,24.914648437500034],[88.57382812500006,25.187890624999994],[88.92978515625012,25.222998046875063],[88.94414062500002,25.290771484375],[88.85478515625002,25.333544921875017],[88.76914062500006,25.490478515625],[88.14746093749997,25.811425781250023],[88.1066406250001,25.841113281250045],[88.33398437499997,26.257519531249955],[88.44042968749997,26.369482421875034],[88.38623046875003,26.471533203125034],[88.35146484375005,26.482568359374966],[88.36992187500002,26.564111328124994],[88.41816406250004,26.57153320312497],[88.51826171875004,26.517773437499955],[88.68066406249997,26.352978515624955],[88.68281250000004,26.291699218749983],[88.94072265625002,26.24536132812497]]]},properties:{name:"Bangladesh",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.585351562500023,43.742236328124996],[28.465429687500006,43.389306640624994],[27.92890625000001,43.1861328125],[27.88886718750001,42.74970703125],[27.484765625000023,42.468066406249996],[27.982714843750017,42.047412109374996],[28.014453125000017,41.969042968749996],[27.879199218750017,41.986621093749996],[27.801660156250023,41.95654296875],[27.53486328125001,41.920800781249994],[27.47480468750001,41.946875],[27.362890625000006,42.025048828124994],[27.294921875,42.079541015625],[27.24433593750001,42.09326171875],[27.193359375,42.077099609375],[27.01171875,42.058642578124996],[26.96875,42.02685546875],[26.884863281250006,41.991845703124994],[26.800390625000006,41.975146484374996],[26.615332031250006,41.964892578124996],[26.549707031250023,41.896728515625],[26.066015625000006,41.673242187499994],[26.155175781250023,41.434863281249996],[25.92333984375,41.311914062499994],[25.784960937500017,41.330419921875],[25.723925781250017,41.3150390625],[25.52705078125001,41.2998046875],[25.381933593750006,41.26435546875],[25.25117187500001,41.243554687499994],[25.133398437500006,41.315771484375],[24.993554687500023,41.364990234375],[24.84687500000001,41.39423828125],[24.595996093750017,41.442724609375],[24.056054687500023,41.527246093749994],[24.03291015625001,41.469091796875],[24.011328125000006,41.46005859375],[23.973535156250023,41.452294921874994],[23.880859375,41.455957031249994],[23.635156250000023,41.386767578124996],[23.53583984375001,41.386035156249996],[23.433398437500017,41.398730468749996],[23.3720703125,41.3896484375],[23.239843750000006,41.3849609375],[23.15595703125001,41.322070312499996],[23.02558593750001,41.325634765625],[22.916015625,41.336279296875],[22.9296875,41.356103515624994],[22.951464843750017,41.605615234374994],[23.005664062500017,41.716943359374994],[22.836816406250023,41.993603515625],[22.344042968750017,42.31396484375],[22.42207031250001,42.328857421875],[22.445703125000023,42.359130859375],[22.523535156250006,42.440966796874996],[22.524218750000017,42.50390625],[22.43623046875001,42.6291015625],[22.463281250000023,42.70947265625],[22.465625000000017,42.750781249999996],[22.466796875,42.84248046875],[22.799902343750006,42.985742187499994],[22.976855468750017,43.18798828125],[22.85957031250001,43.252343749999994],[22.819726562500023,43.300732421875],[22.767578125,43.354150390624994],[22.554589843750023,43.454492187499994],[22.394824218750017,43.706640625],[22.38691406250001,43.740136718749994],[22.36962890625,43.781298828124996],[22.36542968750001,43.862109374999996],[22.399023437500006,43.969531249999996],[22.420800781250023,44.007421875],[22.469042968750017,44.018017578125],[22.597460937500017,44.07529296875],[22.705078125,44.23779296875],[23.224609375,43.873876953125],[25.4970703125,43.670800781249994],[26.2158203125,44.007275390625],[27.0869140625,44.167382812499994],[28.585351562500023,43.742236328124996]]]},properties:{name:"Bulgaria",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-77.74384765625001,24.707421874999994],[-78.04492187499997,24.287451171875063],[-78.298828125,24.753906250000057],[-78.03330078125,25.143115234375045],[-77.74384765625001,24.707421874999994]]]},properties:{name:"The Bahamas",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[19.007128906250045,44.86918945312502],[19.35683593750005,44.858544921874994],[19.15185546875003,44.302539062500045],[19.583789062500017,44.04345703125003],[19.19433593749997,43.533300781250006],[18.94023437499999,43.49672851562502],[18.85107421875003,43.34633789062502],[18.749218750000068,43.283544921875006],[18.67421875000008,43.230810546875006],[18.46601562500001,42.777246093749994],[18.436328125000017,42.559716796874994],[17.667578125000063,42.897119140624994],[17.585156250000068,42.93837890625005],[17.624804687500074,43.04277343749999],[16.214257812500023,44.21513671874999],[15.736621093750045,44.76582031250001],[15.788085937500057,45.17895507812497],[16.29335937500005,45.00883789062496],[16.53066406250008,45.21669921875002],[17.812792968750074,45.07812500000006],[18.66259765625,45.07744140624999],[19.007128906250045,44.86918945312502]]]},properties:{name:"Bosnia and Herzegovina",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.14794921875,56.142919921875],[28.284277343750006,56.055908203125],[29.375,55.938720703125],[29.39794921875,55.8810546875],[29.373144531250006,55.834716796875],[29.353417968750023,55.784375],[29.412988281250023,55.724853515625],[29.482226562500017,55.6845703125],[29.63007812500001,55.751171875],[29.6845703125,55.7697265625],[29.744140625,55.77041015625],[29.82392578125001,55.7951171875],[29.881640625000017,55.832324218749996],[29.93701171875,55.845263671874996],[30.04267578125001,55.83642578125],[30.23359375000001,55.84521484375],[30.625585937500006,55.666259765625],[30.906835937500006,55.57001953125],[31.12128906250001,54.648486328124996],[31.754199218750017,53.81044921875],[32.45097656250002,53.6533203125],[32.70429687500001,53.336328125],[31.849707031250006,53.106201171875],[31.668261718750017,53.200927734375],[31.417871093750023,53.196044921875],[31.38837890625001,53.184814453125],[31.364550781250017,53.138964843749996],[31.30292968750001,53.060888671875],[31.2587890625,53.01669921875],[31.585546875000006,52.532470703125],[31.57734375000001,52.312304687499996],[31.69062500000001,52.220654296875],[31.758593750000017,52.125830078125],[31.76337890625001,52.10107421875],[31.57373046875,52.10810546875],[31.345996093750017,52.10537109375],[30.98066406250001,52.046191406249996],[30.533007812500017,51.596337890624994],[30.449511718750017,51.274316406249994],[30.160742187500006,51.477880859375],[29.346484375000017,51.382568359375],[29.298828125,51.413037109375],[29.23046875,51.497021484375],[29.174218750000023,51.580615234374996],[29.135644531250023,51.61728515625],[29.10205078125,51.6275390625],[29.06074218750001,51.625439453125],[29.013085937500023,51.598925781249996],[28.97773437500001,51.57177734375],[28.793261718750017,51.5103515625],[28.731250000000017,51.433398437499996],[28.690234375000017,51.438867187499994],[28.647753906250017,51.45654296875],[28.599023437500023,51.542626953124994],[27.689746093750017,51.572412109374994],[27.141992187500023,51.75205078125],[25.785742187500006,51.923828125],[24.361914062500006,51.867529296875],[23.61376953125,51.525390625],[23.605273437500017,51.517919921875],[23.652441406250006,52.040380859375],[23.19697265625001,52.25693359375],[23.8447265625,52.664208984375],[23.887109375000023,53.0275390625],[23.484667968750017,53.939794921875],[24.191308593750023,53.950439453125],[24.236621093750017,53.919970703124996],[24.317968750000006,53.89296875],[24.768164062500006,53.974658203124996],[25.573046875000017,54.139892578125],[25.859277343750023,54.919287109375],[25.964453125000006,54.94716796875],[26.09296875000001,54.9623046875],[26.175195312500023,55.003271484375],[26.291796875000017,55.139599609375],[26.601171875000006,55.130175781249996],[26.775683593750017,55.273095703125],[26.681250000000006,55.306445312499996],[26.49531250000001,55.318017578125],[26.457617187500006,55.34248046875],[26.469531250000017,55.371923828125],[26.51923828125001,55.44814453125],[26.56660156250001,55.546484375],[26.5908203125,55.62265625],[26.593554687500017,55.667529296874996],[26.620214843750006,55.679638671875],[26.82246093750001,55.709228515625],[27.052539062500017,55.83056640625],[27.576757812500006,55.798779296875],[28.14794921875,56.142919921875]]]},properties:{name:"Belarus",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-89.2328125,15.888671875],[-89.16147460937503,17.814843749999994],[-88.80634765624998,17.965527343749983],[-88.52299804687499,18.445898437500063],[-88.29565429687494,18.47241210937503],[-88.09721679687502,18.121630859375074],[-88.27172851562494,17.60986328125],[-88.31342773437501,16.632763671874983],[-88.89404296875,15.890625000000028],[-89.2328125,15.888671875]]]},properties:{name:"Belize",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-58.15976562499999,-20.164648437500006],[-58.18017578125,-19.81787109375],[-59.09052734375,-19.286230468750006],[-60.00737304687499,-19.29755859375001],[-61.7568359375,-19.645312500000003],[-61.916943359375,-20.05537109375001],[-62.276318359375,-20.5625],[-62.27666015624999,-21.066015625000006],[-62.65097656249999,-22.233691406250003],[-62.84335937499999,-21.99726562500001],[-63.81865234374999,-22.005468750000006],[-63.92167968749999,-22.028613281250003],[-63.97612304687499,-22.072558593750003],[-64.26640624999999,-22.603320312500003],[-64.30791015624999,-22.79531250000001],[-64.32529296874999,-22.82763671875],[-64.373974609375,-22.761035156250003],[-64.4455078125,-22.58535156250001],[-64.477734375,-22.4853515625],[-64.5236328125,-22.37158203125],[-64.60551757812499,-22.228808593750003],[-65.0578125,-22.10273437500001],[-65.48486328125,-22.09814453125],[-65.686181640625,-22.11025390625001],[-65.77104492187499,-22.099609375],[-65.86015624999999,-22.01972656250001],[-66.05859375,-21.879492187500006],[-66.098583984375,-21.835058593750006],[-66.17465820312499,-21.8056640625],[-66.220166015625,-21.802539062500003],[-66.24760742187499,-21.83046875000001],[-66.28212890625,-21.94746093750001],[-66.3224609375,-22.05312500000001],[-66.365185546875,-22.11376953125],[-66.71171874999999,-22.21630859375],[-66.99111328125,-22.509863281250006],[-67.19487304687499,-22.82167968750001],[-67.362255859375,-22.85517578125001],[-67.57993164062499,-22.891699218750006],[-67.79443359375,-22.879492187500006],[-67.87944335937499,-22.82294921875001],[-67.88173828125,-22.49335937500001],[-67.950390625,-22.33369140625001],[-67.95390624999999,-22.20400390625001],[-67.98837890624999,-22.05712890625],[-68.07675781249999,-21.98281250000001],[-68.11215820312499,-21.753027343750006],[-68.18642578125,-21.61855468750001],[-68.197021484375,-21.30029296875],[-68.74516601562499,-20.458593750000006],[-68.75932617187499,-20.115527343750003],[-68.69829101562499,-19.72109375000001],[-68.462890625,-19.43281250000001],[-68.470166015625,-19.409960937500003],[-68.49199218749999,-19.381933593750006],[-68.85795898437499,-19.093359375000006],[-68.96831054687499,-18.96796875000001],[-68.97885742187499,-18.81298828125],[-69.026806640625,-18.65625],[-69.09228515625,-18.28242187500001],[-69.0939453125,-18.05048828125001],[-69.28232421874999,-17.96484375],[-69.31337890625,-17.943164062500003],[-69.35800781249999,-17.77167968750001],[-69.49501953125,-17.61953125000001],[-69.5109375,-17.50605468750001],[-69.62485351562499,-17.2001953125],[-69.020703125,-16.642187500000006],[-68.9134765625,-16.26191406250001],[-69.21757812499999,-16.14912109375001],[-69.41850585937499,-15.603417968750009],[-69.17246093749999,-15.236621093750003],[-69.37470703125,-14.962988281250006],[-69.23491210937499,-14.597070312500009],[-68.880322265625,-14.198828125000006],[-69.07412109375,-13.682812500000011],[-68.97861328124999,-12.880078125000011],[-68.68525390625,-12.501953125],[-69.57861328125,-10.951757812500006],[-68.84833984375,-11.011132812500009],[-68.678369140625,-11.11279296875],[-68.0716796875,-10.703125],[-67.99169921875,-10.674414062500006],[-67.83500976562499,-10.662792968750011],[-67.72177734374999,-10.68310546875],[-67.582421875,-10.505957031250006],[-67.416943359375,-10.389843750000011],[-67.33271484375,-10.35791015625],[-67.28046875,-10.317285156250009],[-67.1115234375,-10.268945312500009],[-66.72998046875,-9.975488281250009],[-66.575341796875,-9.89990234375],[-66.26357421875,-9.826074218750009],[-65.396142578125,-9.71240234375],[-65.31308593749999,-10.253027343750006],[-65.395458984375,-10.392285156250011],[-65.4369140625,-10.449023437500003],[-65.33403320312499,-10.892773437500011],[-65.32377929687499,-11.024804687500009],[-65.389892578125,-11.246289062500011],[-64.99252929687499,-11.975195312500006],[-64.513427734375,-12.2509765625],[-64.42050781249999,-12.439746093750003],[-63.93857421874999,-12.529687500000009],[-63.7880859375,-12.469433593750011],[-63.68857421874999,-12.47802734375],[-63.58564453125,-12.518945312500009],[-63.3466796875,-12.680078125000009],[-63.06748046874999,-12.669140625000011],[-62.76547851562499,-12.997265625000011],[-62.17607421874999,-13.133691406250009],[-62.11801757812499,-13.159765625000006],[-62.09477539062499,-13.241992187500003],[-61.944726562499994,-13.40625],[-61.87412109374999,-13.470410156250011],[-61.789941406249994,-13.525585937500011],[-61.57568359375,-13.524804687500009],[-61.51157226562499,-13.541210937500011],[-61.41606445312499,-13.526562500000011],[-61.129150390625,-13.49853515625],[-61.07700195312499,-13.48974609375],[-60.914501953125,-13.561425781250009],[-60.506591796875,-13.789843750000003],[-60.372705078124994,-14.418750000000003],[-60.17558593749999,-16.269335937500003],[-58.53793945312499,-16.328222656250006],[-58.49658203125,-16.32666015625],[-58.42368164062499,-16.307910156250003],[-58.345605468749994,-16.28437500000001],[-58.35039062499999,-16.490820312500006],[-58.470605468749994,-16.650195312500003],[-58.47812499999999,-16.70068359375],[-58.45981445312499,-16.910742187500006],[-58.417382812499994,-17.08056640625],[-58.39599609375,-17.23427734375001],[-57.832470703125,-17.51210937500001],[-57.780175781249994,-17.67177734375001],[-57.66166992187499,-17.947363281250006],[-57.58647460937499,-18.12226562500001],[-57.57402343749999,-18.279296875],[-57.80039062499999,-19.08095703125001],[-58.131494140624994,-19.74453125000001],[-58.15976562499999,-20.164648437500006]]]},properties:{name:"Bolivia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-51.83251953124997,-1.4337890624999687],[-51.546044921874966,-.6496093749999972],[-51.16074218749998,-.6666992187500114],[-51.27631835937498,-1.0217773437499602],[-51.83251953124997,-1.4337890624999687]]],[[[-49.62866210937497,-.22919921874996874],[-49.11699218749999,-.1635742187500142],[-48.37968749999999,-.35283203125001705],[-48.539697265624994,-.8009765625000114],[-48.928906249999955,-1.4823242187499943],[-49.587890625,-1.7124023437499716],[-50.50761718749999,-1.7879882812500085],[-50.759765625,-1.2402343749999716],[-50.771386718749966,-.6454101562500227],[-50.6455078125,-.2728515624999801],[-50.24824218749998,-.11640624999999716],[-49.62866210937497,-.22919921874996874]]],[[[-59.69970703125,4.353515625],[-59.551123046875034,3.9335449218749687],[-59.854394531249994,3.5874999999999915],[-59.99433593749998,2.6899902343750313],[-59.75522460937495,2.27412109375004],[-59.74350585937498,2.12163085937496],[-59.75175781249996,1.9624023437500284],[-59.75620117187498,1.9006347656249716],[-59.666601562500006,1.7462890624999687],[-59.59663085937498,1.7180175781249858],[-59.53569335937499,1.7000000000000455],[-59.23120117187494,1.3760253906250313],[-58.968505859375,1.3045898437500512],[-58.91660156249998,1.2488769531249773],[-58.86249999999998,1.2036132812499858],[-58.511865234374966,1.2846679687499858],[-58.506054687499926,1.4386718750000114],[-58.39580078124993,1.4817382812499886],[-58.38037109375,1.5302246093750114],[-58.34067382812498,1.5875488281250512],[-58.03466796875,1.5202636718750142],[-57.982812499999994,1.6484375000000142],[-57.79565429687497,1.7000000000000455],[-57.691748046875034,1.7047851562500398],[-57.59443359375001,1.7041015624999858],[-57.500439453124955,1.77382812499998],[-57.412695312500034,1.9089355468749716],[-57.366796875000006,1.9401367187500256],[-57.31748046874998,1.9634765624999915],[-57.11889648437494,2.0139648437499744],[-57.03759765625,1.9364746093749972],[-56.96953124999999,1.9164062499999943],[-56.48281249999994,1.9421386718749858],[-56.019921874999966,1.842236328124983],[-56.12939453124997,2.2995117187499687],[-56.08779296875002,2.3413085937500426],[-56.02036132812498,2.392773437500054],[-55.935937499999994,2.516601562500057],[-55.730566406250006,2.4061523437500227],[-55.385351562500006,2.4406250000000256],[-55.34399414062503,2.4887695312499716],[-55.28603515625002,2.49965820312498],[-55.18769531249998,2.547509765625037],[-55.114111328125006,2.539208984375037],[-55.07031249999994,2.5483398437500284],[-55.005810546874955,2.592968749999983],[-54.97866210937502,2.5976562500000426],[-54.968408203124966,2.5483398437500284],[-54.92656249999999,2.4973632812500455],[-54.876074218750006,2.4503906249999687],[-54.851660156250006,2.4395507812499915],[-54.76684570312503,2.454736328124966],[-54.72221679687499,2.4416503906249716],[-54.69741210937502,2.359814453124997],[-54.66186523437497,2.3275390624999943],[-54.61625976562499,2.3267578125000057],[-54.59194335937502,2.3137695312500313],[-54.55048828125001,2.2930664062499915],[-54.51508789062498,2.245458984374963],[-54.13007812499998,2.1210449218750256],[-53.76777343749998,2.3548339843750483],[-52.96484375,2.1835449218749687],[-52.70063476562501,2.36367187499998],[-51.99062499999994,3.702001953124963],[-51.65253906249998,4.061279296874972],[-51.46152343749998,4.313769531249989],[-51.219921874999955,4.0936035156249915],[-51.05239257812502,3.2818359374999915],[-50.65893554687497,2.1309570312500057],[-50.458886718749994,1.8295898437499716],[-49.957128906250006,1.6598632812500398],[-49.898876953124955,1.16298828124998],[-50.29443359374997,.8357421875000028],[-50.81635742187498,.17255859374999716],[-51.28291015625001,-.08520507812502842],[-51.70263671874997,-.7623046874999488],[-51.94755859374996,-1.586718749999946],[-51.29736328125003,-1.223535156250037],[-50.917871093749966,-1.115234375],[-50.690039062500006,-1.7617187499999858],[-50.40322265625002,-2.0155273437500085],[-49.999218749999955,-1.8318359374999744],[-49.71953125000002,-1.926367187499963],[-49.31367187500001,-1.7317382812500028],[-48.99130859374998,-1.8297851562499972],[-48.11508789062498,-.7374999999999545],[-47.39809570312502,-.6266601562500256],[-46.81123046875001,-.7796875000000227],[-46.61723632812502,-.9706054687500227],[-46.219140624999994,-1.0312500000000284],[-45.64477539062497,-1.3478515624999545],[-45.07636718749998,-1.4664062499999488],[-44.651269531249966,-1.7458007812500256],[-44.30815429687496,-2.53515625],[-43.93291015624999,-2.583496093749986],[-42.93671874999998,-2.4650390625000114],[-42.24960937499998,-2.7919921875],[-41.876171874999926,-2.746582031249986],[-41.318212890625034,-2.936230468749997],[-40.474560546874926,-2.7956054687500256],[-39.96469726562498,-2.8615234374999545],[-38.475781249999955,-3.717480468749997],[-38.04882812500003,-4.216406250000034],[-37.174658203125006,-4.912402343749974],[-36.590722656249966,-5.097558593749952],[-35.979882812499966,-5.05439453125004],[-35.549414062500006,-5.129394531249957],[-35.235449218750006,-5.56669921874996],[-34.988183593749994,-6.393749999999969],[-34.80546874999999,-7.288378906249974],[-34.83466796874998,-7.97148437499996],[-35.15776367187499,-8.930566406249952],[-35.34086914062499,-9.230664062499983],[-36.39833984374994,-10.484082031249983],[-36.93779296874999,-10.820410156250034],[-37.41181640625001,-11.497265624999983],[-37.68872070312503,-12.100000000000037],[-38.23974609375003,-12.844238281249957],[-38.787988281249966,-12.782714843750028],[-38.835302734375034,-13.147167968750026],[-39.08935546875,-13.588183593749989],[-38.94233398437498,-14.030664062499994],[-39.05957031249997,-14.654785156249957],[-38.88061523437503,-15.864257812499972],[-39.215234374999966,-17.315820312500023],[-39.154003906249926,-17.70390625000003],[-39.486767578124955,-17.990136718749994],[-39.73979492187499,-18.639843750000026],[-39.69985351562502,-19.27783203124997],[-40.001367187499994,-19.74199218750003],[-40.39594726562501,-20.56943359375002],[-40.78925781250001,-20.90605468750003],[-41.047265624999994,-21.505664062499974],[-41.122509765624955,-22.08437500000001],[-41.70551757812498,-22.30966796874999],[-41.980419921874955,-22.580664062499963],[-42.042382812499966,-22.947070312500003],[-42.95830078124996,-22.96708984374999],[-43.532812500000006,-23.046386718749986],[-43.86616210937498,-22.910546875000023],[-44.63725585937496,-23.05546874999996],[-45.423291015624955,-23.68535156250003],[-45.97207031250002,-23.795507812500006],[-46.86728515624998,-24.236328125000014],[-47.87656249999998,-24.99746093750001],[-48.54516601562503,-25.815917968750043],[-48.67773437499994,-26.702929687500003],[-48.55415039062498,-27.195996093749997],[-48.62080078124998,-28.075585937499966],[-48.799658203125006,-28.575292968749977],[-49.27128906249999,-28.87119140625005],[-49.745996093749966,-29.363183593749994],[-50.299511718749955,-30.42578125000003],[-51.15727539062499,-30.364257812500014],[-51.46367187499996,-31.052636718750023],[-51.97246093749999,-31.383789062499986],[-52.19355468749998,-31.885546874999974],[-52.12739257812501,-32.1677734375],[-52.652246093749994,-33.137792968750006],[-53.37060546874997,-33.74218750000003],[-53.39755859374995,-33.737304687500014],[-53.46357421875001,-33.70986328125002],[-53.51884765624999,-33.67724609375004],[-53.531347656250034,-33.65546875000004],[-53.53764648437499,-33.622851562499974],[-53.531347656250034,-33.1708984375],[-53.39521484375001,-33.01035156249998],[-53.21406249999998,-32.82109374999996],[-53.12558593749998,-32.73671875000001],[-53.601708984374994,-32.40302734374997],[-53.76171875,-32.05683593749997],[-53.920605468749926,-31.952343749999997],[-54.220556640625034,-31.855175781249997],[-54.58764648437503,-31.48515625000003],[-54.89599609374997,-31.391210937499977],[-55.036035156249994,-31.27900390625004],[-55.091162109375034,-31.31396484374997],[-55.173535156249926,-31.279589843749974],[-55.25463867187503,-31.225585937499986],[-55.36606445312498,-31.04619140625003],[-55.449560546875034,-30.96445312499999],[-55.557324218749955,-30.8759765625],[-55.62714843749998,-30.858105468749997],[-55.650488281250034,-30.89208984375],[-55.66523437500001,-30.92490234375002],[-55.705957031249966,-30.94658203124999],[-55.75634765625,-30.98710937499999],[-55.807763671874994,-31.036718749999977],[-55.87368164062502,-31.069628906250017],[-55.95200195312498,-31.08085937499999],[-56.00468749999996,-31.079199218750006],[-56.015527343749966,-31.059667968750034],[-56.01845703125002,-30.991894531249983],[-55.998974609374955,-30.837207031250003],[-56.4072265625,-30.44746093750001],[-56.83271484374998,-30.107226562499974],[-57.21445312499995,-30.283398437499983],[-57.60888671875003,-30.187792968750045],[-56.938623046874994,-29.594824218750034],[-55.72548828125002,-28.20410156250003],[-55.10151367187501,-27.866796874999963],[-54.82910156250003,-27.55058593750003],[-54.32700195312495,-27.423535156249997],[-53.83818359375002,-27.121093750000014],[-53.67128906249994,-26.22509765625],[-53.89116210937499,-25.66884765625001],[-54.15458984374999,-25.523046874999963],[-54.615869140624994,-25.576074218750023],[-54.47314453124997,-25.22021484375],[-54.281005859375,-24.30605468750001],[-54.31826171874994,-24.128124999999997],[-54.26689453124996,-24.06582031250001],[-54.241796875000006,-24.047265624999966],[-54.44023437500002,-23.90175781249998],[-54.62548828125,-23.8125],[-54.98266601562494,-23.974511718749966],[-55.081884765625006,-23.997656249999977],[-55.1943359375,-24.017480468750023],[-55.28691406249993,-24.004296874999994],[-55.366308593750034,-23.99101562499996],[-55.41591796875002,-23.95136718749997],[-55.4423828125,-23.86533203125002],[-55.4423828125,-23.792578125000034],[-55.458886718749966,-23.686718750000054],[-55.65405273437494,-22.81035156250003],[-55.627587890624966,-22.74091796875001],[-55.61767578125,-22.67148437499999],[-55.64741210937501,-22.621875000000003],[-55.70366210937502,-22.592089843749974],[-55.74663085937499,-22.51269531249997],[-55.753271484375006,-22.410156250000043],[-55.84916992187499,-22.307617187500014],[-56.18984374999994,-22.28115234375005],[-56.35185546874999,-22.178613281250023],[-56.52382812499994,-22.102539062499986],[-56.63300781249998,-22.23486328125003],[-56.77519531249999,-22.261328125000006],[-57.23823242187501,-22.195214843750037],[-57.56894531249998,-22.18193359374999],[-57.721093749999966,-22.09921875000002],[-57.76406250000002,-22.109179687500003],[-57.82031250000003,-22.142285156249997],[-57.94267578124999,-21.79833984375],[-57.830224609374994,-20.99794921875001],[-58.15976562499998,-20.164648437499977],[-58.131494140624994,-19.74453125000001],[-57.80039062499995,-19.08095703125001],[-57.57402343749993,-18.279296875000014],[-57.58647460937499,-18.122265624999997],[-57.66166992187493,-17.94736328124999],[-57.78017578125002,-17.67177734374998],[-57.83247070312501,-17.512109375000037],[-58.39599609374997,-17.234277343750023],[-58.417382812499994,-17.08056640624997],[-58.459814453125006,-16.910742187500006],[-58.478125000000006,-16.70068359375003],[-58.470605468749994,-16.650195312500045],[-58.35039062500002,-16.49082031249999],[-58.34560546875002,-16.284375000000026],[-58.423681640625034,-16.30791015625003],[-58.49658203124994,-16.32666015625003],[-58.537939453125034,-16.32822265624999],[-60.17558593749996,-16.26933593749999],[-60.372705078124994,-14.418750000000003],[-60.506591796875,-13.78984374999996],[-60.914501953124955,-13.561425781249966],[-61.077001953125034,-13.489746093750014],[-61.129150390625,-13.498535156250028],[-61.41606445312502,-13.526562499999969],[-61.511572265625006,-13.541210937500011],[-61.789941406249966,-13.525585937500026],[-61.87412109374998,-13.470410156249983],[-61.944726562499966,-13.406249999999972],[-62.09477539062499,-13.241992187499989],[-62.118017578125006,-13.15976562500002],[-62.17607421874993,-13.133691406250037],[-62.35283203124999,-13.132421874999963],[-62.765478515625034,-12.99726562500004],[-63.01518554687502,-12.80556640624998],[-63.067480468750006,-12.669140624999983],[-63.34667968749994,-12.680078124999994],[-63.585644531249955,-12.518945312500037],[-63.68857421874998,-12.478027343749957],[-63.7880859375,-12.469433593749983],[-63.938574218750006,-12.529687499999994],[-64.42050781249995,-12.439746093749974],[-64.51342773437497,-12.250976562499972],[-64.99252929687498,-11.975195312500006],[-65.389892578125,-11.246289062500011],[-65.33403320312499,-10.892773437500026],[-65.43999023437499,-10.586230468750017],[-65.4369140625,-10.449023437499946],[-65.39545898437498,-10.392285156250026],[-65.31308593749998,-10.253027343749991],[-65.39614257812494,-9.712402343749986],[-66.26357421875,-9.826074218749966],[-66.57534179687502,-9.899902343749986],[-66.72998046875,-9.975488281250023],[-67.11152343750001,-10.268945312500037],[-67.28046874999995,-10.317285156250023],[-67.33271484374995,-10.357910156249957],[-67.41694335937495,-10.389843749999969],[-67.58242187500002,-10.505957031250006],[-67.72177734374998,-10.683105468749943],[-67.83500976562496,-10.662792968749983],[-67.99169921875,-10.674414062499949],[-68.07167968749994,-10.703125000000028],[-68.678369140625,-11.11279296875],[-68.84833984374998,-11.01113281249998],[-69.228515625,-10.955664062499963],[-69.96035156249997,-10.92988281250004],[-70.642333984375,-11.010253906249986],[-70.59916992187499,-9.620507812500009],[-71.11528320312499,-9.852441406250009],[-71.237939453125,-9.966015624999955],[-72.18159179687495,-10.003710937500003],[-72.37905273437497,-9.510156249999994],[-73.20942382812493,-9.411425781249946],[-73.08984375,-9.26572265625002],[-72.970361328125,-9.120117187500028],[-72.97402343750002,-8.9931640625],[-73.07050781249995,-8.8828125],[-73.20312499999997,-8.719335937499991],[-73.30244140624995,-8.654003906250011],[-73.36040039062496,-8.479296875000031],[-73.39814453125001,-8.458984374999986],[-73.43588867187498,-8.42705078124996],[-73.54912109374993,-8.34580078125002],[-73.77558593749998,-7.9364257812500085],[-73.72041015624993,-7.782519531250017],[-73.76689453124999,-7.753515624999963],[-73.82207031249996,-7.738964843750026],[-73.89462890624998,-7.654785156250014],[-73.94687499999998,-7.611230468750023],[-73.98173828124996,-7.58505859375002],[-74.00205078125003,-7.556054687499966],[-73.98173828124996,-7.535742187500006],[-73.95849609374994,-7.506640625000031],[-73.96430664062498,-7.378906250000028],[-73.74946289062498,-7.335351562500037],[-73.79301757812499,-7.135058593750003],[-73.75810546874999,-6.90576171875],[-73.137353515625,-6.4658203125],[-73.23554687500001,-6.098437500000017],[-73.209375,-6.028710937500023],[-73.16289062499996,-5.933398437499974],[-72.97988281249997,-5.6348632812499915],[-72.88706054687498,-5.122753906250026],[-72.83193359374994,-5.093749999999972],[-72.69873046874997,-5.067187499999989],[-72.60834960937495,-5.009570312499974],[-72.46899414062497,-4.901269531250023],[-72.35283203124993,-4.786035156249994],[-72.25678710937501,-4.74892578124998],[-71.8447265625,-4.504394531249986],[-70.97368164062499,-4.350488281249994],[-70.86601562499999,-4.229589843749963],[-70.79951171874995,-4.173339843749957],[-70.72158203124997,-4.15888671875004],[-70.53066406249997,-4.167578125000034],[-70.40463867187498,-4.150097656250026],[-69.96591796875003,-4.235937500000006],[-69.66904296875003,-2.667675781249997],[-69.40024414062498,-1.1949218749999773],[-69.66748046874997,-.48242187499995737],[-70.07050781249993,-.1388671875000398],[-70.05390624999993,.5786132812500284],[-69.16323242187502,.8640625000000028],[-69.36137695312496,1.0640136718749744],[-69.85214843750003,1.0595214843750398],[-69.84858398437493,1.7087402343750426],[-68.17656249999999,1.7198242187499915],[-67.815087890625,1.790087890625017],[-67.35195312499997,2.085839843750051],[-66.87602539062499,1.223046875000037],[-66.42924804687502,.8216796874999801],[-66.06005859375003,.7853515625000398],[-65.68144531249999,.9834472656249886],[-65.36083984374994,.8686523437500568],[-65.10375976562497,1.108105468749983],[-64.11484375000003,1.619287109375037],[-64.03544921874993,1.904443359375037],[-63.393945312499994,2.2225097656250057],[-63.389257812500006,2.4119140625000455],[-63.924169921875006,2.4524414062500313],[-64.21884765625,3.2046874999999915],[-64.22109375000002,3.5874023437499716],[-64.56791992187496,3.8998046875000227],[-64.25566406249996,4.140332031249997],[-64.02148437500003,3.929101562500051],[-63.29472656249993,3.92226562499998],[-62.96865234374994,3.593945312499983],[-62.71210937499998,4.01791992187502],[-62.15312499999996,4.098388671874986],[-61.00283203125002,4.5352539062499915],[-60.60449218749994,4.99458007812504],[-60.671972656250034,5.164355468749989],[-60.71196289062499,5.191552734375023],[-60.742138671874926,5.202050781250037],[-60.6513671875,5.221142578125011],[-60.576416015625,5.192480468750034],[-60.45952148437499,5.188085937500034],[-60.40878906249998,5.210156249999997],[-60.33520507812497,5.199316406250006],[-60.14204101562498,5.238818359374974],[-59.990673828124955,5.0828613281249915],[-60.03178710937499,4.740527343749974],[-60.12456054687496,4.59765625],[-60.14863281249998,4.533251953125031],[-60.11113281249999,4.511181640624969],[-59.69970703125,4.353515625]]]]},properties:{name:"Brazil",childNum:3}},{geometry:{type:"Polygon",coordinates:[[[115.02675781250005,4.899707031249989],[114.74667968750006,4.718066406250017],[114.84023437500005,4.3932128906250085],[114.60830078125005,4.023974609375017],[114.0638671875,4.592675781249966],[114.29941406250012,4.607177734374986],[115.02675781250005,4.899707031249989]]]},properties:{name:"Brunei",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[91.63193359375003,27.759960937499997],[91.5947265625,27.557666015624996],[91.74306640625002,27.442529296874994],[91.85126953125001,27.438623046874994],[91.95097656249999,27.458300781249996],[91.99082031250003,27.4501953125],[92.044921875,27.364697265624997],[92.08339843750002,27.290625],[92.03115234375002,27.214306640624997],[91.99228515625003,27.099902343749996],[92.07343750000001,26.914843749999996],[92.04970703125002,26.874853515625],[91.99833984374999,26.85498046875],[91.84208984374999,26.852978515624997],[91.67158203125001,26.802001953125],[90.73964843750002,26.771679687499997],[90.34589843750001,26.890332031249997],[90.2060546875,26.847509765625],[90.12294921875002,26.754589843749997],[89.94316406249999,26.723925781249996],[89.76386718750001,26.701562499999994],[89.60996093750003,26.719433593749997],[89.33212890625003,26.8486328125],[89.14824218749999,26.816162109375],[88.85761718750001,26.961474609374996],[88.73876953125,27.175585937499996],[88.76035156250003,27.218115234375],[88.88164062499999,27.2974609375],[88.89140624999999,27.316064453124994],[88.94755859374999,27.464013671874994],[89.53691406249999,28.107421875],[89.65273437500002,28.15830078125],[89.74980468749999,28.188183593749997],[89.81689453125,28.256298828124997],[89.89785156250002,28.294140624999997],[89.98105468750003,28.311181640624994],[90.35273437500001,28.080224609374994],[90.47734374999999,28.070849609374996],[90.71572265625002,28.071728515624997],[91.07773437500003,27.974462890625],[91.22587890624999,28.071240234374997],[91.27304687500003,28.078369140625],[91.60556640625003,27.951708984374996],[91.64189453124999,27.923242187499994],[91.63193359375003,27.759960937499997]]]},properties:{name:"Bhutan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[25.2587890625,-17.793554687500006],[25.224023437500023,-17.91523437500001],[25.76123046875,-18.649218750000003],[26.168066406250006,-19.53828125000001],[26.67822265625,-19.89277343750001],[27.221484375000017,-20.145800781250003],[27.28076171875,-20.47871093750001],[27.699609375000023,-20.53066406250001],[27.66943359375,-21.064257812500003],[28.04560546875001,-21.573046875000003],[29.03730468750001,-21.811328125000003],[29.106835937500023,-22.065722656250003],[29.237207031250023,-22.07949218750001],[29.315234375000017,-22.15771484375],[29.364843750000006,-22.193945312500006],[29.1298828125,-22.21328125000001],[29.013476562500017,-22.278417968750006],[28.94580078125,-22.395117187500006],[28.83984375,-22.48085937500001],[28.21015625000001,-22.693652343750003],[27.812597656250006,-23.108007812500006],[27.7685546875,-23.14892578125],[27.146386718750023,-23.5244140625],[27.085546875000006,-23.577929687500003],[26.98701171875001,-23.70458984375],[26.835058593750006,-24.240820312500006],[26.617773437500006,-24.3955078125],[26.501562500000006,-24.513281250000006],[26.451757812500006,-24.58271484375001],[26.39716796875001,-24.613574218750003],[25.912109375,-24.74746093750001],[25.518164062500006,-25.66279296875001],[24.748144531250006,-25.8173828125],[24.33056640625,-25.74287109375001],[24.192968750000006,-25.632910156250006],[23.969531250000017,-25.626074218750006],[23.89375000000001,-25.600878906250003],[23.670703125000017,-25.43398437500001],[23.521484375,-25.34443359375001],[23.148730468750017,-25.288671875000006],[22.878808593750023,-25.45791015625001],[22.79609375000001,-25.67910156250001],[22.72900390625,-25.85732421875001],[22.640234375000006,-26.07119140625001],[22.217578125000017,-26.38886718750001],[22.090917968750006,-26.580175781250006],[22.01093750000001,-26.635839843750006],[21.91455078125,-26.661914062500003],[21.83320312500001,-26.678320312500006],[21.78828125000001,-26.710058593750006],[21.738085937500017,-26.80683593750001],[21.694726562500023,-26.840917968750006],[21.646289062500017,-26.85419921875001],[20.739843750000006,-26.84882812500001],[20.641406250000017,-26.7421875],[20.79316406250001,-25.915625000000006],[20.34521484375,-25.029882812500006],[19.98046875,-24.77675781250001],[19.977343750000017,-22.00019531250001],[20.970996093750017,-22.00019531250001],[20.976171875000006,-19.74433593750001],[20.97412109375,-18.31884765625],[23.298632812500017,-18.02734375],[23.58056640625,-18.452929687500003],[24.358984375000006,-17.97822265625001],[25.2587890625,-17.793554687500006]]]},properties:{name:"Botswana",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[22.86005859375001,10.919677734375],[23.312304687500017,10.387939453125],[23.646289062500017,9.822900390624994],[23.53730468750001,8.815820312499994],[24.147363281250023,8.665624999999991],[24.291406250000023,8.291406249999994],[24.853320312500017,8.137548828124991],[25.247363281250017,7.724560546874997],[25.380664062500017,7.333398437499994],[25.888964843750017,7.06494140625],[26.36181640625,6.635302734374989],[26.514257812500006,6.069238281249994],[27.083398437500023,5.77685546875],[27.4033203125,5.109179687499989],[27.11494140625001,5.1978515624999915],[26.822070312500017,5.062402343749994],[25.52509765625001,5.3121093749999915],[25.249316406250017,5.024560546874994],[24.765527343750023,4.930078124999994],[24.31982421875,4.994140625],[23.41718750000001,4.663134765624989],[22.755761718750023,4.646679687499997],[22.422167968750017,4.134960937499997],[21.53759765625,4.244824218749997],[20.55810546875,4.462695312499989],[20.226367187500017,4.829638671874989],[19.806542968750023,5.089306640624997],[19.5009765625,5.127490234374989],[19.06855468750001,4.891406249999989],[18.567480468750006,4.257568359375],[18.6103515625,3.4784179687499943],[18.160937500000017,3.4998046874999886],[17.43798828125,3.6846191406249886],[16.67333984375,3.5352050781249886],[16.468554687500017,2.831738281249997],[16.183398437500017,2.2700683593749886],[16.0634765625,2.9085937499999943],[15.775000000000006,3.127197265625],[15.128710937500017,3.826904296875],[15.022753906250017,4.358544921874994],[14.708984375,4.665576171874989],[14.616894531250011,5.865136718749994],[14.7392578125,6.27978515625],[15.245898437500017,7.263574218749994],[15.480078125000006,7.5237792968749915],[15.845019531250017,7.475292968749997],[16.37890625,7.683544921874997],[16.784765625000006,7.550976562499997],[17.6494140625,7.983593749999997],[18.455078125,8.032031249999989],[19.108691406250017,8.656152343749994],[19.1455078125,9.015966796874991],[20.342089843750017,9.127099609374994],[20.773242187500017,9.405664062499994],[21.26386718750001,9.974609375],[21.72578125000001,10.366552734374991],[21.70654296875,10.574804687499991],[22.49384765625001,10.996240234374994],[22.86005859375001,10.919677734375]]]},properties:{name:"Central African Republic",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-61.10517578124998,45.94472656250002],[-60.80610351562498,45.73808593750002],[-60.50493164062502,46.20385742187497],[-59.86503906249993,46.159521484375006],[-60.38608398437495,45.65463867187498],[-61.28369140624994,45.573876953124966],[-61.49531249999998,45.94145507812499],[-60.87016601562499,46.796777343749966],[-60.33173828124998,46.76782226562503],[-60.57685546875001,46.17216796874999],[-61.10517578124998,45.94472656250002]]],[[[-63.811279296875,46.46870117187501],[-63.12939453125,46.422216796875034],[-62.16357421874997,46.487207031249966],[-62.878369140624926,46.00136718750002],[-63.641015624999966,46.23046874999997],[-63.811279296875,46.46870117187501]]],[[[-74.70888671874997,45.0038574218751],[-73.55810546875,45.425097656250045],[-73.1595703125,46.01005859375002],[-71.90092773437499,46.63193359375006],[-71.26118164062495,46.756249999999966],[-70.51948242187501,47.032519531250045],[-68.987060546875,48.275000000000034],[-67.56088867187498,48.85595703125],[-66.17817382812493,49.21313476562503],[-64.83632812499994,49.191748046875006],[-64.26181640624995,48.921875],[-64.253759765625,48.550390625000006],[-65.259423828125,48.02124023437503],[-65.92670898437495,48.188867187499994],[-65.66645507812495,47.69614257812506],[-65.22817382812502,47.81127929687497],[-64.70322265625,47.72485351562503],[-64.91220703125003,47.36865234375003],[-65.31889648437502,47.101220703124994],[-64.90576171874997,46.88793945312497],[-64.54150390625,46.240332031250034],[-63.29277343749999,45.751953125],[-62.483056640624966,45.62182617187506],[-61.955517578124955,45.86816406249997],[-61.49228515624998,45.68701171875],[-61.28378906249998,45.23549804687505],[-63.761132812499994,44.486425781250034],[-64.28608398437493,44.55034179687499],[-64.86235351562499,43.867871093749955],[-65.73813476562498,43.56074218750001],[-66.125732421875,43.813818359375034],[-66.09956054687498,44.367480468750045],[-65.65673828125,44.760302734375045],[-64.44882812499995,45.256054687499955],[-64.89790039062495,45.6259765625],[-65.88447265624995,45.22290039062506],[-66.87246093749997,45.067285156249966],[-67.12485351562498,45.16943359375],[-67.47255859375002,45.27587890625],[-67.43266601562496,45.60312499999998],[-67.78466796875,45.70170898437499],[-67.806787109375,47.08281249999999],[-68.310888671875,47.3544921875],[-68.82871093749998,47.20332031250001],[-69.24287109374998,47.46298828124998],[-70.00771484375002,46.70893554687501],[-70.296240234375,45.90610351562506],[-70.89799804687493,45.26245117187503],[-71.327294921875,45.29008789062496],[-71.51752929687495,45.00756835937497],[-74.663232421875,45.00390625000003],[-74.70888671874997,45.0038574218751]]],[[[-61.801123046875034,49.093896484374966],[-62.21953124999999,49.07910156249997],[-63.565869140624926,49.39931640625002],[-64.13144531249995,49.94165039062503],[-62.858544921874966,49.70546875000005],[-61.817138671875,49.28354492187498],[-61.801123046875034,49.093896484374966]]],[[[-127.19731445312495,50.640380859375],[-125.48208007812501,50.316796874999966],[-124.64287109375002,49.428662109374955],[-123.99580078125,49.22402343750002],[-123.49702148437498,48.58208007812499],[-123.59462890624998,48.33354492187496],[-124.689404296875,48.597314453124966],[-125.82851562499998,49.09184570312499],[-125.83544921874997,49.27666015624999],[-126.54853515625003,49.41894531250003],[-126.68310546875,49.87646484374997],[-127.114306640625,49.879736328125034],[-128.267431640625,50.609277343749966],[-127.91806640624998,50.86054687500001],[-127.19731445312495,50.640380859375]]],[[[-55.45874023437494,51.53652343750005],[-55.87138671874999,50.90737304687502],[-56.693994140624966,50.059667968750006],[-55.764746093750034,49.96044921875003],[-55.892041015624926,49.58027343750004],[-55.02617187500002,49.30537109374998],[-54.579052734374955,49.490820312500006],[-53.957714843749955,49.44184570312498],[-53.57343750000001,49.141210937500034],[-53.852880859375006,48.81132812499996],[-53.53120117187501,48.231884765624955],[-52.95498046874994,48.02929687499997],[-53.17553710937503,47.652978515624966],[-52.653662109375034,47.549414062500006],[-53.06977539062498,46.68125000000006],[-53.61635742187494,46.680273437500034],[-54.173730468749994,46.88037109375003],[-53.86909179687501,47.38701171874996],[-54.856640624999955,47.385009765625],[-56.22128906249995,47.67138671874997],[-56.95249023437498,47.57446289062506],[-58.33320312499998,47.676855468750034],[-59.11694335937494,47.570703124999994],[-59.36240234374995,47.865673828124955],[-58.71059570312494,48.325048828125006],[-58.716455078124994,48.59804687500002],[-58.01582031249998,49.54248046874997],[-57.29799804687502,50.69873046874997],[-56.75019531249998,51.27490234375003],[-56.025585937499955,51.56835937500006],[-55.45874023437494,51.53652343750005]]],[[[-80.73168945312494,52.74726562499998],[-81.83906249999995,52.957910156249994],[-81.84731445312494,53.18627929687497],[-81.135595703125,53.20581054687503],[-80.73168945312494,52.74726562499998]]],[[[-131.7537109375,53.195556640625],[-131.727294921875,52.75639648437496],[-132.16508789062493,52.783300781250034],[-132.34541015625,53.136083984375034],[-131.7537109375,53.195556640625]]],[[[-132.65551757812503,54.12749023437496],[-131.70253906250002,53.98637695312499],[-132.01132812499998,53.26518554687496],[-132.747509765625,53.310498046874955],[-133.05224609375003,53.77812500000002],[-132.65551757812503,54.12749023437496]]],[[[-78.93559570312496,56.26606445312498],[-79.17548828124998,55.88505859374999],[-80.00078124999999,55.93208007812498],[-79.59633789062502,56.244482421875034],[-78.93559570312496,56.26606445312498]]],[[[-79.54531250000002,62.41171875000006],[-79.32392578124995,62.02607421875001],[-79.71425781249997,61.61254882812503],[-80.27617187499996,61.85859374999998],[-80.23466796874996,62.152685546875034],[-79.54531250000002,62.41171875000006]]],[[[-82.00048828124997,62.95419921874998],[-82.11372070312495,62.65224609375002],[-83.01582031249998,62.20991210937498],[-83.69887695312497,62.16025390624998],[-83.899267578125,62.476464843749994],[-83.37641601562498,62.904931640624994],[-82.00048828124997,62.95419921874998]]],[[[-84.91962890624995,65.26108398437503],[-83.40712890625002,65.10390625],[-82.04999999999995,64.64428710937506],[-81.71611328124996,64.021875],[-80.82895507812495,64.08994140625],[-80.30205078124999,63.76220703125003],[-81.04638671875003,63.461572265624966],[-82.37812500000001,63.706787109375],[-82.46708984375002,63.92695312500001],[-83.49433593749993,64.09921875000003],[-83.728271484375,63.813378906249966],[-84.63291015625,63.30922851562502],[-85.49550781249997,63.13911132812501],[-85.71416015625002,63.657958984375],[-87.18891601562498,63.672265624999994],[-86.252099609375,64.13686523437497],[-86.37426757812503,64.56582031249997],[-85.96166992187497,65.704248046875],[-85.24111328125,65.7955078125],[-84.91962890624995,65.26108398437503]]],[[[-75.67587890624998,68.32250976562506],[-75.15380859375,68.23403320312497],[-75.12729492187503,67.53730468749995],[-75.78007812499996,67.28354492187503],[-77.0048828125,67.26694335937503],[-77.30590820312497,67.70610351562505],[-76.740234375,68.23125000000002],[-75.67587890624998,68.32250976562506]]],[[[-97.439453125,69.64267578125006],[-96.29995117187494,69.34438476562505],[-95.68564453125003,68.73583984375006],[-96.40156249999995,68.47070312500003],[-97.47202148437498,68.543701171875],[-99.25400390625002,68.86318359374997],[-99.56406249999995,69.03413085937498],[-97.439453125,69.64267578125006]]],[[[-74.70888671874997,45.0038574218751],[-74.76245117187494,44.99907226562502],[-74.99614257812496,44.970117187499966],[-75.40126953124997,44.77226562499999],[-75.81933593749997,44.468017578125],[-76.18579101562503,44.24223632812502],[-76.819970703125,43.62880859375011],[-77.87924804687489,43.62954101562508],[-78.45825195312497,43.63149414062511],[-78.72041015624993,43.62495117187501],[-78.84555664062492,43.58334960937506],[-79.17187499999997,43.466552734375085],[-79.0830566406249,43.33139648437509],[-79.05922851562494,43.27807617187506],[-79.066064453125,43.10610351562502],[-79.02617187499996,43.01733398437506],[-78.98076171874993,42.98061523437502],[-78.91508789062496,42.90913085937504],[-79.17373046875,42.74853515625],[-80.24755859374991,42.366015625000045],[-81.02822265624997,42.247167968750006],[-81.50732421874997,42.10346679687504],[-81.97416992187496,41.88872070312499],[-82.69003906249995,41.675195312499994],[-83.141943359375,41.97587890624996],[-83.10952148437497,42.25068359375001],[-82.54531249999997,42.62470703124998],[-82.19038085937495,43.47407226562501],[-82.137841796875,43.570898437500034],[-82.48505859374993,45.08374023437503],[-82.91933593749994,45.51796875000002],[-83.59267578125,45.81713867187506],[-83.61596679687503,46.116845703124994],[-83.97778320312494,46.08491210937507],[-84.12319335937497,46.50292968749997],[-84.44047851562496,46.49814453125006],[-84.66577148437503,46.54326171875002],[-84.87597656249994,46.89990234375003],[-85.07006835937497,46.97993164062498],[-85.65224609375,47.21997070312503],[-86.67216796874996,47.636425781249955],[-87.20800781249997,47.848486328125006],[-87.74389648437497,48.06054687500003],[-88.37817382812497,48.30307617187506],[-89.45566406249992,47.99624023437508],[-90.79731445312495,48.13105468750001],[-91.38720703124997,48.05854492187498],[-92.00517578125002,48.301855468750006],[-92.34843749999996,48.276611328125],[-92.41459960937493,48.276611328125],[-92.50058593749995,48.43535156250002],[-92.83671874999996,48.567773437499994],[-93.25795898437497,48.62885742187501],[-93.37788085937498,48.61655273437498],[-93.85161132812496,48.607275390625034],[-94.71279296874997,48.863427734374994],[-94.80346679687497,49.0029296875],[-94.86040039062493,49.258593750000045],[-94.85434570312495,49.304589843749994],[-95.16206054687493,48.991748046875045],[-95.39790039062493,48.99316406249997],[-96.25068359374993,48.99316406249997],[-96.67705078124993,48.99316406249997],[-97.52983398437493,48.99316406249997],[-98.80898437499995,48.99316406249997],[-102.64643554687497,48.993115234375125],[-105.63110351562497,48.993115234375125],[-107.76298828124989,48.993115234375125],[-109.4685546874999,48.993066406250136],[-112.45322265625,48.993066406250136],[-115.86425781249993,48.993066406250136],[-117.99619140624993,48.993066406250136],[-118.84892578124993,48.993066406250136],[-119.27534179687494,48.993066406250136],[-119.70170898437495,48.99301757812495],[-120.98085937499995,48.99301757812495],[-122.78876953124994,48.99301757812495],[-122.82670898437495,49.028417968750034],[-122.9241699218749,49.07465820312504],[-123.04921874999998,48.993017578125034],[-123.33564453124997,49.45917968750004],[-123.85893554687492,49.48286132812507],[-124.14160156249994,49.792675781250125],[-124.78237304687492,50.02011718749992],[-125.05668945312495,50.418652343750125],[-126.4044921875,50.529882812500034],[-126.397119140625,50.80708007812504],[-127.057568359375,50.86752929687509],[-127.70810546875,51.15117187499996],[-127.644873046875,51.47846679687504],[-128.3576171875,52.1588867187501],[-128.1087890624999,52.85805664062508],[-128.6523437499999,53.24384765624998],[-129.28427734374995,53.393164062500006],[-129.56372070312506,53.251464843750114],[-130.33525390625002,53.723925781250074],[-130.04331054687495,54.13354492187503],[-130.4302734375,54.42099609374998],[-129.89013671874994,55.16464843749995],[-130.01406249999997,55.950537109375006],[-130.09785156249995,56.10927734375002],[-130.47709960937496,56.230566406250034],[-130.649072265625,56.26367187500003],[-131.86616210937495,56.792822265625006],[-132.062890625,56.95336914062503],[-133.00141601562495,57.948974609375],[-133.27529296875,58.22285156250004],[-133.54638671874997,58.50346679687499],[-134.21850585937503,58.849902343750045],[-134.32963867187505,58.93969726562506],[-134.39306640625,59.009179687499994],[-134.67724609374997,59.19926757812499],[-134.94375,59.28828125000001],[-135.36787109374998,59.743310546874994],[-135.70258789062504,59.72875976562506],[-136.46635742187493,59.459082031250006],[-136.81328125000002,59.15004882812511],[-137.59331054687493,59.22626953124998],[-138.317626953125,59.611132812500074],[-138.70546874999997,59.90131835937504],[-139.23476562499997,60.339746093749994],[-139.67631835937505,60.32832031249998],[-139.97329101562497,60.183154296875074],[-140.45283203125004,60.29970703125002],[-141.00214843750004,60.300244140625125],[-141.00214843750004,60.884667968749994],[-141.00214843750004,61.761279296875045],[-141.00214843750004,63.22226562499998],[-141.00214843750004,64.09887695312506],[-141.00214843750004,65.55991210937498],[-141.00214843750004,66.43652343750006],[-141.00214843750004,67.89755859374998],[-141.00214843750004,68.77416992187506],[-141.00214843750004,69.65078125000011],[-139.18154296874997,69.51552734375008],[-138.12836914062495,69.15195312500009],[-136.71733398437493,68.88916015625003],[-135.876318359375,68.9169921875],[-135.6914550781249,69.31118164062502],[-135.1408203124999,69.46782226562496],[-133.16313476562496,69.43388671874999],[-130.49843749999997,70.14316406250006],[-128.9714355468749,69.71240234375006],[-127.76494140624995,70.2218750000001],[-127.13847656249996,70.23935546874995],[-126.06381835937495,69.46708984374999],[-124.767919921875,69.99003906249996],[-123.60913085937491,69.37744140625003],[-123.02578125,69.81000976562504],[-120.96245117187502,69.66040039062511],[-120.29252929687496,69.42055664062511],[-118.86870117187496,69.25717773437503],[-118.09521484374994,69.0429199218751],[-116.06523437500002,68.85541992187507],[-115.63115234374995,68.97255859375014],[-114.41386718749993,68.65957031250014],[-115.42685546874989,67.92353515625013],[-113.89321289062501,67.70688476562503],[-112.43515624999988,67.68476562499998],[-110.9900390624999,67.79082031250007],[-110.04248046874994,67.97719726562505],[-109.63037109374991,67.73271484374996],[-108.59291992187495,67.59086914062502],[-107.15649414062497,66.88173828124997],[-108.26103515625002,68.14990234375006],[-108.31347656249996,68.61079101562498],[-106.16445312499992,68.91987304687507],[-105.42861328124994,68.458251953125],[-104.19355468749994,68.03120117187504],[-103.47412109374993,68.11503906250005],[-102.69199218749992,67.81157226562505],[-101.55498046874992,67.69316406250007],[-100.45610351562496,67.83945312500003],[-99.14687499999995,67.72363281250009],[-98.41713867187497,67.82646484375007],[-98.21855468750002,68.31743164062507],[-97.2659179687499,68.45292968749996],[-96.03603515625,68.15776367187505],[-96.37138671875002,67.55385742187514],[-95.78251953124996,67.19379882812513],[-95.25874023437493,67.26254882812492],[-95.65048828124986,67.73745117187505],[-93.65170898437489,68.54311523437505],[-93.68144531249993,68.88725585937499],[-94.2708007812499,69.45512695312505],[-96.11909179687504,69.87187500000005],[-96.54560546874998,70.32724609375009],[-96.4056640625,71.27363281249998],[-95.20122070312493,71.90371093750008],[-94.30834960937491,71.76489257812506],[-92.94868164062493,71.26210937500011],[-92.98144531249994,70.8522460937501],[-91.56406249999995,70.1782714843751],[-92.75092773437498,69.71391601562502],[-90.82211914062495,69.29047851562507],[-90.468359375,68.86376953125],[-89.05673828124992,69.26611328125009],[-88.041357421875,68.81171875000007],[-87.81030273437491,68.40415039062498],[-88.34697265624993,68.28828125000001],[-88.19589843749986,67.76582031249995],[-87.26625976562494,67.18383789062506],[-86.53642578125002,67.51616210937507],[-85.9525878906249,68.0724609375001],[-85.73383789062493,68.630126953125],[-84.86220703125,69.07397460937503],[-85.38676757812493,69.23188476562504],[-85.50737304687487,69.84526367187493],[-82.61835937499993,69.69106445312514],[-82.64204101562495,69.4583984375],[-81.3286621093749,69.11992187499996],[-81.28154296874987,68.65722656250003],[-82.55268554687504,68.44648437500007],[-81.97646484374997,67.86201171875001],[-81.27011718749995,67.45991210937498],[-81.46757812499996,67.0698730468751],[-82.64150390624991,66.58750000000006],[-84.47841796875005,66.17929687500003],[-85.44223632812495,66.53735351562497],[-86.63320312499991,66.53134765625],[-86.04287109375,66.02255859375009],[-87.2914550781249,65.35483398437495],[-87.28051757812491,64.82617187500006],[-88.10561523437497,64.18330078125001],[-88.65302734374993,64.00937499999992],[-90.14189453125002,63.981982421875045],[-90.01342773437497,63.80429687500006],[-91.33007812499997,63.50683593750006],[-90.74658203124994,63.35156250000003],[-90.87119140625,62.945947265624994],[-91.44897460937503,62.804052734375034],[-92.3612792968749,62.81938476562496],[-93.42060546874998,61.705810546875114],[-94.06074218749993,61.317822265625125],[-94.64677734374993,60.416406249999994],[-94.78579101562494,59.953320312499955],[-94.71337890624991,58.903320312500114],[-94.28706054687493,58.716015625000125],[-93.2781249999999,58.75639648437502],[-92.24902343749994,57.00898437500001],[-91.11127929687498,57.24121093750006],[-90.59218749999991,57.224462890625034],[-89.7908203124999,56.98134765625005],[-88.94848632812489,56.85131835937503],[-88.07509765624997,56.46728515624994],[-87.560888671875,56.05634765625007],[-85.67666015625,55.60107421875006],[-85.06093749999997,55.285644531250085],[-83.91059570312493,55.314648437499955],[-82.57744140625002,55.1487304687501],[-82.219384765625,54.8134765625],[-82.41806640624986,54.355810546875034],[-82.14145507812492,53.81762695312497],[-82.26044921874993,52.9611328125001],[-81.5994140624999,52.432617187500085],[-81.66123046874986,52.29389648437507],[-80.65795898437503,51.75834960937502],[-80.36796875000002,51.32988281249996],[-79.83623046874996,51.17333984375003],[-79.49755859374997,51.569921875000006],[-78.97773437499993,51.733789062499994],[-78.49165039062495,52.25209960937508],[-78.723779296875,52.627734375000045],[-79.241796875,54.098876953125085],[-79.66552734374991,54.69746093749998],[-77.89111328124989,55.236425781250006],[-77.32495117187494,55.555517578125006],[-76.65048828124992,56.10722656249996],[-76.5728515625,57.1812011718751],[-77.15678710937496,58.018896484375034],[-78.51508789062493,58.68237304687503],[-77.76069335937498,59.38002929687505],[-77.31181640624993,60.042382812499994],[-77.8715332031249,60.7858398437501],[-77.73618164062495,61.43735351562498],[-78.13715820312493,62.10737304687504],[-78.06811523437489,62.355419921875125],[-77.372412109375,62.572509765625114],[-74.68989257812493,62.18344726562509],[-73.62998046874989,62.454199218750006],[-72.0814453125,61.728271484375085],[-71.42270507812489,61.158935546875085],[-70.27929687499991,61.06865234374999],[-69.64047851562489,60.68979492187509],[-69.75590820312496,60.38852539062498],[-69.68188476562489,59.34174804687507],[-69.17348632812497,58.896630859374994],[-68.69819335937495,58.904541015625],[-67.5696289062499,58.21347656250006],[-66.60791015624991,58.548925781250034],[-65.60624999999993,59.11074218750008],[-65.4333984374999,59.776513671874994],[-64.93125,60.252001953125074],[-64.49941406250005,60.26826171875001],[-63.18535156249993,58.85776367187506],[-62.593847656249864,58.47402343750005],[-62.30566406249997,57.97226562499995],[-61.899072265624994,57.861328125000085],[-61.851074218749886,57.38129882812501],[-61.33374023437494,57.01059570312498],[-61.514599609374926,56.3903320312501],[-59.93032226562491,55.25942382812508],[-58.99711914062496,55.149462890625074],[-58.780175781249994,54.838378906250114],[-58.195263671874926,54.86591796875004],[-57.40444335937494,54.570410156250034],[-58.15136718749997,54.350439453125006],[-57.4160644531249,54.162744140625136],[-57.14897460937493,53.847705078125074],[-56.46499023437505,53.76503906250011],[-55.79794921874995,53.211962890625045],[-55.83364257812494,52.31040039062506],[-55.695214843749994,52.13779296875006],[-56.97597656250005,51.45766601562505],[-58.510351562500006,51.295068359375136],[-59.16538085937495,50.779882812500006],[-60.08017578124989,50.2545898437501],[-61.289746093749926,50.20195312500002],[-62.71542968749995,50.30166015625008],[-64.86787109374998,50.27548828125009],[-65.2686035156249,50.3200195312501],[-66.49550781249991,50.2118652343751],[-66.94116210937503,49.993701171875045],[-67.37202148437495,49.348437500000045],[-68.28193359374998,49.197167968750136],[-68.929052734375,48.82895507812509],[-69.77499999999995,48.09809570312504],[-69.9055664062499,47.83222656250007],[-70.70585937499996,47.13979492187505],[-71.26777343749995,46.79594726562499],[-71.87958984374998,46.68681640624996],[-72.98100585937493,46.209716796875085],[-73.97382812499995,45.345117187499994],[-74.70888671874997,45.0038574218751]]],[[[-114.52153320312502,72.592919921875],[-113.50004882812502,72.69443359375006],[-112.75361328125001,72.98603515624995],[-111.26972656249994,72.71372070312498],[-108.69829101562502,72.499267578125],[-108.23823242187498,73.10581054687503],[-107.72001953125002,73.32905273437504],[-106.48212890624998,73.19619140624997],[-105.41513671874995,72.788330078125],[-104.34956054687501,71.43398437500005],[-104.56958007812499,71.10405273437507],[-103.10498046874994,70.51025390624997],[-101.14853515624998,70.147607421875],[-100.93510742187493,69.71533203125003],[-102.18212890624997,69.845947265625],[-101.85712890625001,69.02397460937505],[-103.46821289062497,68.80854492187504],[-105.019580078125,69.08124999999998],[-106.140869140625,69.16201171875002],[-106.65908203124997,69.439599609375],[-107.43989257812497,69.00214843749995],[-108.9458984375,68.75981445312505],[-111.3109375,68.54204101562502],[-113.12773437500002,68.49414062500003],[-113.69414062499995,69.19501953124998],[-116.51347656249993,69.42460937500005],[-117.13544921875,70.10014648437499],[-114.59233398437497,70.31245117187498],[-112.63789062499997,70.225244140625],[-112.11416015624994,70.44687500000003],[-113.75727539062503,70.69072265625005],[-115.99091796874997,70.586279296875],[-117.58706054687498,70.62954101562502],[-118.26406249999998,70.888330078125],[-117.81406249999996,71.15844726562503],[-118.868408203125,71.68676757812503],[-118.94462890624997,71.98554687499995],[-118.21347656249998,72.26289062499998],[-118.37451171875,72.53388671875004],[-116.57324218749994,73.05493164062506],[-114.63823242187499,73.37265625000003],[-114.05170898437497,73.07099609375004],[-114.52153320312502,72.592919921875]]],[[[-105.28891601562499,72.919921875],[-106.92153320312497,73.479833984375],[-105.51230468750002,73.765771484375],[-104.58286132812493,73.35390625000002],[-105.28891601562499,72.919921875]]],[[[-79.53730468749998,73.65449218749998],[-78.2865234375,73.66582031250007],[-77.20654296874997,73.49956054687505],[-76.28955078125003,73.08100585937504],[-76.400537109375,72.820654296875],[-77.83593750000003,72.89682617187498],[-79.50053710937496,72.75595703124998],[-80.82416992187495,73.38066406250007],[-80.84887695312503,73.72124023437499],[-79.53730468749998,73.65449218749998]]],[[[-86.58935546874997,71.01079101562507],[-84.78959960937493,71.09326171875],[-84.65996093749999,71.58613281249995],[-85.91162109375,71.98652343749998],[-85.34111328124993,72.42153320312497],[-85.64453125000003,72.77446289062502],[-85.018408203125,73.33549804687502],[-82.65961914062498,73.72958984375],[-81.40615234374997,73.634521484375],[-80.27470703124993,72.74555664062498],[-80.94121093750002,72.21015624999998],[-79.000244140625,72.27202148437507],[-78.00102539062499,72.68759765625],[-76.89350585937495,72.72065429687498],[-75.18579101562494,72.434228515625],[-74.31572265624999,71.84267578125],[-71.45991210937493,71.46372070312498],[-70.56093750000002,70.73828124999997],[-69.16870117187497,70.76416015625],[-67.36367187499994,70.03442382812503],[-68.51303710937498,69.57729492187497],[-66.77084960937498,69.33666992187497],[-67.75170898437494,69.038671875],[-68.037939453125,68.55073242187501],[-67.032958984375,68.32607421874997],[-66.2251953125,67.958740234375],[-64.52753906250001,67.81269531250001],[-64.00795898437502,67.34731445312497],[-61.96855468749993,67.01904296874997],[-61.29970703125002,66.64873046875002],[-61.99160156250002,66.03530273437502],[-62.65888671874998,65.63994140625002],[-63.36425781249997,65.54321289062503],[-63.40180664062498,65.11845703125002],[-64.66533203125002,65.1689453125],[-65.401611328125,65.764013671875],[-65.30537109374993,66.00844726562497],[-66.47695312499997,66.27973632812498],[-67.18320312499995,66.03442382812503],[-68.2568359375,65.93862304687505],[-67.30341796874993,65.48291015625],[-66.86064453124996,65.09160156250005],[-65.2748046875,64.63154296875004],[-64.67846679687503,64.027978515625],[-64.51435546874998,63.263964843750045],[-65.06894531249998,63.26347656250002],[-65.26582031249995,62.71508789062503],[-65.978857421875,63.000683593749955],[-67.67597656249998,63.093554687500045],[-66.28124999999997,62.302685546874955],[-66.25668945312503,61.868261718750006],[-67.44013671874998,62.15126953125002],[-69.08232421874996,62.405175781249966],[-69.54516601562503,62.74458007812501],[-70.23613281250002,62.76337890625001],[-71.25371093749993,63.042529296875045],[-73.44365234374996,64.423486328125],[-74.512451171875,64.670166015625],[-75.0673828125,64.45668945312502],[-76.72382812499995,64.24204101562498],[-77.79116210937497,64.36708984374997],[-78.09560546875,64.93925781250002],[-77.44746093749993,65.16157226562501],[-77.32670898437493,65.45312499999997],[-75.82832031249993,65.22705078125003],[-73.56074218750001,65.54291992187498],[-74.433935546875,66.139013671875],[-72.22001953124999,67.25429687500002],[-73.32822265624998,68.26674804687497],[-74.64794921874997,68.70751953124997],[-74.91728515624996,68.98286132812501],[-76.40341796874995,68.69233398437498],[-75.78715820312499,69.31865234375005],[-77.12880859374994,69.65273437499997],[-78.809814453125,70.17856445312498],[-79.61591796875001,69.89472656249998],[-81.09829101562494,70.09116210937503],[-82.13872070312499,69.8412109375],[-86.32202148437503,70.14541015625],[-86.62431640624999,70.40126953124997],[-87.90068359374996,70.25190429687501],[-88.84843749999993,70.52290039062498],[-89.36552734374996,71.06718750000002],[-87.84492187499995,70.94438476562505],[-87.87246093749997,71.20854492187505],[-89.079345703125,71.28793945312503],[-89.84575195312499,71.49228515625],[-90.02519531249996,71.94877929687502],[-89.26323242187499,73.068994140625],[-87.71977539062496,73.72290039062497],[-86.76875000000001,73.83398437500006],[-84.97451171874997,73.69477539062501],[-86.62934570312493,72.87080078125001],[-86.03613281249997,71.77094726562504],[-85.02338867187495,71.35322265625001],[-86.58935546874997,71.01079101562507]]],[[[-100.00190429687497,73.9458984375],[-99.15795898437499,73.73159179687497],[-97.58183593749996,73.88754882812503],[-97.001708984375,73.66650390625003],[-97.79589843749997,73.285302734375],[-97.05180664062499,72.63681640625003],[-96.61342773437494,71.83383789062506],[-98.66289062499993,71.302099609375],[-99.167138671875,71.36718750000003],[-100.594482421875,72.15234375000003],[-101.72392578124996,72.31489257812501],[-102.71367187499999,72.78291015624995],[-100.48476562500002,72.77294921874997],[-100.28266601562497,73.12031249999995],[-101.45087890625003,73.43095703125002],[-100.91513671874995,73.80537109374998],[-100.00190429687497,73.9458984375]]],[[[-93.17084960937498,74.16098632812506],[-92.22270507812502,73.97236328124998],[-90.35458984375,73.86865234375],[-92.11791992187497,72.75380859375],[-93.34062499999993,72.80185546875],[-94.03754882812498,72.02875976562498],[-95.19296875,72.02744140624998],[-95.54760742187497,72.78154296875005],[-95.63291015625003,73.69545898437497],[-95.03984374999999,74.02387695312501],[-93.17084960937498,74.16098632812506]]],[[[-119.73632812499997,74.11264648437498],[-117.96586914062497,74.26606445312495],[-117.19882812500003,74.171142578125],[-115.51069335937501,73.61874999999998],[-115.44687499999998,73.43886718750002],[-118.96157226562497,72.68413085937499],[-120.17988281250001,72.21264648437506],[-120.61933593750001,71.50576171875002],[-123.210595703125,71.12343750000002],[-124.00776367187494,71.67744140624998],[-125.76259765624997,72.13750000000002],[-124.98710937499997,72.58798828125003],[-124.83642578125001,73.07626953125003],[-123.79726562499997,73.76816406250003],[-124.69624023437497,74.34819335937499],[-121.31523437499995,74.52998046874998],[-119.73632812499997,74.11264648437498]]],[[[-93.54257812499995,75.0279296875],[-93.54716796875002,74.69106445312505],[-94.697265625,74.64218750000003],[-96.565771484375,75.09873046875003],[-95.67080078125002,75.52866210937498],[-94.42724609374997,75.593359375],[-93.54257812499995,75.0279296875]]],[[[-102.22734374999995,76.014892578125],[-103.31474609374996,75.76420898437499],[-104.35063476562497,76.18232421875001],[-102.58408203124996,76.281640625],[-102.22734374999995,76.014892578125]]],[[[-97.70092773437497,76.46650390624998],[-97.40961914062495,75.55209960937503],[-97.79936523437496,75.11665039062495],[-100.234375,75.00771484374997],[-100.71191406250003,75.40634765625],[-102.54140624999998,75.51362304687501],[-101.43134765624995,75.99199218750005],[-102.13774414062499,76.28486328125001],[-100.38793945312501,76.61357421875002],[-97.70092773437497,76.46650390624998]]],[[[-108.29238281250001,76.05712890625],[-105.48090820312503,75.74565429687505],[-105.86259765624997,75.19155273437505],[-107.15341796874996,74.9271484375],[-108.83129882812501,75.06489257812498],[-110.94086914062501,74.63872070312505],[-112.51933593749997,74.41684570312503],[-113.51406249999994,74.430078125],[-114.45175781250002,75.08789062499997],[-115.72885742187496,74.968115234375],[-117.60009765624997,75.27167968750001],[-116.60976562500001,76.07373046875],[-115.58066406249996,76.43750000000003],[-114.19394531249999,76.45146484375005],[-112.69760742187496,76.20170898437505],[-111.05268554687495,75.54853515625001],[-109.08637695312503,75.506494140625],[-109.79604492187501,75.86303710937497],[-109.48681640624999,76.14467773437497],[-110.27001953125003,76.41699218750003],[-108.62763671875001,76.58671875000005],[-108.29238281250001,76.05712890625]]],[[[-94.29497070312493,76.91245117187498],[-92.71625976562493,76.60297851562498],[-91.305029296875,76.68076171875003],[-90.25136718749994,76.05346679687503],[-88.201318359375,75.51201171875005],[-86.06874999999994,75.50224609375002],[-83.931982421875,75.81894531250003],[-82.153662109375,75.83105468750003],[-79.66020507812499,75.44951171875002],[-79.50795898437497,74.880126953125],[-80.27773437500002,74.58159179687502],[-81.80883789062503,74.47661132812505],[-88.42304687499995,74.49414062499997],[-89.844384765625,74.54858398437497],[-91.96157226562502,74.79321289062497],[-92.427099609375,75.34638671874995],[-92.18510742187499,75.84653320312498],[-93.09174804687495,76.35400390624997],[-95.27387695312498,76.26440429687503],[-96.63969726562496,76.70292968750002],[-95.63823242187496,77.06376953124999],[-94.29497070312493,76.91245117187498]]],[[[-115.55126953125001,77.36328125],[-116.22045898437501,76.61108398437506],[-119.36791992187497,76.22177734375003],[-119.91289062499997,75.85883789062501],[-121.90820312499996,76.03476562500006],[-121.61376953125001,76.44145507812505],[-119.09018554687496,77.30507812500002],[-115.55126953125001,77.36328125]]],[[[-95.48437499999997,77.79199218750003],[-93.30097656249995,77.73979492187505],[-93.51958007812499,77.47441406250007],[-95.98706054687497,77.484130859375],[-95.48437499999997,77.79199218750003]]],[[[-110.45805664062496,78.10322265625001],[-109.77177734374995,77.95742187499997],[-110.19848632812501,77.52451171874998],[-111.95195312500002,77.34418945312501],[-113.16435546875002,77.5302734375],[-113.21518554687498,77.90351562500001],[-110.45805664062496,78.10322265625001]]],[[[-109.81596679687499,78.65039062500003],[-109.39052734375,78.33666992187506],[-113.14995117187502,78.40839843750001],[-110.40781249999995,78.75664062499999],[-109.81596679687499,78.65039062500003]]],[[[-96.20449218749994,78.53129882812499],[-94.88715820312498,78.34521484375003],[-95.08701171875,77.99262695312495],[-96.98964843749994,77.80600585937503],[-98.25493164062496,78.42924804687499],[-96.20449218749994,78.53129882812499]]],[[[-103.42602539062499,79.31562500000001],[-99.60942382812495,78.58305664062507],[-99.16640625000002,77.85693359375003],[-100.58603515624996,77.89179687500001],[-101.07412109375001,78.19384765625],[-102.73134765624995,78.37104492187495],[-103.51835937499996,78.76914062500006],[-105.53564453124999,79.03251953125007],[-105.38769531249994,79.32358398437503],[-103.42602539062499,79.31562500000001]]],[[[-91.88554687499999,81.13286132812505],[-90.64301757812498,80.59370117187498],[-87.67499999999998,80.37211914062505],[-87.14423828124993,79.66264648437502],[-85.5013671875,79.53032226562505],[-85.28984374999999,79.208349609375],[-87.016455078125,78.89868164062497],[-88.79101562499997,78.19243164062507],[-90.614404296875,78.14985351562501],[-92.67827148437502,78.38911132812498],[-95.10317382812502,79.289892578125],[-95.29697265624998,79.653076171875],[-96.77324218749999,80.13579101562502],[-95.61445312499998,80.39624023437497],[-96.1328125,80.69140624999997],[-95.26977539062503,81.00078125000005],[-91.88554687499999,81.13286132812505]]],[[[-69.4888671875,83.01679687499998],[-64.77675781249997,82.87646484374997],[-61.392480468749994,82.44189453125],[-62.17670898437498,82.04340820312498],[-64.57402343749996,81.73374023437506],[-65.48398437499998,81.28476562499998],[-70.14350585937498,80.39765625000001],[-71.387841796875,79.76176757812505],[-75.25947265624995,79.421044921875],[-76.255859375,79.00683593749997],[-74.43310546875,78.72412109375003],[-75.86596679687497,78.00981445312499],[-78.01259765624997,77.94604492187506],[-78.07617187500003,77.51904296875],[-79.34086914062493,77.15839843749998],[-78.28886718750002,76.97797851562501],[-78.284326171875,76.57124023437501],[-80.69028320312495,76.17646484374995],[-81.17070312499996,76.51274414062499],[-83.88569335937501,76.45312500000003],[-85.141259765625,76.30458984375005],[-89.57006835937497,76.49194335937503],[-89.49975585937503,76.82680664062502],[-88.39814453124995,77.10395507812501],[-86.873779296875,77.20029296875],[-88.09467773437495,77.71918945312501],[-87.01796874999997,77.89223632812502],[-87.5517578125,78.17661132812503],[-86.80791015624999,78.77436523437495],[-84.31611328124993,78.97529296874995],[-85.08979492187498,79.61215820312503],[-86.42075195312498,79.84521484374997],[-86.30717773437493,80.31933593750003],[-83.72363281250003,80.22895507812501],[-80.05107421874993,80.52856445312503],[-83.40141601562502,80.71396484375003],[-85.30742187500002,80.52597656250003],[-88.92143554687499,80.80561523437498],[-89.94731445312499,81.17265625000005],[-88.97836914062503,81.54150390624997],[-90.49018554687501,81.87724609374999],[-86.58061523437496,82.18720703124998],[-82.12250976562498,82.60175781249998],[-79.88632812500003,82.93852539062502],[-69.96992187499995,83.11611328125005],[-69.4888671875,83.01679687499998]]]]},properties:{name:"Canada",childNum:36}},{geometry:{type:"Polygon",coordinates:[[[9.524023437500006,47.524218749999996],[9.527539062500011,47.270751953125],[9.580273437500011,47.057373046875],[9.996875000000017,46.8853515625],[10.349414062500017,46.984765624999994],[10.414941406250023,46.964404296874996],[10.45458984375,46.8994140625],[10.452832031250011,46.86494140625],[10.406054687500017,46.73486328125],[10.39794921875,46.6650390625],[10.4306640625,46.550048828125],[10.363085937500017,46.5470703125],[10.272265625000017,46.564843749999994],[10.195507812500011,46.62109375],[10.137500000000017,46.61435546875],[10.087011718750006,46.599902343749996],[9.939257812500017,46.36181640625],[9.203417968750017,46.21923828125],[8.826757812500006,46.06103515625],[8.818554687500011,46.0771484375],[8.458398437500023,46.245898437499996],[8.370703125000006,46.445117187499996],[8.08154296875,46.256005859374994],[7.787890625000017,45.921826171875],[7.327929687500017,45.912353515625],[6.772070312500006,46.16513671875],[6.758105468750017,46.415771484375],[6.428906250000011,46.430517578125],[6.27294921875,46.252246093749996],[6.199414062500011,46.19306640625],[6.086621093750011,46.147021484374996],[6.006640625000017,46.142333984375],[5.971484375000017,46.151220703125],[5.970019531250017,46.214697265625],[6.060253906250011,46.428173828125],[6.429003906250017,46.832275390625],[7.000585937500006,47.322509765625],[7.615625000000023,47.592724609375],[8.414746093750011,47.589599609375],[8.572656250000023,47.775634765625],[9.524023437500006,47.524218749999996]]]},properties:{name:"Switzerland",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-67.07993164062498,-55.15380859374996],[-68.07001953124995,-55.22109374999999],[-68.10693359375003,-54.929394531249976],[-67.245263671875,-54.977636718750034],[-67.07993164062498,-55.15380859374996]]],[[[-69.70297851562503,-54.91904296875],[-68.90078125000002,-55.01777343750004],[-68.28266601562495,-55.25517578125],[-68.293359375,-55.521386718749966],[-69.41181640624995,-55.44423828124997],[-69.97978515625002,-55.14746093749999],[-69.70297851562503,-54.91904296875]]],[[[-72.92324218749997,-53.481640625],[-72.20541992187503,-53.80742187500002],[-73.30473632812499,-53.943945312500034],[-73.68652343749997,-53.42685546875003],[-72.92324218749997,-53.481640625]]],[[[-68.62993164062499,-52.65263671875004],[-68.65322265624994,-54.85361328124999],[-69.48627929687493,-54.85888671875],[-69.72343750000002,-54.71210937500003],[-70.49716796875,-54.80957031249999],[-71.44091796874997,-54.61962890625002],[-70.89824218749999,-54.337890625],[-70.86772460937499,-53.88417968750002],[-70.09038085937499,-53.41816406250003],[-70.39067382812496,-53.02646484374999],[-69.76357421875002,-52.731347656249994],[-68.62993164062499,-52.65263671875004]]],[[[-74.47617187499998,-49.14785156250002],[-74.59472656249997,-50.00664062500001],[-75.30009765624996,-49.8474609375],[-75.184228515625,-49.08359374999999],[-74.79345703124997,-48.70507812499997],[-74.47617187499998,-49.14785156250002]]],[[[-74.56728515625,-48.591992187500026],[-74.92304687499998,-48.62646484375003],[-75.21289062499997,-48.141699218750034],[-74.72929687499996,-48.12587890625001],[-74.56728515625,-48.591992187500026]]],[[[-72.98613281249999,-44.780078124999974],[-73.44506835937497,-44.641015624999966],[-73.20771484374993,-44.33496093749997],[-72.76406249999997,-44.54902343749997],[-72.98613281249999,-44.780078124999974]]],[[[-73.73535156249997,-44.39453125000003],[-73.98330078125002,-44.494824218750026],[-73.72714843749998,-45.11904296875001],[-74.09907226562498,-45.32539062500004],[-74.61777343749998,-44.64794921874996],[-74.50180664062498,-44.47353515624995],[-73.73535156249997,-44.39453125000003]]],[[[-73.77338867187498,-43.3458984375],[-74.35493164062498,-43.26357421875001],[-74.20947265625,-42.87871093750003],[-74.03666992187496,-41.79550781249998],[-73.52783203124997,-41.89628906249999],[-73.47080078124998,-42.46630859375004],[-73.78925781249993,-42.58574218750003],[-73.43632812499996,-42.9365234375],[-73.77338867187498,-43.3458984375]]],[[[-67.19487304687493,-22.821679687500037],[-67.00878906249994,-23.00136718750005],[-67.35620117187503,-24.033789062499963],[-68.25029296875002,-24.391992187500023],[-68.56201171875,-24.83769531249996],[-68.38422851562495,-25.091894531249977],[-68.60029296874998,-25.48564453124999],[-68.41450195312498,-26.153710937500023],[-68.58115234375,-26.518359374999974],[-68.34599609374996,-27.02792968750005],[-68.84633789062494,-27.153710937499994],[-69.17441406249998,-27.924707031250037],[-69.65693359374995,-28.413574218749986],[-69.82788085937497,-29.10322265624997],[-70.02680664062501,-29.324023437500017],[-69.92763671874997,-29.76914062500002],[-69.95634765624996,-30.35820312500003],[-70.16142578124999,-30.44023437499996],[-70.51958007812493,-31.1484375],[-70.585205078125,-31.569433593749963],[-70.16962890624995,-32.471679687500014],[-70.01982421874999,-33.27148437499997],[-69.79775390624997,-33.398632812500026],[-69.85244140625,-34.224316406250026],[-70.28994140624997,-34.732812499999966],[-70.47041015624995,-35.32617187499997],[-70.40478515625,-36.06171874999998],[-71.05551757812498,-36.52373046874996],[-71.16757812499998,-37.76230468749996],[-71.028173828125,-38.041210937500026],[-70.95161132812493,-38.73847656249997],[-71.42558593749996,-38.98564453125006],[-71.53945312499997,-39.60244140624995],[-71.71992187499995,-39.63525390624997],[-71.69531250000003,-40.33525390625003],[-71.93212890624994,-40.69169921874999],[-71.91127929687497,-41.650390624999986],[-71.76093749999998,-42.101464843749966],[-72.12460937499998,-42.298339843750014],[-72.14643554687498,-42.990039062499974],[-71.781494140625,-43.16679687500002],[-71.90498046875001,-43.44013671875001],[-71.68007812500002,-43.92958984374998],[-71.82001953124993,-44.38310546875],[-71.21259765624998,-44.44121093750003],[-71.26113281250002,-44.763085937499966],[-71.5962890625,-44.97919921875004],[-71.35375976562497,-45.23046874999997],[-71.77265624999995,-45.724414062499974],[-71.87568359374998,-46.16054687500001],[-71.69521484375,-46.57841796875006],[-71.94023437499999,-46.831250000000054],[-71.90498046875001,-47.201660156250014],[-72.34594726562497,-47.49267578124997],[-72.517919921875,-47.87636718749998],[-72.35473632812497,-48.36582031250005],[-72.61440429687494,-48.79287109375],[-73.57626953124998,-49.582910156250016],[-73.50126953124996,-50.125292968750024],[-73.15292968749998,-50.73828125000003],[-72.50981445312496,-50.607519531250034],[-72.27631835937498,-50.910253906249984],[-72.40766601562501,-51.54082031250002],[-71.91865234374995,-51.98955078125004],[-69.96025390624993,-52.00820312500002],[-68.443359375,-52.35664062500004],[-69.24101562499996,-52.20546874999997],[-69.56059570312496,-52.42158203125004],[-70.79511718749995,-52.768749999999976],[-70.99584960937497,-53.77929687499997],[-71.29775390625002,-53.88339843750004],[-72.1744140625,-53.632324218749964],[-71.85273437499993,-53.28574218749996],[-71.40034179687495,-53.10703124999997],[-71.38774414062496,-52.76425781250004],[-72.45830078124993,-53.25449218749999],[-73.05273437499997,-53.24345703125005],[-74.01445312499999,-52.63935546875],[-73.51816406250003,-52.04101562499996],[-73.9732421875,-51.78447265625],[-73.8958984375,-51.331445312499994],[-74.81474609374996,-51.062890624999994],[-75.09467773437495,-50.681249999999956],[-74.333740234375,-49.97460937499997],[-74.34101562499998,-48.59570312499998],[-74.57719726562496,-48.274414062499986],[-74.654931640625,-47.702246093750034],[-74.15839843749998,-47.18251953125002],[-74.15190429687499,-46.97441406249999],[-75.65678710937499,-46.610351562499986],[-74.924462890625,-46.159667968750014],[-75.06669921874993,-45.874902343749994],[-74.15786132812497,-45.76718749999999],[-74.03754882812498,-45.41767578125001],[-73.54990234375,-45.48378906249998],[-73.36245117187502,-44.97822265625001],[-72.73896484375001,-44.73417968750003],[-72.66386718749999,-44.43642578124995],[-73.26508789062498,-44.16865234375001],[-72.99658203125,-43.63154296875001],[-72.78515625,-42.301269531249986],[-72.49941406249997,-41.980859374999994],[-72.66977539062503,-41.65937500000004],[-73.014990234375,-41.54384765624995],[-73.52128906249996,-41.797070312500026],[-73.96586914062493,-41.118261718750034],[-73.66943359375003,-40.08232421875002],[-73.41040039062503,-39.78916015624998],[-73.22646484375002,-39.22441406250003],[-73.53256835937503,-38.366796875000006],[-73.46479492187498,-38.04033203125003],[-73.66181640624998,-37.69853515625003],[-73.60166015624998,-37.18847656250003],[-73.21596679687502,-37.16689453124998],[-73.11806640624997,-36.68837890625002],[-72.87456054687502,-36.39042968749999],[-72.62392578125002,-35.5857421875],[-72.22377929687494,-35.096191406250014],[-72.00283203124997,-34.16533203125],[-71.66435546875002,-33.65263671875],[-71.74296874999996,-33.09511718750001],[-71.45224609374998,-32.65957031250001],[-71.52587890624997,-31.805859374999997],[-71.66196289062498,-31.169531250000034],[-71.66948242187499,-30.33037109374996],[-71.40039062499997,-30.142968749999966],[-71.31572265624996,-29.649707031250017],[-71.51923828124993,-28.926464843750026],[-71.18642578125,-28.37783203124998],[-71.05263671875,-27.727343749999974],[-70.64658203124998,-26.329394531250017],[-70.71372070312498,-25.78417968749997],[-70.44536132812502,-25.17265624999999],[-70.57412109374994,-24.644335937500003],[-70.48779296874994,-23.781738281249957],[-70.56318359374995,-23.057031250000023],[-70.33168945312494,-22.848632812500014],[-70.08754882812494,-21.49306640624998],[-70.19702148437494,-20.725390625000003],[-70.14814453124995,-19.805078124999994],[-70.27578125000002,-19.267578125000014],[-70.33486328124997,-18.82753906249998],[-70.33608398437494,-18.595214843749986],[-70.36162109374999,-18.398046874999963],[-70.41826171874999,-18.345605468750023],[-70.37749023437496,-18.333593749999977],[-70.18378906250001,-18.325195312499957],[-70.05908203125,-18.28349609374999],[-69.92636718749998,-18.206054687500014],[-69.85209960937493,-17.70380859375001],[-69.49501953125002,-17.619531249999994],[-69.3580078125,-17.771679687499983],[-69.31337890624997,-17.943164062500017],[-69.28232421875003,-17.96484375],[-69.09394531249993,-18.05048828125004],[-69.09228515624994,-18.28242187500004],[-69.02680664062493,-18.656249999999986],[-68.97885742187503,-18.81298828125003],[-68.96831054687502,-18.967968749999983],[-68.85795898437499,-19.09335937500005],[-68.62055664062495,-19.29667968749999],[-68.54785156249997,-19.341113281249974],[-68.49199218749996,-19.381933593750034],[-68.47016601562495,-19.409960937499974],[-68.46289062499997,-19.43281250000001],[-68.69829101562499,-19.721093750000037],[-68.75932617187499,-20.115527343750003],[-68.74516601562493,-20.458593750000006],[-68.197021484375,-21.30029296874997],[-68.18642578124997,-21.618554687499966],[-68.11215820312503,-21.753027343750006],[-68.0767578125,-21.982812500000023],[-67.98837890625003,-22.05712890624997],[-67.95390624999993,-22.204003906249966],[-67.95039062499993,-22.333691406249997],[-67.88173828124997,-22.493359375000026],[-67.87944335937496,-22.822949218750026],[-67.57993164062495,-22.89169921874999],[-67.36225585937493,-22.85517578125001],[-67.19487304687493,-22.821679687500037]]]]},properties:{name:"Chile",childNum:10}},{geometry:{type:"MultiPolygon",coordinates:[[[[110.88876953125006,19.99194335937497],[111.01367187500003,19.65546875000001],[110.57216796875005,19.17187499999997],[110.45126953125012,18.747949218750023],[109.51933593750007,18.21826171875003],[108.7015625,18.535253906250034],[108.69355468750004,19.33828125000005],[109.17910156250005,19.674121093750074],[109.21894531250004,19.842822265625074],[110.1715820312501,20.053710937500057],[110.88876953125006,19.99194335937497]]],[[[130.52695312500012,42.535400390625],[130.24033203125006,42.891796874999955],[129.89824218750002,42.998144531250034],[129.71972656249997,42.47500000000005],[129.3136718750001,42.41357421874997],[128.92343750000006,42.038232421874966],[128.04521484375007,41.98750000000004],[128.29091796875,41.56279296875002],[128.11123046875,41.389257812500006],[127.17968750000003,41.531347656250006],[126.9035156250001,41.78105468749999],[125.98906250000002,40.904638671875034],[124.8893554687501,40.459814453125006],[124.36210937500002,40.004052734374994],[124.10576171875002,39.84101562499998],[123.34814453124997,39.76293945312497],[122.33486328125005,39.36611328125005],[121.64990234375003,38.865087890625034],[121.78544921875002,39.40083007812501],[121.51757812499997,39.638964843750045],[122.27500000000012,40.541845703125034],[121.85878906250005,40.84208984375002],[121.1745117187501,40.901269531249994],[120.47910156250006,40.23095703125003],[119.59111328125007,39.90263671875002],[118.9123046875001,39.16640625000005],[118.29785156249997,39.067089843749955],[117.78466796875003,39.13447265625001],[117.5578125000001,38.625146484374994],[118.01494140625007,38.18339843749996],[118.94003906250006,38.04277343750002],[119.08916015625007,37.70073242187496],[118.95263671875003,37.33115234374998],[119.4499023437501,37.12475585937503],[120.37011718749997,37.701025390625006],[120.75000000000003,37.83393554687501],[121.64023437500012,37.46035156250002],[122.60234375000002,37.42641601562502],[122.51972656250004,36.94682617187502],[121.93271484375006,36.95947265625003],[120.98994140625004,36.59794921874999],[120.39306640625003,36.053857421874994],[120.05468750000003,35.86113281249999],[119.21582031250003,35.01176757812496],[119.58291015625,34.58222656250004],[120.20146484375007,34.32568359375],[120.87109374999997,33.016503906249994],[120.8532226562501,32.66137695312503],[121.40097656250012,32.371923828125034],[121.351953125,31.85878906250005],[121.05537109375004,31.719433593749983],[121.66064453124997,31.319726562499994],[121.87792968750003,30.91699218750003],[120.99765625000012,30.558251953125023],[121.1593750000001,30.3017578125],[121.94433593749997,29.89409179687499],[121.71748046875004,29.25634765625],[121.60205078124997,28.366601562500023],[121.09843750000002,28.29052734374997],[120.2787109375,27.097070312500023],[119.64824218750002,25.91870117187503],[119.53945312500005,25.59125976562504],[119.02460937500004,25.223437500000045],[118.56035156250007,24.580371093750045],[118.0871093750001,24.627001953125045],[118.0560546875,24.24609374999997],[116.53828125000004,23.17968749999997],[116.47070312499997,22.945898437500034],[115.49833984375002,22.718847656250063],[115.19580078125003,22.81728515625005],[114.85380859375007,22.616796875000063],[114.26601562500005,22.540966796874983],[114.01542968750007,22.51191406250001],[113.61962890624997,22.861425781249977],[113.54912109375002,22.225195312500034],[112.30498046875002,21.74169921875003],[111.94394531250012,21.84965820312499],[111.60273437500004,21.55908203125003],[110.77109375000006,21.386523437500045],[110.1935546875001,21.037646484375045],[110.51152343750007,20.51826171875001],[110.12314453125006,20.263720703125017],[109.66259765625003,20.91689453125005],[109.93076171875012,21.480566406250034],[109.54404296875012,21.537939453125006],[109.14863281250004,21.425537109375],[109.03056640625007,21.626513671875017],[108.32480468750006,21.693505859374994],[107.97265624999997,21.507958984375023],[107.35117187500012,21.60888671874997],[106.72949218749997,22.000341796875063],[106.53632812500004,22.395410156249994],[106.78027343749997,22.778906250000034],[106.14843749999997,22.970068359375006],[105.8429687500001,22.922802734374955],[105.27539062500003,23.34521484375003],[104.86474609375003,23.136376953125023],[104.79570312500007,22.91113281249997],[104.37177734375004,22.704052734374983],[103.35605468750006,22.75468749999999],[103.00537109375003,22.452978515624977],[102.51718750000012,22.741015625000045],[102.42792968750004,22.732812499999966],[102.2370117187501,22.466015624999983],[102.1759765625001,22.414648437500006],[102.12744140624997,22.379199218750045],[102.02441406250003,22.43920898437503],[101.84179687500003,22.38847656249999],[101.75996093750004,22.490332031250034],[101.73876953124997,22.495263671874994],[101.70751953125003,22.486572265625],[101.67148437500006,22.462304687500023],[101.64619140625004,22.405419921874966],[101.61992187500002,22.32744140624999],[101.56787109374997,22.27636718749997],[101.52451171875006,22.25366210937497],[101.7365234375001,21.826513671874977],[101.74394531250007,21.77797851562505],[101.74726562500004,21.605761718750045],[101.72294921875007,21.31494140625003],[101.7630859375,21.278906249999977],[101.80205078125002,21.235986328125023],[101.80058593750007,21.212597656249983],[101.78349609375007,21.204150390625017],[101.7047851562501,21.15014648437503],[101.54238281250005,21.23427734375005],[101.2814453125001,21.184130859375045],[101.24785156250007,21.197314453125045],[101.22441406250002,21.223730468750034],[101.1388671875001,21.567480468749977],[100.83515625000004,21.655175781249994],[100.21474609375,21.462988281250006],[99.9176757812501,22.02802734375001],[99.19296875000006,22.12597656249997],[99.33769531250002,22.49804687500003],[99.34082031249997,23.095898437499955],[98.86376953125003,23.191259765625034],[98.76435546875004,24.116064453125063],[98.21250000000006,24.110644531250017],[97.68603515624997,23.898095703124966],[97.53144531250004,24.49169921875003],[97.8195312500001,25.251855468749994],[98.01074218749997,25.292529296875017],[98.6546875,25.917773437500017],[98.7318359375,26.583398437499994],[98.65117187500007,27.572460937499983],[98.29882812499997,27.550097656250045],[98.09892578125002,28.142285156249983],[97.53789062500002,28.510205078124983],[97.43144531250002,28.353906250000023],[97.35644531249997,28.254492187500006],[97.3224609375001,28.21796875000004],[97.28945312500005,28.236816406250057],[97.14511718750012,28.34033203125],[97.07539062500004,28.36894531249996],[96.65283203125003,28.44975585937499],[96.3890625,28.36791992187503],[96.32988281250002,28.496826171875],[96.58085937500007,28.763671875],[96.14140625000007,28.963476562500034],[96.18085937500004,29.11767578125],[96.23496093750006,29.245800781249983],[96.12851562500012,29.38139648437499],[96.07958984375003,29.42412109374999],[96.03535156250004,29.447167968749994],[95.88505859375007,29.39091796874999],[95.7103515625,29.313818359375006],[95.5158203125001,29.206347656250045],[95.49375000000012,29.137011718750045],[95.42021484375007,29.054296875000063],[95.27910156250002,29.04956054687497],[94.99882812500002,29.14916992187503],[94.46806640625007,29.216210937499994],[94.01328125000006,28.90751953124999],[93.76074218750003,28.729785156250017],[93.36054687500004,28.654052734375057],[92.70185546875004,28.147119140624994],[92.65253906250004,28.093359375000034],[92.41484375000002,27.824609374999994],[91.63193359375012,27.759960937499983],[91.64189453125002,27.923242187500023],[91.60556640625006,27.95170898437496],[91.22587890625007,28.071240234374983],[91.07773437500012,27.974462890624977],[91.02080078125002,27.970068359374977],[90.71572265625,28.071728515624983],[90.47734375000007,28.07084960937499],[90.3527343750001,28.080224609375023],[89.98105468750006,28.311181640625023],[89.8978515625,28.29414062500001],[89.81689453125003,28.25629882812501],[89.74980468750002,28.18818359375001],[89.65273437500005,28.158300781250034],[89.53691406250007,28.10742187499997],[88.94755859375002,27.464013671874994],[88.89140625000002,27.316064453124966],[88.83251953125003,27.36284179687499],[88.7648437500001,27.429882812499983],[88.74902343749997,27.521874999999966],[88.82988281250002,27.76738281249999],[88.84882812500004,27.86865234375],[88.80371093750003,28.006933593750034],[88.57792968750002,28.093359375000034],[87.68271484375006,27.821386718750063],[87.29072265625004,27.821923828124994],[87.14140625000002,27.838330078124955],[87.02011718750006,27.928662109374983],[86.9337890625001,27.96845703125001],[86.750390625,28.022070312500006],[86.55449218750007,28.08520507812497],[86.40869140625003,27.928662109374983],[86.07871093750006,28.083593750000006],[85.67832031250012,28.277441406249977],[85.41064453125003,28.27602539062505],[85.21210937500004,28.292626953124966],[85.1224609375,28.315966796875017],[85.08857421875004,28.37226562500001],[85.121484375,28.484277343750023],[85.15908203125,28.592236328124983],[85.1263671875,28.602636718750063],[85.06914062500007,28.60966796874999],[84.85507812500006,28.553613281250023],[84.7142578125,28.595556640625034],[84.2287109375001,28.911767578124966],[84.17558593750002,29.036376953125057],[84.12783203125005,29.15629882812496],[84.10136718750002,29.21997070312497],[84.02197265624997,29.25385742187504],[83.93593750000005,29.27949218750001],[83.58349609375003,29.18359375000003],[83.15546875000004,29.612646484375034],[83.01396484375007,29.618066406249994],[82.85429687500002,29.68339843749996],[82.6408203125001,29.831201171874966],[82.4865234375001,29.941503906249977],[82.15898437500007,30.11518554687501],[82.04335937500005,30.326757812500034],[81.8548828125,30.362402343750006],[81.64189453125007,30.38749999999999],[81.4171875000001,30.33759765625001],[81.25507812500004,30.09331054687499],[81.17714843750005,30.039892578125034],[81.11035156250003,30.03681640625004],[80.98544921875006,30.23710937499999],[80.87353515625003,30.290576171875045],[80.19121093750002,30.56840820312496],[80.20712890625006,30.683740234375023],[79.92451171875004,30.888769531250034],[79.66425781250004,30.965234374999994],[79.10712890625004,31.402636718750017],[78.74355468750005,31.323779296875017],[78.7550781250001,31.55029296875],[78.69345703125006,31.740380859374994],[78.49589843750002,32.21577148437504],[78.4552734375001,32.30034179687502],[78.41748046874997,32.466699218749994],[78.38964843749997,32.51987304687498],[78.73671875,32.55839843750002],[78.75351562500012,32.49926757812506],[79.16992187500003,32.497216796874994],[79.14550781250003,33.00146484375006],[79.10283203125007,33.05253906249996],[79.13515625000005,33.17192382812496],[79.11250000000004,33.22626953125001],[78.94843750000004,33.346533203125006],[78.86503906250002,33.43110351562501],[78.78378906250006,33.80878906250004],[78.72666015625006,34.013378906249955],[78.93642578125,34.35195312500002],[78.86484375000006,34.39033203125001],[78.32695312500007,34.60639648437498],[78.15849609375002,34.94648437499998],[78.07578125000006,35.13491210937502],[77.79941406250006,35.49589843750002],[77.44648437500004,35.47558593750006],[76.25166015625004,35.810937499999994],[76.07089843750006,35.983007812500034],[76.01044921875004,35.996337890625],[75.94511718750002,36.01757812499997],[75.840234375,36.64970703124999],[75.34667968749997,36.913476562499966],[75.05390625000004,36.98715820312498],[74.94912109375,36.96835937500006],[74.88925781250006,36.95244140625002],[74.69218750000007,37.035742187500006],[74.60058593749997,37.03666992187502],[74.54140625,37.02216796875001],[74.52646484375006,37.03066406250005],[74.49794921875,37.057226562500034],[74.37617187500004,37.13735351562502],[74.37216796875006,37.15771484375],[74.72666015625006,37.29072265625001],[74.89130859375004,37.231640624999955],[74.74501953125,38.51000976562497],[74.27744140625,38.659765625000034],[73.80166015625,38.60688476562501],[73.7956054687501,39.00214843749998],[73.60732421875,39.229199218749955],[73.63632812500006,39.396679687499955],[73.63164062500007,39.44887695312502],[73.82294921875004,39.48896484375004],[73.8727539062501,39.533300781250006],[73.9146484375,39.60649414062499],[73.8353515625,39.800146484375006],[73.85625000000002,39.828662109375045],[73.88457031250002,39.87792968750006],[73.93876953125002,39.97880859374999],[73.99160156250005,40.04311523437502],[74.02050781249997,40.05937499999996],[74.0851562500001,40.074316406250006],[74.24267578124997,40.09204101562506],[74.41191406250007,40.13720703125003],[75.0044921875,40.44951171874996],[75.58349609375003,40.605322265625006],[75.65595703125004,40.329248046874966],[75.87197265625,40.30322265625],[76.06230468750002,40.387548828125034],[76.25830078124997,40.43076171875006],[76.3185546875001,40.352246093749955],[76.39638671875005,40.389794921874966],[76.4801757812501,40.44951171874996],[76.82402343750002,40.982324218749966],[76.90771484374997,41.02416992187497],[76.98662109375002,41.039160156250006],[77.58173828125004,40.99277343750006],[77.71933593750012,41.024316406249994],[77.81523437500002,41.05561523437498],[77.9564453125,41.05068359375005],[78.1234375,41.07563476562498],[78.34628906250012,41.28144531249998],[78.36240234375012,41.37163085937496],[79.29355468750006,41.78281249999998],[79.76611328124997,41.89887695312501],[79.84042968750012,41.99575195312502],[79.90966796875003,42.014990234375034],[80.21621093750005,42.03242187500004],[80.23515625000007,42.04345703124997],[80.24619140625012,42.05981445312503],[80.20937500000005,42.190039062500006],[80.16503906249997,42.66552734375006],[80.78574218750006,43.16157226562504],[80.35527343750002,44.09726562500006],[80.45546875,44.74609375],[80.05917968750012,45.006445312500006],[81.60205078125003,45.31083984375002],[82.4787109375001,45.12358398437499],[82.32666015625003,45.519921874999994],[83.0041015625001,47.03349609374996],[83.19306640625004,47.18657226562499],[84.78613281249997,46.83071289062505],[85.65664062500005,47.254638671875],[85.52597656250006,47.915625000000006],[85.7494140625,48.38505859374999],[86.54941406250012,48.52861328125002],[86.75312500000004,49.00883789062496],[87.32285156250012,49.085791015625006],[87.41669921875004,49.07661132812501],[87.5158203125001,49.122412109375006],[87.76250000000007,49.16582031249996],[87.81425781250002,49.162304687499955],[87.82519531249997,49.116308593750006],[87.81630859375,49.080273437499955],[87.83466796875004,49.031933593749955],[87.87216796875012,49.000146484374966],[87.85986328125003,48.96552734375001],[87.74316406250003,48.88164062499999],[87.9796875000001,48.55512695312498],[88.30996093750005,48.47207031250002],[88.41396484375,48.403417968750006],[88.51708984374997,48.384472656249955],[88.56679687500005,48.31743164062496],[88.57597656250007,48.220166015624955],[88.68183593750004,48.170556640624994],[88.83828125000005,48.101708984374994],[88.91777343750007,48.089013671874966],[89.04765625000007,48.002539062500034],[89.11562500000005,47.98769531250002],[89.19628906249997,47.98090820312498],[89.32988281250007,48.024853515624955],[89.5609375,48.00395507812496],[89.63847656250007,47.909082031249994],[89.69316406250002,47.87915039062503],[89.72558593749997,47.85249023437501],[89.77812500000002,47.82700195312498],[89.91044921875007,47.844335937500034],[89.95869140625004,47.88632812499998],[90.02792968750012,47.877685546875],[90.31328125000007,47.676171874999994],[90.49619140625012,47.28515625],[90.86992187500002,46.95449218750005],[91.03388671875004,46.529003906249955],[91.00175781250007,46.03579101562502],[90.6618164062501,45.525244140625006],[90.87724609375002,45.19609375000002],[90.95361328125003,45.21591796875006],[91.05000000000004,45.217431640624994],[91.31210937500006,45.11811523437501],[91.44101562500012,45.12475585937503],[91.51005859375007,45.09824218750006],[91.584375,45.07651367187498],[92.42382812499997,45.008935546874994],[92.57890625000002,45.01098632812506],[92.78789062500007,45.035742187500034],[93.6564453125001,44.900976562500006],[94.71201171875012,44.35083007812503],[95.35029296875004,44.27807617187503],[95.35644531250003,44.005957031250006],[95.52558593750004,43.953955078125006],[95.8419921875001,43.383691406249994],[95.9125,43.20649414062504],[96.29951171875004,42.92871093750003],[96.38544921875004,42.72036132812502],[97.20566406250012,42.78979492187506],[99.46787109375012,42.568212890625034],[99.98378906250005,42.67734375000006],[101.71386718749997,42.46582031250006],[101.97294921875002,42.21586914062502],[103.07285156250006,42.00595703125006],[103.7111328125001,41.75131835937506],[103.99726562500004,41.796972656250034],[104.30517578124997,41.84614257812501],[104.49824218750004,41.87700195312499],[104.49824218750004,41.65869140625],[105.19707031250002,41.738037109375],[105.31435546875005,41.77089843750005],[105.86757812500005,41.993994140625034],[106.77001953125003,42.28872070312502],[108.17119140625002,42.44731445312502],[108.68730468750002,42.416113281250034],[109.13164062500002,42.440576171874966],[109.33984374999997,42.43837890625005],[109.44316406250002,42.455957031249994],[110.40039062499997,42.77368164062497],[111.00722656250005,43.34140624999998],[111.18681640625002,43.391992187499994],[111.45107421875005,43.47490234375002],[111.50351562500006,43.492773437500006],[111.54736328124997,43.49628906250001],[111.6408203125001,43.563183593749955],[111.71972656249997,43.62114257812496],[111.77109375000006,43.66459960937502],[111.8781250000001,43.68017578125],[111.93320312500006,43.71142578125006],[111.94287109374997,43.75244140624997],[111.93173828125012,43.81494140625],[111.83691406249997,43.93466796875006],[111.40224609375005,44.367285156250006],[111.89804687500006,45.064062500000034],[112.03261718750005,45.08164062500006],[112.11289062500006,45.06293945312498],[112.41132812500004,45.05820312499998],[112.59677734375006,44.917675781249955],[112.7067382812501,44.883447265624994],[113.04941406250006,44.81035156250002],[113.3009765625001,44.79165039062502],[113.58701171875006,44.745703125000006],[113.65263671875002,44.76347656249999],[113.87705078125012,44.89619140625001],[114.03027343749997,44.942578124999955],[114.41914062500004,45.20258789062501],[114.48730468750003,45.27172851562506],[114.50224609375002,45.316308593749994],[114.51718750000006,45.36459960937506],[114.56015625000012,45.38999023437498],[114.64433593750002,45.41328125000001],[114.73876953124997,45.41962890624998],[114.91923828125007,45.378271484375006],[115.16259765624997,45.390234375000034],[115.6810546875,45.45825195312503],[116.240625,45.795996093750006],[116.22910156250012,45.84575195312502],[116.21298828125012,45.88691406249998],[116.56259765625012,46.28979492187497],[116.6888671875,46.321972656249955],[116.78701171875,46.37666015625001],[116.85908203125004,46.387939453125],[117.3333984375,46.36201171875004],[117.6710937500001,46.52207031250006],[117.81347656249997,46.537695312500034],[117.91044921875007,46.61933593749998],[118.30869140625012,46.71704101562497],[118.72294921875007,46.69189453125],[118.8439453125001,46.76020507812498],[118.95712890625006,46.73486328124997],[119.16210937499997,46.638671875],[119.33183593750002,46.61381835937499],[119.47402343750005,46.626660156249955],[119.62021484375006,46.60395507812504],[119.70664062500006,46.60600585937502],[119.74746093750005,46.62719726562497],[119.86718750000003,46.67216796874999],[119.89785156250005,46.857812499999966],[119.71113281250004,47.14999999999998],[118.49843750000005,47.98398437499998],[117.76835937500002,47.98789062499998],[117.67666015625005,47.908300781250034],[117.55537109375004,47.80468750000006],[117.45507812500003,47.74135742187502],[117.38398437500004,47.67573242187498],[117.3507812500001,47.65219726562498],[117.28593750000002,47.666357421875034],[117.19707031250007,47.74028320312499],[117.06972656250005,47.80639648437506],[116.95166015624997,47.836572265624966],[116.90117187500007,47.85307617187496],[116.76054687500002,47.869775390624994],[116.65195312500012,47.86450195312497],[116.51347656250007,47.839550781249955],[116.37822265625002,47.84404296874999],[116.31718750000002,47.85986328125],[116.2311523437501,47.85820312500002],[116.07480468750012,47.78955078125],[115.99384765625004,47.71132812500005],[115.89824218750002,47.68691406250005],[115.71171875000002,47.798925781250034],[115.6164062500001,47.874804687500045],[115.55761718750003,47.945019531249955],[115.52509765625004,48.13085937499997],[115.63945312500007,48.18623046874998],[115.785546875,48.24824218750001],[115.7965820312501,48.346337890624994],[115.7916992187501,48.455712890624994],[115.8205078125001,48.57724609375006],[115.9538085937501,48.689355468749994],[116.6833007812501,49.82377929687499],[117.8734375,49.51347656250002],[118.4515625,49.84448242187503],[119.25986328125012,50.06640625000003],[119.19189453125003,50.37983398437504],[120.06689453125003,51.60068359375006],[120.74980468750007,52.096533203125006],[120.65615234375,52.56665039062503],[120.09453125000007,52.787207031250034],[120.70410156249997,53.171826171874955],[122.33779296875,53.485009765624994],[123.6078125,53.546533203124994],[124.81230468750002,53.133837890625045],[125.64902343750012,53.042285156250045],[126.312890625,52.39975585937506],[126.92480468749997,51.10014648437496],[127.590234375,50.20898437500003],[127.50244140624997,49.873437499999994],[127.99960937500006,49.56860351562506],[128.70400390625,49.60014648437499],[129.12011718750003,49.36206054687497],[129.49814453125012,49.38881835937502],[130.80429687500012,48.34150390624998],[130.7121093750001,48.12763671875004],[131.00273437500002,47.69145507812499],[132.5619140625,47.768505859374955],[133.14404296875003,48.10566406249998],[133.46835937500006,48.09716796875003],[134.29335937500005,48.37343750000002],[134.56357421875012,48.321728515624955],[134.75234375,47.71542968749998],[134.1676757812501,47.30219726562501],[133.86132812500003,46.24775390625004],[133.18603515625003,45.49482421875004],[132.93603515624997,45.029931640624994],[131.97753906250003,45.243994140625006],[131.08232421875002,44.91000976562498],[131.2552734375,44.07158203124999],[131.26181640625006,43.43305664062501],[131.06855468750004,42.90224609375005],[130.57724609375006,42.81162109375006],[130.52695312500012,42.535400390625]]],[[[121.00878906249997,22.62036132812497],[120.5812500000001,22.35639648437504],[120.32558593750005,22.54243164062501],[120.0724609375001,23.149755859375006],[120.15898437500002,23.70903320312499],[121.04062500000006,25.032812500000034],[121.59365234375,25.275341796874983],[121.92900390625002,24.973730468749977],[121.29589843750003,22.96660156249999],[121.00878906249997,22.62036132812497]]]]},properties:{name:"China",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[-5.262304687499977,10.319677734374991],[-4.969921874999926,9.930078125000023],[-4.814453124999972,9.841162109375034],[-4.72177734374992,9.756542968750026],[-4.625830078125006,9.713574218749969],[-4.526611328124943,9.723486328125034],[-4.406201171874926,9.647998046875031],[-4.3322265624999545,9.645703124999997],[-4.18115234375,9.78173828125],[-3.7906249999999204,9.917187499999983],[-3.5811523437499773,9.924316406250014],[-3.2235351562499375,9.895458984374997],[-2.9882812499999716,9.687353515624963],[-2.900878906249943,9.534619140625026],[-2.8751464843749375,9.500927734374997],[-2.816748046874949,9.425830078124974],[-2.705761718749983,9.351367187499989],[-2.5058593750000284,8.208740234375],[-2.6133789062499773,8.046679687500017],[-2.6688476562499943,8.022216796875014],[-2.7897460937499545,7.931933593750003],[-2.9590820312499773,7.454541015624997],[-3.2271484374999773,6.7491210937499915],[-3.200585937499966,6.348242187500034],[-2.9622558593749204,5.643017578124983],[-2.7549804687499773,5.432519531249994],[-2.815673828125,5.153027343749997],[-3.3475585937499943,5.13066406249996],[-4.037207031249977,5.23012695312498],[-5.56474609374996,5.089453125000006],[-6.8451660156249545,4.671484375000034],[-7.544970703124989,4.351318359375],[-7.574658203124983,4.572314453124989],[-7.585058593749977,4.916748046875],[-7.39990234375,5.550585937499989],[-7.636132812499994,5.90771484375],[-7.730371093749994,5.9190429687499915],[-7.800927734374994,6.0389160156249915],[-7.833251953125,6.076367187499983],[-7.855517578125017,6.150146484375],[-7.888623046875011,6.234863281250028],[-7.9815917968749375,6.2861328125],[-8.203857421875,6.29072265625004],[-8.587890625,6.490527343749989],[-8.324511718749989,6.9200195312499915],[-8.408740234374989,7.411816406249997],[-8.429980468749989,7.601855468749989],[-8.231884765624955,7.556738281250034],[-8.205957031249994,7.590234375000023],[-8.115429687499926,7.760742187500028],[-8.016748046874994,8.144921874999966],[-7.953125,8.477734374999997],[-7.823583984374977,8.467675781249994],[-7.950976562499989,8.786816406249997],[-7.8961914062499545,9.415869140624991],[-8.136962890624972,9.495703124999991],[-8.14584960937492,9.881738281250037],[-8.155175781249937,9.973193359375017],[-8.136621093749994,10.022070312500034],[-7.990624999999994,10.162500000000037],[-7.9609375,10.163476562499966],[-7.88408203124996,10.185742187499983],[-7.814208984374943,10.236572265625028],[-7.749072265624989,10.342285156249986],[-7.661132812500028,10.427441406250011],[-7.385058593749989,10.340136718749989],[-6.950341796874994,10.342333984374989],[-6.482617187499983,10.561230468749997],[-6.261132812499994,10.724072265625054],[-6.0345703124999375,10.194824218750057],[-5.843847656249977,10.389550781250023],[-5.694287109374983,10.433203125000034],[-5.556591796874983,10.439941406249986],[-5.382275390625011,10.314013671875003],[-5.262304687499977,10.319677734374991]]]},properties:{name:"Ivory Coast",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[15.480078125000006,7.5237792968749915],[15.245898437500017,7.263574218749994],[14.7392578125,6.27978515625],[14.616894531250011,5.865136718749994],[14.708984375,4.665576171874989],[15.022753906250017,4.358544921874994],[15.128710937500017,3.826904296875],[15.775000000000006,3.127197265625],[16.0634765625,2.9085937499999943],[16.183398437500017,2.2700683593749886],[16.059375000000017,1.6762207031249972],[15.741601562500023,1.9149902343749972],[14.902441406250006,2.0123046874999915],[14.484082031250011,2.154736328124997],[13.293554687500006,2.161572265624997],[13.220312500000006,2.2564453124999915],[11.348437500000017,2.2997070312499943],[11.328710937500006,2.167431640624997],[11.096582031250023,2.16748046875],[10.790917968750023,2.1675781249999915],[9.979882812500023,2.1677734374999886],[9.8701171875,2.2132812499999943],[9.80078125,2.304443359375],[9.876171875000011,3.309765624999997],[9.42529296875,3.922314453124997],[9.000097656250006,4.091601562499989],[8.90283203125,4.4351562499999915],[8.532812500000006,4.605859374999994],[8.800976562500011,5.197460937499997],[8.997167968750006,5.917724609375],[9.490234375,6.418652343749997],[9.779882812500006,6.760156249999994],[9.820703125000023,6.783935546875],[9.874218750000011,6.803271484374989],[10.038867187500017,6.92138671875],[10.1435546875,6.9964355468749915],[10.167773437500017,6.959179687499997],[10.185546875,6.912792968749997],[10.205468750000023,6.8916015625],[10.482324218750023,6.891259765624994],[10.606250000000017,7.0630859374999915],[10.954199218750006,6.776562499999997],[11.032519531250017,6.697900390624994],[11.079687500000006,6.505517578124994],[11.1533203125,6.437939453124997],[11.2373046875,6.4505371093749915],[11.324609375000023,6.484667968749989],[11.551660156250023,6.697265625],[11.767382812500017,7.272265624999989],[11.809179687500006,7.3450683593749915],[12.016015625000023,7.589746093749994],[12.2333984375,8.282324218749991],[12.403515625000011,8.595556640624991],[12.582714843750011,8.624121093749991],[12.651562500000011,8.667773437499989],[12.929492187500017,9.42626953125],[13.175488281250011,9.539648437499991],[13.269921875000023,10.036181640624989],[13.535351562500011,10.605078124999991],[13.89208984375,11.140087890624997],[14.559765625000011,11.492285156249991],[14.627148437500011,12.108691406249989],[14.272851562500023,12.356494140624989],[14.184863281250017,12.447216796874997],[14.06396484375,13.078515624999994],[14.244824218750011,13.077343749999997],[14.516210937500006,12.979736328125],[14.76123046875,12.655615234374991],[15.081250000000011,11.845507812499989],[15.029882812500006,11.113671874999994],[15.276074218750011,10.357373046874997],[15.540917968750023,9.960302734374991],[14.243261718750006,9.979736328125],[13.977246093750011,9.691552734374994],[14.332324218750017,9.203515624999994],[15.1162109375,8.557324218749997],[15.442968750000006,7.851855468749989],[15.480078125000006,7.5237792968749915]]]},properties:{name:"Cameroon",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[27.4033203125,5.109179687499989],[27.7880859375,4.644677734374994],[28.19208984375001,4.350244140624994],[28.72705078125,4.5049804687499915],[29.151464843750006,4.38818359375],[29.676855468750006,4.5869140625],[30.194921875000006,3.98193359375],[30.50830078125,3.835693359375],[30.83857421875001,3.49072265625],[30.728613281250006,2.4553710937499886],[31.176367187500006,2.2700683593749886],[31.252734375000017,2.0445800781249943],[30.94257812500001,1.6828124999999972],[29.94287109375,.8192382812499943],[29.934472656250023,.4990234375],[29.717675781250023,.09833984374999716],[29.561914062500023,-.9773437500000028],[29.576953125000017,-1.3878906250000114],[29.12939453125,-1.8602539062500085],[29.1064453125,-2.233203125000003],[28.876367187500023,-2.4002929687500085],[29.01435546875001,-2.72021484375],[29.224414062500017,-3.053515625000003],[29.223242187500006,-3.9108398437500114],[29.403222656250023,-4.449316406250006],[29.404199218750023,-4.496679687500006],[29.32568359375,-4.835644531250011],[29.3427734375,-4.983105468750011],[29.42011718750001,-5.1761718750000085],[29.476464843750023,-5.316601562500011],[29.594140625000023,-5.6507812500000085],[29.59638671875001,-5.775976562500006],[29.490820312500006,-5.965429687500006],[29.480078125000006,-6.025000000000006],[29.506250000000023,-6.172070312500011],[29.540820312500017,-6.3138671875000085],[29.590625000000017,-6.3944335937500085],[29.70966796875001,-6.616894531250011],[29.798144531250017,-6.69189453125],[29.961816406250023,-6.8031250000000085],[30.106250000000017,-6.9150390625],[30.212695312500017,-7.037890625000003],[30.31318359375001,-7.203710937500006],[30.40673828125,-7.460644531250011],[30.75117187500001,-8.193652343750003],[28.972265625000006,-8.464941406250006],[28.917773437500017,-8.700585937500009],[28.400683593750017,-9.224804687500011],[28.63007812500001,-9.831250000000011],[28.63886718750001,-10.669238281250003],[28.357226562500017,-11.483007812500006],[28.482519531250006,-11.812109375000006],[29.064355468750023,-12.348828125000011],[29.427539062500017,-12.431250000000006],[29.79511718750001,-12.155468750000011],[29.795312500000023,-13.392773437500011],[29.55419921875,-13.248925781250009],[29.014257812500006,-13.368847656250011],[28.357714843750017,-12.482031250000006],[27.53339843750001,-12.1953125],[27.04609375000001,-11.615917968750011],[26.949609375000023,-11.898828125000009],[26.59638671875001,-11.972070312500009],[26.025976562500006,-11.89013671875],[25.349414062500017,-11.623046875],[25.184863281250017,-11.242968750000003],[24.5185546875,-11.4384765625],[24.319921875000006,-11.07177734375],[23.96650390625001,-10.871777343750011],[23.901171875000017,-10.983203125000003],[23.833886718750023,-11.013671875],[23.696386718750006,-11.007617187500003],[23.559960937500023,-10.978613281250006],[23.400195312500017,-10.976464843750009],[22.226171875000006,-11.121972656250009],[22.203515625000023,-10.829492187500009],[22.307031250000023,-10.691308593750009],[22.30244140625001,-10.396679687500011],[22.274511718750006,-10.259082031250003],[22.19775390625,-10.040625000000006],[21.81318359375001,-9.46875],[21.905371093750006,-8.693359375],[21.751074218750006,-7.305468750000003],[21.190332031250023,-7.284960937500003],[20.910937500000017,-7.281445312500011],[20.607812500000023,-7.2777343750000085],[20.558398437500017,-7.244433593750003],[20.536914062500017,-7.121777343750011],[20.598730468750006,-6.935156250000006],[20.59003906250001,-6.919921875],[20.482226562500017,-6.915820312500003],[20.190039062500006,-6.9462890625],[19.997460937500023,-6.9764648437500085],[19.87519531250001,-6.986328125],[19.527636718750017,-7.1444335937500085],[19.3408203125,-7.966601562500003],[19.142675781250006,-8.00146484375],[18.944433593750006,-8.00146484375],[18.898339843750023,-7.998144531250006],[18.56269531250001,-7.9359375000000085],[18.0087890625,-8.107617187500011],[17.643359375000017,-8.090722656250009],[17.57958984375,-8.099023437500009],[16.984765625000023,-7.257421875000006],[16.91943359375,-6.9339843750000085],[16.813085937500006,-6.772558593750006],[16.742968750000017,-6.618457031250003],[16.709375000000023,-6.4716796875],[16.7177734375,-6.241406250000011],[16.697265625,-6.164257812500011],[16.537109375,-5.9658203125],[16.431445312500017,-5.900195312500003],[16.315234375000017,-5.8656250000000085],[15.726953125000023,-5.863867187500006],[14.398632812500011,-5.892675781250006],[13.978515625,-5.857226562500003],[13.346484375000017,-5.863378906250006],[13.003320312500023,-5.836132812500011],[12.411718750000006,-5.986328125],[12.503710937500017,-5.69580078125],[12.518945312500023,-5.424609375000003],[12.522363281250023,-5.14892578125],[12.453222656250006,-5.090625000000003],[12.451464843750017,-5.071484375000011],[12.502734375000017,-5.036914062500003],[12.573535156250017,-4.99658203125],[12.829687500000006,-4.736621093750003],[13.07275390625,-4.634765625],[13.414941406250023,-4.83740234375],[14.358300781250023,-4.299414062500006],[14.410742187500006,-4.831250000000011],[14.707910156250023,-4.8817382812500085],[15.60009765625,-4.030957031250011],[15.872460937500023,-3.9342773437500114],[16.146777343750017,-3.464160156250003],[16.217382812500006,-3.0302734375],[16.21533203125,-2.1778320312500057],[16.54072265625001,-1.8401367187500028],[16.8798828125,-1.2258789062500028],[17.27880859375,-.9996093750000057],[17.752832031250023,-.5490234375000114],[17.72412109375,-.27753906250001137],[17.8876953125,.234130859375],[17.902441406250006,1.1180664062499943],[18.05781250000001,1.5348632812499972],[18.072167968750023,2.0132812499999915],[18.49091796875001,2.9244140624999915],[18.6103515625,3.4784179687499943],[18.567480468750006,4.257568359375],[19.06855468750001,4.891406249999989],[19.5009765625,5.127490234374989],[19.806542968750023,5.089306640624997],[20.226367187500017,4.829638671874989],[20.55810546875,4.462695312499989],[21.53759765625,4.244824218749997],[22.422167968750017,4.134960937499997],[22.755761718750023,4.646679687499997],[23.41718750000001,4.663134765624989],[24.31982421875,4.994140625],[24.765527343750023,4.930078124999994],[25.249316406250017,5.024560546874994],[25.52509765625001,5.3121093749999915],[26.822070312500017,5.062402343749994],[27.11494140625001,5.1978515624999915],[27.4033203125,5.109179687499989]]]},properties:{name:"Democratic Republic of the Congo",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[18.6103515625,3.4784179687499943],[18.49091796875001,2.9244140624999915],[18.072167968750023,2.0132812499999915],[18.05781250000001,1.5348632812499972],[17.902441406250006,1.1180664062499943],[17.8876953125,.234130859375],[17.72412109375,-.27753906250001137],[17.752832031250023,-.5490234375000114],[17.27880859375,-.9996093750000057],[16.8798828125,-1.2258789062500028],[16.54072265625001,-1.8401367187500028],[16.21533203125,-2.1778320312500057],[16.217382812500006,-3.0302734375],[16.146777343750017,-3.464160156250003],[15.872460937500023,-3.9342773437500114],[15.60009765625,-4.030957031250011],[14.707910156250023,-4.8817382812500085],[14.410742187500006,-4.831250000000011],[14.358300781250023,-4.299414062500006],[13.414941406250023,-4.83740234375],[13.07275390625,-4.634765625],[12.881054687500011,-4.445117187500003],[12.384570312500017,-4.619140625],[12.018359375000017,-5.0042968750000085],[11.777539062500011,-4.5658203125000085],[11.130175781250017,-3.916308593750003],[11.504296875000023,-3.520312500000003],[11.685742187500011,-3.6820312500000085],[11.934179687500006,-3.3185546875000114],[11.537792968750011,-2.836718750000003],[11.5751953125,-2.3970703125000057],[12.446386718750006,-2.3299804687500085],[12.43212890625,-1.9289062500000114],[12.793554687500006,-1.9318359375000114],[12.991992187500017,-2.3133789062500085],[13.464941406250006,-2.3954101562500085],[13.784375000000011,-2.1637695312500114],[14.08740234375,-2.4668945312500057],[14.383984375000011,-1.8900390625000085],[14.480566406250006,-.6183593750000114],[13.860058593750011,-.20332031250001137],[13.884570312500017,.19082031249999432],[14.087500000000006,.5365722656249972],[14.434472656250023,.8114746093749972],[14.180859375000011,1.3702148437499915],[13.851367187500017,1.4187499999999886],[13.274121093750011,1.2410156249999886],[13.162695312500006,1.6480957031249943],[13.293554687500006,2.161572265624997],[14.484082031250011,2.154736328124997],[14.902441406250006,2.0123046874999915],[15.741601562500023,1.9149902343749972],[16.059375000000017,1.6762207031249972],[16.183398437500017,2.2700683593749886],[16.468554687500017,2.831738281249997],[16.67333984375,3.5352050781249886],[17.43798828125,3.6846191406249886],[18.160937500000017,3.4998046874999886],[18.6103515625,3.4784179687499943]]]},properties:{name:"Republic of the Congo",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-71.31972656249997,11.861914062500048],[-71.95810546875,11.666406250000009],[-72.24848632812501,11.196435546875009],[-72.690087890625,10.835839843749994],[-72.86933593750001,10.49125976562496],[-73.00654296874998,9.789160156250006],[-73.35634765625002,9.226855468750031],[-72.79638671874997,9.108984374999991],[-72.66542968749994,8.62758789062498],[-72.41655273437496,8.381982421875037],[-72.44296875,7.454882812499989],[-72.08427734374993,7.096874999999969],[-71.01328124999998,6.994433593749974],[-70.65507812500002,7.082763671875028],[-70.09501953124996,6.937939453125011],[-69.43925781249993,6.1349121093750085],[-68.47177734375,6.156542968749974],[-67.85917968749999,6.289892578124963],[-67.43935546875,6.025537109375023],[-67.82490234374995,5.270458984375026],[-67.85527343750002,4.506884765624989],[-67.66162109375,3.864257812499986],[-67.3111328125,3.41586914062502],[-67.83476562499999,2.8928222656250426],[-67.21083984375,2.3901367187500426],[-66.87602539062499,1.223046875000037],[-67.35195312499997,2.085839843750051],[-67.815087890625,1.790087890625017],[-68.17656249999999,1.7198242187499915],[-69.84858398437493,1.7087402343750426],[-69.85214843750003,1.0595214843750398],[-69.36137695312496,1.0640136718749744],[-69.16323242187502,.8640625000000028],[-70.05390624999993,.5786132812500284],[-70.07050781249993,-.1388671875000398],[-69.66748046874997,-.48242187499995737],[-69.40024414062498,-1.1949218749999773],[-69.66904296875003,-2.667675781249997],[-69.96591796875003,-4.235937500000006],[-70.16752929687499,-4.0501953125000085],[-70.24028320312496,-3.8827148437499943],[-70.2984375,-3.8442382812499716],[-70.33950195312502,-3.8143554687500085],[-70.73510742187497,-3.7815429687499886],[-70.07402343749993,-2.7501953125000114],[-70.09584960937494,-2.658203125000014],[-70.91455078125003,-2.2185546874999744],[-71.39697265625,-2.3340820312499773],[-71.55947265624997,-2.2242187499999773],[-71.75253906249995,-2.15273437499998],[-71.80273437499997,-2.1663085937499886],[-71.86728515624998,-2.227734374999983],[-71.932470703125,-2.288671874999963],[-71.98427734375,-2.3265624999999517],[-72.13681640624998,-2.38066406249996],[-72.21845703125001,-2.4004882812500057],[-72.30073242187498,-2.40927734375002],[-72.39560546874995,-2.4289062500000256],[-72.62534179687495,-2.3516601562500057],[-72.88715820312501,-2.408496093749946],[-73.15449218749993,-2.278222656249966],[-73.19697265624995,-1.8302734375000114],[-73.49628906249993,-1.6930664062500398],[-73.66430664062497,-1.248828124999946],[-73.86318359374997,-1.19667968749998],[-73.92695312500001,-1.125195312499983],[-74.05439453124995,-1.0286132812500313],[-74.18076171875,-.9977539062499545],[-74.24638671874999,-.9706054687500227],[-74.28388671874998,-.9278320312500057],[-74.33442382812498,-.8508789062499602],[-74.41787109375,-.5806640624999773],[-74.80175781249997,-.20009765624999432],[-75.13837890624998,-.050488281249968736],[-75.18408203124997,-.04174804687497158],[-75.22460937499997,-.04174804687497158],[-75.28447265624999,-.1065429687500199],[-75.46396484374995,-.038427734375005684],[-75.61733398437494,.06289062500003695],[-75.87978515624994,.1509765625000341],[-76.31103515624997,.4484863281249858],[-76.49462890624997,.2354492187500199],[-77.42275390624997,.4248535156249602],[-77.46767578124997,.636523437500017],[-78.31210937499995,1.046093750000054],[-78.85966796874996,1.4553710937500313],[-78.576904296875,1.7737792968749773],[-78.617041015625,2.3067871093750227],[-78.12001953125,2.488183593750037],[-77.67001953124998,2.87885742187504],[-77.24277343749998,3.5853515625000085],[-77.1666015625,3.8622558593750114],[-77.42729492187499,4.06044921874998],[-77.28632812499995,4.72172851562496],[-77.40175781249994,5.416162109375037],[-77.24926757812497,5.780175781250037],[-77.46943359374995,6.176757812500014],[-77.35986328125003,6.5044921874999915],[-77.90117187499999,7.229345703125048],[-77.74389648437503,7.536962890625006],[-77.35078124999995,7.7058593750000455],[-77.2123046875,8.033886718749997],[-77.37421874999993,8.65830078125002],[-76.85185546875002,8.09047851562498],[-76.88798828124999,8.619873046875],[-76.27685546875,8.989111328124991],[-76.135498046875,9.265625000000014],[-75.63935546874998,9.450439453125014],[-75.67089843750003,10.196337890625003],[-75.44599609374995,10.610888671874989],[-74.84458007812498,11.109716796875006],[-74.45424804687497,10.989062500000031],[-74.05913085937502,11.340624999999974],[-73.31337890624997,11.295751953124991],[-72.72182617187497,11.712158203125],[-72.27499999999998,11.88925781250002],[-72.13574218749994,12.188574218749977],[-71.71455078124993,12.41997070312496],[-71.26210937499997,12.335302734375034],[-71.31972656249997,11.861914062500048]]]},properties:{name:"Colombia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-83.6419921875,10.917236328125],[-83.4482421875,10.465917968749991],[-82.77841796874999,9.669531249999991],[-82.93984375,9.449169921874997],[-82.94033203125,9.060107421874989],[-82.741162109375,8.951708984374989],[-82.72783203124999,8.916064453124989],[-82.739990234375,8.898583984374994],[-82.91704101562499,8.740332031249991],[-82.855712890625,8.635302734374989],[-82.86162109374999,8.453515624999994],[-83.02734375,8.337744140624991],[-83.16240234374999,8.588183593749989],[-83.73408203125,8.614453124999997],[-83.63725585937499,9.035351562499997],[-83.89555664062499,9.276416015624989],[-84.65888671875,9.646679687499997],[-85.114501953125,9.581787109375],[-85.62485351562499,9.902441406249991],[-85.83061523437499,10.398144531249997],[-85.667236328125,10.745019531249994],[-85.7443359375,11.062109374999991],[-85.62138671874999,11.184472656249994],[-84.9091796875,10.9453125],[-84.348291015625,10.979882812499994],[-84.168359375,10.780371093749991],[-83.6419921875,10.917236328125]]]},properties:{name:"Costa Rica",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-82.56176757812503,21.571679687500023],[-82.85317382812497,21.443896484375017],[-83.08251953124997,21.791406250000023],[-82.71455078124998,21.890283203125023],[-82.56176757812503,21.571679687500023]]],[[[-81.83745117187499,23.163037109374955],[-81.17861328124997,23.059667968750034],[-80.65014648437494,23.10307617187499],[-79.67666015624997,22.743066406250023],[-79.27568359374999,22.407617187499994],[-78.68647460937493,22.366845703125023],[-77.86503906250002,21.900585937499983],[-77.49726562499995,21.871630859375045],[-76.64741210937501,21.284521484375063],[-75.72294921874996,21.111035156249983],[-75.64277343749998,20.733496093749977],[-74.882568359375,20.65063476562497],[-74.25283203124997,20.079687500000006],[-75.11640624999995,19.901416015625017],[-76.15844726562497,19.98974609374997],[-77.715087890625,19.85546874999997],[-77.21337890625003,20.300390625000034],[-77.22958984374995,20.643749999999983],[-77.99731445312494,20.715380859375017],[-78.49077148437493,21.05371093750003],[-78.63647460937497,21.51552734375005],[-79.27441406249997,21.562646484374966],[-80.23134765625,21.872167968750063],[-80.49907226562499,22.063525390625045],[-80.96191406249997,22.052880859375023],[-81.81621093750002,22.2001953125],[-81.90341796875,22.679003906250017],[-82.73803710937497,22.689257812500074],[-83.37963867187503,22.222998046875034],[-84.32636718749998,22.074316406250034],[-84.36127929687498,22.37890625],[-84.04492187500003,22.666015625000057],[-83.25781249999997,22.967578125000017],[-82.10136718750002,23.19042968750003],[-81.83745117187499,23.163037109374955]]]]},properties:{name:"Cuba",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[34.004492187500006,35.065234374999996],[32.71269531250002,35.171044921874994],[32.94160156250001,35.390429687499996],[33.941992187500006,35.292041015624996],[34.004492187500006,35.065234374999996]]]},properties:{name:"Northern Cyprus",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[32.71269531250002,35.171044921874994],[34.004492187500006,35.065234374999996],[32.94179687500002,34.57587890625],[32.44902343750002,34.729443359375],[32.31718750000002,34.9533203125],[32.71269531250002,35.171044921874994]]]},properties:{name:"Cyprus",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[14.809375000000017,50.858984375],[16.007226562500023,50.611621093749996],[16.679101562500023,50.097460937499996],[17.151953125000006,50.378320312499994],[17.874804687500017,49.972265625],[18.562402343750023,49.879345703125],[18.83222656250001,49.510791015624996],[18.160937500000017,49.257373046874996],[17.75849609375001,48.888134765625],[17.1884765625,48.8609375],[16.953125,48.598828125],[16.477929687500023,48.800097656249996],[16.057226562500006,48.754785156249994],[14.97216796875,48.983935546874996],[14.691308593750023,48.59921875],[14.049121093750017,48.602490234375],[13.814746093750017,48.766943359375],[13.769921875000023,48.815966796874996],[13.547656250000017,48.95966796875],[13.140527343750023,49.158349609374994],[12.632031250000011,49.461230468749996],[12.512500000000017,49.87744140625],[12.3056640625,50.205712890624994],[13.016406250000017,50.490380859374994],[13.18115234375,50.510498046875],[14.369042968750023,50.898730468749996],[14.809375000000017,50.858984375]]]},properties:{name:"Czech Republic",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[9.739746093750028,54.82553710937498],[10.360449218750006,54.43833007812506],[11.39960937500004,53.94462890625002],[12.111328125,54.168310546875006],[12.57539062500004,54.467382812500006],[13.028613281250017,54.411035156249994],[13.865527343750074,53.85336914062498],[14.250000000000057,53.73188476562501],[14.298730468750051,53.55644531249999],[14.41455078125,53.28349609374996],[14.412304687500011,53.216748046874955],[14.410937500000074,53.19902343749999],[14.368554687500051,53.105566406250034],[14.293164062500068,53.026757812499966],[14.193652343750045,52.982324218749994],[14.138867187500068,52.93286132812503],[14.128613281250011,52.87822265625002],[14.253710937500017,52.78251953124996],[14.514062500000023,52.645605468750034],[14.619433593750017,52.52851562499998],[14.569726562499994,52.431103515624955],[14.554589843750023,52.35966796874996],[14.573925781250068,52.31416015625001],[14.615625000000023,52.277636718750045],[14.679882812500068,52.25],[14.705371093750017,52.207470703124955],[14.752539062500034,52.08183593750002],[14.601660156250034,51.832373046875006],[14.9638671875,51.095117187499994],[13.18115234375,50.510498046875],[13.016406250000017,50.490380859374994],[12.3056640625,50.205712890624994],[12.512500000000017,49.87744140625],[12.63203125000004,49.46123046875002],[13.14052734375008,49.15834960937505],[13.547656250000074,48.95966796874998],[13.769921875000051,48.81596679687502],[13.814746093750017,48.76694335937498],[13.802929687500011,48.74750976562501],[13.785351562499983,48.58745117187502],[13.486621093750074,48.58183593750002],[13.471679687500028,48.57182617187502],[13.459863281250023,48.564550781250034],[13.40937500000004,48.39414062500006],[13.374609375000063,48.361376953125045],[13.322851562500006,48.33125000000004],[13.215234375000023,48.301904296874994],[12.685839843750074,47.66933593750002],[11.716796875,47.58349609375003],[11.297949218750034,47.424902343750034],[10.873046874999972,47.52021484375001],[10.65869140625,47.547216796875006],[10.482812500000051,47.54179687499996],[10.43037109375004,47.54106445312499],[10.403906250000063,47.41699218750003],[10.312792968750074,47.31342773437498],[10.18300781250008,47.27880859375003],[10.096484375000045,47.379589843749955],[10.066308593750023,47.39335937500002],[10.074218750000028,47.42851562499999],[10.034082031250023,47.47358398437501],[9.748925781250023,47.575537109375006],[8.572656250000023,47.775634765625],[8.414746093750011,47.58959960937503],[7.615624999999994,47.59272460937504],[7.584179687499983,48.064306640625006],[8.134863281250006,48.97358398437498],[7.450585937500051,49.152197265625034],[6.735449218750006,49.16059570312498],[6.344335937500006,49.45273437499998],[6.4873046875,49.798486328124994],[6.1165039062500455,50.120996093749966],[6.364453125000011,50.31616210937503],[5.993945312500017,50.75043945312504],[5.894726562500068,50.98422851562506],[6.193261718750051,51.48891601562502],[5.948535156250017,51.762402343749955],[6.7417968750000625,51.91088867187503],[7.035156250000057,52.38022460937498],[7.197265625000028,53.28227539062499],[7.285253906250034,53.68134765625001],[8.00927734375,53.69072265624999],[8.53847656250008,53.55688476562497],[8.897753906250074,53.83569335937503],[8.95722656250004,54.538330078125],[8.670312500000023,54.903417968750034],[9.739746093750028,54.82553710937498]]]},properties:{name:"Germany",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[43.24599609375002,11.499804687499989],[42.92275390625002,10.999316406249989],[42.557714843750006,11.080761718749997],[41.79824218750002,10.98046875],[41.76650390625002,11.589111328125],[42.378515625000006,12.466406249999991],[42.67011718750001,12.376562499999991],[42.703710937500006,12.380322265624997],[42.76748046875002,12.4228515625],[42.88330078125,12.621289062499997],[43.00566406250002,12.662304687499997],[43.11669921875,12.708593749999991],[43.409765625000006,12.18994140625],[43.272070312500006,11.969531249999989],[42.79902343750001,11.739404296874994],[43.24599609375002,11.499804687499989]]]},properties:{name:"Djibouti",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[10.645117187500006,55.60981445312498],[10.785253906250034,55.13339843749998],[9.988769531250028,55.163183593750006],[9.860644531250045,55.515478515625034],[10.645117187500006,55.60981445312498]]],[[[12.568750000000023,55.785058593749966],[11.653808593750057,55.186914062499966],[11.286328125000068,55.20444335937498],[10.978906250000051,55.721533203125006],[12.218945312499983,56.11865234374997],[12.568750000000023,55.785058593749966]]],[[[9.739746093750028,54.82553710937498],[8.670312500000023,54.903417968750034],[8.61591796875004,55.41821289062503],[8.132128906250074,55.59980468749998],[8.16396484375008,56.60688476562498],[8.618554687500051,57.11127929687498],[9.554296874999977,57.23247070312496],[9.96230468750008,57.580957031249994],[10.537109375000028,57.44853515625002],[10.282714843750057,56.620507812499994],[10.18300781250008,55.86518554687504],[9.591113281250017,55.49321289062502],[9.739746093750028,54.82553710937498]]]]},properties:{name:"Denmark",childNum:3}},{geometry:{type:"Polygon",coordinates:[[[-71.647216796875,19.195947265624994],[-71.75742187499999,19.688183593749997],[-71.557763671875,19.89536132812499],[-70.95415039062499,19.913964843749994],[-70.12944335937499,19.636132812499994],[-69.739404296875,19.299218749999994],[-68.684765625,18.90478515625],[-68.35927734375,18.5380859375],[-68.658837890625,18.22202148437499],[-68.9349609375,18.408007812500003],[-69.770654296875,18.443554687499997],[-70.18310546875,18.251757812500003],[-71.02783203125,18.273193359375],[-71.395703125,17.64609374999999],[-71.63173828125,17.773632812499997],[-71.7619140625,18.34130859375],[-71.647216796875,19.195947265624994]]]},properties:{name:"Dominican Republic",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[8.207617187500006,36.518945312499994],[8.348730468750006,36.367968749999996],[8.318066406250011,35.654931640624994],[8.31640625,35.403124999999996],[8.35986328125,35.299609374999996],[8.394238281250011,35.203857421875],[8.312109375000006,35.084619140624994],[8.27685546875,34.9794921875],[8.24560546875,34.73408203125],[7.513867187500011,34.080517578125],[7.49560546875,33.976513671875],[7.500195312500011,33.832470703125],[7.534375000000011,33.717919921874994],[7.7626953125,33.23310546875],[7.877246093750017,33.172119140625],[8.2109375,32.926708984375],[8.333398437500023,32.543603515624994],[9.044042968750006,32.07236328125],[9.160253906250006,31.621337890625],[9.224023437500023,31.373681640624994],[9.36328125,30.832910156249994],[9.518750000000011,30.229394531249994],[9.310253906250011,30.115234375],[9.672656250000017,29.5669921875],[9.842578125000017,28.966992187499997],[9.916015625,27.785693359374996],[9.74755859375,27.330859374999996],[9.859375,26.551953124999997],[9.491406250000011,26.333740234375],[9.4482421875,26.067138671875],[10.000683593750011,25.332080078125003],[10.255859375,24.591015624999997],[10.686132812500006,24.55136718749999],[11.536914062500017,24.290820312500003],[11.967871093750006,23.517871093750003],[9.378710937500017,21.991406249999997],[7.481738281250017,20.873095703125003],[5.836621093750011,19.479150390624994],[4.227636718750006,19.142773437499997],[3.40087890625,18.988427734374994],[3.1060546875000057,19.150097656249997],[3.255859375,19.410937500000003],[3.2037109375000057,19.789697265624994],[2.4061523437500227,20.063867187499994],[2.2193359375000057,20.247802734375],[1.6854492187500227,20.378369140624997],[1.1657226562500114,20.817431640625003],[1.1455078125,21.102246093749997],[-1.29296875,22.696533203125],[-3.2578613281249886,23.981250000000003],[-4.822607421874977,24.99560546875],[-6.238671874999994,25.848193359375003],[-8.683349609375,27.285937499999996],[-8.683349609375,27.656445312499997],[-8.683349609375,27.900390625],[-8.659912109375,28.718603515625],[-8.265185546874989,28.980517578124996],[-7.998925781249994,29.132421875],[-7.685156249999977,29.349511718749994],[-7.485742187499994,29.392236328124994],[-7.094921874999983,29.625195312499997],[-6.855566406249977,29.601611328124996],[-6.755126953125,29.583837890625],[-6.635351562499977,29.568798828124997],[-6.520556640624989,29.659863281249997],[-6.510693359374983,29.726025390624997],[-6.507910156249977,29.7837890625],[-6.500878906249994,29.809130859374996],[-5.774999999999977,29.869042968749994],[-5.448779296874989,29.956933593749994],[-5.293652343749983,30.058642578124996],[-5.180126953124983,30.166162109374994],[-4.96826171875,30.465380859374996],[-4.778515624999983,30.552392578124994],[-4.529150390624977,30.625537109374996],[-4.322851562499977,30.698876953124994],[-4.148779296874977,30.8095703125],[-3.7020019531249773,30.944482421874994],[-3.6667968749999886,30.964013671874994],[-3.626904296874983,31.000927734374997],[-3.6725097656249943,31.111376953124996],[-3.8333984374999943,31.197802734374996],[-3.837109374999983,31.512353515624994],[-3.8267578124999773,31.661914062499996],[-3.4397949218749773,31.704541015624997],[-3.0173828124999886,31.834277343749996],[-2.988232421874983,31.874218749999997],[-2.930859374999983,32.042529296874996],[-2.8634277343749943,32.07470703125],[-2.5232421874999886,32.12568359375],[-2.4483886718749943,32.12998046875],[-2.0728027343749886,32.115039062499996],[-1.8169921874999773,32.104785156249996],[-1.275341796874983,32.089013671874994],[-1.16259765625,32.399169921875],[-1.510009765625,32.87763671875],[-1.550732421874983,33.073583984375],[-1.67919921875,33.318652343749996],[-1.7069335937499943,34.176074218749996],[-1.8496582031249886,34.607324218749994],[-1.792187499999983,34.723193359374996],[-1.795605468749983,34.751904296875],[-1.9208984375,34.835546875],[-2.131787109374983,34.970849609374994],[-2.1907714843749773,35.02978515625],[-2.2196289062499943,35.10419921875],[-1.3358398437499943,35.3642578125],[-.42612304687497726,35.8615234375],[.047949218750005684,35.900537109374994],[.514941406250017,36.26181640625],[1.2572265625000227,36.519580078124996],[2.5933593750000057,36.60068359375],[2.9728515625000114,36.784472656249996],[3.7790039062500114,36.89619140625],[4.758105468750017,36.896337890625],[5.195605468750017,36.676806640624996],[6.064746093750017,36.8642578125],[6.486523437500011,37.085742187499996],[6.927539062500017,36.91943359375],[7.607714843750017,36.999755859375],[7.910449218750017,36.856347656249994],[8.127148437500011,36.9103515625],[8.576562500000023,36.93720703125],[8.207617187500006,36.518945312499994]]]},properties:{name:"Algeria",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-91.27216796874998,.02514648437498579],[-90.799658203125,-.7520507812499915],[-90.90551757812497,-.9405273437500199],[-91.36918945312493,-.28720703124997726],[-91.27216796874998,.02514648437498579]]],[[[-75.28447265624999,-.1065429687500199],[-75.34047851562494,-.14218750000000568],[-75.47597656250002,-.15712890625002274],[-75.26323242187502,-.555371093749983],[-75.25937500000003,-.5901367187499602],[-75.27871093749997,-.6539062499999773],[-75.28359375,-.7071289062499915],[-75.24960937499998,-.9518554687500256],[-75.570556640625,-1.5312500000000142],[-75.64165039062502,-1.60732421874998],[-76.08979492187501,-2.1331054687499744],[-76.6791015625,-2.5625976562499915],[-77.860595703125,-2.9816406250000114],[-78.240380859375,-3.4725585937500085],[-78.64799804687499,-4.248144531250006],[-78.68603515625003,-4.562402343749994],[-78.86152343749998,-4.665039062499943],[-78.97539062499999,-4.873242187499997],[-78.99526367187497,-4.908007812499974],[-79.03330078124998,-4.969140624999994],[-79.07626953125003,-4.990625000000023],[-79.18666992187497,-4.958203124999983],[-79.26811523437493,-4.957617187499949],[-79.33095703124997,-4.92783203125002],[-79.39941406249997,-4.840039062499983],[-79.45576171874998,-4.766210937499949],[-79.50190429687495,-4.670605468750011],[-79.51616210937493,-4.539160156249963],[-79.57768554687496,-4.50058593750002],[-79.638525390625,-4.454882812500031],[-79.79726562500002,-4.47636718749996],[-79.962890625,-4.390332031250026],[-80.06352539062499,-4.327539062500023],[-80.13955078125002,-4.296093750000011],[-80.19746093750001,-4.311035156249943],[-80.293359375,-4.416796875000003],[-80.48847656249995,-4.3936523437499915],[-80.35288085937495,-4.208496093750014],[-80.453759765625,-4.205175781249963],[-80.48847656249995,-4.165527343749972],[-80.49345703124999,-4.119140625000014],[-80.510009765625,-4.06953125000004],[-80.49013671874994,-4.010058593750003],[-80.43720703125001,-3.9786132812499915],[-80.30327148437499,-4.005078124999969],[-80.26689453124993,-3.948828124999963],[-80.17924804687493,-3.87773437499996],[-80.21757812500002,-3.7876953124999915],[-80.22060546875002,-3.613183593749966],[-80.24375000000003,-3.5767578125000057],[-80.24541015625002,-3.522167968749997],[-80.26523437499995,-3.4924804687499886],[-80.27353515624995,-3.424609375000017],[-80.30312499999994,-3.3748046874999886],[-79.92158203124993,-3.0901367187499886],[-79.72988281249997,-2.5791015624999716],[-80.45009765624997,-2.6259765625000284],[-80.96279296874997,-2.18925781249996],[-80.770361328125,-2.0766601562500284],[-80.80141601562494,-1.3833984375000057],[-80.90239257812499,-1.0789062499999744],[-80.55390624999998,-.8479492187499886],[-80.48227539062503,-.36826171874996305],[-80.1333984375,-.006054687499982947],[-80.02499999999995,.4101562499999858],[-80.08828124999997,.7847656250000199],[-79.74121093749997,.9797851562500455],[-78.89965820312503,1.2062499999999972],[-78.85966796874996,1.4553710937500313],[-78.31210937499995,1.046093750000054],[-77.46767578124997,.636523437500017],[-77.42275390624997,.4248535156249602],[-76.49462890624997,.2354492187500199],[-76.31103515624997,.4484863281249858],[-75.87978515624994,.1509765625000341],[-75.61733398437494,.06289062500003695],[-75.46396484374995,-.038427734375005684],[-75.28447265624999,-.1065429687500199]]]]},properties:{name:"Ecuador",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[34.24531250000001,31.208300781249996],[34.904296875,29.477343749999996],[34.736425781250006,29.27060546875],[34.39970703125002,28.016015624999994],[34.22011718750002,27.764306640624994],[33.76025390625,28.047656249999996],[33.24775390625001,28.567724609375],[33.075781250000006,29.073046874999996],[32.72148437500002,29.521777343749996],[32.6318359375,28.992236328124996],[32.89824218750002,28.565234374999996],[33.54707031250001,27.898144531249997],[33.5498046875,27.607373046874997],[33.89306640625,27.049462890624994],[33.959082031250006,26.6490234375],[34.56513671875001,25.691162109375],[35.19414062500002,24.475146484375003],[35.62470703125001,24.06601562499999],[35.52275390625002,23.442529296874994],[35.697851562500006,22.946191406249994],[36.22968750000001,22.628808593749994],[36.87138671875002,21.996728515624994],[33.91845703125,21.996240234374994],[31.434472656250023,21.995849609375],[29.564550781250006,21.9951171875],[28.036425781250017,21.995361328125],[24.980273437500017,21.995849609375],[24.980273437500017,24.466064453125],[24.980273437500017,26.487109374999996],[24.980273437500017,29.181884765625],[24.726464843750023,30.2505859375],[24.973925781250017,30.776562499999997],[24.85273437500001,31.334814453125],[25.150488281250006,31.654980468749997],[25.382226562500023,31.51279296875],[25.89326171875001,31.620898437499996],[27.248046875,31.377880859374997],[27.967578125000017,31.097412109375],[28.51484375000001,31.050439453124994],[29.072070312500017,30.830273437499997],[29.591601562500017,31.011523437499996],[30.395117187500006,31.4576171875],[30.700488281250017,31.403857421874996],[31.193945312500006,31.587597656249997],[32.10175781250001,31.092822265624996],[34.24531250000001,31.208300781249996]]]},properties:{name:"Egypt",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[40.938574218750006,13.983105468749997],[40.82011718750002,14.111669921874991],[40.22148437500002,14.431152343749972],[39.531835937500006,14.536718749999991],[38.43144531250002,14.428613281249994],[38.221484375000074,14.649658203124986],[38.002539062500006,14.737109375000045],[37.94345703125006,14.810546875],[37.884179687499994,14.852294921874972],[37.82031250000003,14.708496093749986],[37.70839843750005,14.45722656250004],[37.64843750000003,14.32255859375006],[37.571191406249994,14.149072265624966],[37.546777343749994,14.143847656249974],[37.507226562499994,14.156396484375037],[37.257226562499994,14.453759765625051],[37.024511718750006,14.271972656250057],[36.81191406250005,14.315039062500034],[36.67910156250005,14.307568359375026],[36.542382812499994,14.258203124999994],[36.52431640625005,14.256835937499986],[36.492285156250006,14.544335937500023],[36.470800781250006,14.736474609375009],[36.448144531249994,14.940087890625009],[36.42675781249997,15.132080078125043],[36.566015625000006,15.362109375000003],[36.9137695312501,16.296191406250045],[36.887792968750006,16.624658203124994],[36.9787109375001,16.800585937500045],[36.9757812500001,16.866552734375006],[36.99521484375006,17.020556640625017],[37.00898437500004,17.058886718750017],[37.06152343749997,17.061279296875057],[37.16953125000006,17.041406249999994],[37.41103515625005,17.061718749999955],[37.452929687500074,17.108691406250017],[37.510156249999994,17.28813476562499],[37.78242187500004,17.458007812500057],[38.253515625000006,17.584765625000017],[38.26728515625004,17.616699218750057],[38.28984375000002,17.637011718750017],[38.34736328125004,17.68359375],[38.37373046875004,17.717333984375045],[38.42246093750006,17.823925781249983],[38.60947265625006,18.00507812500004],[38.91171875000006,17.427148437499994],[39.14257812500003,16.729150390624966],[39.298925781250006,15.921093750000011],[39.5065429687501,15.532128906249994],[39.86376953124997,15.470312500000034],[40.20410156250003,15.014111328124983],[41.17646484375004,14.620312500000054],[41.65820312499997,13.983056640624994],[42.24511718749997,13.587646484374986],[42.796191406250074,12.864257812500057],[43.08291015625005,12.824609374999966],[43.11669921874997,12.708593749999963],[43.00566406250002,12.66230468750004],[42.88330078124997,12.621289062500026],[42.767480468749994,12.422851562500014],[42.70371093750006,12.380322265625054],[42.67011718750004,12.376562499999991],[42.479394531249994,12.513623046875026],[42.37851562500006,12.466406250000006],[41.76503906250005,13.183935546874991],[41.362890625000006,13.499804687500031],[40.938574218750006,13.983105468749997]]]},properties:{name:"Eritrea",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-16.33447265624997,28.37993164062499],[-16.65800781249999,28.007177734374977],[-16.905322265625017,28.33959960937503],[-16.33447265624997,28.37993164062499]]],[[[3.145312500000017,39.79008789062499],[3.4618164062500227,39.69775390625003],[3.0728515625000057,39.30126953124997],[2.371289062500068,39.61308593749999],[2.7849609375000455,39.854833984375034],[3.145312500000017,39.79008789062499]]],[[[-1.7940429687499488,43.407324218750006],[-1.2854492187499886,43.05961914062496],[-.041162109374994316,42.689111328124966],[1.4283203124999773,42.59589843749998],[1.7060546875,42.50332031250005],[2.0327148437500284,42.353515625],[3.21142578125,42.43115234375],[3.248046875,41.94423828125002],[2.0826171875000625,41.287402343750045],[1.0329101562500682,41.06206054687496],[-.32700195312494884,39.519873046875006],[-.20493164062494884,39.062597656250034],[.20156250000007958,38.75917968750002],[-.3812499999999943,38.435644531250034],[-.6467773437499886,38.15185546875003],[-.8221679687499375,37.58076171875004],[-1.3275390624999375,37.561132812500034],[-1.7976074218749716,37.23286132812504],[-2.111523437499983,36.77666015624999],[-4.366845703124994,36.71811523437506],[-4.67412109374996,36.506445312500006],[-5.171484374999949,36.423779296874955],[-5.62548828125,36.02592773437499],[-6.0406738281249375,36.18842773437498],[-6.492431640624943,36.95463867187502],[-6.88461914062492,37.194238281249966],[-7.4061523437499375,37.17944335937497],[-7.503515624999977,37.58549804687502],[-7.185449218749994,38.00634765625006],[-7.343017578124943,38.45742187500002],[-7.0460449218749375,38.907031250000045],[-7.44511718749996,39.53618164062496],[-7.036718750000006,39.713964843750034],[-6.81015624999992,40.343115234375034],[-6.928466796874972,41.009130859375006],[-6.212499999999949,41.53203124999996],[-6.61826171874992,41.9423828125],[-7.40361328124996,41.833691406249955],[-7.920849609374983,41.883642578125006],[-8.213085937499926,42.133691406249966],[-8.777148437500017,41.941064453124994],[-8.690917968749943,42.274169921875],[-9.235205078124977,42.97690429687498],[-8.873681640624966,43.33442382812498],[-7.698144531249994,43.76455078125005],[-7.261962890624972,43.594628906249966],[-5.66582031249996,43.58247070312498],[-4.52304687499992,43.41572265625004],[-3.604638671874966,43.51948242187504],[-3.045605468749926,43.37158203125],[-2.337109374999926,43.32802734375002],[-1.7940429687499488,43.407324218750006]]]]},properties:{name:"Spain",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[[[[22.61738281250004,58.62124023437502],[23.29287109375008,58.483496093750006],[22.152929687500006,58.11533203124998],[22.081347656250074,58.47812499999998],[22.61738281250004,58.62124023437502]]],[[[28.012500000000045,59.484277343749966],[27.464453125000034,58.84130859375],[27.48779296875,58.270068359375045],[27.75283203125008,57.841015624999955],[27.542089843750063,57.799414062500006],[27.400000000000063,57.66679687499999],[27.35195312500005,57.52812499999999],[27.187109375000034,57.53833007812503],[27.033398437500068,57.578759765624994],[26.96601562500001,57.60913085937506],[26.899804687500023,57.608789062499994],[26.29804687500001,57.60107421875],[25.66015625,57.920166015625],[25.11103515625004,58.06342773437498],[24.91132812500001,58.00458984374998],[24.83906250000004,57.98872070312504],[24.775781250000023,57.98525390625002],[24.45888671875005,57.907861328124994],[24.529101562500045,58.35424804687497],[23.767578125000057,58.36083984374997],[23.50927734375003,58.65854492187498],[23.494433593750017,59.19565429687498],[24.38037109375003,59.47265625],[25.50927734374997,59.63901367187506],[26.974707031250006,59.450634765624955],[28.012500000000045,59.484277343749966]]]]},properties:{name:"Estonia",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[38.43144531250002,14.428613281249994],[39.531835937500006,14.536718749999991],[40.22148437500002,14.43115234375],[40.82011718750002,14.111669921874991],[40.938574218750006,13.983105468749997],[41.362890625000006,13.499804687500003],[41.76503906250002,13.183935546874991],[42.378515625000006,12.466406249999991],[41.76650390625002,11.589111328125],[41.79824218750002,10.98046875],[42.557714843750006,11.080761718749997],[42.92275390625002,10.999316406249989],[42.65957031250002,10.621386718749989],[42.84160156250002,10.203076171874997],[43.181640625,9.879980468749991],[43.482519531250006,9.379492187499991],[44.02285156250002,8.986035156249997],[46.97822265625001,7.9970703125],[47.97822265625001,7.9970703125],[45.93496093750002,5.997216796874994],[44.940527343750006,4.912011718749994],[44.02812500000002,4.950976562499989],[43.53828125000001,4.84033203125],[43.01601562500002,4.5633300781249915],[42.791601562500006,4.2919921875],[42.02412109375001,4.137939453125],[41.91533203125002,4.031298828124989],[41.88398437500001,3.977734374999997],[41.73769531250002,3.9790527343749886],[41.48193359375,3.9632812499999943],[41.22089843750001,3.943554687499997],[41.02080078125002,4.0574707031249915],[40.765234375000006,4.2730468749999915],[39.84218750000002,3.8514648437499943],[39.79033203125002,3.7542480468749915],[39.65751953125002,3.577832031249997],[39.49443359375002,3.4561035156249886],[38.608007812500006,3.60009765625],[38.45156250000002,3.6048339843749915],[38.22529296875001,3.6189941406249915],[38.08613281250001,3.6488281249999943],[37.15458984375002,4.254541015624994],[36.90556640625002,4.4114746093749915],[36.08193359375002,4.44970703125],[36.02197265625,4.4681152343749915],[35.97871093750001,4.503808593749994],[35.76308593750002,4.808007812499994],[35.75615234375002,4.950488281249989],[35.779296875,5.1055664062499915],[35.80029296875,5.156933593749997],[35.74501953125002,5.343994140625],[35.325292968750006,5.364892578124994],[35.2646484375,5.412060546874997],[35.26386718750001,5.457910156249994],[35.26835937500002,5.4922851562499915],[35.08193359375002,5.673144531249989],[34.71064453125001,6.660302734374994],[34.06425781250002,7.225732421874994],[33.666113281250006,7.6709960937499915],[33.22597656250002,7.760644531249994],[33.01259765625002,7.9515136718749915],[33.23427734375002,8.396386718749994],[33.95332031250001,8.443505859374994],[34.09453125000002,8.582226562499997],[34.078125,9.461523437499991],[34.29150390625,10.124755859375],[34.27568359375002,10.528124999999989],[34.571875000000006,10.880175781249989],[34.93144531250002,10.864794921874989],[35.1123046875,11.816552734374994],[35.59609375000002,12.537304687499997],[36.107519531250006,12.726464843749994],[36.21220703125002,13.271093749999991],[36.390625,13.626074218749991],[36.52431640625002,14.2568359375],[36.54238281250002,14.258203124999994],[36.67910156250002,14.307568359374997],[36.81191406250002,14.315039062499991],[37.024511718750006,14.27197265625],[37.25722656250002,14.453759765624994],[37.50722656250002,14.156396484374994],[37.54677734375002,14.143847656250003],[37.57119140625002,14.149072265624994],[37.6484375,14.322558593750003],[37.70839843750002,14.457226562499997],[37.8203125,14.70849609375],[37.88417968750002,14.852294921875],[37.943457031250006,14.810546875],[38.002539062500006,14.737109375000003],[38.22148437500002,14.649658203125],[38.43144531250002,14.428613281249994]]]},properties:{name:"Ethiopia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.96582031250003,69.02197265625],[28.470703125000057,68.48837890625],[29.343847656250006,68.06186523437506],[29.941210937500074,67.54746093749998],[29.087011718750034,66.97094726562503],[29.903417968750006,66.091064453125],[29.60419921875004,64.968408203125],[30.072851562500063,64.76503906250005],[30.10810546875004,64.36611328125005],[30.50390625000003,64.02060546875],[30.05537109375004,63.689013671875045],[31.180859375000097,63.208300781250074],[31.533984375000017,62.885400390624994],[31.28564453125003,62.567822265624955],[29.69013671875004,61.54609375000001],[27.797656250000074,60.53613281250003],[25.65644531250004,60.33320312499998],[23.721777343750063,59.965673828125006],[22.79345703125003,60.076806640624994],[22.57587890625001,60.35908203125004],[21.436035156250057,60.596386718749955],[21.36054687500004,60.96748046874998],[21.605957031250057,61.59155273437503],[21.255957031250063,61.98964843750005],[21.103613281250034,62.622949218749994],[22.243261718750034,63.437939453124955],[23.248730468750068,63.89614257812505],[24.557910156250045,64.801025390625],[25.372656250000034,65.00947265625001],[25.34785156250004,65.47924804687497],[24.15546875000004,65.80527343750006],[23.70117187500003,66.48076171874999],[23.988574218750045,66.81054687500003],[23.468066406250074,67.449951171875],[23.63886718750004,67.95439453125002],[22.78242187500001,68.39101562499997],[21.99746093750005,68.52060546874998],[20.622167968750006,69.036865234375],[21.621777343750068,69.27070312499995],[22.410937500000074,68.719873046875],[23.85400390625,68.80590820312503],[24.94140625000003,68.59326171875006],[25.748339843750017,68.99013671875],[26.011523437500074,69.65263671875005],[26.525390625000057,69.91503906250003],[27.889941406250045,70.06166992187497],[29.14160156250003,69.67143554687505],[28.96582031250003,69.02197265625]]]},properties:{name:"Finland",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[178.28017578124994,-17.37197265625001],[178.59160156249996,-17.651464843750006],[178.66767578125004,-18.080859375000003],[177.8470703125,-18.254882812500014],[177.32138671875,-18.077539062500037],[177.26396484375007,-17.86347656250004],[177.61796875000007,-17.461035156250034],[178.28017578124994,-17.37197265625001]]],[[[179.99921875000004,-16.168554687499977],[179.74814453125006,-16.44628906249997],[179.9279296875001,-16.74443359374996],[179.00683593750003,-16.90019531249999],[178.80507812499994,-16.631445312500034],[179.55175781250003,-16.249902343750023],[180.00000000000003,-16.15292968749999],[179.99921875000004,-16.168554687499977]]]]},properties:{name:"Fiji",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[[[[-60.28623046874995,-51.461914062500014],[-59.26806640625,-51.42753906250003],[-59.92138671874997,-51.969531250000045],[-60.28623046874995,-51.461914062500014]]],[[[-58.85019531249995,-51.26992187499998],[-58.473730468750006,-51.50908203125003],[-57.976513671874955,-51.38437500000003],[-57.83818359374993,-51.70917968750003],[-58.68349609375002,-51.93623046875001],[-59.06801757812502,-52.17304687500003],[-59.57080078124994,-51.92539062500003],[-59.05952148437498,-51.685449218749994],[-58.85019531249995,-51.26992187499998]]]]},properties:{name:"United Kingdom",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[[[[55.79736328125003,-21.33935546875003],[55.36269531250005,-21.27363281250004],[55.311328125000074,-20.90410156249999],[55.661914062500074,-20.906249999999986],[55.79736328125003,-21.33935546875003]]],[[[-51.65253906249998,4.061279296874972],[-51.99062499999994,3.702001953124963],[-52.70063476562501,2.36367187499998],[-52.96484375,2.1835449218749687],[-53.76777343749998,2.3548339843750483],[-54.13007812499998,2.1210449218750256],[-54.51508789062498,2.245458984374963],[-54.55048828125001,2.2930664062499915],[-54.59194335937502,2.3137695312500313],[-54.61625976562499,2.3267578125000057],[-54.60473632812497,2.3357910156249915],[-54.56840820312502,2.3425781250000313],[-54.53593749999999,2.343310546875003],[-54.48554687500001,2.4161132812500057],[-54.402001953124966,2.46152343750002],[-54.25673828125002,2.7137207031249773],[-54.19550781249998,2.817871093750057],[-54.03422851562499,3.62939453125],[-54.350732421874994,4.054101562500023],[-54.45219726562496,5.013476562499989],[-54.085302734375006,5.41181640625004],[-53.84716796875,5.782226562500014],[-53.454443359375006,5.563476562500028],[-52.899316406249966,5.425048828124986],[-52.29052734375003,4.942187500000031],[-51.91958007812494,4.52431640624998],[-51.65253906249998,4.061279296874972]]],[[[9.480371093750023,42.80541992187503],[9.550683593750051,42.12973632812506],[9.186132812500034,41.38491210937502],[8.80751953125008,41.58837890625],[8.71308593750004,42.54975585937501],[9.480371093750023,42.80541992187503]]],[[[5.789746093749983,49.53828125000001],[5.823437500000011,49.50507812499998],[5.9013671875,49.48974609374997],[5.928906250000011,49.47753906249997],[5.959472656250028,49.45463867187502],[6.074121093750023,49.45463867187502],[6.119921875000017,49.485205078125034],[6.242187500000057,49.49433593750001],[6.277343750000028,49.47753906249997],[6.344335937500006,49.45273437499998],[6.735449218750006,49.16059570312498],[7.450585937500051,49.152197265625034],[8.134863281250006,48.97358398437498],[7.584179687499983,48.064306640625006],[7.615624999999994,47.59272460937504],[7.000585937500034,47.32250976562506],[6.429003906250017,46.832275390625],[6.06025390625004,46.42817382812501],[6.095898437500011,46.279394531250006],[5.9700195312500455,46.214697265625034],[5.971484375000074,46.151220703125006],[6.0066406250000455,46.14233398437506],[6.086621093750068,46.14702148437502],[6.758105468750017,46.41577148437497],[6.772070312500006,46.16513671874998],[7.021093750000034,45.92578124999997],[7.153417968749977,45.40092773437499],[6.627734375000017,45.11796874999999],[7.030664062500023,44.71669921875005],[6.96728515625,44.280029296875],[7.651464843750034,44.03364257812498],[7.4931640625,43.767138671875045],[6.494042968750023,43.169287109375006],[6.115917968750011,43.07236328124998],[5.406542968750074,43.228515625],[5.05976562500004,43.44453125000004],[4.628710937500074,43.387109374999966],[4.052636718750023,43.59306640625002],[3.2588867187500625,43.193212890625006],[3.051757812500057,42.915136718750006],[3.21142578125,42.43115234375],[2.0327148437500284,42.353515625],[1.7060546875,42.50332031250005],[1.4283203124999773,42.59589843749998],[-.041162109374994316,42.689111328124966],[-1.2854492187499886,43.05961914062496],[-1.7940429687499488,43.407324218750006],[-1.4848632812499432,43.56376953124999],[-1.2455078124999375,44.55986328124999],[-1.0660156249999488,45.80566406250003],[-1.1462890624999602,46.311376953125034],[-1.7865234374999375,46.51484375000001],[-2.0188964843749204,47.03764648437502],[-3.1588378906249943,47.694677734375034],[-4.312109374999949,47.82290039062502],[-4.62919921874996,48.085791015625034],[-4.39316406249992,48.36762695312498],[-4.72075195312496,48.539892578125006],[-3.2314453124999716,48.84082031250003],[-2.692333984374983,48.53681640624998],[-2.4461914062499375,48.64829101562506],[-1.4376464843749943,48.64140624999999],[-1.8564453124999716,49.68378906249998],[-1.2586425781249488,49.68017578125006],[-1.1385253906249773,49.38789062500001],[-.16347656249993747,49.296777343749994],[.18671874999998295,49.703027343749994],[1.2455078125000512,49.99824218750001],[1.5515625000000455,50.29394531250003],[1.5794921875000512,50.73925781249997],[1.9125000000000512,50.99062500000002],[2.52490234375,51.097119140624955],[2.8397460937500227,50.71176757812498],[4.174609375000017,50.24648437500005],[4.867578125000051,49.78813476562502],[5.789746093749983,49.53828125000001]]]]},properties:{name:"France",childNum:4}},{geometry:{type:"Polygon",coordinates:[[[13.293554687500006,2.161572265624997],[13.162695312500006,1.6480957031249943],[13.274121093750011,1.2410156249999886],[13.851367187500017,1.4187499999999886],[14.180859375000011,1.3702148437499915],[14.434472656250023,.8114746093749972],[14.087500000000006,.5365722656249972],[13.884570312500017,.19082031249999432],[13.860058593750011,-.20332031250001137],[14.480566406250006,-.6183593750000114],[14.383984375000011,-1.8900390625000085],[14.08740234375,-2.4668945312500057],[13.784375000000011,-2.1637695312500114],[13.464941406250006,-2.3954101562500085],[12.991992187500017,-2.3133789062500085],[12.793554687500006,-1.9318359375000114],[12.43212890625,-1.9289062500000114],[12.446386718750006,-2.3299804687500085],[11.5751953125,-2.3970703125000057],[11.537792968750011,-2.836718750000003],[11.934179687500006,-3.3185546875000114],[11.685742187500011,-3.6820312500000085],[11.504296875000023,-3.520312500000003],[11.130175781250017,-3.916308593750003],[10.34765625,-3.0130859375000085],[9.759472656250011,-2.5185546875],[9.265625,-1.8250976562500085],[9.330664062500006,-1.5345703125000085],[9.064648437500011,-1.29833984375],[8.821386718750006,-.7083984375000085],[9.296679687500017,-.35126953125001137],[9.470117187500023,.3619140624999915],[9.329980468750023,.61083984375],[9.625878906250023,.7794433593749943],[9.676464843750011,1.07470703125],[10.028515625000011,1.0040039062499915],[11.335351562500023,.9997070312499972],[11.332324218750017,1.5283691406249886],[11.328710937500006,2.167431640624997],[11.348437500000017,2.2997070312499943],[13.220312500000006,2.2564453124999915],[13.293554687500006,2.161572265624997]]]},properties:{name:"Gabon",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-6.218017578125,54.08872070312506],[-7.3551757812499545,54.12124023437502],[-8.118261718749977,54.41425781250004],[-7.2186523437499375,55.09199218749998],[-6.129150390625028,55.217382812500034],[-5.470410156249926,54.500195312499955],[-5.60678710937492,54.272558593750034],[-6.218017578125,54.08872070312506]]],[[[-3.109667968749932,58.515478515625034],[-3.212353515624983,58.32124023437501],[-3.99003906249996,57.95903320312502],[-3.4027832031249545,57.708251953125],[-2.0740722656249773,57.70239257812506],[-1.7779296874999488,57.493750000000006],[-2.6527343750000227,56.318261718749966],[-3.178222656249943,56.080126953125045],[-2.1470703124999204,55.90297851562502],[-1.6553710937499488,55.57036132812502],[-1.2917480468749432,54.77387695312501],[-.6713867187499432,54.50390625],[-.20556640625,54.021728515625],[.5587890625000398,52.96694335937505],[1.6567382812499716,52.753710937500045],[1.5589843750000512,52.08686523437498],[.9550781250000284,51.80781249999998],[.6865234375000284,51.38657226562506],[1.4149414062500227,51.36328125],[.9601562500000114,50.92587890624998],[.205078125,50.763037109375034],[-1.5167480468749375,50.747460937499966],[-2.5477539062499375,50.61630859374998],[-3.40458984374996,50.63242187499998],[-3.7933593749999375,50.229248046875],[-4.172558593749926,50.390820312499955],[-5.342285156249943,50.24614257812496],[-4.582910156249966,50.7763671875],[-4.188183593749926,51.18852539062502],[-3.1359863281249716,51.20502929687501],[-4.38627929687496,51.74106445312506],[-4.902294921874926,51.626269531250045],[-5.088085937499926,51.99589843750002],[-4.383154296874949,52.19731445312502],[-3.980322265624949,52.54174804687503],[-4.111035156249926,53.218945312499955],[-3.064746093749932,53.426855468750034],[-2.9250976562499886,53.732763671875006],[-3.9579101562499943,54.780957031249955],[-5.135498046875,54.857519531250006],[-4.7211425781249545,55.42099609375006],[-5.245605468749972,55.929248046875045],[-5.6095703124999545,56.055273437500034],[-5.39194335937492,56.51479492187505],[-5.936767578125,56.605712890625],[-5.561914062499994,57.23271484375002],[-5.8180664062499545,57.43608398437496],[-5.338281250000023,58.23872070312498],[-4.715429687499949,58.510009765625],[-3.109667968749932,58.515478515625034]]]]},properties:{name:"United Kingdom",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[46.30546875000002,41.507714843749994],[46.43095703125002,41.077050781249994],[46.086523437500006,41.183837890625],[45.28095703125001,41.449560546875],[45.21718750000002,41.423193359375],[45.00136718750002,41.290966796875],[44.97587890625002,41.277490234374994],[44.81132812500002,41.259375],[44.81093750000002,41.248583984374996],[44.84853515625002,41.220166015625],[44.841406250000006,41.211376953125],[44.47304687500002,41.191015625],[44.077246093750006,41.182519531249994],[43.43339843750002,41.155517578125],[42.78789062500002,41.563720703125],[42.466406250000006,41.439843749999994],[41.92578125,41.495654296874996],[41.82353515625002,41.432373046875],[41.779394531250006,41.44052734375],[41.701757812500006,41.471582031249994],[41.57656250000002,41.497314453125],[41.51005859375002,41.517480468749994],[41.76298828125002,41.970019531249996],[41.48876953125,42.659326171874994],[40.83662109375001,43.0634765625],[40.524023437500006,43.121044921875],[40.02373046875002,43.48486328125],[40.648046875000006,43.53388671875],[41.083105468750006,43.374462890625],[41.35820312500002,43.333398437499994],[41.46074218750002,43.276318359375],[41.58056640625,43.21923828125],[42.05000000000001,43.19013671875],[42.27968750000002,43.228076171874996],[42.419042968750006,43.22421875],[42.566015625000006,43.155126953125],[42.660253906250006,43.159082031249994],[42.76064453125002,43.169580078124994],[42.99160156250002,43.09150390625],[43.78261718750002,42.747021484375],[43.79873046875002,42.727783203125],[43.79541015625,42.702978515625],[43.74990234375002,42.657519531249996],[43.738378906250006,42.616992187499996],[43.759863281250006,42.59384765625],[43.82597656250002,42.571533203125],[43.95742187500002,42.566552734374994],[44.00468750000002,42.595605468749994],[44.10273437500001,42.616357421874994],[44.32949218750002,42.703515624999994],[44.505859375,42.7486328125],[44.64433593750002,42.734716796875],[44.771093750000006,42.616796875],[44.85048828125002,42.746826171875],[44.87099609375002,42.756396484374996],[44.943359375,42.730273437499996],[45.07158203125002,42.694140624999996],[45.20820312500001,42.648242187499996],[45.34375,42.52978515625],[45.56289062500002,42.5357421875],[45.7275390625,42.475048828125],[45.63427734375,42.234716796875],[45.63857421875002,42.205078125],[46.21269531250002,41.989892578124994],[46.30546875000002,41.507714843749994]]]},properties:{name:"Georgia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-.068603515625,11.115624999999994],[-.05771484374997726,10.630615234375],[.36269531250002274,10.236474609374994],[.26191406250001137,9.49560546875],[.5290039062500114,9.358300781249994],[.41533203125001705,8.652734374999994],[.6880859375000057,8.304248046874989],[.5835937500000057,8.145800781249989],[.634765625,7.353662109374994],[.5255859375000114,6.8509277343749915],[.7369140625000057,6.452587890624997],[1.1872070312500114,6.089404296874989],[.94970703125,5.810253906249997],[.25966796875002274,5.75732421875],[-.7977050781249773,5.226708984374994],[-1.6384765624999886,4.980859374999994],[-2.0018554687499943,4.762451171875],[-2.7230468749999943,5.013720703124989],[-2.815673828125,5.153027343749997],[-2.7549804687499773,5.432519531249994],[-2.9622558593749773,5.643017578124997],[-3.2005859374999943,6.3482421874999915],[-3.2271484374999773,6.7491210937499915],[-2.9590820312499773,7.454541015624997],[-2.789746093749983,7.931933593749989],[-2.6688476562499943,8.022216796875],[-2.6133789062499773,8.046679687499989],[-2.505859375,8.208740234375],[-2.705761718749983,9.351367187499989],[-2.6958496093749886,9.481347656249994],[-2.78662109375,10.401904296874989],[-2.9148925781249773,10.592333984374989],[-2.8299316406249773,10.998388671874991],[-.701416015625,10.988964843749997],[-.068603515625,11.115624999999994]]]},properties:{name:"Ghana",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-11.389404296875,12.404394531249991],[-11.30517578125,12.015429687499989],[-10.933203124999977,12.205175781249991],[-10.677343749999977,11.8994140625],[-10.274853515624983,12.212646484375],[-9.820703124999994,12.04248046875],[-9.043066406249977,12.40234375],[-8.822021484375,11.673242187499994],[-8.407470703125,11.386279296874989],[-8.231494140624989,10.43798828125],[-8.007275390624983,10.321874999999991],[-7.974462890624977,10.229541015624989],[-7.990624999999994,10.162499999999994],[-8.136621093749994,10.022070312499991],[-8.155175781249994,9.973193359374989],[-8.145849609374977,9.881738281249994],[-8.136962890625,9.495703124999991],[-7.896191406249983,9.415869140624991],[-7.950976562499989,8.786816406249997],[-7.823583984374977,8.467675781249994],[-7.953125,8.477734374999997],[-8.236962890624994,8.455664062499991],[-8.256103515625,8.253710937499989],[-8.016748046874994,8.144921874999994],[-8.126855468749994,7.867724609374989],[-8.115429687499983,7.7607421875],[-8.205957031249994,7.590234374999994],[-8.231884765624983,7.5567382812499915],[-8.429980468749989,7.601855468749989],[-8.486425781249977,7.558496093749994],[-8.708300781249989,7.658886718749997],[-8.8896484375,7.2626953125],[-9.117578124999994,7.2159179687499915],[-9.459765624999989,7.442529296874994],[-9.368945312499989,7.639550781249994],[-9.518261718749983,8.346093749999994],[-9.768261718749983,8.534570312499994],[-10.283203125,8.485156249999989],[-10.677343749999977,8.400585937499997],[-10.500537109374989,8.687548828124989],[-10.758593749999989,9.385351562499991],[-11.047460937499977,9.786328124999997],[-11.115673828124983,9.843164062499994],[-11.180859374999983,9.925341796874989],[-11.205664062499977,9.977734374999997],[-11.273632812499983,9.996533203124997],[-11.911083984374983,9.993017578124991],[-12.142333984375,9.875390624999994],[-12.557861328125,9.704980468749994],[-12.958789062499989,9.263330078124994],[-12.998632812499977,9.146923828124997],[-13.028027343749983,9.103564453124989],[-13.077294921874994,9.069628906249989],[-13.1298828125,9.047558593749997],[-13.178369140624994,9.060888671874991],[-13.234228515624977,9.070117187499989],[-13.302636718749994,9.078369140625],[-13.269482421874983,9.170556640624994],[-13.568261718749994,9.543408203124997],[-13.700488281249989,9.851269531249997],[-14.426904296874994,10.248339843749989],[-14.775927734374989,10.931640625],[-15.043017578124989,10.940136718749997],[-14.9990234375,10.9921875],[-14.944433593749977,11.072167968749994],[-14.779296875,11.405517578125],[-14.720263671874989,11.48193359375],[-14.682958984374977,11.508496093749997],[-13.953222656249977,11.664599609374989],[-13.732763671874977,11.736035156249997],[-13.759765625,12.262353515624994],[-13.673535156249983,12.478515625],[-13.732617187499983,12.592822265624989],[-13.729248046875,12.673925781249991],[-13.40576171875,12.662255859374994],[-13.082910156249994,12.633544921875],[-12.291210937499983,12.328027343749994],[-11.389404296875,12.404394531249991]]]},properties:{name:"Guinea",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-16.763330078124994,13.064160156249997],[-16.824804687499977,13.341064453125],[-16.56230468749999,13.587304687499994],[-15.509667968749994,13.586230468750003],[-15.834277343749989,13.156445312499997],[-16.648779296874977,13.154150390624991],[-16.763330078124994,13.064160156249997]]]},properties:{name:"Gambia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-13.759765625,12.262353515624994],[-13.73276367187492,11.736035156249983],[-13.953222656249977,11.664599609374989],[-14.682958984374949,11.508496093749983],[-14.720263671875017,11.481933593749986],[-14.779296874999972,11.405517578125057],[-14.944433593749949,11.072167968749994],[-14.999023437499972,10.992187500000043],[-15.04301757812496,10.940136718750011],[-15.093749999999972,11.011035156249974],[-15.181054687499994,11.034228515625003],[-15.216699218749994,11.156249999999986],[-15.39311523437496,11.217236328124983],[-15.501904296875011,11.723779296874966],[-16.138427734375,11.917285156250045],[-16.43681640624996,12.204150390625045],[-16.711816406249937,12.354833984375006],[-16.656933593749955,12.364355468749991],[-16.52133789062495,12.348632812499986],[-16.41630859374996,12.367675781250057],[-16.144189453124937,12.457421875000037],[-15.839550781249955,12.437890624999966],[-15.57480468749992,12.490380859375009],[-15.19609374999996,12.679931640624986],[-14.34921874999992,12.67641601562498],[-14.064843749999966,12.675292968750014],[-13.729248046875,12.673925781250006],[-13.732617187499983,12.592822265625003],[-13.673535156249926,12.478515624999986],[-13.759765625,12.262353515624994]]]},properties:{name:"Guinea Bissau",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[11.332324218750017,1.5283691406249886],[11.335351562500023,.9997070312500114],[10.028515625000068,1.0040039062500057],[9.385937500000068,1.13925781250002],[9.494238281250006,1.4353027343750284],[9.632128906250045,1.5655273437500057],[9.807031250000051,1.9274902343750284],[9.77968750000008,2.0682128906250057],[9.870117187500028,2.21328124999998],[9.979882812499994,2.1677734375000455],[10.790917968750023,2.1675781250000057],[11.096582031250051,2.167480468749986],[11.328710937500006,2.1674316406249687],[11.332324218750017,1.5283691406249886]]],[[[8.735742187500023,3.7583007812499716],[8.946093750000074,3.6275390624999773],[8.704003906250051,3.2236328125000284],[8.474902343749989,3.2646484375000426],[8.735742187500023,3.7583007812499716]]]]},properties:{name:"Equatorial Guinea",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[[[[23.852246093749983,35.53544921874999],[24.31289062500005,35.36381835937502],[24.721289062500034,35.4248046875],[25.475683593750063,35.30620117187502],[25.74501953125005,35.142724609374994],[24.79980468750003,34.93447265625002],[24.463671875000045,35.160351562499955],[23.561621093750034,35.29516601562497],[23.852246093749983,35.53544921874999]]],[[[23.41542968750008,38.958642578124994],[24.09902343750008,38.670996093750006],[23.758789062500057,38.401220703125034],[23.25214843750004,38.80122070312498],[23.41542968750008,38.958642578124994]]],[[[26.03896484375008,40.726757812499955],[25.10449218750003,40.994726562500006],[24.38378906250003,40.91274414062502],[23.87890625,40.54438476562501],[23.66455078125003,40.22382812499998],[23.31201171874997,40.216455078124994],[22.629492187500034,40.49555664062501],[22.59218750000005,40.03691406250002],[22.919042968750034,39.62890625000003],[22.96552734375001,39.030908203124966],[23.25292968750003,38.66123046875006],[23.96699218750001,38.27499999999998],[23.58046875000005,38.01054687500002],[23.193652343750017,37.95903320312499],[23.16152343750005,37.333837890625006],[22.765039062500023,37.39331054687503],[23.073535156250074,36.77495117187499],[22.6083984375,36.77973632812501],[22.08046875000008,37.028955078124966],[21.58291015625005,37.080957031249994],[21.5712890625,37.54101562500003],[21.14501953125003,37.91928710937498],[21.40371093750005,38.19667968750002],[21.82470703125003,38.32812500000006],[22.799609375000045,37.981201171875],[22.421679687500045,38.43852539062499],[21.47255859375005,38.321386718750006],[21.113183593750023,38.38466796875002],[20.779687500000023,39.00854492187503],[20.300781250000057,39.32709960937501],[20.099414062500074,39.641259765624966],[20.382421875000006,39.802636718749994],[20.4560546875,40.065576171874994],[20.881640625000017,40.467919921874994],[20.95576171875001,40.775292968749994],[21.575781250000034,40.86894531249996],[21.929492187500045,41.10742187499997],[21.99335937500001,41.13095703125006],[22.23769531250005,41.15517578125002],[22.49355468750005,41.118505859375006],[22.75507812500004,41.31274414062506],[22.91601562500003,41.33627929687506],[23.025585937500068,41.32563476562501],[23.155957031250068,41.32207031249999],[23.239843750000034,41.38496093750001],[23.372070312500057,41.3896484375],[23.433398437500017,41.39873046874999],[23.53583984375001,41.38603515624999],[23.63515625000008,41.386767578125045],[23.880859375000057,41.45595703125002],[23.973535156250023,41.452294921874966],[24.011328124999977,41.460058593750034],[24.03291015625004,41.469091796875034],[24.05605468750005,41.527246093749966],[24.595996093750074,41.44272460937498],[24.773730468750045,41.356103515624994],[24.84687500000004,41.394238281249955],[24.99355468750008,41.36499023437503],[25.133398437500063,41.31577148437506],[25.251171875000068,41.243554687499994],[25.381933593750063,41.264355468749955],[25.52705078125004,41.2998046875],[25.723925781250017,41.31503906249998],[25.784960937500017,41.330419921875006],[25.923339843750057,41.311914062499966],[26.155175781250023,41.43486328124999],[26.320898437500034,41.716552734375],[26.62490234375008,41.401757812499994],[26.03896484375008,40.726757812499955]]]]},properties:{name:"Greece",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[[[[-52.73115234375001,69.94472656250005],[-52.045312499999994,69.8072265625],[-52.11259765625002,69.48911132812503],[-53.57841796874996,69.25664062500002],[-53.78305664062498,69.50629882812498],[-54.804101562499994,69.63051757812497],[-54.83046875000002,70.16108398437498],[-53.37514648437502,70.22128906249998],[-52.73115234375001,69.94472656250005]]],[[[-25.43232421875001,70.92133789062495],[-25.402246093749994,70.65268554687503],[-27.89799804687496,70.45400390624997],[-27.70893554687501,70.897119140625],[-25.43232421875001,70.92133789062495]]],[[[-29.952880859375,83.56484374999997],[-25.947412109374966,83.28964843750003],[-24.47031249999995,82.87739257812498],[-21.520654296874966,82.59541015625001],[-25.148828124999966,82.001123046875],[-21.337988281249977,82.068701171875],[-21.14658203124995,81.695166015625],[-17.226220703125023,81.430419921875],[-15.555517578125006,81.83359374999998],[-12.19287109375,81.64912109374995],[-11.528808593749972,81.42402343750001],[-14.503564453124994,80.76328125000006],[-16.76059570312492,80.573388671875],[-16.868408203124943,80.19824218750006],[-19.429199218749943,80.25771484375],[-20.138476562499932,79.803369140625],[-19.283593749999937,79.68315429687502],[-19.07495117187497,79.15234375000006],[-20.955664062499977,78.55502929687503],[-20.862597656249932,77.91186523437503],[-20.23193359374997,77.36840820312497],[-18.339013671874966,77.21528320312504],[-18.51030273437496,76.77817382812498],[-20.942089843749955,76.88701171875005],[-21.877343749999966,76.57348632812503],[-21.56909179687497,76.29370117187506],[-20.10361328124992,76.21909179687503],[-19.508984374999926,75.75751953124995],[-19.425976562499983,75.22983398437503],[-20.484960937500006,75.31425781249999],[-19.22509765625,74.4794921875],[-19.36914062499997,74.28403320312498],[-21.129443359374932,74.11088867187505],[-20.36728515624992,73.8482421875],[-20.509667968749966,73.49287109375001],[-22.18505859374997,73.26987304687506],[-22.036328124999955,72.91845703125006],[-22.29321289062497,72.11953125],[-24.06904296875001,72.49873046874998],[-24.66684570312492,72.437353515625],[-22.013330078124966,71.688818359375],[-21.75224609374999,71.47832031250002],[-21.522656249999926,70.52622070312503],[-23.327832031249983,70.45097656250007],[-23.791796875000017,70.55517578124997],[-24.377001953124932,71.14638671875],[-25.74223632812499,71.18359375],[-26.717919921874994,70.95048828125005],[-27.68876953124999,70.99345703124999],[-28.540917968749937,70.476904296875],[-28.015039062500023,70.40224609375],[-26.747265624999926,70.47553710937501],[-23.173242187499937,70.114599609375],[-23.08823242187492,69.882958984375],[-26.34140624999992,68.70214843750003],[-29.24951171874997,68.29877929687501],[-29.86850585937495,68.31157226562505],[-30.97856445312499,68.06132812500005],[-32.13725585937496,68.38491210937497],[-32.274804687499994,67.92285156249997],[-33.15698242187497,67.62670898437506],[-34.101660156250034,66.72592773437503],[-34.63281249999997,66.43476562499995],[-36.37919921874996,65.830810546875],[-37.75419921874996,65.59306640624999],[-39.96093750000003,65.55620117187502],[-39.57792968749996,65.34077148437501],[-40.655468749999926,64.91533203125002],[-40.18222656249998,64.47993164062495],[-40.78173828125,64.22177734375003],[-40.550390625000034,63.72524414062505],[-42.15297851562502,62.568457031250006],[-42.32148437499998,62.15273437500005],[-42.110205078125006,61.857226562500074],[-42.41874999999999,61.53701171875002],[-42.717041015625,60.767480468749994],[-43.32011718749993,59.928124999999994],[-44.06547851562499,59.92480468750003],[-45.37924804687495,60.20292968750002],[-46.04663085937503,60.61572265625],[-46.01171875000003,61.09682617187505],[-46.87446289062501,60.81640625000003],[-47.79624023437495,60.828857421875],[-48.92207031249998,61.27744140624998],[-49.28906249999997,61.58994140625006],[-49.553466796875,62.23271484374999],[-50.319238281249966,62.473193359375045],[-50.338330078124955,62.82875976562502],[-51.46884765624995,63.64228515625001],[-51.451074218749994,63.90478515625003],[-52.09340820312502,64.41591796874997],[-52.259033203125,65.154931640625],[-53.634716796874955,66.413671875],[-53.038281249999955,66.82680664062497],[-53.88442382812502,67.13554687499999],[-53.418798828125034,67.57456054687498],[-53.577978515625034,67.83681640625005],[-53.03945312500002,68.61088867187499],[-51.24941406250002,68.73994140625001],[-50.50000000000003,69.935791015625],[-52.254638671875,70.05893554687503],[-54.01445312499996,70.42167968750005],[-54.16582031249999,70.82011718750005],[-52.405224609374955,70.68676757812506],[-51.52446289062502,70.43945312500003],[-51.130078124999955,70.97172851562502],[-53.117041015625006,71.31289062499997],[-53.476025390624955,71.64018554687505],[-54.689062500000006,71.36723632812505],[-55.59404296874999,71.55351562500005],[-55.315576171874994,72.11069335937498],[-55.60170898437494,72.453466796875],[-54.737939453124994,72.87250976562501],[-56.10405273437496,73.55815429687499],[-55.92949218750002,73.89541015625002],[-56.70634765625002,74.21918945312501],[-56.80131835937499,74.67167968749999],[-58.603466796874955,75.38530273437499],[-58.51621093749995,75.68906250000006],[-61.18823242187494,76.157861328125],[-63.438867187499994,76.33945312500003],[-66.82617187499997,75.96879882812502],[-69.372900390625,76.331884765625],[-69.25205078125,76.68613281250006],[-70.792822265625,76.86909179687504],[-70.86284179687496,77.175439453125],[-69.35136718749999,77.467138671875],[-72.81806640624995,78.1943359375],[-72.39560546874995,78.50434570312501],[-68.99345703124999,78.857421875],[-67.48222656249993,79.11689453125001],[-65.96787109374998,79.13237304687507],[-64.79228515624993,80.00063476562502],[-66.84365234374997,80.07622070312507],[-66.99589843749999,80.41298828125002],[-62.99326171874998,81.20698242187504],[-61.43598632812498,81.13359375000002],[-61.20292968750002,81.74687500000007],[-58.717382812500006,82.09306640624999],[-54.72587890624996,82.35136718750002],[-52.77558593749998,82.32172851562504],[-50.894433593749994,81.89521484375001],[-48.861181640625006,82.40541992187502],[-45.29106445312502,81.82880859374998],[-44.23886718749998,82.3681640625],[-46.47817382812502,82.95190429687497],[-43.19458007812503,83.25512695312503],[-32.98442382812499,83.59960937500006],[-29.952880859375,83.56484374999997]]]]},properties:{name:"Denmark",childNum:3}},{geometry:{type:"Polygon",coordinates:[[[-89.2328125,15.888671875],[-88.53623046874999,15.849609375],[-88.22832031249999,15.72900390625],[-88.97641601562499,15.142675781249991],[-89.142578125,15.072314453125003],[-89.22236328125,14.866064453124991],[-89.16220703124999,14.669238281250003],[-89.17177734375,14.606884765624997],[-89.28671874999999,14.529980468749997],[-89.36259765624999,14.416015625],[-89.872705078125,14.045605468749997],[-90.09521484375,13.736523437499997],[-90.60693359375,13.929003906250003],[-91.14604492187499,13.925585937500003],[-91.819091796875,14.228222656249997],[-92.23515624999999,14.54541015625],[-92.20903320312499,14.570996093749997],[-92.18706054687499,14.630078124999997],[-92.159912109375,14.691015624999991],[-92.17646484375,14.761328124999991],[-92.18637695312499,14.818359375],[-92.07480468749999,15.07421875],[-92.187158203125,15.320898437499991],[-92.08212890624999,15.495556640624997],[-91.9572265625,15.703222656249991],[-91.736572265625,16.07016601562499],[-91.433984375,16.070458984374994],[-90.97958984374999,16.07080078125],[-90.70322265624999,16.071044921875],[-90.52197265625,16.071191406249994],[-90.44716796875,16.072705078124997],[-90.45986328125,16.162353515625],[-90.450146484375,16.261376953124994],[-90.4169921875,16.351318359375],[-90.4169921875,16.391015624999994],[-90.710693359375,16.70810546874999],[-90.975830078125,16.867822265624994],[-90.98916015625,17.81640625],[-89.16147460937499,17.814843749999994],[-89.2328125,15.888671875]]]},properties:{name:"Guatemala",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-57.194775390625,5.5484374999999915],[-57.331005859375,5.020166015624994],[-57.711083984374994,4.9910644531249915],[-58.05449218749999,4.171923828124989],[-57.832666015624994,3.675976562499997],[-57.54960937499999,3.3528320312499886],[-57.303662109375,3.3770996093749943],[-57.20981445312499,2.8828125],[-56.704345703125,2.0364746093749915],[-56.482812499999994,1.942138671875],[-56.96953124999999,1.9164062499999943],[-57.03759765625,1.9364746093749972],[-57.41269531249999,1.908935546875],[-57.500439453125,1.7738281249999943],[-57.59443359375,1.7041015625],[-57.69174804687499,1.7047851562499972],[-57.795654296875,1.6999999999999886],[-57.982812499999994,1.6484375],[-58.03466796875,1.520263671875],[-58.34067382812499,1.5875488281249943],[-58.38037109375,1.5302246093749972],[-58.39580078124999,1.4817382812499886],[-58.5060546875,1.4386718749999972],[-58.511865234374994,1.28466796875],[-58.8625,1.20361328125],[-58.91660156249999,1.2488769531249915],[-58.968505859375,1.3045898437499943],[-59.231201171875,1.3760253906249886],[-59.53569335937499,1.6999999999999886],[-59.596630859375,1.718017578125],[-59.66660156249999,1.7462890624999972],[-59.66850585937499,1.8423339843749886],[-59.74072265625,1.8741699218749943],[-59.75620117187499,1.900634765625],[-59.75522460937499,2.274121093749997],[-59.9943359375,2.6899902343749886],[-59.854394531249994,3.5874999999999915],[-59.55112304687499,3.933544921874997],[-59.69970703125,4.353515625],[-59.83334960937499,4.4759277343749915],[-60.11113281249999,4.511181640624997],[-60.1486328125,4.533251953124989],[-60.14091796874999,4.569628906249989],[-60.12456054687499,4.59765625],[-60.03178710937499,4.740527343749989],[-59.990673828125,5.0828613281249915],[-60.142041015625,5.238818359374989],[-60.241650390625,5.257958984374994],[-60.335205078125,5.1993164062499915],[-60.40878906249999,5.210156249999997],[-60.45952148437499,5.1880859374999915],[-60.576416015625,5.1924804687499915],[-60.6513671875,5.221142578124997],[-60.742138671875,5.202050781249994],[-61.37680664062499,5.906982421875],[-61.3908203125,5.938769531249989],[-61.303124999999994,6.049511718749997],[-61.22495117187499,6.129199218749989],[-61.15947265624999,6.1744140624999915],[-61.12871093749999,6.214306640624997],[-61.152294921875,6.3851074218749915],[-61.151025390624994,6.446533203125],[-61.20361328125,6.58837890625],[-61.14560546874999,6.694531249999997],[-60.717919921874994,6.768310546875],[-60.586083984374994,6.857080078124994],[-60.39501953125,6.945361328124989],[-60.35209960937499,7.002880859374997],[-60.32207031249999,7.092041015625],[-60.32548828124999,7.133984374999997],[-60.34506835937499,7.1499999999999915],[-60.39238281249999,7.16455078125],[-60.46494140624999,7.166552734374989],[-60.523193359375,7.143701171874994],[-60.71923828125,7.498681640624994],[-60.513623046875,7.813183593749997],[-60.032421875,8.053564453124991],[-59.99072265625,8.162011718749994],[-59.96484375,8.191601562499997],[-59.849072265625,8.248681640624994],[-59.83164062499999,8.305957031249989],[-60.017529296875,8.54931640625],[-59.980615234374994,8.532617187499994],[-59.83652343749999,8.373828124999989],[-59.66611328124999,8.362597656249989],[-59.20024414062499,8.074609374999994],[-58.626611328124994,7.5458984375],[-58.48056640624999,7.038134765624989],[-57.982568359374994,6.785888671875],[-57.19023437499999,6.097314453124994],[-57.194775390625,5.5484374999999915]]]},properties:{name:"Guyana",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-83.635498046875,14.876416015624997],[-84.64594726562498,14.661083984375011],[-84.72978515625002,14.71337890625],[-84.78916015625003,14.790380859374977],[-84.98515624999999,14.752441406249972],[-85.17949218749996,14.343310546875017],[-85.28417968749997,14.29165039062498],[-85.37377929687503,14.223876953125028],[-85.47705078125003,14.108691406250003],[-85.68193359375002,13.98256835937498],[-85.731201171875,13.93183593750004],[-85.72773437499993,13.876074218750048],[-85.73393554687496,13.85869140625006],[-85.75341796875,13.852050781250028],[-85.78671874999995,13.844433593749997],[-85.98378906249997,13.965673828125006],[-86.04038085937503,14.050146484374977],[-86.15122070312495,13.994580078125026],[-86.23823242187501,13.899462890625017],[-86.33173828124995,13.770068359375031],[-86.37695312500003,13.755664062500031],[-86.61025390624997,13.774853515625026],[-86.73364257812494,13.763476562500017],[-86.75898437499995,13.746142578125045],[-86.77060546875003,13.698730468749972],[-86.72958984375,13.4072265625],[-86.710693359375,13.31337890624998],[-86.918212890625,13.223583984374983],[-86.92880859375,13.17939453125004],[-86.93315429687502,13.117529296874963],[-86.95888671875002,13.053710937500014],[-87.0591796875,12.991455078125028],[-87.337255859375,12.979248046875028],[-87.49838867187498,13.274902343750043],[-87.781884765625,13.521386718749994],[-87.71533203125003,13.812695312500011],[-87.99101562499996,13.879638671874972],[-88.15102539062497,13.987353515624974],[-88.44912109374994,13.850976562499994],[-88.48266601562503,13.854248046875043],[-88.49765624999998,13.904541015624986],[-88.50434570312501,13.964208984374963],[-88.51254882812498,13.97895507812504],[-89.05712890625,14.329150390624974],[-89.36259765624996,14.416015625],[-89.17177734375,14.606884765624983],[-89.16220703125,14.669238281249989],[-89.22236328125001,14.86606445312502],[-89.142578125,15.072314453125031],[-88.97641601562498,15.142675781249977],[-88.22832031249999,15.729003906249972],[-87.61816406249994,15.909863281249955],[-86.90722656249997,15.762353515625023],[-86.35664062499998,15.783203125],[-85.78398437500002,16.002832031249966],[-85.48369140624996,15.899511718749977],[-84.97373046874998,15.989892578124994],[-84.26142578124998,15.822607421875034],[-83.76044921874998,15.220361328124994],[-83.635498046875,14.876416015624997]]]},properties:{name:"Honduras",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[18.905371093750006,45.931738281250034],[19.055078125000023,45.527246093749966],[19.007128906250045,44.86918945312502],[18.66259765625,45.07744140624999],[17.812792968750074,45.07812500000006],[16.53066406250008,45.21669921875002],[16.29335937500005,45.00883789062496],[15.788085937500057,45.17895507812497],[15.736621093750045,44.76582031250001],[16.214257812500023,44.21513671874999],[17.624804687500074,43.04277343749999],[17.585156250000068,42.93837890625005],[16.903125000000017,43.392431640625006],[15.941503906250063,43.656640624999994],[15.122949218749994,44.256787109374955],[14.854589843750034,45.08100585937501],[14.38613281250008,45.342138671875006],[13.9658203125,44.83564453125004],[13.62929687500008,45.108203125000045],[13.878710937500017,45.428369140624994],[14.95458984375,45.499902343749994],[15.624804687500017,45.834033203125045],[15.652148437500074,45.86215820312498],[15.668066406250034,45.904443359374994],[15.666210937500011,46.04848632812502],[15.596875000000011,46.10922851562506],[15.592578125000017,46.139990234375006],[15.608984374999977,46.171923828125045],[15.635937500000068,46.200732421875045],[16.1064453125,46.382226562499994],[16.23671875000008,46.48383789062498],[16.32119140625005,46.53461914062504],[16.42763671875005,46.5244140625],[16.516210937499977,46.499902343749966],[16.569921875000006,46.48500976562505],[16.748046875000057,46.41640625000002],[17.310644531250006,45.99614257812502],[17.96386718750003,45.770263671875],[18.437304687500045,45.76733398437503],[18.533593750000023,45.79614257812503],[18.56464843750004,45.81328124999999],[18.666015625,45.90747070312497],[18.905371093750006,45.931738281250034]]]},properties:{name:"Croatia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-71.647216796875,19.195947265624994],[-71.74321289062502,18.73291015625],[-72.000390625,18.59790039062503],[-72.05986328124993,18.228564453125017],[-72.87666015624998,18.151757812499994],[-73.38515625000002,18.251171874999983],[-73.88496093749998,18.041894531249994],[-74.41904296874998,18.34619140625],[-74.22773437499998,18.662695312499977],[-72.78935546874996,18.434814453125],[-72.34765624999994,18.674951171874994],[-72.81108398437496,19.071582031250074],[-72.70322265625,19.441064453125023],[-73.05273437499997,19.61074218750005],[-73.1177734375,19.90380859374997],[-72.63701171875002,19.90087890625],[-71.75742187499998,19.68818359375001],[-71.647216796875,19.195947265624994]]]},properties:{name:"Haiti",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[22.1318359375,48.405322265624996],[22.253710937500017,48.407373046874994],[22.582421875000023,48.134033203125],[22.87666015625001,47.947265625],[22.290625000000006,47.727832031249996],[21.151953125000006,46.304345703124994],[20.613671875000023,46.13349609375],[20.508105468750017,46.166943359375],[20.28095703125001,46.1330078125],[20.241796875000006,46.10859375],[20.21015625000001,46.126025390624996],[20.161425781250017,46.141894531249996],[19.61347656250001,46.169189453125],[19.421289062500023,46.064453125],[18.666015625,45.907470703125],[18.56464843750001,45.813281249999996],[18.533593750000023,45.796142578125],[18.437304687500017,45.767333984375],[17.9638671875,45.770263671875],[17.310644531250006,45.996142578124996],[16.748046875,46.416406249999994],[16.569921875000006,46.485009765624994],[16.516210937500006,46.499902343749994],[16.093066406250017,46.86328125],[16.453417968750017,47.006787109375],[16.434375000000017,47.367431640625],[17.147363281250023,48.00595703125],[17.76191406250001,47.770166015624994],[18.724218750000006,47.787158203124996],[18.914160156250006,48.050830078124996],[19.89863281250001,48.13134765625],[20.490039062500017,48.526904296874996],[21.45136718750001,48.55224609375],[22.1318359375,48.405322265624996]]]},properties:{name:"Hungary",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[120.01250000000002,-9.374707031250026],[120.50371093750002,-9.674023437499983],[120.83261718750006,-10.037499999999952],[120.4391601562501,-10.294042968749991],[120.14482421875002,-10.200097656249952],[119.60107421874997,-9.773535156250006],[119.08544921875003,-9.706933593750023],[119.18564453125006,-9.384472656249969],[120.01250000000002,-9.374707031250026]]],[[[125.06816406250002,-9.511914062499997],[124.42753906250002,-10.14863281250004],[123.85761718750004,-10.34355468749996],[123.5892578125,-9.966796875000028],[123.709375,-9.614843750000006],[124.0363281250001,-9.341601562500031],[124.44443359375012,-9.190332031250023],[124.92226562500005,-8.942480468749977],[125.06816406250002,-9.511914062499997]]],[[[116.64082031250004,-8.613867187500006],[116.37724609375002,-8.929003906249989],[116.07646484375002,-8.744921874999974],[116.06113281250006,-8.437402343750023],[116.4015625000001,-8.204199218750034],[116.73408203125004,-8.38691406250004],[116.64082031250004,-8.613867187500006]]],[[[122.7829101562501,-8.611718750000009],[121.65136718749997,-8.898730468749946],[121.03525390625012,-8.935449218749966],[119.80791015625002,-8.697656250000023],[119.91826171875002,-8.445117187500003],[120.61025390625005,-8.24042968750004],[121.44453125000004,-8.57783203125004],[121.96650390625004,-8.455175781250006],[122.2630859375,-8.624902343750037],[122.60351562499997,-8.402441406250006],[122.7829101562501,-8.611718750000009]]],[[[118.24238281250004,-8.317773437499994],[118.98779296875003,-8.33769531249996],[119.00625000000005,-8.749609375000034],[118.18994140624997,-8.840527343749997],[117.06132812500002,-9.099023437499994],[116.78847656250005,-9.006347656250028],[116.83505859375012,-8.532421875000026],[117.16484375000007,-8.367187500000014],[117.56708984375004,-8.426367187499991],[118.11748046875007,-8.12226562500004],[118.24238281250004,-8.317773437499994]]],[[[115.44785156250012,-8.155175781249994],[115.70429687500004,-8.40712890624998],[115.23613281250007,-8.79755859375004],[114.47529296875004,-8.119433593749989],[115.44785156250012,-8.155175781249994]]],[[[126.80097656250004,-7.6678710937500085],[126.4720703125,-7.950390625000011],[125.84316406250005,-7.81669921874996],[126.60957031250004,-7.571777343749972],[126.80097656250004,-7.6678710937500085]]],[[[138.53535156250004,-8.273632812499969],[138.2962890625,-8.405175781250037],[137.68515625000012,-8.262207031249943],[138.00751953125004,-7.641601562499986],[138.29550781250012,-7.4384765625],[138.76982421875002,-7.390429687499974],[138.98906250000002,-7.696093749999989],[138.53535156250004,-8.273632812499969]]],[[[131.3255859375,-7.999511718749986],[131.08681640625005,-7.865039062499946],[131.26005859375007,-7.470507812499946],[131.69111328125004,-7.438867187499994],[131.3255859375,-7.999511718749986]]],[[[113.84453125000007,-7.105371093749994],[113.47070312500003,-7.218457031250026],[112.76376953125006,-7.139648437499957],[112.86806640625,-6.899902343749972],[113.97470703125012,-6.873046875],[113.84453125000007,-7.105371093749994]]],[[[134.53681640625004,-6.442285156249994],[134.35595703124997,-6.814843749999952],[134.05917968750012,-6.769335937500017],[134.16806640625006,-6.176269531249986],[134.53681640625004,-6.442285156249994]]],[[[107.37392578125005,-6.007617187499989],[107.66679687500002,-6.215820312499957],[108.29501953125012,-6.265039062500037],[108.67783203125006,-6.790527343749972],[110.42626953124997,-6.947265625000028],[110.73691406250006,-6.472363281249997],[111.15439453125012,-6.669042968750006],[111.54033203125002,-6.648242187500031],[112.0873046875,-6.89335937499996],[112.53925781250004,-6.9264648437499545],[112.79453125000012,-7.55244140625004],[113.24843750000005,-7.718164062499952],[114.07070312500005,-7.633007812500011],[114.44423828125,-7.895605468749963],[114.38691406250004,-8.405175781250037],[114.58378906250002,-8.769628906250034],[113.25332031250005,-8.286718749999963],[112.67880859375006,-8.409179687499957],[111.50996093750004,-8.30507812499998],[110.60722656250002,-8.149414062499972],[110.03867187500006,-7.890527343749994],[109.28164062500005,-7.704882812500003],[108.74121093749997,-7.667089843750034],[108.45175781250006,-7.79697265625002],[107.91748046875003,-7.724121093750014],[107.28496093750007,-7.471679687500014],[106.63144531250006,-7.415527343750028],[106.51972656250004,-7.053710937499943],[105.48369140625007,-6.781542968750017],[105.86826171875006,-6.11640625000004],[106.07500000000002,-5.914160156249963],[106.82519531249997,-6.098242187499977],[107.0462890625,-5.90419921874998],[107.37392578125005,-6.007617187499989]]],[[[134.74697265625,-5.707031249999957],[134.75585937500003,-6.170605468749983],[134.44111328125004,-6.334863281249966],[134.34130859375003,-5.712890624999986],[134.74697265625,-5.707031249999957]]],[[[122.64511718750012,-5.26943359374998],[122.39628906250002,-5.069824218749986],[122.36894531250007,-4.767187499999977],[122.70195312500002,-4.61865234375],[122.64511718750012,-5.26943359374998]]],[[[126.86113281250007,-3.087890624999986],[127.22734375000007,-3.3910156250000085],[127.22958984375006,-3.6330078125000114],[126.68632812500007,-3.823632812500037],[126.21455078125004,-3.6051757812500256],[126.02646484375012,-3.17050781250002],[126.86113281250007,-3.087890624999986]]],[[[129.75468750000007,-2.865820312500034],[130.3791015625001,-2.9893554687499773],[130.85996093750006,-3.5703125000000284],[130.805078125,-3.85771484374996],[129.844140625,-3.3271484374999574],[129.46767578125005,-3.4532226562499773],[128.9674804687501,-3.3260742187500085],[128.41923828125002,-3.416015624999943],[128.08212890625012,-3.184082031249943],[128.19853515625002,-2.8659179687499687],[129.42734375000006,-2.7907226562500114],[129.75468750000007,-2.865820312500034]]],[[[108.2072265625001,-2.9976562499999773],[107.61445312500004,-3.209375000000037],[107.66630859375002,-2.566308593750037],[108.07441406250004,-2.5969726562499744],[108.2072265625001,-2.9976562499999773]]],[[[124.96953125000007,-1.70546874999998],[124.83447265624997,-1.8944335937500227],[124.41777343750002,-2.0051757812500313],[124.38085937499997,-1.6874999999999716],[124.96953125000007,-1.70546874999998]]],[[[135.47421875000006,-1.5917968750000142],[136.20156250000005,-1.6549804687499972],[136.19257812500004,-1.859179687499946],[135.47421875000006,-1.5917968750000142]]],[[[106.04570312500002,-1.6694335937500142],[106.36591796875004,-2.4648437499999716],[106.67880859375012,-2.7040039062500227],[106.54677734375005,-3.055566406249966],[105.99873046875004,-2.8249023437499545],[105.7858398437501,-2.18134765625004],[105.13339843750012,-2.0425781250000057],[105.58544921875003,-1.5267578124999943],[106.04570312500002,-1.6694335937500142]]],[[[128.1530273437501,-1.66054687499998],[127.56162109375012,-1.7285156249999716],[127.74296875000002,-1.3602539062499943],[128.1530273437501,-1.66054687499998]]],[[[99.16386718750007,-1.7779296875000057],[98.87431640625007,-1.6636718749999915],[98.60175781250004,-1.1978515624999488],[98.86904296875005,-.9156250000000057],[99.2672851562501,-1.6277343749999602],[99.16386718750007,-1.7779296875000057]]],[[[135.38300781250004,-.6513671875],[135.89355468749997,-.7257812499999687],[135.83876953125,-1.1194335937499602],[135.38300781250004,-.6513671875]]],[[[140.97343750000007,-2.6097656250000085],[140.97353515625,-2.8034179687500256],[140.97441406250002,-4.836328125000023],[140.97519531250006,-6.90537109375002],[140.97617187500012,-9.118750000000006],[139.93476562500004,-8.101171875000006],[139.38564453125,-8.189062499999963],[138.85615234375004,-8.145117187499991],[139.08798828125012,-7.587207031250017],[138.74794921875,-7.25146484375],[138.86455078125007,-6.858398437499943],[138.43867187500004,-6.343359375000006],[138.2521484375001,-5.688183593750026],[137.75908203125007,-5.256152343750017],[137.08925781250005,-4.924414062500034],[136.61884765625004,-4.818749999999994],[135.97968750000004,-4.530859374999963],[135.19560546875007,-4.450683593749972],[134.14707031250006,-3.79677734374998],[133.97382812500004,-3.817968750000034],[133.65312500000007,-3.3643554687499915],[133.24873046875004,-4.062304687499989],[132.96855468750007,-4.094921874999969],[132.75390625000003,-3.703613281250014],[132.75136718750005,-3.294628906249997],[132.34824218750006,-2.97509765625],[133.19101562500006,-2.43779296874996],[133.60869140625007,-2.54716796874996],[133.90488281250012,-2.390917968750003],[133.92158203125004,-2.1020507812499574],[132.96279296875005,-2.272558593749963],[132.30761718749997,-2.24228515625002],[132.02343749999997,-1.99033203125002],[131.93037109375004,-1.559667968750034],[131.29375000000002,-1.3934570312500085],[131.2572265625,-.8554687500000142],[131.80429687500006,-.7038085937500256],[132.12841796874997,-.45410156249995737],[132.62509765625006,-.3588867187500142],[133.47265624999997,-.726171874999963],[133.97451171875,-.7443359375000256],[134.25957031250007,-1.3629882812500256],[134.105859375,-1.720996093749946],[134.15566406250005,-2.1952148437500227],[135.03740234375002,-3.33310546875002],[135.48662109375002,-3.34511718749998],[136.24326171875006,-2.5831054687499915],[136.38994140625002,-2.273339843750037],[136.84326171875003,-2.19765624999998],[137.1234375,-1.840917968749963],[137.80625000000012,-1.4832031250000028],[138.6498046875,-1.79111328125002],[139.78955078125003,-2.34824218750002],[140.62255859374997,-2.44580078125],[140.97343750000007,-2.6097656250000085]]],[[[97.48154296875006,1.4650878906249716],[97.93193359375002,.9739257812500028],[97.87646484374997,.6283203125000227],[97.40537109375012,.9469726562500256],[97.24423828125006,1.4236328124999602],[97.48154296875006,1.4650878906249716]]],[[[124.88886718750004,.9953125000000114],[124.42753906250002,.47060546875005116],[123.75380859375,.3055175781249915],[123.26542968750007,.3266113281250256],[123.08251953125003,.48583984375004263],[121.8419921875001,.4365722656250455],[121.42578125000003,.49482421875001137],[120.34902343750005,.44921875000004263],[120.01328125000012,-.19619140624999432],[120.09746093750002,-.6499023437499716],[120.51757812499997,-1.0394531250000085],[120.66738281250005,-1.3701171874999716],[121.03369140624997,-1.406542968750017],[121.51933593750007,-.8555664062500341],[121.96962890625005,-.9333007812499687],[122.27998046875004,-.7570312500000256],[122.88876953125006,-.7551757812500028],[122.50664062500002,-1.3478515624999545],[121.71875000000003,-1.8627929687499716],[121.34882812500004,-1.9459960937499545],[121.84824218750012,-2.331542968749986],[122.39902343750006,-3.200878906249997],[122.25292968749997,-3.620410156250017],[122.87734375,-4.109082031250011],[122.89736328125005,-4.349121093749972],[122.20712890625012,-4.49638671874996],[121.91699218749997,-4.847949218749989],[121.48652343750004,-4.581054687499972],[121.61806640625,-4.092675781249952],[120.9142578125001,-3.5557617187499915],[121.05429687500012,-3.167089843749949],[121.0521484375,-2.7516601562499545],[120.65361328125002,-2.6675781249999773],[120.25410156250004,-3.052832031250034],[120.43662109375012,-3.70732421874996],[120.36250000000004,-4.08574218749996],[120.42011718750004,-4.617382812500011],[120.27929687499997,-5.146093749999977],[120.31162109375006,-5.541601562500006],[119.71728515625003,-5.693359375000014],[119.3761718750001,-5.424804687500014],[119.61171875,-4.42353515625004],[119.62363281250006,-4.034374999999983],[119.41982421875,-3.47539062499996],[118.99462890624997,-3.5375976562500284],[118.81249999999997,-3.1566406249999517],[118.78369140624997,-2.764746093749963],[119.09218750000005,-2.482910156250014],[119.32187500000012,-1.9296875000000142],[119.308984375,-1.408203125],[119.7716796875001,-.48359375000001137],[119.80927734375004,.23867187500005116],[120.26953125000003,.9708007812499915],[120.51660156249997,.8175292968750227],[120.91210937499997,1.288964843749966],[121.44003906250006,1.2144042968749744],[121.59179687499997,1.0679687499999773],[122.43662109375006,1.0180664062500284],[122.89248046875005,.8499999999999801],[123.27812500000002,.9280761718749915],[123.84667968750003,.8381835937499744],[124.27363281250004,1.0222656249999886],[124.98925781249997,1.7010253906249915],[125.2337890625,1.5022949218750057],[124.88886718750004,.9953125000000114]]],[[[127.73271484375007,.8481445312500426],[128.16074218750006,1.1578124999999915],[128.42412109375007,1.5175292968749972],[128.68837890625,1.572558593750017],[128.70263671874997,1.1063964843749972],[128.29882812500003,.8768066406250199],[128.69160156250004,.3603515624999716],[127.9831054687501,.4718750000000398],[127.88740234375004,.29833984375004263],[128.04638671875003,-.7060546874999432],[127.69160156250004,-.24189453124998295],[127.70869140625004,.2880859374999858],[127.5553710937501,.48964843750002274],[127.4203125,1.2519531249999858],[127.63173828125,1.8437011718750114],[128.0109375000001,1.7012207031250313],[128.01171874999997,1.331738281249983],[127.65283203124997,1.0138671874999687],[127.73271484375007,.8481445312500426]]],[[[96.46367187500002,2.360009765625037],[95.80859374999997,2.655615234375034],[95.80625000000012,2.9160156249999716],[96.41728515625007,2.5151855468750313],[96.46367187500002,2.360009765625037]]],[[[117.5744140625001,4.17060546875004],[117.62988281250003,3.6363281249999915],[117.16640625,3.5919921875000256],[117.61064453125002,3.0643554687499943],[118.0666015625001,2.3178222656249687],[117.8646484375,1.9684082031250085],[118.08037109375007,1.701855468749983],[118.98496093750006,.982128906249983],[118.53476562500006,.813525390625017],[118.19609375000002,.8743652343749773],[117.74511718749997,.7296386718749801],[117.52216796875004,.23588867187501705],[117.46289062500003,-.32373046874995737],[117.56249999999997,-.7708984375000085],[116.55449218750007,-1.4739257812499744],[116.42353515625004,-2.0525390624999886],[116.56542968749997,-2.2997070312499943],[116.33066406250012,-2.9021484374999744],[115.95615234375012,-3.595019531250003],[114.6935546875001,-4.169726562500017],[114.53613281249997,-3.4944335937500313],[114.0822265625001,-3.2789062499999915],[113.79580078125,-3.4562499999999687],[113.52597656250006,-3.184082031249943],[112.97148437500002,-3.187109375000034],[112.60029296875004,-3.4004882812499773],[112.28496093750002,-3.32099609375004],[111.82207031250007,-3.5325195312499744],[111.82304687500007,-3.057226562499949],[111.367578125,-2.9336914062500057],[111.04433593750005,-3.0557617187500057],[110.57402343750007,-2.891406250000003],[110.2326171875001,-2.9250976562500313],[110.01923828125004,-1.3988281249999517],[109.78740234375007,-1.011328124999963],[109.45380859375004,-.868749999999963],[109.160546875,-.49492187500001705],[109.2575195312501,.03115234375005116],[108.94453125000004,.35566406249999716],[108.90585937500006,.7939453125000142],[109.07587890625004,1.4958984375000313],[109.37851562500006,1.922705078125034],[109.62890625000003,2.027539062499983],[109.65400390625004,1.6148925781250227],[110.50576171875005,.8619628906250227],[110.93808593750006,1.0173339843750568],[111.76972656250004,.9994628906249687],[112.078515625,1.1433593749999744],[112.1857421875001,1.4390624999999915],[112.47617187500006,1.5590820312500284],[113.6222656250001,1.2359375000000057],[113.90234375000003,1.4342773437499972],[114.54589843750003,1.467138671875034],[114.83056640625003,1.9800292968749886],[114.78642578125002,2.250488281250014],[115.1791015625,2.5231933593749716],[115.086328125,2.8411132812499886],[115.45439453125002,3.0343261718750085],[115.56845703125006,3.9387695312499744],[115.89619140625004,4.348681640624989],[117.10058593750003,4.337060546875023],[117.5744140625001,4.17060546875004]]],[[[96.49257812500005,5.2293457031249915],[97.54716796875002,5.205859375000003],[98.2484375,4.41455078125],[98.3073242187501,4.09287109375002],[99.73232421875005,3.1830566406250256],[100.45703124999997,2.2574218750000057],[100.68525390625004,2.120068359374997],[101.04619140625002,2.2574707031250227],[101.47666015625006,1.693066406250054],[101.78476562500012,1.621386718750017],[102.15722656249997,1.2588867187499773],[102.46923828124997,.7792968750000568],[102.84941406250002,.7154785156250227],[103.06650390625012,.4919921874999602],[103.47890625000005,.4801757812500398],[103.78671875000012,.046972656249991473],[103.42851562500007,-.1917968749999801],[103.43115234374997,-.5335937499999801],[103.72109375,-.8867187499999858],[104.36054687500004,-1.0383789062499744],[104.56875,-1.9217773437499943],[104.84521484375003,-2.0929687499999687],[104.66845703124997,-2.3855468749999744],[105.39697265624997,-2.380175781249946],[105.58203124999997,-2.4919921874999886],[106.0443359375,-3.1062499999999886],[105.84374999999997,-3.61367187499998],[105.88720703124997,-5.009570312499974],[105.81611328125004,-5.67656249999996],[105.6185546875,-5.799609374999989],[105.34941406250007,-5.549511718750011],[105.08134765625002,-5.74550781249998],[104.63955078125005,-5.520410156250037],[104.60156249999997,-5.90458984374996],[103.8314453125,-5.079589843750028],[102.91894531249997,-4.470703124999972],[102.53769531250006,-4.152148437499989],[102.12753906250006,-3.599218749999963],[101.57861328124997,-3.166992187500014],[100.848046875,-2.143945312499966],[100.85527343750002,-1.9341796874999488],[100.48652343750004,-1.2991210937499744],[100.30820312500006,-.82666015625],[99.59765624999997,.10244140625000853],[99.15917968749997,.35175781249999716],[98.79638671874997,1.4946289062500426],[98.56425781250002,1.902148437500017],[97.70078125000006,2.3585449218750085],[97.59082031249997,2.846582031250037],[97.3913085937501,2.9752929687499687],[96.9689453125001,3.5751464843749687],[96.44472656250005,3.81630859374998],[95.49472656250006,4.761376953125051],[95.20664062500006,5.284033203125034],[95.39609375000012,5.628808593750023],[95.84130859374997,5.514501953125006],[96.13330078125003,5.2942871093749915],[96.49257812500005,5.2293457031249915]]]]},properties:{name:"Indonesia",childNum:30}},{geometry:{type:"Polygon",coordinates:[[[78.71972656250009,31.887646484374983],[78.69345703125006,31.740380859374994],[78.7550781250001,31.55029296875],[78.74355468750005,31.323779296875017],[79.10712890625004,31.402636718750102],[79.66425781250004,30.965234374999994],[79.92451171875004,30.888769531250034],[80.20712890625006,30.683740234375023],[80.19121093750002,30.56840820312496],[80.87353515625003,30.290576171875045],[80.98544921875006,30.23710937499999],[80.54902343750015,29.899804687499994],[80.40185546875003,29.730273437500102],[80.31689453125014,29.572070312500017],[80.25488281250009,29.423339843750114],[80.25595703125006,29.318017578125136],[80.23300781250006,29.194628906250045],[80.16953125000012,29.124316406250102],[80.13046875000006,29.100390625000045],[80.08457031249995,28.994189453125074],[80.05166015625,28.870312500000068],[80.07070312500005,28.830175781250063],[80.58701171875006,28.64960937500004],[81.85263671875018,27.867089843750136],[81.89687500000011,27.87446289062504],[81.94521484375005,27.89926757812495],[81.98769531250016,27.91376953125004],[82.03701171875,27.90058593750004],[82.11191406250006,27.86494140625004],[82.28769531250018,27.756542968749983],[82.45136718750004,27.671826171874955],[82.62988281249997,27.687060546875045],[82.67734375000006,27.67343749999995],[82.71083984375005,27.596679687500114],[82.73339843750003,27.518994140625097],[83.28974609375004,27.370996093750136],[84.09101562499993,27.491357421875136],[84.22978515625007,27.427832031250006],[84.48085937500005,27.348193359375102],[84.61015625000002,27.298681640624977],[84.64072265625012,27.249853515624977],[84.65478515625014,27.20366210937499],[84.68535156250013,27.041015625000057],[85.29296875000009,26.741015625000045],[86.36611328125,26.57441406250004],[86.70136718750015,26.435058593750057],[87.01640625000002,26.555419921875085],[87.2874023437499,26.360302734375125],[87.41357421875014,26.42294921875009],[87.63339843750006,26.39912109375004],[87.84921875000006,26.43691406250008],[87.99511718750014,26.38237304687499],[88.02695312500023,26.395019531250085],[88.05488281250004,26.43002929687492],[88.11152343750004,26.58642578125],[88.1615234375,26.724804687500125],[88.15722656250009,26.807324218750068],[88.1110351562501,26.928466796875057],[87.99316406250009,27.086083984374994],[87.98437499999997,27.133935546874994],[88.02412109375015,27.40888671875004],[88.14697265625014,27.749218750000097],[88.10898437499995,27.93300781250005],[88.57792968750002,28.093359375000034],[88.80371093750003,28.006933593750034],[88.74902343749997,27.521875000000136],[88.7648437500001,27.429882812500068],[88.83251953125003,27.362841796875074],[88.89140625000002,27.316064453125136],[88.88164062500007,27.29746093750009],[88.76035156250006,27.21811523437509],[88.73876953125009,27.175585937499932],[88.85761718750015,26.961474609375017],[89.14824218750002,26.816162109375085],[89.33212890625018,26.848632812500114],[89.60917968750013,26.762207031250114],[89.60996093750012,26.719433593750097],[89.71093750000009,26.713916015625045],[89.76386718750004,26.701562499999994],[89.94316406250013,26.723925781249932],[90.12294921875011,26.754589843749983],[90.20605468749997,26.847509765625063],[90.34589843750004,26.890332031250097],[90.73964843750005,26.771679687500068],[91.67158203124993,26.80200195312503],[91.84208984375013,26.852978515625125],[91.94375000000005,26.860839843750114],[91.99833984375013,26.85498046875],[92.04970703125016,26.87485351562495],[92.07343750000015,26.914843750000102],[91.99228515625018,27.09990234374999],[92.0833984375,27.29062499999992],[92.04492187499997,27.364697265625097],[91.99082031249995,27.450195312500114],[91.59472656250009,27.55766601562499],[91.63193359375012,27.759960937499983],[92.41484375000002,27.824609374999994],[92.65253906250004,28.093359375000034],[92.70185546875004,28.147119140624994],[93.36054687500004,28.654052734375057],[93.76074218750003,28.729785156250017],[94.01328125000006,28.90751953124999],[94.46806640625007,29.216210937499994],[94.99882812500002,29.14916992187503],[95.27910156250002,29.04956054687497],[95.42021484375007,29.054296875000063],[95.49375000000012,29.137011718750045],[95.51582031250015,29.20634765624996],[95.71035156250011,29.313818359375006],[95.88505859375007,29.390917968750074],[96.03535156250015,29.447167968749994],[96.07958984375009,29.424121093750074],[96.12851562500012,29.381396484375074],[96.23496093750006,29.245800781249983],[96.18085937500004,29.11767578125],[96.14140625000007,28.963476562500034],[96.58085937500007,28.763671875],[96.32988281250002,28.496826171875],[96.3890625,28.36791992187503],[96.65283203125003,28.44975585937499],[97.07539062500004,28.368945312500045],[97.14511718750012,28.340332031250085],[97.28945312500005,28.23681640624997],[97.32246093750015,28.21796875000004],[97.30273437499997,28.08598632812496],[97.34355468750002,27.982324218749994],[97.04970703125005,27.760009765625],[96.96279296875,27.698291015625017],[96.79785156249997,27.29619140624999],[96.19082031250005,27.26127929687499],[95.20146484375007,26.641406250000017],[95.05976562500015,26.473974609375006],[95.06894531250006,26.191113281250097],[95.10839843750014,26.091406250000034],[95.12929687500011,26.070410156250034],[95.13242187500006,26.041259765624943],[94.99199218750002,25.77045898437504],[94.66777343750007,25.458886718749966],[94.70371093750012,25.097851562499955],[94.49316406250003,24.637646484374983],[94.37724609375002,24.473730468750006],[94.07480468750006,23.8720703125],[93.68339843750007,24.00654296875004],[93.45214843750003,23.987402343750034],[93.32626953125006,24.064208984375057],[93.41494140625011,23.68208007812501],[93.36601562500007,23.132519531249955],[93.34941406250007,23.08496093750003],[93.20390625000002,23.03701171875005],[93.07871093750018,22.718212890625097],[93.16201171875,22.360205078125006],[93.07060546875002,22.20942382812501],[92.77138671875,22.104785156250017],[92.5612304687501,22.04804687500001],[92.49140625000004,22.685400390625006],[92.46445312500006,22.734423828125045],[92.36162109375002,22.929003906250074],[92.33378906250002,23.242382812499955],[92.04404296875006,23.677783203125017],[91.97851562500003,23.691992187500063],[91.92958984375011,23.685986328125097],[91.92949218750019,23.598242187499977],[91.93789062500011,23.504687500000102],[91.75419921875013,23.28730468750004],[91.75097656250003,23.053515625000017],[91.43623046875004,23.19990234375001],[91.35937500000003,23.06835937500003],[91.16044921875019,23.660644531250085],[91.35019531250012,24.06049804687501],[91.72656250000003,24.20507812499997],[92.06416015625004,24.374365234375006],[92.11748046875002,24.493945312500017],[92.22666015625012,24.77099609374997],[92.38496093750004,24.848779296875023],[92.04970703125016,25.16948242187499],[90.61308593750002,25.16772460937497],[90.11962890625003,25.21997070312497],[89.86630859375012,25.293164062499955],[89.81406250000006,25.305371093749955],[89.80087890625012,25.33613281250001],[89.82490234375004,25.560156250000006],[89.82294921875015,25.94140625000003],[89.57275390625003,26.13232421875003],[89.10830078125005,26.202246093750063],[89.01865234375012,26.410253906249977],[88.95195312500002,26.412109375],[88.97041015625004,26.250878906250023],[88.94072265625002,26.24536132812497],[88.68281250000004,26.291699218749983],[88.68066406250009,26.35297851562504],[88.51826171875004,26.51777343750004],[88.41816406250015,26.57153320312497],[88.36992187500002,26.56411132812508],[88.35146484375005,26.482568359374966],[88.38623046875003,26.471533203125034],[88.44042968749997,26.369482421875034],[88.33398437499997,26.257519531249955],[88.1066406250001,25.841113281250045],[88.14746093749997,25.811425781250023],[88.76914062500006,25.490478515625],[88.85478515625002,25.333544921875017],[88.94414062500002,25.290771484375],[88.92978515625012,25.222998046875063],[88.57382812500006,25.187890624999994],[88.31337890625011,24.8818359375],[88.14980468750011,24.91464843749995],[88.04511718750015,24.71303710937508],[88.03027343750009,24.664453125000136],[88.02343750000003,24.627832031250136],[88.07910156250009,24.549902343750063],[88.14550781250003,24.485791015624955],[88.22500000000005,24.460644531249983],[88.33750000000006,24.45385742187503],[88.49853515625003,24.34663085937504],[88.64228515625015,24.325976562500102],[88.72353515625011,24.27490234375],[88.7335937500001,24.230908203125097],[88.72656250000009,24.18623046875004],[88.71376953125016,24.069628906250102],[88.69980468750006,24.00253906249992],[88.56738281250009,23.674414062500034],[88.69765625,23.493017578125034],[88.72441406250002,23.254980468750034],[88.89970703125002,22.843505859375057],[88.92070312500002,22.632031249999955],[89.0500000000001,22.274609374999983],[89.05166015625,21.654101562500045],[88.25371093750002,21.622314453124943],[87.94843749999993,21.825439453124943],[87.10068359375006,21.500781250000074],[86.85957031250004,21.23671875000008],[86.97548828125005,20.70014648437501],[86.75039062500011,20.313232421875057],[86.27949218750021,19.919433593749943],[85.57500000000002,19.69291992187499],[84.77099609375009,19.125390625000023],[84.10410156250018,18.29267578125001],[83.65429687499997,18.069873046875102],[83.19833984375006,17.608984374999977],[82.35957031250004,17.09619140624997],[82.25878906250014,16.55986328124996],[81.76191406250015,16.32949218750008],[81.23857421875013,16.263964843750074],[80.97871093750004,15.758349609375074],[80.64658203125006,15.895019531250028],[80.29345703125014,15.710742187499989],[80.0534179687501,15.074023437499932],[80.16542968750016,14.577832031250097],[80.11171875000005,14.212207031250045],[80.34238281250006,13.361328125000071],[80.22910156250018,12.690332031249966],[79.85849609375018,11.988769531250043],[79.75410156250004,11.575292968750006],[79.84863281250009,11.196875000000006],[79.83818359375002,10.322558593750045],[79.39052734375005,10.305957031250045],[78.99628906249993,9.683105468749986],[78.97958984375018,9.268554687500085],[78.42148437500006,9.105029296874989],[78.19248046874995,8.890869140625057],[78.06015625000006,8.384570312499932],[77.51757812500003,8.078320312500068],[76.96689453125012,8.407275390624946],[76.5534179687501,8.902783203124997],[76.32460937500016,9.452099609374997],[76.34648437500002,9.922119140625],[75.92255859375015,10.784082031250108],[75.72382812500015,11.361767578125026],[75.1966796875,12.057519531250009],[74.77050781250009,13.077343750000125],[74.67089843749997,13.667626953125122],[74.38222656250005,14.494726562500048],[73.94921875000014,15.074755859375088],[73.93193359375013,15.39697265625],[73.47607421875003,16.05424804687496],[73.33759765625004,16.459863281249994],[73.15605468750019,17.62192382812495],[72.87089843750019,18.683056640624955],[72.66777343750019,19.83095703125005],[72.88115234375013,20.56318359375001],[72.81386718750011,21.117187500000085],[72.54306640625,21.69658203124999],[72.59013671875019,22.27812499999999],[72.33261718750012,22.270214843749955],[72.03720703125006,21.82304687499999],[72.25400390625006,21.531005859375],[72.01523437500012,21.155712890625097],[71.0246093750001,20.73886718750009],[70.71933593750006,20.740429687500068],[70.12734375,21.094677734375097],[69.00878906250009,22.196777343750114],[70.17724609375014,22.57275390624997],[70.2511718750001,22.970898437500068],[69.66464843750006,22.759082031250074],[69.23593749999995,22.848535156250023],[68.64072265625006,23.189941406250114],[68.16503906250009,23.857324218749994],[68.28251953125013,23.927978515625],[68.38125000000016,23.950878906250068],[68.48867187500011,23.96723632812501],[68.5866210937501,23.966601562500074],[68.72412109375003,23.964697265625034],[68.72812500000012,24.265625000000057],[68.73964843750016,24.291992187500085],[68.75898437499993,24.307226562500006],[68.78115234375011,24.313720703125085],[68.80000000000004,24.30908203125003],[68.82832031250004,24.26401367187509],[68.86347656250015,24.26650390625005],[68.90078125000011,24.29243164062501],[68.98457031250015,24.273095703124966],[69.11953125000011,24.26865234374995],[69.23505859374993,24.268261718750068],[69.44345703124995,24.275390625000085],[69.55917968750006,24.273095703124966],[69.63417968750016,24.225195312499977],[69.71621093750016,24.172607421875114],[70.54677734375,24.418310546875063],[70.71630859375009,24.237988281250097],[70.7672851562501,24.245410156250017],[70.80507812500011,24.26196289062503],[70.88623046875014,24.34374999999997],[70.92812500000016,24.362353515625045],[70.98281250000011,24.361035156250125],[71.04404296875006,24.400097656250097],[71.04531250000005,24.42998046874996],[71.00625,24.444335937500057],[70.97324218750012,24.48740234374995],[70.97636718750013,24.618750000000063],[71.00234375000016,24.65390624999992],[71.04785156250003,24.687744140625085],[71.02070312500021,24.75766601562492],[70.95087890625015,24.89160156250003],[70.87773437500019,25.06298828124997],[70.65205078125004,25.422900390625102],[70.10019531250006,25.91005859375005],[70.14921875000002,26.347558593749994],[70.05937500000002,26.578759765625023],[69.47001953125002,26.804443359375],[69.56796875,27.174609375000102],[69.89628906250007,27.473632812500085],[70.04980468750009,27.694726562500023],[70.14453125000003,27.849023437499994],[70.19394531250006,27.89487304687492],[70.24433593750004,27.934130859375102],[70.4037109375,28.025048828124994],[70.48857421875013,28.023144531250125],[70.62910156250015,27.937451171875068],[70.64912109375015,27.83535156250005],[70.73740234374995,27.729003906250057],[70.79794921875012,27.709619140625023],[70.87490234375016,27.71445312499995],[71.54296875000003,27.869873046875],[71.71669921875005,27.91508789062496],[71.8703125000001,27.962500000000034],[71.88886718750004,28.04746093749992],[71.94804687500002,28.177294921875102],[72.34189453125006,28.751904296875097],[72.90332031250003,29.02875976562501],[73.38164062500013,29.934374999999932],[73.46748046875004,29.971679687500085],[73.8091796875,30.093359375000006],[73.89931640625,30.435351562500045],[74.00898437500004,30.519677734374994],[74.21562500000013,30.768994140624983],[74.33935546875003,30.893554687499943],[74.38037109375003,30.89340820312509],[74.50976562500009,30.959667968750097],[74.63281250000014,31.034667968750114],[74.62578125000002,31.068750000000108],[74.61035156250009,31.112841796875045],[74.51767578125012,31.185595703124932],[74.53496093750007,31.261376953125108],[74.59394531249993,31.465380859375102],[74.58183593750013,31.523925781250114],[74.50996093750015,31.712939453125074],[74.73945312500015,31.948828125000006],[75.07148437500015,32.08935546875003],[75.13876953125,32.10478515624999],[75.25410156250004,32.140332031250125],[75.33349609374997,32.279199218749994],[74.98730468749997,32.46220703124996],[74.78886718750013,32.45781249999996],[74.6857421875001,32.493798828124994],[74.65781250000006,32.518945312499966],[74.66328125000004,32.75766601562495],[74.35458984375012,32.76870117187505],[74.30361328125005,32.991796875000034],[73.99423828125006,33.24218750000006],[74.15,33.506982421874994],[73.96123046875007,34.653466796874994],[74.05585937500015,34.68066406250003],[74.17197265624995,34.72089843750004],[74.30039062500006,34.76538085937506],[75.70917968750004,34.50307617187508],[76.04101562500014,34.66992187499997],[76.4567382812501,34.756103515625114],[76.5944335937501,34.73583984375006],[76.69628906249997,34.78691406249999],[76.74902343750014,34.84755859375008],[76.7829101562501,34.90019531249999],[77.00087890625011,34.99199218750002],[77.04863281250007,35.109912109375074],[77.79941406250006,35.49589843750002],[78.07578125000006,35.13491210937502],[78.15849609375002,34.94648437499998],[78.32695312500007,34.60639648437498],[78.86484375000006,34.39033203125001],[78.93642578125,34.35195312500002],[78.72666015625006,34.013378906249955],[78.78378906250006,33.80878906250004],[78.86503906250002,33.43110351562501],[78.94843750000004,33.346533203125006],[79.11250000000004,33.22626953125001],[79.13515625000005,33.17192382812496],[79.10283203125007,33.05253906249996],[79.14550781250003,33.00146484375006],[79.16992187500003,32.497216796874994],[78.75351562500012,32.49926757812506],[78.73671875,32.55839843750002],[78.38964843749997,32.51987304687498],[78.41748046874997,32.466699218749994],[78.4552734375001,32.30034179687502],[78.49589843750002,32.21577148437504],[78.71972656250009,31.887646484374983]]]},properties:{name:"India",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-6.218017578125,54.08872070312506],[-6.027392578124989,52.927099609375006],[-6.561083984374989,52.18881835937498],[-7.527294921874926,52.09887695312503],[-8.813427734374926,51.584912109374955],[-10.37871093749996,51.86875000000006],[-9.955810546874972,52.13666992187501],[-9.299218749999966,53.09755859375002],[-9.795410156249972,53.39497070312504],[-9.995947265624977,54.27602539062502],[-8.623144531249977,54.34687499999998],[-8.763916015624972,54.68120117187496],[-8.274609374999955,55.146289062500045],[-7.246679687499949,55.35302734374997],[-7.2186523437499375,55.09199218749998],[-8.118261718749977,54.41425781250004],[-7.3551757812499545,54.12124023437502],[-6.218017578125,54.08872070312506]]]},properties:{name:"Ireland",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[46.1144531250001,38.877783203125034],[46.490624999999994,38.90668945312498],[47.772851562499994,39.64858398437505],[47.995898437500074,39.683935546875034],[48.24199218750002,38.978955078124955],[48.02324218750002,38.81904296874998],[48.59267578125005,38.41108398437498],[48.86875000000006,38.43549804687498],[49.08095703125005,37.667578125000034],[49.470117187499994,37.496679687500034],[50.130468750000006,37.407128906249994],[50.53320312499997,37.01367187500006],[51.11855468750005,36.742578124999966],[52.19013671875004,36.62172851562505],[54.017187500000006,36.952490234375034],[53.91416015625006,37.34355468750002],[54.745214843750006,37.501904296874955],[55.075585937499994,37.90249023437502],[55.57841796875002,38.099755859374994],[56.22880859375002,38.07338867187502],[56.4406250000001,38.249414062499994],[57.1935546875001,38.216406250000034],[57.42382812500003,37.94770507812501],[58.4357421875001,37.63852539062498],[58.81542968750003,37.683496093749994],[59.240820312500006,37.52075195312497],[59.5622070312501,37.178906249999955],[60.06279296875002,36.962890625],[60.34130859375003,36.63764648437501],[61.11962890625003,36.64257812500003],[61.26201171875002,35.61958007812498],[61.08007812499997,34.85561523437505],[60.95117187499997,34.65385742187499],[60.91474609375004,34.63398437500001],[60.80234375000006,34.55463867187501],[60.7262695312501,34.51826171874998],[60.48574218750005,34.09477539062502],[60.485937500000006,33.7119140625],[60.91699218749997,33.505224609375006],[60.56054687499997,33.13784179687502],[60.576562499999994,32.99487304687503],[60.71044921874997,32.599999999999966],[60.82929687500004,32.24941406250005],[60.854101562500006,31.483251953125006],[61.110742187499994,31.45112304687504],[61.346484375000074,31.42163085937497],[61.66015625000003,31.382421874999977],[61.7550781250001,31.285302734374994],[61.814257812500074,31.072558593750017],[61.810839843750074,30.913281249999983],[61.78417968749997,30.831933593750023],[61.55947265625005,30.59936523437497],[61.10410156250006,30.12841796875003],[60.84335937500006,29.85869140624999],[61.03417968750003,29.663427734374977],[61.15214843750002,29.542724609375],[61.62304687500003,28.791601562500006],[61.8898437500001,28.546533203124994],[62.762500000000074,28.202050781249994],[62.782324218750006,27.800537109375],[62.75273437500002,27.265625],[63.16679687500002,27.25249023437499],[63.168066406250006,26.66557617187496],[62.31230468750002,26.490869140624994],[61.8698242187501,26.242431640625],[61.66865234375004,25.76899414062501],[61.61542968750004,25.28613281250003],[61.58789062499997,25.20234375000001],[61.533105468749994,25.195507812499955],[61.41220703125006,25.102099609375017],[60.66386718750002,25.28222656250003],[59.45605468749997,25.481494140625045],[59.0460937500001,25.417285156250017],[58.79785156249997,25.554589843750023],[57.7960937500001,25.65302734375001],[57.334570312500006,25.791552734375074],[56.98222656250002,26.905468749999983],[56.3561523437501,27.20024414062499],[55.650292968749994,26.9775390625],[54.89580078125002,26.55668945312499],[53.70576171875004,26.72558593750003],[53.45498046875005,26.94326171875005],[52.69160156250004,27.323388671875023],[52.475878906250074,27.61650390624999],[51.666308593750074,27.84497070312497],[51.278906250000006,28.13134765624997],[51.06201171874997,28.72612304687499],[50.67519531250005,29.146582031250034],[50.64960937500004,29.420068359374966],[49.9831054687501,30.209375000000023],[49.55488281250004,30.028955078125023],[48.91914062500004,30.120898437500017],[48.54648437500006,29.962353515624955],[48.47851562499997,30.003808593749966],[48.43457031249997,30.03759765625],[48.40136718749997,30.188330078124977],[48.33105468749997,30.28544921874996],[48.01494140625002,30.46562499999999],[48.01347656250002,30.656445312499955],[48.012011718750074,30.823632812500023],[48.01064453125005,30.989794921875017],[47.679492187500074,31.00239257812501],[47.679492187500074,31.400585937499955],[47.75390624999997,31.601367187500017],[47.829980468749994,31.79443359375],[47.71455078125004,31.936425781249966],[47.5915039062501,32.087988281250034],[47.51191406250004,32.15083007812504],[47.3712890625001,32.42373046875002],[47.3297851562501,32.45551757812501],[47.28515625000003,32.474023437499966],[47.121386718750074,32.46660156249996],[46.569921875000006,32.83393554687501],[46.37705078125006,32.92924804687499],[45.39707031250006,33.970849609374994],[45.43759765625006,34.415136718750006],[45.63750000000002,34.573828125000006],[45.661523437499994,34.61269531250002],[45.660058593749994,34.74877929687503],[45.67812500000005,34.798437500000034],[45.92089843750003,35.02851562500001],[46.04179687500002,35.08017578125006],[46.13378906249997,35.127636718749955],[46.15468750000005,35.19672851562498],[46.112109375000074,35.32167968750005],[45.97109375000005,35.524169921875],[46.03740234375002,35.67314453124999],[46.180957031250074,35.71137695312504],[46.262500000000074,35.74414062500006],[46.27343749999997,35.77324218750002],[46.16748046874997,35.820556640625],[45.72343750000002,35.83666992187497],[45.36162109375002,36.015332031249955],[45.241113281249994,36.35595703125],[45.20654296874997,36.397167968749955],[45.15527343749997,36.407373046874994],[45.11240234375006,36.409277343750034],[45.03105468750002,36.52607421875001],[44.76513671875003,37.142431640625006],[44.56123046875004,37.74462890625003],[44.211328124999994,37.908056640625006],[44.43085937500004,38.356787109375034],[44.02324218750002,39.37744140625006],[44.81718750000002,39.65043945312496],[45.4796875000001,39.006249999999994],[46.1144531250001,38.877783203125034]]]},properties:{name:"Iran",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[47.14824218750002,30.0009765625],[46.905859375000006,29.537499999999994],[46.53144531250001,29.096240234374996],[46.3564453125,29.063671874999997],[44.69082031250002,29.202343749999997],[42.85771484375002,30.49521484375],[42.07441406250001,31.080371093749996],[40.36933593750001,31.93896484375],[40.02783203125,31.995019531249994],[39.7041015625,32.042529296874996],[39.14541015625002,32.12451171875],[38.773535156250006,33.372216796874994],[40.689453125,34.33203125],[40.98701171875001,34.429052734375],[41.19472656250002,34.768994140625],[41.354101562500006,35.640429687499996],[41.24560546875,36.073388671874994],[41.41679687500002,36.5146484375],[41.78857421875,36.59716796875],[42.358984375000006,37.10859375],[42.77460937500001,37.371874999999996],[43.51582031250001,37.244531249999994],[43.83642578125,37.223535156249994],[44.01318359375,37.313525390624996],[44.11445312500001,37.30185546875],[44.15625,37.282958984375],[44.19179687500002,37.249853515625],[44.20839843750002,37.20263671875],[44.20166015625,37.051806640624996],[44.281835937500006,36.97802734375],[44.32558593750002,37.0107421875],[44.401953125000006,37.058496093749994],[44.49599609375002,37.110546875],[44.566015625000006,37.158251953124996],[44.60595703125,37.176025390625],[44.66933593750002,37.173583984375],[44.73095703125,37.165283203125],[44.798437500000006,37.063867187499994],[44.880859375,36.79931640625],[45.03105468750002,36.52607421875],[45.112402343750006,36.40927734375],[45.1552734375,36.407373046874994],[45.20654296875,36.39716796875],[45.24111328125002,36.35595703125],[45.36162109375002,36.01533203125],[45.72343750000002,35.836669921875],[46.16748046875,35.820556640625],[46.2734375,35.773242187499996],[46.26250000000002,35.744140625],[46.18095703125002,35.711376953125],[46.03740234375002,35.673144531249996],[45.97109375000002,35.524169921875],[46.11210937500002,35.321679687499994],[46.15468750000002,35.196728515625],[46.1337890625,35.12763671875],[46.04179687500002,35.08017578125],[45.9208984375,35.028515625],[45.67812500000002,34.7984375],[45.437597656250006,34.41513671875],[45.397070312500006,33.970849609374994],[46.377050781250006,32.929248046874996],[46.569921875000006,32.833935546875],[47.12138671875002,32.466601562499996],[47.28515625,32.474023437499994],[47.32978515625001,32.455517578125],[47.37128906250001,32.423730468749994],[47.51191406250001,32.150830078125],[47.59150390625001,32.08798828125],[47.71455078125001,31.936425781249994],[47.82998046875002,31.79443359375],[47.75390625,31.601367187499996],[47.67949218750002,31.400585937499997],[47.67949218750002,31.002392578124997],[48.01064453125002,30.989794921874996],[48.01201171875002,30.823632812499994],[48.01347656250002,30.656445312499997],[48.01494140625002,30.465624999999996],[48.3310546875,30.285449218749996],[48.4013671875,30.188330078125],[48.4345703125,30.03759765625],[48.546484375000006,29.962353515624997],[48.454199218750006,29.9384765625],[48.141699218750006,30.040917968749994],[48.07275390625,30.043212890625],[47.982519531250006,30.011328125],[47.97871093750001,29.982812499999994],[47.67275390625002,30.095605468749994],[47.14824218750002,30.0009765625]]]},properties:{name:"Iraq",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-15.543115234374994,66.228515625],[-14.740429687499983,66.050830078125],[-14.757519531249983,65.7556640625],[-13.616015624999989,65.487158203125],[-13.569677734374977,65.068115234375],[-14.547070312499983,64.445947265625],[-16.060449218749994,64.11123046875],[-16.640332031249983,63.865478515625],[-17.81572265624999,63.71298828125],[-18.65361328124999,63.406689453125],[-20.198144531249994,63.555810546874994],[-21.832763671875,64.205419921875],[-21.950341796874994,64.514990234375],[-22.683984374999994,65.0263671875],[-22.005761718749994,65.49345703125],[-22.902490234374994,65.58046875],[-24.223974609374977,65.48720703125],[-23.527929687499977,66.164404296875],[-22.426123046874977,66.430126953125],[-21.303466796875,65.87646484375],[-21.22998046875,65.42060546875],[-20.356640624999983,65.71904296875],[-20.356591796874994,66.033251953125],[-18.777539062499983,66.168798828125],[-16.748437499999994,66.131640625],[-15.985400390624989,66.5146484375],[-15.543115234374994,66.228515625]]]},properties:{name:"Iceland",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[35.78730468750001,32.734912109374996],[35.572851562500006,32.640869140625],[35.56904296875001,32.619873046875],[35.55146484375001,32.3955078125],[35.484375,32.401660156249996],[35.40263671875002,32.450634765625],[35.38671875,32.493017578125],[35.303808593750006,32.512939453125],[35.19326171875002,32.534423828125],[35.065039062500006,32.46044921875],[35.01054687500002,32.338183593749996],[34.95595703125002,32.160937499999996],[34.98974609375,31.913281249999997],[34.880468750000006,31.3681640625],[35.45058593750002,31.479296874999996],[35.43925781250002,31.132421875],[35.17402343750001,30.52392578125],[34.97343750000002,29.555029296875],[34.904296875,29.477343749999996],[34.24531250000001,31.208300781249996],[34.52558593750001,31.525634765625],[35.10859375000001,33.08369140625],[35.411230468750006,33.07568359375],[35.869140625,33.43173828125],[35.78730468750001,32.734912109374996]]]},properties:{name:"Israel",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[15.576562500000051,38.220312500000034],[15.099511718750023,37.458593750000006],[15.294531250000063,37.01328125000006],[15.112597656250017,36.687841796875006],[14.501855468750023,36.798681640625034],[12.435546874999972,37.819775390624955],[13.351660156250006,38.180517578125006],[13.68154296875008,38.00073242187497],[14.505957031250063,38.045507812500034],[14.84589843750004,38.17167968749999],[15.576562500000051,38.220312500000034]]],[[[9.632031250000011,40.88203124999998],[9.805273437500063,40.499560546875045],[9.562500000000057,39.16601562500006],[9.056347656250068,39.23916015625002],[8.881347656250028,38.91289062499999],[8.418164062500068,39.205712890624966],[8.471289062500063,40.29267578124998],[8.189941406250028,40.651611328125],[9.283007812500045,41.20166015624997],[9.632031250000011,40.88203124999998]]],[[[13.420996093750006,46.212304687499994],[13.663476562500023,45.7919921875],[13.831152343750006,45.680419921875],[13.206347656250074,45.771386718749966],[12.27431640625008,45.44604492187503],[12.523437500000028,44.96796874999998],[12.248339843750045,44.72250976562498],[12.396289062500074,44.223876953125],[13.56416015625004,43.57128906250003],[14.010449218750011,42.68955078125006],[14.86611328125008,42.05253906249996],[15.168750000000017,41.93403320312498],[15.96406250000004,41.939453125],[16.01259765625005,41.435400390625006],[17.10341796875008,41.062158203124994],[17.954980468749994,40.65517578125002],[18.485839843750057,40.104833984375006],[18.077929687500017,39.93696289062498],[17.865039062500074,40.28017578125002],[16.92822265625,40.45805664062502],[16.52998046875004,39.85966796874996],[16.597753906249977,39.63891601562503],[17.114550781250017,39.38061523437497],[17.174609375000017,38.998095703125045],[16.55898437500008,38.714794921874955],[16.54560546875001,38.40908203125002],[16.05683593750001,37.941845703124955],[15.72451171875008,37.93911132812502],[15.97236328125004,38.712597656249955],[16.19677734375,38.759228515624955],[16.02363281250001,39.35361328124998],[15.692773437499994,39.99018554687501],[14.95087890625004,40.23901367187497],[14.765722656250063,40.66840820312498],[14.102343749999989,40.82714843749997],[13.733398437500057,41.23564453124999],[13.088671875000074,41.243847656249955],[12.630859374999972,41.469677734374955],[11.637304687500063,42.287548828124955],[10.708398437500023,42.93632812499999],[10.047656250000045,44.01997070312504],[8.76582031250004,44.42231445312501],[8.081640625000006,43.91894531250006],[7.4931640625,43.767138671875045],[7.651464843750034,44.03364257812498],[6.96728515625,44.280029296875],[7.030664062500023,44.71669921875005],[6.627734375000017,45.11796874999999],[7.153417968749977,45.40092773437499],[7.021093750000034,45.92578124999997],[7.327929687500017,45.912353515625],[7.787890625000017,45.92182617187498],[7.9931640625,46.01591796874996],[8.081542968750057,46.25600585937502],[8.818554687500011,46.0771484375],[8.826757812500006,46.06103515625],[9.203417968750017,46.21923828125],[9.939257812500074,46.36181640625],[10.041015625000028,46.23808593750002],[10.14521484375004,46.25351562500006],[10.038281250000011,46.483203125000045],[10.061230468750068,46.54677734375002],[10.087011718750063,46.59990234375002],[10.137500000000045,46.614355468750034],[10.195507812500068,46.62109374999997],[10.272265625000074,46.564843749999966],[10.363085937500017,46.54707031249998],[10.4306640625,46.55004882812497],[10.438281250000045,46.618847656249955],[10.39794921875,46.66503906250006],[10.406054687500045,46.73486328124997],[10.452832031249983,46.86494140625001],[10.47939453125008,46.85512695312505],[10.579785156250011,46.85371093750001],[10.689257812500017,46.846386718749955],[10.759765625,46.79331054687498],[10.828906250000045,46.775244140625034],[10.927343750000034,46.76948242187501],[10.993261718750034,46.77700195312502],[11.02509765625004,46.796972656250006],[11.775683593750017,46.986083984375],[12.388281250000034,46.70263671874997],[13.168750000000045,46.572656249999966],[13.3515625,46.55791015624999],[13.490039062500045,46.55556640625002],[13.700000000000017,46.52026367187503],[13.679687500000057,46.46289062499997],[13.420996093750006,46.212304687499994]]]]},properties:{name:"Italy",childNum:3}},{geometry:{type:"Polygon",coordinates:[[[-77.261474609375,18.457421874999994],[-76.349853515625,18.15185546875],[-76.524609375,17.8662109375],[-76.85322265625,17.97373046874999],[-77.36142578124999,17.833691406249997],[-77.76816406249999,17.877392578124997],[-78.21669921875,18.44809570312499],[-77.8734375,18.522216796875],[-77.261474609375,18.457421874999994]]]},properties:{name:"Jamaica",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[39.14541015625002,32.12451171875],[38.9970703125,32.007470703124994],[38.96230468750002,31.994921874999996],[37.77382812500002,31.696337890624996],[37.49335937500001,31.625878906249994],[37.21562500000002,31.556103515624997],[36.958593750000006,31.491503906249996],[37.980078125000006,30.5],[37.862890625000006,30.442626953125],[37.66972656250002,30.34814453125],[37.64990234375,30.330957031249994],[37.63359375000002,30.313281249999996],[37.55361328125002,30.144580078124996],[37.49072265625,30.01171875],[37.46923828125,29.995068359374997],[36.75527343750002,29.866015624999996],[36.70390625000002,29.831640625],[36.591796875,29.66611328125],[36.47607421875,29.4951171875],[36.282812500000006,29.355371093749994],[36.068457031250006,29.200537109375],[36.01542968750002,29.190478515624996],[34.950781250000006,29.353515625],[34.97343750000002,29.555029296875],[35.17402343750001,30.52392578125],[35.43925781250002,31.132421875],[35.45058593750002,31.479296874999996],[35.49941406250002,31.67236328125],[35.55898437500002,31.765527343749994],[35.55146484375001,32.3955078125],[35.56904296875001,32.619873046875],[35.572851562500006,32.640869140625],[35.78730468750001,32.734912109374996],[36.3720703125,32.3869140625],[36.818359375,32.317285156249994],[38.773535156250006,33.372216796874994],[39.14541015625002,32.12451171875]]]},properties:{name:"Jordan",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[131.17460937500007,33.602587890625045],[131.58300781249997,33.65239257812496],[131.89658203125006,33.25458984375001],[131.97666015625012,32.84394531250001],[131.73212890625004,32.59282226562502],[131.33720703125007,31.404687499999994],[130.58876953125,31.178515625000017],[130.20068359374997,31.291894531250023],[130.3219726562501,31.601464843750023],[130.19443359375012,32.090771484374955],[130.64052734375005,32.61923828124998],[129.58007812500003,33.23627929687501],[130.36503906250007,33.634472656249955],[130.4837890625,33.834619140624966],[130.95312499999997,33.87202148437504],[131.17460937500007,33.602587890625045]]],[[[134.35742187500003,34.25634765625],[134.63750000000007,34.22661132812499],[134.73886718750012,33.82050781250001],[134.37705078125012,33.60839843749997],[134.18164062500003,33.24721679687502],[133.63203125000004,33.51098632812503],[133.28593750000007,33.35996093749998],[132.97724609375004,32.84199218749998],[132.49511718749997,32.91660156249998],[132.36591796875004,33.51245117187506],[132.78427734375006,33.99243164062506],[133.58203124999997,34.01713867187502],[134.07587890625004,34.3583984375],[134.35742187500003,34.25634765625]]],[[[141.22929687500007,41.372656250000006],[141.46279296875005,40.61113281250002],[141.7970703125001,40.29116210937502],[141.97783203125007,39.84443359374998],[141.90078125,39.111328125],[141.65859375000005,38.974853515625],[141.4674804687501,38.404150390625006],[141.10839843750003,38.33793945312502],[140.92792968750004,37.94960937500002],[141.0363281250001,37.46723632812498],[140.96835937500012,37.002050781250006],[140.62734375,36.50278320312498],[140.62197265625005,36.05922851562502],[140.87402343749997,35.72495117187506],[140.457421875,35.51025390625],[140.41650390625003,35.26699218750002],[139.79921875000005,34.956933593749994],[139.65000000000012,35.40913085937501],[139.24941406250005,35.27802734375004],[138.98261718750004,34.698388671874994],[138.57714843750003,35.08647460937502],[138.18906250000012,34.596337890624994],[136.88457031250002,34.80585937500004],[136.53300781250007,34.678369140624994],[136.8537109375001,34.324072265625034],[136.32988281250007,34.17685546875006],[135.91621093750004,33.561718749999955],[135.4528320312501,33.55336914062505],[135.17539062500006,33.898046875000006],[135.10009765624997,34.288378906250045],[135.38476562499997,34.50043945312498],[134.74003906250007,34.765234375000006],[134.20830078125002,34.69765625000002],[133.96826171874997,34.52729492187504],[133.14238281250002,34.30244140624998],[132.23808593750002,34.227001953124955],[132.090234375,33.85546875000003],[131.74052734375007,34.05205078125002],[130.91884765625,33.97573242187502],[131.00419921875007,34.39257812500003],[131.35439453125,34.41318359375006],[132.92294921875006,35.511279296875045],[133.37646484375003,35.458837890625006],[134.21406250000004,35.539257812499955],[135.17431640625003,35.74707031250003],[135.68027343750006,35.50312499999998],[136.09531250000006,35.767626953125045],[136.00625000000005,35.99057617187498],[136.69814453125005,36.742041015625034],[137.34257812500002,36.770361328125034],[137.5140625,36.95156250000002],[138.31992187500012,37.21840820312502],[138.88505859375007,37.84394531250001],[139.40097656250006,38.142578125],[140.04814453125002,39.463720703125034],[139.90800781250002,40.02172851562503],[139.92285156250003,40.59843750000002],[140.28125000000003,40.84609375000002],[141.1185546875,40.88227539062501],[141.22929687500007,41.372656250000006]]],[[[143.82431640625012,44.11699218749999],[144.79853515625004,43.940234375000045],[145.10107421874997,43.76455078125005],[145.34746093750007,43.17670898437501],[144.63076171875,42.946923828124994],[143.96933593750006,42.88139648437499],[143.42949218750002,42.41889648437498],[143.2365234375001,42.000195312499955],[141.85136718750007,42.57905273437501],[140.98613281250002,42.34213867187498],[140.70976562500002,42.555615234374955],[140.31523437500002,42.33427734374999],[140.65986328125004,41.815576171874994],[140.3849609375001,41.51928710937503],[139.99531250000004,41.57641601562503],[140.10839843749997,41.912939453125034],[139.82089843750012,42.387597656249994],[139.89111328125003,42.64921875000002],[140.78066406250005,43.214990234374994],[141.29628906250005,43.19965820312498],[141.64472656250004,44.01943359375002],[141.78222656249997,44.71635742187496],[141.58300781250003,45.15595703125001],[141.93769531250004,45.509521484375],[142.70410156249997,44.81918945312506],[143.82431640625012,44.11699218749999]]]]},properties:{name:"Japan",childNum:4}},{geometry:{type:"Polygon",coordinates:[[[77.04863281249999,35.109912109374996],[76.76689453124999,35.66171875],[77.44648437500001,35.4755859375],[77.04863281249999,35.109912109374996]]]},properties:{name:"Kashmir",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[87.32285156250012,49.085791015625006],[86.75312500000004,49.00883789062496],[86.54941406250012,48.52861328125002],[85.7494140625,48.38505859374999],[85.52597656250006,47.915625000000006],[85.65664062500005,47.254638671875],[84.78613281249997,46.83071289062505],[83.19306640625004,47.18657226562499],[83.0041015625001,47.03349609374996],[82.32666015625003,45.519921874999994],[82.4787109375001,45.12358398437499],[81.60205078125003,45.31083984375002],[80.05917968750012,45.006445312500006],[80.45546875,44.74609375],[80.35527343750002,44.09726562500006],[80.78574218750006,43.16157226562504],[80.16503906249997,42.66552734375006],[80.20937500000005,42.190039062500006],[80.07128906249997,42.302978515625],[79.92109375000004,42.41313476562496],[79.49013671875,42.45756835937496],[79.20302734375005,42.66601562499997],[79.16484375000007,42.759033203125],[78.52421875000002,42.86464843750002],[77.23554687500004,42.912646484375045],[77.05732421875004,42.970654296874955],[76.50917968750005,42.91889648437498],[75.9322265625,42.92851562499999],[75.84033203125003,42.93750000000003],[75.78955078124997,42.93291015624999],[75.68173828125,42.830468749999994],[75.04765625000007,42.904394531250034],[74.20908203125006,43.24038085937502],[73.88603515625002,43.132568359375],[73.55625,43.002783203125006],[73.42187499999997,42.59350585937503],[73.2829101562501,42.50410156250004],[72.85507812500006,42.561132812500006],[72.75292968750003,42.63789062500001],[72.54316406250004,42.67773437500006],[72.27578125,42.757666015625006],[72.16181640625004,42.76069335937498],[71.816796875,42.822167968749994],[71.76054687500002,42.82148437500004],[71.734765625,42.818896484375045],[71.5142578125,42.766943359375006],[71.42207031250004,42.78315429687504],[71.25664062500002,42.733544921874966],[71.02275390625007,42.53544921875002],[70.89287109375007,42.339990234374994],[70.94677734374997,42.24868164062505],[70.41601562500003,42.07856445312501],[70.09560546875,41.82050781250004],[69.06494140625003,41.366943359375],[68.29189453125,40.656103515625034],[67.9357421875001,41.19658203125002],[66.81425781250002,41.14238281249999],[66.66865234375004,41.27075195312503],[66.49863281250006,41.99487304687503],[66.00957031250007,42.00488281250003],[66.1002929687501,42.99082031249998],[65.80302734375002,42.87695312500006],[65.49619140625,43.310546875],[64.9054687500001,43.714697265625006],[64.44316406250007,43.551171874999994],[63.20703125000003,43.62797851562502],[61.99023437500003,43.492138671874955],[61.16074218750006,44.16860351562502],[61.007910156250006,44.39379882812497],[58.555273437500006,45.55537109375001],[55.97568359375006,44.99492187499996],[55.9767578125001,42.69951171874996],[55.97744140625005,41.32221679687504],[55.54521484375002,41.26274414062499],[54.90371093750005,41.91909179687505],[54.120996093749994,42.335205078125],[53.25009765625006,42.20585937500002],[52.4938476562501,41.780371093750034],[52.59658203125005,42.760156249999966],[51.84414062500005,42.910449218750045],[51.30175781249997,43.48237304687501],[50.8307617187501,44.192773437499966],[50.331152343750006,44.32548828125002],[50.409472656250074,44.6240234375],[50.86035156250003,44.62875976562498],[51.4157226562501,45.35786132812501],[52.53105468750002,45.39863281249998],[52.773828124999994,45.57275390625],[53.13525390625003,46.19165039062497],[53.17021484375002,46.66904296875006],[52.91601562500003,46.95439453125002],[52.18876953125002,46.839501953124966],[51.178027343750074,47.110156250000045],[50.41933593750005,46.879492187500034],[49.99980468750002,46.63427734375],[49.347460937500074,46.51914062499998],[49.232226562500074,46.33715820312503],[48.610156250000074,46.566455078125045],[48.95937500000005,46.77460937499998],[48.109960937500006,47.74541015624996],[47.09326171875003,47.947705078124955],[47.004296874999994,48.28447265625002],[46.660937500000074,48.41225585937502],[46.70263671875003,48.80556640625002],[47.014257812500006,49.09833984374998],[46.80205078125002,49.36708984375002],[47.32646484375002,50.273535156250034],[47.7057617187501,50.37797851562502],[48.43427734375004,49.828515624999966],[48.84326171875003,50.01313476562501],[48.80839843750002,50.60131835937503],[49.49804687500003,51.08359375000006],[50.246875000000074,51.28950195312498],[50.79394531249997,51.729199218749955],[51.60908203125004,51.483984375000006],[52.33105468749997,51.681298828124966],[52.57119140625005,51.481640624999955],[53.33808593750004,51.48237304687504],[54.04150390624997,51.11518554687501],[54.42148437500006,50.78032226562499],[54.72714843750006,50.998095703125045],[55.54228515625002,50.60180664062506],[55.79765625000002,50.60205078125],[56.49140625000004,51.01953124999997],[57.01171874999997,51.06518554687503],[57.44218750000002,50.88886718749998],[57.83886718750003,51.091650390625006],[58.359179687500074,51.063818359375034],[58.88369140625005,50.694433593750006],[59.812402343749994,50.58203125],[59.95517578125006,50.79926757812504],[60.637988281250074,50.66372070312505],[61.38945312500002,50.86103515625001],[61.585058593750006,51.22968749999998],[61.363085937500074,51.44189453125003],[60.464746093749994,51.651171875000045],[60.06552734375006,51.976464843749966],[60.937597656250006,52.28056640625002],[60.80234375000006,52.74472656249998],[61.047460937500006,52.97246093750002],[61.97421875000006,52.94375000000002],[62.01464843750003,53.10786132812498],[61.19921874999997,53.28715820312502],[60.97949218749997,53.62172851562505],[61.33369140625004,54.04926757812501],[61.92871093750003,53.94648437500004],[63.0739257812501,54.10522460937506],[64.46123046875002,54.38417968750002],[65.1578125,54.364404296874994],[65.476953125,54.62329101562497],[66.22265624999997,54.667382812499994],[68.07382812500006,54.959570312500006],[68.20625000000004,55.16093750000002],[68.9772460937501,55.389599609374955],[70.18242187500002,55.162451171875034],[70.73808593750007,55.30517578125],[71.18554687500003,54.59931640624998],[71.09316406250005,54.21220703124999],[72.91406249999997,54.10732421875002],[73.39941406250003,53.81147460937498],[73.28574218750006,53.598388671875],[74.45195312500007,53.64726562500002],[76.26660156249997,54.31196289062498],[76.57568359374997,53.94252929687502],[77.70439453125007,53.379150390625],[78.47548828125005,52.638427734375],[79.46884765625012,51.49311523437498],[79.98623046875,50.774560546874966],[80.87734375,51.28144531250004],[81.46591796875006,50.739843750000006],[82.49394531250007,50.72758789062499],[83.35732421875005,50.99458007812504],[83.94511718750007,50.774658203125],[84.25781249999997,50.28823242187502],[84.9894531250001,50.061425781249994],[85.21015625000004,49.66484375000002],[86.1808593750001,49.49931640624996],[86.61425781249997,49.60971679687498],[87.32285156250012,49.085791015625006]]]},properties:{name:"Kazakhstan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[35.325292968750006,5.364892578124994],[35.745019531249994,5.343994140625],[35.80029296874997,5.156933593749983],[35.77929687499997,5.105566406250006],[35.756152343750074,4.950488281250031],[35.76308593750005,4.808007812500051],[35.9787109375001,4.50380859374998],[36.02197265625003,4.4681152343749915],[36.081933593749994,4.449707031249972],[36.90556640625002,4.4114746093749915],[37.15458984375002,4.254541015624994],[37.944921875000006,3.7467285156250227],[38.0861328125001,3.648828124999966],[38.22529296875004,3.61899414062502],[38.45156250000005,3.6048339843749773],[38.608007812500006,3.600097656249986],[39.49443359375002,3.45610351562496],[39.65751953125002,3.577832031249983],[39.79033203125002,3.754248046875034],[39.842187499999994,3.851464843750037],[40.765234375000006,4.273046875000034],[41.02080078125002,4.0574707031249915],[41.22089843750004,3.9435546874999687],[41.372460937499994,3.94619140624998],[41.48193359375003,3.9632812499999943],[41.737695312499994,3.979052734375003],[41.88398437500004,3.9777343750000114],[41.6134765625001,3.59047851562498],[41.34179687499997,3.20166015625],[40.964453125000006,2.8146484375000256],[40.97001953125002,1.3781738281250284],[40.9787109375001,-.8703125000000114],[41.249804687500074,-1.220507812499946],[41.4269531250001,-1.4495117187499744],[41.521874999999994,-1.5722656250000284],[41.38691406250004,-1.8669921875000313],[40.99550781250005,-1.9505859375000085],[40.64414062500006,-2.53945312499998],[40.22246093750002,-2.688378906250037],[40.1154296875001,-3.2505859374999915],[39.49091796875004,-4.478417968750023],[39.221777343750006,-4.692382812500014],[37.79726562500005,-3.6744140625000057],[37.608691406250074,-3.4602539062499886],[37.643847656250074,-3.0454101562500284],[35.83691406249997,-2.036621093749943],[33.979394531249994,-1.002050781250034],[33.90322265625005,-1.002050781250034],[33.94316406250002,.17377929687496874],[34.160937500000074,.6051757812500256],[34.4108398437501,.8672851562500341],[34.48173828125002,1.0421386718750512],[34.535253906250006,1.1015624999999858],[34.64912109375004,1.1853027343749858],[34.78759765625003,1.230712890625],[34.96523437500005,1.6433593749999602],[34.9640625000001,2.06240234374998],[34.742480468750074,2.818115234375014],[34.44785156250006,3.163476562500037],[34.392871093750074,3.6915039062500483],[34.16503906250003,3.812988281250014],[34.18574218750004,3.869775390625037],[34.13203125000004,3.889160156249986],[33.97607421874997,4.220214843750028],[34.176855468750006,4.419091796875037],[34.38017578125002,4.620654296874974],[34.6398437500001,4.875488281250028],[34.878320312499994,5.109570312500026],[35.08447265624997,5.31186523437502],[35.268359375000074,5.492285156250006],[35.325292968750006,5.364892578124994]]]},properties:{name:"Kenya",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[72.63994140625002,39.385986328125],[71.73222656250002,39.422998046874994],[71.404296875,39.5978515625],[71.32851562500002,39.568701171875],[71.27285156250002,39.535302734374994],[71.11806640625002,39.513574218749994],[71.0650390625,39.493408203125],[71.0048828125,39.411865234375],[70.79931640625,39.3947265625],[70.73310546875001,39.41328125],[70.67861328125002,39.4712890625],[70.60781250000002,39.564404296875],[70.24482421875001,39.542626953124994],[70.20927734375002,39.574999999999996],[70.17109375000001,39.5841796875],[70.13681640625,39.557568359375],[69.7720703125,39.55673828125],[69.59882812500001,39.573779296874996],[69.47099609375002,39.990624999999994],[69.966796875,40.20224609375],[70.59921875,39.974511718749994],[70.9580078125,40.2388671875],[71.69248046875,40.15234375],[72.3892578125,40.427392578124994],[73.13212890625002,40.828515624999994],[72.36406250000002,41.04345703125],[71.60625000000002,41.367431640625],[71.4208984375,41.34189453125],[71.40839843750001,41.136035156249996],[71.39306640625,41.123388671875],[71.298828125,41.152490234374994],[71.11074218750002,41.152636718749996],[70.78242187500001,41.262499999999996],[70.18095703125002,41.571435546874994],[70.45498046875002,41.725048828125],[70.84189453125,42.01962890625],[71.0322265625,42.077783203124994],[71.228515625,42.162890624999996],[71.23232421875002,42.186279296875],[71.21269531250002,42.206445312499994],[71.12998046875,42.25],[71.03603515625002,42.28466796875],[70.97900390625,42.266552734375],[70.94677734375,42.248681640624994],[70.89287109375002,42.339990234374994],[71.02275390625002,42.535449218749996],[71.25664062500002,42.733544921874994],[71.42207031250001,42.783154296875],[71.5142578125,42.766943359375],[71.73476562500002,42.818896484374996],[71.76054687500002,42.821484375],[71.81679687500002,42.822167968749994],[72.16181640625001,42.760693359375],[72.27578125000002,42.757666015625],[72.54316406250001,42.677734375],[72.7529296875,42.637890625],[72.855078125,42.5611328125],[73.28291015625001,42.5041015625],[73.49296875000002,42.409033203125],[73.421875,42.593505859375],[73.55625,43.002783203125],[73.88603515625002,43.132568359375],[74.20908203125,43.240380859374994],[75.04765625000002,42.90439453125],[75.68173828125,42.830468749999994],[75.78955078125,42.932910156249996],[75.84033203125,42.9375],[75.9322265625,42.928515624999996],[76.50917968750002,42.918896484375],[77.05732421875001,42.970654296875],[77.23554687500001,42.912646484374996],[78.52421874999999,42.864648437499994],[79.16484374999999,42.759033203125],[79.20302734375002,42.666015625],[79.29550781250003,42.604833984375],[79.36777343750003,42.547216796875],[79.49013671875002,42.457568359374996],[79.92109375000001,42.413134765624996],[80.0712890625,42.302978515625],[80.20937500000002,42.1900390625],[80.24619140625003,42.059814453125],[80.23515624999999,42.04345703125],[80.21621093750002,42.032421875],[79.90966796875,42.014990234375],[79.84042968750003,41.995751953124994],[79.29355468750003,41.7828125],[78.36240234375003,41.371630859374996],[78.34628906250003,41.2814453125],[78.12343750000002,41.075634765625],[77.95644531250002,41.050683593749994],[77.81523437499999,41.055615234375],[77.71933593750003,41.024316406249994],[77.58173828125001,40.9927734375],[76.98662109374999,41.03916015625],[76.90771484375,41.024169921875],[76.82402343749999,40.982324218749994],[76.48017578125001,40.449511718749996],[76.39638671875002,40.389794921874994],[76.31855468750001,40.35224609375],[76.25830078125,40.43076171875],[75.87197265625002,40.30322265625],[75.67714843750002,40.305810546874994],[75.65595703125001,40.329248046874994],[75.58349609375,40.605322265625],[75.0044921875,40.449511718749996],[74.41191406250002,40.13720703125],[74.24267578125,40.092041015625],[74.08515625000001,40.07431640625],[74.0205078125,40.059374999999996],[73.99160156250002,40.043115234374994],[73.93876953125002,39.978808593749996],[73.88457031250002,39.8779296875],[73.85625000000002,39.828662109374996],[73.83535156250002,39.800146484375],[73.9146484375,39.606494140624996],[73.87275390625001,39.53330078125],[73.82294921875001,39.48896484375],[73.71572265625002,39.462255859375],[73.63164062500002,39.448876953124994],[73.47041015625001,39.460595703124994],[73.38740234375001,39.442724609375],[73.33613281250001,39.412353515625],[73.2349609375,39.374560546874996],[72.63994140625002,39.385986328125]]]},properties:{name:"Kyrgyzstan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[104.42636718750006,10.411230468749991],[104.26240234375004,10.541259765625014],[103.53222656249997,10.604638671874966],[103.72187500000004,10.890136718750043],[103.5324218750001,11.146679687499997],[103.15283203124997,10.913720703125051],[103.12548828124997,11.460644531250011],[102.93388671875002,11.706689453125037],[102.73662109375007,12.089794921875011],[102.75566406250002,12.42626953125],[102.49960937500012,12.669970703125003],[102.31972656250005,13.539990234375054],[102.72890625,13.841894531250006],[103.19941406250004,14.332617187499977],[104.77900390625004,14.427832031250006],[104.96972656249997,14.366113281250051],[105.07412109375005,14.227441406250037],[105.12597656250003,14.280957031250011],[105.16914062500004,14.336083984374966],[105.1833007812501,14.346240234374989],[105.18554687500003,14.319091796874972],[105.20703125000003,14.259374999999977],[105.24570312500006,14.200537109374977],[105.35019531250006,14.109570312500011],[105.9044921875001,13.924511718750054],[106.12470703125004,14.049121093750031],[106.09667968749997,14.127099609375023],[106.00410156250004,14.262890624999983],[105.97890625,14.343017578125043],[106.00839843750012,14.357177734375],[106.1652343750001,14.372363281249989],[106.35498046875003,14.454785156249997],[106.44697265625004,14.515039062500009],[106.50146484375003,14.578222656250006],[106.53115234375005,14.549414062499991],[106.5636718750001,14.505078125000026],[106.81992187500006,14.314697265625057],[107.10937499999997,14.416699218750054],[107.29267578125004,14.592382812500048],[107.37988281250003,14.555322265625051],[107.41474609375004,14.562890624999994],[107.51943359375005,14.705078125],[107.3314453125,14.126611328125009],[107.60546874999997,13.437792968750017],[107.47539062500002,13.030371093749963],[107.50644531250006,12.364550781250031],[106.93066406249997,12.077490234374991],[106.41386718750002,11.948437499999997],[106.33984374999997,11.68183593750004],[105.85146484375005,11.635009765625],[105.85605468750006,11.294287109375048],[106.16796874999997,11.012304687499977],[105.38652343750002,10.940087890625009],[104.85058593749997,10.534472656249974],[104.42636718750006,10.411230468749991]]]},properties:{name:"Cambodia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[128.37460937500012,38.623437499999994],[128.61884765625004,38.17607421874999],[129.33515625000004,37.274560546874994],[129.47343750000007,36.74189453125001],[129.40351562500004,36.052148437499994],[129.5617187500001,35.94765625000002],[129.21416015625007,35.18183593749998],[128.5109375000001,35.10097656250002],[128.44394531250012,34.87036132812503],[127.71484374999997,34.95468749999998],[126.50830078125003,34.35063476562502],[126.29111328125012,35.154150390625034],[126.71738281250006,35.76884765625002],[126.5482421875,36.477636718750006],[126.21718750000005,36.870947265625006],[126.74638671875002,37.19355468750001],[126.63388671875012,37.78183593750006],[127.16953125000006,38.304541015625034],[128.03896484375,38.30854492187498],[128.37460937500012,38.623437499999994]]]},properties:{name:"South Korea",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[21.5625,42.247509765625],[21.560839843750017,42.24765625],[21.389550781250023,42.21982421875],[21.25634765625,42.099511718749994],[21.05976562500001,42.171289062499994],[20.566210937500017,41.873681640624994],[20.485449218750006,42.223388671875],[20.06396484375,42.547265624999994],[20.344335937500006,42.827929687499996],[21.057031250000023,43.091699218749994],[21.390625,42.751416015625],[21.52998046875001,42.349999999999994],[21.5625,42.247509765625]]]},properties:{name:"Kosovo",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[48.442480468750006,28.542919921874983],[47.671289062499994,28.53315429687504],[47.433203125000006,28.989550781250017],[46.53144531250004,29.09624023437499],[46.90585937500006,29.537499999999994],[47.14824218750002,30.0009765625],[47.67275390625005,30.095605468750023],[47.75390624999997,30.076611328124955],[47.97871093750004,29.98281250000005],[48.00566406250002,29.835791015625034],[48.13613281250005,29.618115234374983],[47.96962890625005,29.61669921874997],[48.18378906250004,28.979394531249994],[48.442480468750006,28.542919921874983]]]},properties:{name:"Kuwait",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[102.12744140625011,22.37919921874999],[102.94863281250008,21.569775390625068],[102.85117187500009,21.26591796874999],[102.8837890625,21.202587890625068],[103.1044921875,20.89165039062499],[103.21074218749999,20.840625000000045],[103.46357421874995,20.779833984375102],[103.6350585937501,20.697070312500102],[104.05205078124999,20.941210937500102],[104.1953125,20.91396484375008],[104.349609375,20.82109374999999],[104.58320312500001,20.646679687499955],[104.61884765624995,20.374511718750114],[104.92792968750007,20.01811523437499],[104.81513671875001,19.90400390625001],[104.80175781250011,19.836132812500068],[104.74316406250006,19.754736328124977],[104.58789062500006,19.618749999999977],[104.54628906250014,19.610546875000068],[104.25986328125003,19.685498046875068],[104.06279296875005,19.678417968750068],[104.03203124999999,19.67514648437492],[103.89638671875002,19.339990234375023],[103.91835937500008,19.268505859375068],[104.10859375000013,19.195556640625114],[104.44580078125006,18.983837890625125],[104.61328125000006,18.860644531250102],[104.71650390624995,18.803417968749955],[104.9931640625,18.728320312499932],[105.11513671875002,18.678857421875023],[105.146484375,18.650976562499977],[105.14541015625014,18.616796874999977],[105.08583984375008,18.450097656250136],[105.11455078125005,18.405273437500057],[105.16328125000007,18.338720703124977],[105.27324218750005,18.235351562500057],[105.33349609375006,18.18964843750001],[105.45820312500007,18.154296875000057],[105.51855468750011,18.077441406250045],[105.58847656250015,17.983691406249932],[105.69140625,17.737841796874932],[106.50224609374999,16.9541015625],[106.69609375000005,16.458984375],[106.93066406250006,16.35312499999992],[107.21738281250003,16.136328124999977],[107.29648437500015,16.08403320312499],[107.39638671875008,16.04301757812499],[107.36064453125005,15.921728515624977],[107.18886718750008,15.838623046875114],[107.16591796875002,15.802490234375],[107.18955078125003,15.747265624999955],[107.27939453125003,15.618701171875045],[107.33876953125002,15.560498046875125],[107.56425781249999,15.3916015625],[107.62167968750015,15.309863281250045],[107.65312499999999,15.255224609375091],[107.63369140625008,15.18984375000008],[107.58964843749999,15.118457031250102],[107.55527343750009,15.057031250000023],[107.48037109375014,14.979882812500136],[107.5046875000001,14.91591796875008],[107.52451171875003,14.871826171874943],[107.51376953124998,14.817382812500057],[107.51943359375008,14.705078125000114],[107.46513671875005,14.664990234375125],[107.41474609375007,14.56289062500008],[107.37988281250006,14.555322265625136],[107.29267578125007,14.592382812500034],[107.10937500000006,14.416699218749955],[106.81992187500003,14.314697265624943],[106.56367187500007,14.505078125000011],[106.53115234375002,14.549414062499977],[106.50146484375,14.578222656250034],[106.35498046875,14.454785156250068],[106.22539062500005,14.476220703125023],[106.16523437500007,14.372363281249989],[106.00839843750009,14.357177734375114],[105.97890625000014,14.343017578125057],[106.00410156250013,14.262890625000068],[106.09667968750011,14.127099609375136],[106.12470703124995,14.049121093750045],[105.90449218750007,13.924511718750068],[105.5315429687501,14.156152343750023],[105.35019531250009,14.109570312500125],[105.24570312500015,14.200537109374977],[105.20703125000006,14.259375000000091],[105.18554687499994,14.319091796875],[105.18330078125001,14.346240234374989],[105.24365234375006,14.367871093749955],[105.34218750000008,14.416699218749955],[105.47558593750006,14.530126953124977],[105.51318359375011,15.360888671874932],[105.61562500000002,15.488281249999943],[105.62207031250006,15.699951171875114],[105.46201171875015,15.780419921875136],[105.39892578125011,15.829882812500102],[105.37324218750001,15.889697265625045],[105.40625,15.987451171875023],[105.33066406250003,16.037890625000045],[105.1487304687501,16.09355468749999],[105.04716796874999,16.16025390625009],[104.81933593749994,16.466064453125057],[104.75058593750015,16.647558593750034],[104.75898437500013,17.0771484375],[104.81601562499998,17.30029296875],[104.42812500000002,17.698974609375057],[104.19619140625002,17.988378906250034],[104.04873046875002,18.216699218749966],[103.94960937500008,18.318994140625023],[103.89882812500002,18.295312500000023],[103.79228515624999,18.31650390625009],[103.62968750000005,18.382568359375057],[103.36699218750005,18.42333984375],[103.05136718750003,18.02851562500001],[102.71757812500005,17.892236328125136],[102.35185546874999,18.045947265625045],[102.23164062500001,18.148974609375045],[102.14824218750005,18.203857421875057],[102.10146484375014,18.21064453125001],[102.03457031250002,18.169824218750023],[101.94746093750001,18.081494140624955],[101.87548828125011,18.046435546874932],[101.81865234375005,18.064648437500125],[101.77480468750002,18.033398437500125],[101.10517578125001,17.479541015625102],[100.9084960937501,17.583886718750023],[101.11328125000006,18.033544921874977],[101.0505859375001,18.407031250000045],[101.06044921875014,18.479003906249943],[101.10634765625008,18.533544921875034],[101.16552734375006,18.61831054687508],[101.28632812499995,18.977148437500034],[101.19755859374999,19.327929687500045],[101.22080078125015,19.486621093750045],[101.15468750000014,19.57919921875009],[100.62548828125,19.49985351562509],[100.39765625000013,19.756103515625057],[100.51455078125014,19.996337890625],[100.54306640625009,20.08867187499999],[100.53994140625014,20.13237304687499],[100.51953125000006,20.177929687500068],[100.31796875000003,20.385888671875136],[100.2493164062501,20.730273437499932],[100.56513671875013,20.82509765625008],[100.5222656250001,20.921923828125102],[100.53613281250006,20.992382812500068],[100.56660156250007,21.038183593749977],[100.61367187500008,21.059326171875],[100.65917968750011,21.130371093750114],[100.703125,21.25136718750008],[100.75664062500005,21.312646484375136],[100.81953125000007,21.314208984375057],[100.92753906250005,21.3662109375],[101.17539062500009,21.407519531250102],[101.22441406249999,21.22373046874992],[101.24785156249993,21.197314453125045],[101.28144531250007,21.184130859375045],[101.44355468750001,21.230810546874977],[101.54238281250008,21.234277343750136],[101.70478515625013,21.150146484375057],[101.78349609374999,21.204150390625045],[101.8005859375001,21.212597656249955],[101.80205078125005,21.235986328125136],[101.76308593750014,21.278906249999977],[101.7229492187501,21.314941406250057],[101.74726562500007,21.60576171874999],[101.7439453125001,21.77797851562508],[101.73652343750001,21.826513671874977],[101.52451171874998,22.253662109375],[101.56787109375011,22.2763671875],[101.6199218750001,22.327441406250102],[101.67148437500009,22.462304687500023],[101.70751953125,22.486572265625],[101.73876953125011,22.495263671874966],[101.75996093750001,22.490332031250034],[101.841796875,22.388476562500102],[102.02441406250006,22.439208984375114],[102.09150390625007,22.412255859375136],[102.12744140625011,22.37919921874999]]]},properties:{name:"Laos",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[35.869140625,33.43173828125],[35.411230468750006,33.07568359375],[35.10859375000001,33.08369140625],[35.97626953125001,34.629199218749996],[36.43300781250002,34.6134765625],[36.5849609375,34.221240234374996],[35.9423828125,33.667578125],[35.869140625,33.43173828125]]]},properties:{name:"Lebanon",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-8.486425781249977,7.558496093749994],[-8.408740234374989,7.411816406249997],[-8.324511718749989,6.9200195312499915],[-8.587890625,6.490527343749989],[-8.203857421875,6.290722656249997],[-7.981591796874994,6.2861328125],[-7.888623046874983,6.23486328125],[-7.800927734374994,6.0389160156249915],[-7.730371093749994,5.9190429687499915],[-7.636132812499994,5.90771484375],[-7.39990234375,5.550585937499989],[-7.585058593749977,4.916748046875],[-7.574658203124983,4.572314453124989],[-7.544970703124989,4.351318359375],[-8.259033203125,4.589990234374994],[-9.132177734374977,5.054638671874997],[-10.2763671875,6.07763671875],[-10.785595703124983,6.3101562499999915],[-10.849023437499994,6.465087890625],[-11.507519531249983,6.906542968749989],[-11.267675781249977,7.232617187499997],[-10.878076171874994,7.538232421874994],[-10.389550781249994,8.157617187499994],[-10.283203125,8.485156249999989],[-9.768261718749983,8.534570312499994],[-9.518261718749983,8.346093749999994],[-9.368945312499989,7.639550781249994],[-9.459765624999989,7.442529296874994],[-9.117578124999994,7.2159179687499915],[-8.8896484375,7.2626953125],[-8.708300781249989,7.658886718749997],[-8.486425781249977,7.558496093749994]]]},properties:{name:"Liberia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[25.150488281250006,31.654980468749997],[24.85273437500001,31.334814453125],[24.973925781250017,30.776562499999997],[24.726464843750023,30.2505859375],[24.980273437500017,29.181884765625],[24.980273437500017,26.487109374999996],[24.980273437500017,24.466064453125],[24.980273437500017,21.995849609375],[24.9794921875,20.002587890624994],[23.980273437500017,19.99594726562499],[23.980273437500017,19.496630859375003],[21.5849609375,20.679492187500003],[19.668554687500006,21.62583007812499],[18.231347656250023,22.33554687499999],[15.984082031250011,23.445214843749994],[14.97900390625,22.99619140624999],[14.230761718750017,22.618457031250003],[13.481250000000017,23.18017578125],[11.967871093750006,23.517871093750003],[11.536914062500017,24.290820312500003],[10.686132812500006,24.55136718749999],[10.255859375,24.591015624999997],[10.000683593750011,25.332080078125003],[9.4482421875,26.067138671875],[9.491406250000011,26.333740234375],[9.859375,26.551953124999997],[9.74755859375,27.330859374999996],[9.916015625,27.785693359374996],[9.842578125000017,28.966992187499997],[9.672656250000017,29.5669921875],[9.310253906250011,30.115234375],[9.518750000000011,30.229394531249994],[9.637988281250017,30.28232421875],[9.807421875000017,30.342236328124997],[9.89501953125,30.3873046875],[9.932519531250023,30.425341796874996],[10.059765625000011,30.580078125],[10.216406250000006,30.783203125],[10.114941406250011,31.463769531249994],[10.274609375000011,31.684960937499994],[10.475781250000011,31.736035156249997],[10.60888671875,31.929541015625],[10.826367187500011,32.0806640625],[11.005175781250017,32.172705078125],[11.168261718750017,32.256738281249994],[11.358007812500006,32.34521484375],[11.504980468750006,32.413671875],[11.535937500000017,32.47333984375],[11.533789062500006,32.524951171874996],[11.453906250000017,32.642578125],[11.453906250000017,32.781689453125],[11.467187500000023,32.965722656249994],[11.504589843750011,33.181933593749996],[11.657128906250023,33.118896484375],[11.8134765625,33.093701171875],[12.279882812500006,32.858544921874994],[12.753515625000006,32.801074218749996],[13.283496093750017,32.9146484375],[14.237109375000017,32.68125],[14.513378906250011,32.511083984375],[15.176562500000017,32.391162109374996],[15.496386718750017,31.656787109374996],[16.123046875,31.264453124999996],[17.349218750000006,31.081494140624997],[18.1904296875,30.777294921874997],[18.936425781250023,30.290429687499994],[19.29169921875001,30.2880859375],[19.713281250000023,30.48837890625],[20.150976562500006,31.07861328125],[19.926367187500006,31.817529296874994],[20.121484375000023,32.21875],[20.62109375,32.58017578125],[21.63593750000001,32.937304687499996],[22.187402343750023,32.918261718749996],[23.090625000000017,32.61875],[23.28632812500001,32.213818359375],[24.129687500000017,32.009228515625],[24.683886718750017,32.015966796875],[25.150488281250006,31.654980468749997]]]},properties:{name:"Libya",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[79.98232421875,9.812695312500011],[80.25283203125005,9.796337890625054],[80.71113281250004,9.366357421875023],[81.37285156250002,8.431445312499989],[81.4359375,8.118896484374986],[81.87412109375012,7.288330078124986],[81.86142578125012,6.901269531249994],[81.63740234375004,6.4251464843749915],[80.72412109375003,5.97905273437496],[80.09531250000012,6.153173828125006],[79.85937499999997,6.829296874999983],[79.79208984375006,7.585205078124972],[79.92890625000004,8.899218749999974],[80.1183593750001,9.326855468749969],[79.98232421875,9.812695312500011]]]},properties:{name:"Sri Lanka",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.128710937500017,-30.52509765625001],[28.05683593750001,-30.63105468750001],[27.75312500000001,-30.60000000000001],[27.364062500000017,-30.27919921875001],[27.19355468750001,-29.94130859375001],[27.294531250000006,-29.519335937500003],[27.73554687500001,-28.940039062500006],[28.625781250000017,-28.58173828125001],[29.301367187500006,-29.08984375],[29.370898437500017,-29.21845703125001],[29.390722656250006,-29.26972656250001],[29.38671875,-29.31972656250001],[29.34882812500001,-29.441992187500006],[29.293554687500006,-29.56689453125],[29.142187500000006,-29.700976562500003],[29.098046875000023,-29.919042968750006],[28.39208984375,-30.147558593750006],[28.128710937500017,-30.52509765625001]]]},properties:{name:"Lesotho",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[25.573046875000017,54.139892578125],[24.768164062499977,53.97465820312499],[24.317968750000006,53.892968749999966],[24.236621093750045,53.91997070312496],[24.19130859375005,53.95043945312503],[23.484667968750074,53.939794921875006],[23.453613281250057,54.14345703125002],[23.01552734375005,54.34833984375001],[22.766210937499977,54.356787109375034],[22.83125000000001,54.838476562500034],[21.235742187500023,55.26411132812498],[21.06191406250005,55.81342773437498],[21.053808593750006,56.02294921875003],[21.04609375000004,56.07006835937503],[21.31464843750004,56.18813476562502],[21.65351562500004,56.314550781250006],[22.084570312500034,56.40673828125006],[22.96826171875003,56.38041992187502],[23.042968750000057,56.324072265625006],[23.119824218749983,56.330664062500006],[23.195898437500034,56.36713867187498],[23.81269531250001,56.329248046874994],[24.120703125000063,56.26425781249998],[24.90302734375001,56.398193359375],[25.069921875000006,56.20039062500004],[25.585742187500017,56.13017578125002],[26.281250000000057,55.75043945312501],[26.40107421875004,55.70380859375001],[26.54287109375005,55.67241210937502],[26.593554687500074,55.66752929687502],[26.590820312500057,55.622656250000006],[26.56660156250001,55.546484375000034],[26.51923828125004,55.448144531249994],[26.469531250000045,55.371923828125006],[26.457617187500006,55.342480468749955],[26.175195312500023,55.003271484375034],[26.092968750000068,54.96230468750005],[25.964453124999977,54.947167968749966],[25.85927734375005,54.91928710937498],[25.573046875000017,54.139892578125]]]},properties:{name:"Lithuania",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[6.4873046875,49.798486328124994],[6.348437500000017,49.5126953125],[6.344335937500006,49.452734375],[6.27734375,49.4775390625],[6.2421875,49.4943359375],[6.119921875000017,49.485205078125],[6.074121093750023,49.454638671874996],[5.95947265625,49.454638671874996],[5.928906250000011,49.4775390625],[5.9013671875,49.48974609375],[5.823437500000011,49.505078125],[5.789746093750011,49.53828125],[5.88037109375,49.644775390625],[5.8037109375,49.732177734375],[5.787988281250023,49.75888671875],[5.725000000000023,49.80830078125],[5.725781250000011,49.833349609375],[5.740820312500006,49.857177734375],[5.735253906250023,49.875634765624994],[5.744042968750023,49.91962890625],[5.7880859375,49.961230468749996],[5.8173828125,50.0126953125],[5.866894531250011,50.082812499999996],[5.976269531250011,50.1671875],[6.089062500000011,50.154589843749996],[6.116503906250017,50.120996093749994],[6.108300781250023,50.09423828125],[6.109765625000023,50.034375],[6.13818359375,49.97431640625],[6.256054687500011,49.87216796875],[6.4873046875,49.798486328124994]]]},properties:{name:"Luxembourg",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.14794921875,56.142919921875],[27.576757812500006,55.798779296875],[27.052539062500017,55.83056640625],[26.82246093750001,55.709228515625],[26.620214843750006,55.679638671875],[26.593554687500017,55.667529296874996],[26.542871093750023,55.672412109374996],[26.40107421875001,55.70380859375],[26.28125,55.750439453125],[25.585742187500017,56.130175781249996],[25.069921875000006,56.200390625],[24.90302734375001,56.398193359375],[24.120703125000006,56.2642578125],[23.81269531250001,56.329248046875],[23.195898437500006,56.367138671875],[23.11982421875001,56.3306640625],[23.04296875,56.324072265625],[22.96826171875,56.380419921874996],[22.084570312500006,56.40673828125],[21.730566406250006,56.325976562499996],[21.65351562500001,56.31455078125],[21.31464843750001,56.188134765625],[21.04609375000001,56.070068359375],[21.0712890625,56.82373046875],[21.72871093750001,57.57099609375],[22.554589843750023,57.724267578125],[23.647753906250017,56.971044921875],[24.403222656250023,57.324999999999996],[24.322558593750017,57.87060546875],[24.775781250000023,57.98525390625],[24.83906250000001,57.988720703125],[24.91132812500001,58.00458984375],[25.11103515625001,58.063427734375],[25.66015625,57.920166015625],[26.29804687500001,57.60107421875],[26.899804687500023,57.6087890625],[26.96601562500001,57.609130859375],[27.03339843750001,57.578759765625],[27.187109375000006,57.538330078125],[27.326562500000023,57.52548828125],[27.4697265625,57.5240234375],[27.511132812500023,57.508154296875],[27.538671875000006,57.42978515625],[27.796875,57.316943359374996],[27.814550781250006,57.16689453125],[27.639453125000017,56.845654296875],[27.806054687500023,56.86708984375],[28.14794921875,56.142919921875]]]},properties:{name:"Latvia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-1.16259765625,32.399169921875],[-1.275341796874983,32.089013671874966],[-1.8169921874999204,32.10478515624999],[-2.0728027343749886,32.11503906250002],[-2.4483886718749375,32.12998046875006],[-2.523242187500017,32.12568359374998],[-2.8634277343749375,32.07470703124997],[-2.930859374999926,32.04252929687499],[-2.988232421874983,31.874218749999983],[-3.01738281249996,31.834277343750017],[-3.439794921874949,31.704541015624983],[-3.8267578124999204,31.66191406249999],[-3.837109374999983,31.512353515624994],[-3.8333984374999375,31.197802734375045],[-3.6725097656249375,31.111376953125017],[-3.6269042968749545,31.000927734374983],[-3.666796874999932,30.964013671875023],[-3.7020019531249773,30.944482421875023],[-3.9853515624999716,30.91352539062504],[-4.148779296874977,30.8095703125],[-4.322851562500006,30.698876953124994],[-4.52915039062492,30.62553710937499],[-4.778515624999926,30.552392578124994],[-4.968261718749943,30.465380859375045],[-5.0619140624999375,30.326416015625057],[-5.1801269531249545,30.166162109374994],[-5.293652343749983,30.058642578125045],[-5.44877929687496,29.956933593750023],[-5.774999999999977,29.86904296875005],[-6.500878906249994,29.809130859375017],[-6.507910156250006,29.783789062500006],[-6.5106933593749545,29.726025390624955],[-6.520556640624989,29.659863281249983],[-6.635351562499949,29.568798828124983],[-6.755126953125,29.583837890625034],[-6.855566406249949,29.601611328125017],[-7.0949218749999545,29.62519531250001],[-7.23491210937496,29.574902343749983],[-7.485742187499994,29.392236328124994],[-7.685156249999949,29.349511718749994],[-7.998925781249994,29.132421874999977],[-8.265185546874989,28.980517578125045],[-8.659912109375,28.718603515625063],[-8.683349609375,27.900390625],[-8.817822265624955,27.65644531250004],[-8.817773437499937,27.655908203125023],[-8.813916015624955,27.613867187500063],[-8.784570312499994,27.530859375000034],[-8.774365234374983,27.460546875000006],[-8.753857421874955,27.191015624999977],[-8.753857421874955,27.150976562500006],[-8.794873046874983,27.120703125000034],[-9.001904296874955,27.090429687500006],[-9.413037109374955,27.088476562500063],[-9.7353515625,26.860937500000063],[-10.251464843749972,26.860937500000063],[-10.922802734374983,27.010351562500034],[-11.392578125000028,26.883398437500006],[-11.361279296874955,26.793554687500006],[-11.316845703124955,26.744726562500006],[-11.337890624999972,26.633398437499977],[-11.718212890624926,26.104101562500063],[-11.754882812499943,26.086523437500034],[-11.880859375000028,26.070898437500034],[-12.03076171875,26.030859375000063],[-12.310986328124983,25.110937500000063],[-12.360839843750028,24.970312500000006],[-12.40087890625,24.880468750000006],[-12.431152343749943,24.830664062500063],[-12.500976562499972,24.770117187499977],[-12.630810546874955,24.680273437499977],[-12.710937500000028,24.630468750000034],[-12.991162109375011,24.470312500000006],[-13.061035156249943,24.400976562500006],[-13.310986328124955,23.981054687499977],[-13.391113281249943,23.941015625000006],[-13.5810546875,23.870703124999977],[-13.661083984374955,23.830664062500006],[-13.770947265624955,23.790625000000006],[-13.840771484374983,23.750585937500034],[-13.891113281250028,23.691015625000063],[-14.020996093750028,23.410742187499977],[-14.10107421875,23.100195312500034],[-14.121093749999972,22.960546875000006],[-14.1708984375,22.760351562499977],[-14.221191406249943,22.310156250000034],[-14.52099609375,21.990869140624994],[-14.670849609374983,21.600195312499977],[-14.750976562499972,21.500585937500034],[-14.840820312499972,21.450781250000006],[-14.971142578124955,21.441015625000063],[-15.15087890625,21.441015625000063],[-15.4609375,21.450781250000006],[-15.610791015624983,21.470312499999977],[-15.750927734374926,21.490820312499977],[-16.73095703125003,21.470312499999977],[-16.951123046874926,21.430273437500006],[-17.003076171874937,21.420703125000017],[-16.930859374999983,21.900000000000034],[-16.514404296874943,22.33349609374997],[-16.21025390624999,23.097900390625],[-15.586328124999966,24.07275390625003],[-15.038867187499989,24.54882812500003],[-14.856054687499977,24.871582031250057],[-14.794921874999943,25.404150390625006],[-14.413867187499932,26.25371093749999],[-13.575781250000006,26.735107421875],[-13.175976562499983,27.655712890624983],[-12.948925781249926,27.914160156250034],[-11.986083984374972,28.129296874999994],[-11.430175781249943,28.382031249999983],[-11.080957031249937,28.713769531249966],[-10.486474609374994,29.06494140625],[-9.667089843749949,30.10927734375005],[-9.652929687499977,30.447558593750045],[-9.875488281249943,30.717919921874966],[-9.80869140624992,31.42460937499996],[-9.347460937499932,32.086376953124955],[-9.245849609375,32.572460937499955],[-8.301171874999937,33.37436523437498],[-7.562353515624977,33.640283203124994],[-6.900976562499949,33.96904296874999],[-6.353125000000006,34.77607421875001],[-5.924804687499943,35.78579101562502],[-5.397363281249966,35.929882812499955],[-5.105371093749994,35.46777343749997],[-4.3299804687499375,35.161474609375006],[-3.6932617187499943,35.27998046874998],[-2.839941406249949,35.127832031249994],[-2.4237304687499943,35.12348632812498],[-2.219628906249966,35.10419921874998],[-2.131787109374926,34.970849609374994],[-1.9208984374999432,34.835546875000034],[-1.795605468749926,34.751904296874955],[-1.706933593749966,34.17607421874999],[-1.67919921875,33.31865234375002],[-1.5507324218749545,33.073583984375006],[-1.510009765625,32.877636718749955],[-1.16259765625,32.399169921875]]]},properties:{name:"Morocco",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.212500000000006,45.450439453125],[28.099707031250006,45.972607421875],[28.24433593750001,46.45126953125],[28.07177734375,46.978417968749994],[27.3369140625,47.63974609375],[26.980761718750017,48.155029296875],[26.618945312500017,48.25986328125],[27.549218750000023,48.477734375],[28.34052734375001,48.144433593749994],[28.53046875000001,48.150292968749994],[28.601660156250006,48.144384765625],[28.773828125000023,48.119580078125],[28.865820312500006,47.995654296874996],[28.97333984375001,47.933007812499994],[29.19482421875,47.882421875],[29.21113281250001,47.775],[29.210742187500017,47.73154296875],[29.18603515625,47.658593749999994],[29.122949218750023,47.53037109375],[29.159765625000006,47.4556640625],[29.455664062500006,47.292626953124994],[29.57197265625001,46.964013671874994],[29.877832031250023,46.828906249999996],[29.942480468750006,46.723779296874994],[29.93476562500001,46.625],[29.92431640625,46.538867187499996],[29.837890625,46.350537109375],[29.458789062500017,46.453759765624994],[29.146289062500017,46.526904296874996],[28.92744140625001,46.424121093749996],[28.930566406250023,46.362255859375],[28.943750000000023,46.288427734375],[29.006250000000023,46.17646484375],[28.97187500000001,46.12763671875],[28.94775390625,46.049951171874994],[28.849511718750023,45.978662109374994],[28.73876953125,45.937158203124994],[28.491601562500023,45.665771484375],[28.513769531250006,45.572412109374994],[28.4990234375,45.517724609374994],[28.47138671875001,45.507177734375],[28.310351562500017,45.498583984374996],[28.26484375000001,45.48388671875],[28.212500000000006,45.450439453125]]]},properties:{name:"Moldova",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[49.53828125000004,-12.432128906250014],[49.93750000000003,-13.072265624999957],[50.17382812500003,-14.040234374999983],[50.23535156249997,-14.732031249999963],[50.482714843750074,-15.385644531249994],[50.20898437499997,-15.960449218750028],[49.89257812500003,-15.457714843750011],[49.64990234374997,-15.566992187499991],[49.83105468750003,-16.255859375],[49.76718750000006,-16.815136718749983],[49.43710937500006,-17.3466796875],[49.477832031250074,-17.89853515624999],[48.60703125000006,-20.457519531249957],[48.35078125000004,-21.349023437500037],[47.9083984375001,-22.465820312500014],[47.55800781250005,-23.874609374999963],[47.177343750000006,-24.787207031249977],[46.72851562499997,-25.14990234374997],[46.15869140624997,-25.230371093750023],[45.5080078125001,-25.56318359374997],[45.11523437500003,-25.543066406249963],[44.81289062500005,-25.33417968750004],[44.34589843750004,-25.226074218749957],[44.0353515625001,-24.995703125000006],[43.68750000000003,-24.357910156250014],[43.722265625000006,-23.529687500000037],[43.397851562499994,-22.886328124999963],[43.26660156249997,-22.04931640624997],[43.50185546875005,-21.356445312499957],[43.800195312499994,-21.179199218749986],[44.239648437499994,-20.379687500000003],[44.40468750000005,-19.922070312500026],[44.44882812500006,-19.42871093749997],[44.23876953124997,-19.075195312499986],[44.23310546875004,-18.740625000000037],[44.04003906249997,-18.288476562500023],[43.979394531249994,-17.3916015625],[44.42138671874997,-16.70263671874997],[44.476171875000006,-16.217285156249957],[44.90917968749997,-16.174511718750026],[45.16679687500002,-15.982812499999966],[45.598242187500006,-15.992578125000009],[45.70019531249997,-15.813769531249989],[46.331445312499994,-15.713671875000031],[46.47509765625003,-15.513476562500003],[47.81152343749997,-14.544824218750023],[47.995507812499994,-13.960449218749986],[48.796484375000006,-13.267480468750023],[48.89960937500004,-12.458496093749972],[49.20703124999997,-12.079589843749957],[49.53828125000004,-12.432128906250014]]]},properties:{name:"Madagascar",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-97.14624023437494,25.961474609375045],[-97.50708007812503,25.01455078125005],[-97.66767578124995,24.389990234374977],[-97.85781249999997,22.62451171875003],[-97.63754882812495,21.603662109374966],[-97.12143554687498,20.614990234375],[-96.45605468749994,19.869775390624966],[-96.28955078124994,19.34375],[-95.82109374999999,18.75463867187497],[-95.18183593749995,18.700732421875017],[-94.79814453124996,18.51459960937501],[-94.54619140624996,18.17485351562499],[-94.18901367187493,18.195263671874983],[-93.55234375,18.430468750000017],[-92.88476562499997,18.468652343749966],[-92.710107421875,18.611669921874977],[-91.97377929687502,18.715869140625074],[-91.80297851562503,18.470605468750023],[-91.27524414062498,18.62446289062501],[-91.34306640624996,18.900585937499955],[-90.73925781249994,19.352246093749955],[-90.507080078125,19.911865234375],[-90.48413085937503,20.55634765625004],[-90.35312499999998,21.009423828124966],[-89.81977539062495,21.274609374999983],[-88.87871093749999,21.41411132812499],[-88.13164062500002,21.615869140624966],[-86.824072265625,21.421679687500017],[-86.86469726562501,20.885058593750045],[-87.4671875,20.102148437500063],[-87.42475585937498,19.583349609375063],[-87.76181640624998,18.446142578125006],[-88.19677734374997,18.719677734374955],[-88.29565429687494,18.47241210937503],[-88.52299804687499,18.445898437500063],[-88.80634765624998,17.965527343749983],[-89.16147460937503,17.814843749999994],[-90.98916015624997,17.81640624999997],[-90.975830078125,16.867822265624994],[-90.41699218750003,16.391015625000023],[-90.41699218750003,16.351318359375],[-90.45014648437493,16.261376953124994],[-90.45986328124997,16.16235351562497],[-90.44716796874994,16.07270507812501],[-90.52197265625,16.07119140625005],[-90.70322265624998,16.07104492187503],[-90.97958984374998,16.07080078124997],[-91.433984375,16.070458984374994],[-91.736572265625,16.070166015625006],[-91.95722656250001,15.703222656250034],[-92.08212890624998,15.495556640625011],[-92.18715820312497,15.320898437499963],[-92.07480468749998,15.074218749999972],[-92.18637695312498,14.818359374999986],[-92.17646484375001,14.761328125000006],[-92.159912109375,14.691015624999977],[-92.18706054687493,14.630078124999997],[-92.20903320312499,14.57099609375004],[-92.26455078125,14.567773437500009],[-92.80893554687498,15.138574218750037],[-93.91606445312493,16.053564453125006],[-94.374169921875,16.284765625000034],[-94.66152343750002,16.20190429687503],[-94.90043945312502,16.41748046875],[-95.46440429687499,15.974707031250034],[-96.51083984375,15.651904296875074],[-97.18466796874998,15.909277343750006],[-97.75478515624994,15.966845703125017],[-98.52031249999993,16.30483398437505],[-98.76220703125,16.534765624999977],[-99.69067382812499,16.719628906249994],[-100.02451171874996,16.920507812500063],[-100.847802734375,17.20048828124999],[-101.60029296875,17.651562499999955],[-101.84707031250001,17.92226562500005],[-102.69956054687495,18.062841796875006],[-103.44160156249995,18.32539062500001],[-103.91245117187496,18.828466796875006],[-104.9384765625,19.309375000000017],[-105.482080078125,19.97607421875003],[-105.66943359374997,20.385595703124977],[-105.23706054687499,21.119189453125045],[-105.20869140624998,21.490820312499977],[-105.64912109375001,21.988085937500045],[-105.79179687500003,22.627490234375017],[-106.40224609374997,23.195605468750017],[-106.93549804687497,23.881249999999994],[-107.95117187499994,24.614892578124966],[-108.37368164062497,25.1943359375],[-109.38496093750001,25.727148437500006],[-109.42563476562495,26.032568359375063],[-109.19970703125003,26.30522460937499],[-109.48286132812498,26.710351562500023],[-109.75478515624995,26.702929687500017],[-109.94399414062495,27.079345703125057],[-110.47778320312499,27.322656249999966],[-110.52988281249995,27.864208984374983],[-111.12138671875002,27.966992187499983],[-111.68007812499997,28.470556640624977],[-112.16176757812495,29.018896484375034],[-112.223486328125,29.26948242187501],[-112.73837890625,29.985449218750034],[-113.11044921874996,30.793310546875063],[-113.04672851562495,31.17924804687499],[-114.14931640624995,31.507373046875045],[-114.83950195312497,31.79853515625004],[-114.88188476562499,31.156396484375023],[-114.63330078124997,30.50688476562496],[-114.64975585937495,30.238134765625006],[-114.37260742187497,29.83022460937505],[-113.75546875,29.367480468750017],[-113.49970703124995,28.92670898437501],[-112.870849609375,28.42421875000005],[-112.73403320312501,27.825976562500017],[-112.32919921874996,27.52343750000003],[-112.00908203125003,26.967089843750017],[-111.56967773437495,26.707617187500006],[-111.29160156249996,25.78979492187497],[-111.03442382812497,25.526953124999977],[-110.67724609374994,24.78852539062501],[-110.54697265624996,24.214160156250045],[-110.02280273437502,24.17460937499999],[-109.42084960937495,23.480126953124994],[-109.45805664062499,23.214746093750023],[-109.92343749999993,22.885888671874994],[-110.08603515624993,23.005468750000006],[-110.3626953125,23.60493164062501],[-111.41933593749997,24.329003906249994],[-112.07255859374999,24.84003906250001],[-112.05576171874995,25.48823242187501],[-112.37724609374997,26.21391601562496],[-113.02075195312499,26.58325195312497],[-113.20576171875001,26.85698242187496],[-113.59853515625001,26.721289062500034],[-113.84096679687502,26.966503906249983],[-114.44526367187503,27.218164062499994],[-114.99350585937499,27.736035156249983],[-114.30058593749995,27.87299804687501],[-114.04848632812502,28.426171874999994],[-114.14550781249997,28.60541992187501],[-114.99350585937499,29.384423828124994],[-115.67382812500003,29.756396484375017],[-116.06215820312501,30.80415039062504],[-116.66215820312495,31.56489257812504],[-117.12827148437495,32.533349609374994],[-114.72475585937495,32.71533203125003],[-114.83593749999994,32.50830078125003],[-112.93896484375001,31.91625976562503],[-111.0419921875,31.32421875000003],[-108.21445312499993,31.329443359375034],[-108.21181640625002,31.779345703125017],[-106.45322265624995,31.770166015625023],[-106.25571289062495,31.544677734375],[-104.97880859374996,30.645947265624955],[-104.40063476562503,29.57373046875],[-103.25771484374998,29.001123046874966],[-102.8919921875,29.216406250000034],[-102.73417968749999,29.643945312500023],[-102.26894531249998,29.871191406250034],[-101.44038085937503,29.77685546875],[-100.65864257812501,29.06855468750004],[-100.29604492187495,28.32768554687499],[-99.50532226562497,27.54833984375003],[-99.4435546875,27.03666992187499],[-99.10776367187498,26.446923828124994],[-98.08281249999999,26.06445312499997],[-97.35815429687497,25.870507812499994],[-97.14624023437494,25.961474609375045]]]},properties:{name:"Mexico",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[22.344042968750017,42.31396484375],[22.836816406250023,41.993603515625],[23.005664062500017,41.716943359374994],[22.951464843750017,41.605615234374994],[22.9296875,41.356103515624994],[22.916015625,41.336279296875],[22.75507812500001,41.312744140625],[22.72480468750001,41.178515624999996],[22.603613281250006,41.140185546874996],[22.493554687500023,41.118505859375],[22.237695312500023,41.155175781249994],[21.99335937500001,41.13095703125],[21.929492187500017,41.107421875],[21.575781250000006,40.868945312499996],[20.964257812500023,40.849902343749996],[20.48896484375001,41.272607421874994],[20.566210937500017,41.873681640624994],[21.05976562500001,42.171289062499994],[21.25634765625,42.099511718749994],[21.389550781250023,42.21982421875],[21.560839843750017,42.24765625],[21.5625,42.247509765625],[21.904101562500017,42.322070312499996],[22.052050781250017,42.304638671875],[22.14667968750001,42.324999999999996],[22.23974609375,42.358154296875],[22.344042968750017,42.31396484375]]]},properties:{name:"Macedonia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[4.227636718750006,19.142773437499997],[4.234667968750017,16.996386718750003],[4.121289062500011,16.357714843750003],[3.876953125,15.755273437499994],[3.5042968750000227,15.356347656249994],[1.3001953125000227,15.272265625000003],[.9600585937500057,14.986914062499991],[.21748046875001137,14.911474609374991],[-.23588867187498863,15.059423828124991],[-.760449218749983,15.047753906249994],[-1.049560546875,14.819531249999997],[-1.767773437499983,14.486035156249997],[-2.113232421874983,14.16845703125],[-2.457226562499983,14.274121093749997],[-3.198437499999983,13.6728515625],[-3.3017578125,13.28076171875],[-3.5757812499999773,13.194189453124991],[-4.051171874999994,13.382421874999991],[-4.328710937499977,13.119042968749994],[-4.227099609374989,12.793701171875],[-4.480615234374994,12.672216796874991],[-4.4287109375,12.337597656249997],[-4.797949218749977,12.032128906249994],[-5.288134765624989,11.827929687499989],[-5.299853515624989,11.205957031249994],[-5.490478515625,11.042382812499994],[-5.457080078124989,10.771386718749994],[-5.523535156249977,10.426025390625],[-5.556591796874983,10.43994140625],[-5.694287109374983,10.433203124999991],[-5.843847656249977,10.389550781249994],[-5.907568359374977,10.307226562499991],[-6.034570312499994,10.19482421875],[-6.482617187499983,10.561230468749997],[-6.950341796874994,10.342333984374989],[-7.385058593749989,10.340136718749989],[-7.6611328125,10.427441406249997],[-7.749072265624989,10.34228515625],[-7.814208984375,10.236572265625],[-7.884082031249989,10.185742187499997],[-7.9609375,10.163476562499994],[-7.990624999999994,10.162499999999994],[-7.974462890624977,10.229541015624989],[-8.007275390624983,10.321874999999991],[-8.231494140624989,10.43798828125],[-8.407470703125,11.386279296874989],[-8.822021484375,11.673242187499994],[-9.043066406249977,12.40234375],[-9.820703124999994,12.04248046875],[-10.274853515624983,12.212646484375],[-10.677343749999977,11.8994140625],[-10.933203124999977,12.205175781249991],[-11.30517578125,12.015429687499989],[-11.389404296875,12.404394531249991],[-11.390380859375,12.941992187499991],[-11.634960937499983,13.369873046875],[-12.05419921875,13.633056640625],[-12.019189453124994,14.206494140624997],[-12.280615234374977,14.809033203124997],[-12.104687499999983,14.745361328125],[-11.872851562499989,14.995166015625003],[-11.842236328124983,15.12939453125],[-11.828759765624994,15.244873046875],[-11.760156249999994,15.425537109375],[-11.675878906249977,15.512060546874991],[-11.502685546875,15.636816406249991],[-11.455224609374994,15.625390624999994],[-10.895605468749977,15.150488281249991],[-10.815087890624994,15.28173828125],[-10.696582031249989,15.422656250000003],[-9.94140625,15.373779296875],[-9.293701171875,15.502832031249994],[-8.171240234374977,15.496142578125003],[-6.335742187499989,15.496191406249991],[-6.131787109374983,15.496240234374994],[-5.723876953125,15.496289062499997],[-5.512499999999989,15.496289062499997],[-5.359912109374989,16.282861328124994],[-5.509619140624977,16.442041015624994],[-5.628662109375,16.568652343750003],[-5.65625,16.8095703125],[-5.684765624999983,17.058251953124994],[-5.713183593749989,17.306884765625],[-5.74169921875,17.555566406249994],[-5.827099609374983,18.301562500000003],[-5.855566406249977,18.550244140624997],[-5.884082031249989,18.798876953125003],[-5.941015624999977,19.296191406250003],[-5.969482421875,19.544873046874997],[-5.997949218749994,19.793505859375003],[-6.083398437499994,20.539501953124997],[-6.396582031249977,23.274804687499994],[-6.482031249999977,24.020800781250003],[-6.538964843749994,24.51816406249999],[-6.5673828125,24.766796874999997],[-6.594091796874977,24.99462890625],[-6.287207031249977,24.994824218749997],[-5.959814453124977,24.99497070312499],[-5.172900390624989,24.995410156250003],[-4.822607421874977,24.99560546875],[-3.2578613281249886,23.981250000000003],[-1.29296875,22.696533203125],[1.1455078125,21.102246093749997],[1.1657226562500114,20.817431640625003],[1.6854492187500227,20.378369140624997],[2.2193359375000057,20.247802734375],[2.4061523437500227,20.063867187499994],[3.2037109375000057,19.789697265624994],[3.255859375,19.410937500000003],[3.1060546875000057,19.150097656249997],[3.40087890625,18.988427734374994],[4.227636718750006,19.142773437499997]]]},properties:{name:"Mali",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[101.1388671875001,21.567480468749977],[100.92753906250002,21.3662109375],[100.81953125000004,21.31420898437497],[100.75664062500002,21.312646484375023],[100.70312500000003,21.251367187499966],[100.65917968749997,21.13037109375],[100.613671875,21.059326171875],[100.56660156250004,21.038183593750063],[100.53613281250003,20.992382812499955],[100.24931640625002,20.730273437500045],[100.12246093750005,20.316650390625057],[99.8903320312501,20.424414062499977],[99.33789062499997,20.078906250000017],[99.02070312500004,20.041796875000017],[98.9166992187501,19.77290039062504],[98.23906250000002,19.69067382812497],[97.816796875,19.459960937500057],[97.75400390625006,18.620800781249983],[97.48496093750006,18.494238281250034],[97.79296875000003,17.681250000000063],[98.4388671875,16.975683593750034],[98.68925781250002,16.30541992187497],[98.56523437500007,15.403564453125014],[98.19101562500012,15.204101562499972],[98.24599609375005,14.814746093750045],[99.13681640625006,13.716699218749994],[99.21982421875012,12.73974609375],[99.40507812500002,12.547900390625003],[99.61474609374997,11.781201171875026],[99.1901367187501,11.105273437499989],[98.7572265625,10.660937499999974],[98.70253906250005,10.19038085937504],[98.46494140625006,10.675830078124989],[98.67558593750007,10.986914062500034],[98.74140625000004,11.591699218749966],[98.57597656250002,13.161914062500031],[98.24541015625002,13.733496093750034],[97.81230468750007,14.858935546874989],[97.7103515625,15.875537109375074],[97.58427734375007,16.019580078125017],[97.61962890624997,16.537207031250034],[97.37587890625005,16.52294921874997],[97.17832031250012,17.06201171875003],[96.62246093750005,16.563916015624983],[95.76328125000006,16.169042968750006],[95.38955078125005,15.722753906250034],[94.9425781250001,15.818261718750023],[94.58750000000006,16.28881835937497],[94.21425781250005,16.126611328124966],[94.58896484375006,17.5693359375],[94.43076171875012,18.20166015625003],[94.07001953125004,18.893408203125006],[93.70546875000005,19.026904296875017],[93.99814453125006,19.440869140624983],[93.36230468750003,20.05830078125001],[93.00195312499997,20.074853515624994],[92.73564453125007,20.56269531250001],[92.32412109375,20.791845703125063],[92.17958984375005,21.293115234375023],[92.5934570312501,21.46733398437499],[92.57490234375004,21.978076171875045],[92.77138671875,22.104785156250017],[93.07060546875002,22.20942382812501],[93.16201171875,22.360205078125006],[93.07871093750006,22.71821289062501],[93.20390625000002,23.03701171875005],[93.34941406250007,23.08496093750003],[93.36601562500007,23.132519531249955],[93.41494140625,23.68208007812501],[93.32626953125006,24.064208984375057],[93.45214843750003,23.987402343750034],[93.68339843750007,24.00654296875004],[94.07480468750006,23.8720703125],[94.37724609375002,24.473730468750006],[94.49316406250003,24.637646484374983],[94.70371093750012,25.097851562499955],[94.66777343750007,25.458886718749966],[94.99199218750002,25.77045898437504],[95.01523437500006,25.912939453125006],[95.0929687500001,25.98730468749997],[95.13242187500006,26.041259765625057],[95.12929687500005,26.070410156250034],[95.10839843749997,26.091406250000034],[95.06894531250006,26.19111328125001],[95.0597656250001,26.473974609375006],[95.20146484375007,26.641406250000017],[96.19082031250005,27.26127929687499],[96.79785156249997,27.29619140624999],[96.96279296875,27.698291015625017],[97.04970703125005,27.760009765625],[97.34355468750002,27.982324218749994],[97.30273437499997,28.08598632812496],[97.3224609375001,28.21796875000004],[97.35644531249997,28.254492187500006],[97.43144531250002,28.353906250000023],[97.53789062500002,28.510205078124983],[98.09892578125002,28.142285156249983],[98.29882812499997,27.550097656250045],[98.65117187500007,27.572460937499983],[98.7318359375,26.583398437499994],[98.6546875,25.917773437500017],[98.01074218749997,25.292529296875017],[97.8195312500001,25.251855468749994],[97.53144531250004,24.49169921875003],[97.68603515624997,23.898095703124966],[98.21250000000006,24.110644531250017],[98.76435546875004,24.116064453125063],[98.86376953125003,23.191259765625034],[99.34082031249997,23.095898437499955],[99.33769531250002,22.49804687500003],[99.19296875000006,22.12597656249997],[99.9176757812501,22.02802734375001],[100.21474609375,21.462988281250006],[100.83515625000004,21.655175781249994],[101.1388671875001,21.567480468749977]]]},properties:{name:"Myanmar",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[19.670996093750006,43.163964843749994],[20.344335937500006,42.827929687499996],[20.06396484375,42.547265624999994],[19.65449218750001,42.628564453124994],[19.280664062500023,42.17255859375],[19.342382812500006,41.869091796875],[18.436328125000017,42.559716796874994],[18.46601562500001,42.777246093749994],[18.674218750000023,43.230810546875],[18.74921875000001,43.283544921875],[18.85107421875,43.346337890624994],[19.036718750000006,43.357324218749994],[18.940234375000017,43.496728515624994],[19.21875,43.449951171875],[19.670996093750006,43.163964843749994]]]},properties:{name:"Montenegro",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[116.68330078125001,49.823779296874996],[115.95380859375001,48.689355468749994],[115.82050781250001,48.57724609375],[115.79169921875001,48.455712890624994],[115.79658203125001,48.346337890624994],[115.78554687500002,48.2482421875],[115.63945312499999,48.18623046875],[115.52509765625001,48.130859375],[115.5576171875,47.94501953125],[115.61640625000001,47.874804687499996],[115.71171874999999,47.79892578125],[115.89824218749999,47.686914062499994],[115.99384765625001,47.711328124999994],[116.07480468750003,47.78955078125],[116.23115234375001,47.858203124999996],[116.31718749999999,47.85986328125],[116.37822265624999,47.844042968749996],[116.51347656249999,47.83955078125],[116.65195312500003,47.864501953125],[116.76054687499999,47.869775390624994],[116.90117187499999,47.853076171874996],[116.95166015625,47.836572265624994],[117.06972656250002,47.806396484375],[117.19707031249999,47.740283203124996],[117.28593749999999,47.666357421875],[117.35078125000001,47.652197265625],[117.38398437500001,47.675732421875],[117.455078125,47.741357421874994],[117.55537109375001,47.8046875],[117.67666015625002,47.90830078125],[117.76835937499999,47.987890625],[118.49843750000002,47.983984375],[119.71113281250001,47.15],[119.89785156250002,46.857812499999994],[119.8671875,46.672167968749996],[119.74746093750002,46.627197265625],[119.70664062500003,46.606005859374996],[119.62021484375003,46.603955078125],[119.47402343750002,46.62666015625],[119.162109375,46.638671875],[118.95712890625003,46.73486328125],[118.84394531250001,46.760205078125],[118.30869140625003,46.717041015625],[117.91044921874999,46.6193359375],[117.8134765625,46.5376953125],[117.67109375000001,46.5220703125],[117.33339843750002,46.36201171875],[116.97880859374999,46.361767578125],[116.85908203125001,46.387939453125],[116.78701171875002,46.37666015625],[116.68886718750002,46.32197265625],[116.56259765625003,46.289794921875],[116.21298828125003,45.8869140625],[116.22910156250003,45.845751953124996],[116.24062500000002,45.79599609375],[115.68105468750002,45.458251953125],[115.16259765625,45.390234375],[114.91923828124999,45.378271484375],[114.73876953125,45.41962890625],[114.64433593749999,45.41328125],[114.56015625000003,45.389990234375],[114.51718750000003,45.364599609375],[114.41914062500001,45.202587890625],[114.0302734375,44.942578125],[113.87705078125003,44.89619140625],[113.65263671874999,44.763476562499996],[113.58701171875003,44.745703125],[113.04941406250003,44.810351562499996],[112.70673828125001,44.883447265624994],[112.59677734375003,44.91767578125],[112.49931640624999,45.0109375],[112.41132812500001,45.058203125],[112.11289062500003,45.062939453125],[112.03261718750002,45.081640625],[111.89804687500003,45.0640625],[111.40224609375002,44.36728515625],[111.8369140625,43.93466796875],[111.93173828125003,43.81494140625],[111.94287109375,43.75244140625],[111.93320312500003,43.71142578125],[111.87812500000001,43.68017578125],[111.77109375000003,43.664599609374996],[111.7197265625,43.621142578124996],[111.64082031250001,43.56318359375],[111.54736328125,43.4962890625],[111.50351562500003,43.4927734375],[111.00722656250002,43.34140625],[110.400390625,42.773681640625],[109.44316406249999,42.455957031249994],[109.33984375,42.438378906249994],[108.68730468749999,42.41611328125],[108.17119140624999,42.447314453124996],[106.77001953125,42.288720703124994],[105.86757812500002,41.993994140625],[105.31435546875002,41.770898437499994],[105.19707031249999,41.738037109375],[104.49824218750001,41.65869140625],[104.49824218750001,41.877001953124996],[104.30517578125,41.846142578125],[103.99726562500001,41.79697265625],[103.71113281250001,41.751318359375],[103.07285156250003,42.00595703125],[101.97294921874999,42.215869140624996],[101.7138671875,42.4658203125],[99.98378906250002,42.67734375],[99.46787109375003,42.568212890625],[97.20566406250003,42.789794921875],[96.38544921875001,42.720361328124994],[95.91250000000002,43.206494140625],[95.85957031250001,43.2759765625],[95.84199218750001,43.383691406249994],[95.52558593750001,43.953955078125],[95.3564453125,44.00595703125],[95.35029296875001,44.278076171875],[94.71201171875003,44.350830078125],[93.65644531250001,44.9009765625],[92.78789062499999,45.0357421875],[92.57890624999999,45.010986328125],[92.423828125,45.008935546874994],[92.17265624999999,45.03525390625],[92.02978515625,45.068505859374994],[91.58437500000002,45.076513671875],[91.51005859374999,45.0982421875],[91.44101562500003,45.124755859375],[91.31210937500003,45.118115234375],[91.05000000000001,45.217431640624994],[90.87724609374999,45.196093749999996],[90.66181640625001,45.525244140625],[91.00175781249999,46.035791015624994],[91.03388671875001,46.52900390625],[90.86992187499999,46.954492187499994],[90.49619140625003,47.28515625],[90.31328124999999,47.676171874999994],[90.10322265625001,47.745410156249996],[90.02792968750003,47.877685546875],[89.95869140625001,47.886328125],[89.77812499999999,47.827001953125],[89.7255859375,47.852490234375],[89.69316406249999,47.879150390625],[89.63847656249999,47.909082031249994],[89.56093750000002,48.003955078124996],[89.32988281249999,48.024853515625],[89.1962890625,47.980908203125],[89.11562500000002,47.987695312499994],[89.04765624999999,48.0025390625],[88.97109375000002,48.049951171874994],[88.91777343749999,48.089013671874994],[88.83828125000002,48.101708984374994],[88.68183593750001,48.170556640624994],[88.57597656249999,48.220166015625],[88.56679687500002,48.317431640624996],[88.51708984375,48.38447265625],[88.41396484375002,48.40341796875],[88.30996093750002,48.472070312499994],[87.97968750000001,48.555126953125],[87.7431640625,48.881640624999996],[87.85986328125,48.96552734375],[87.87216796875003,49.000146484374994],[87.83466796875001,49.03193359375],[87.81630859375002,49.0802734375],[87.8251953125,49.11630859375],[87.81425781249999,49.1623046875],[87.93476562500001,49.16455078125],[88.02851562500001,49.219775390624996],[88.11572265625,49.256298828125],[88.19257812500001,49.451708984374996],[88.33779296875002,49.472558593749994],[88.39335937499999,49.482861328125],[88.45244140624999,49.472705078124996],[88.54433593750002,49.482568359374994],[88.63320312500002,49.486132812499996],[88.83164062500003,49.4484375],[89.65410156249999,49.71748046875],[89.64384765624999,49.90302734375],[91.80429687500003,50.693603515625],[94.25107421875003,50.556396484375],[94.61474609375,50.023730468749996],[94.67548828125001,50.028076171875],[94.71806640624999,50.043261718749996],[94.93027343750003,50.043749999999996],[95.04433593750002,49.961572265624994],[95.52265625000001,49.91123046875],[95.56718749999999,49.94384765625],[95.70781249999999,49.966015625],[95.78935546874999,50.012499999999996],[95.85195312500002,50.012939453125],[95.8994140625,49.990576171875],[95.93574218750001,49.960009765624996],[96.06552734375003,49.99873046875],[96.31503906250003,49.901123046875],[96.98574218750002,49.8828125],[97.20859375000003,49.730810546875],[97.35976562500002,49.741455078125],[97.58935546875,49.911474609375],[98.10341796875002,50.07783203125],[98.27949218750001,50.533251953124996],[97.82529296875003,50.985253906249994],[97.94687500000003,51.348437499999996],[98.35273437500001,51.717626953125],[98.64052734375002,51.801171875],[98.8486328125,52.070068359375],[99.92167968749999,51.755517578125],[100.03457031250002,51.737109374999996],[100.23037109375002,51.729833984375],[100.46894531250001,51.72607421875],[100.53623046875003,51.7134765625],[101.22324218750003,51.51328125],[101.30449218749999,51.474755859374994],[101.38125000000002,51.45263671875],[101.57089843750003,51.467187499999994],[101.82119140625002,51.421044921874994],[102.11152343750001,51.353466796875],[102.15566406250002,51.313769531249996],[102.16005859375002,51.26083984375],[102.14238281249999,51.216064453125],[102.15195312500003,51.10751953125],[102.21503906250001,50.829443359375],[102.28837890624999,50.585107421874994],[102.68330078125001,50.387158203125],[102.85966796874999,50.333251953125],[103.03945312500002,50.300634765625],[103.16171875000003,50.29072265625],[103.23378906250002,50.2642578125],[103.30439453125001,50.20029296875],[103.63291015625003,50.138574218749994],[103.72324218750003,50.153857421874996],[103.80263671875002,50.176074218749996],[104.1796875,50.16943359375],[104.25996093750001,50.214453125],[104.35390625000002,50.275292968749994],[104.46630859375,50.30615234375],[104.97695312500002,50.38291015625],[105.0947265625,50.389941406249996],[105.38359374999999,50.47373046875],[106.21787109375003,50.304589843749994],[106.36845703124999,50.317578125],[106.57441406250001,50.32880859375],[106.71113281250001,50.31259765625],[106.94130859375002,50.196679687499994],[107.04023437500001,50.086474609374996],[107.14306640625,50.033007812499996],[107.23330078125002,49.989404296874994],[107.34707031250002,49.986669921875],[107.63095703125003,49.98310546875],[107.94785156250003,49.924707031249994],[108.03378906250003,49.593994140625],[108.40693359375001,49.396386718749994],[108.5224609375,49.34150390625],[108.61367187500002,49.322802734374996],[108.73300781250003,49.33564453125],[109.23671875000002,49.334912109375],[109.45371093750003,49.296337890625],[109.52871093750002,49.269873046875],[110.19990234375001,49.17041015625],[110.82792968749999,49.166162109374994],[111.20419921875003,49.304296875],[111.33662109375001,49.355859374999994],[113.05556640625002,49.616259765624996],[113.09208984374999,49.692529296874994],[113.16416015625003,49.797167968749996],[113.31904296875001,49.874316406249996],[113.44550781250001,49.9416015625],[113.57421875,50.00703125],[114.29707031250001,50.2744140625],[114.7431640625,50.233691406249996],[115.27451171875003,49.948876953124994],[116.13457031249999,50.010791015624996],[116.68330078125001,49.823779296874996]]]},properties:{name:"Mongolia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[32.112890625000006,-26.839453125000006],[32.10595703125,-26.52001953125],[32.04140625000002,-26.28125],[31.9482421875,-25.957617187500006],[31.920312500000023,-25.77392578125],[31.98457031250001,-25.631933593750006],[31.98701171875001,-25.263476562500003],[31.984375,-24.844042968750003],[31.983203125000017,-24.638281250000006],[31.98583984375,-24.46064453125001],[31.858300781250023,-24.04023437500001],[31.799609375000017,-23.892187500000006],[31.54560546875001,-23.48232421875001],[31.287890625000017,-22.40205078125001],[31.429492187500017,-22.298828125],[32.37109375,-21.33486328125001],[32.477636718750006,-20.712988281250006],[33.00673828125002,-19.873828125000003],[32.71650390625001,-19.00185546875001],[32.99306640625002,-18.35957031250001],[32.94804687500002,-16.71230468750001],[32.243261718750006,-16.44873046875],[31.939843750000023,-16.428808593750006],[31.236230468750023,-16.02363281250001],[30.437792968750017,-15.995312500000011],[30.396093750000006,-15.64306640625],[30.231835937500023,-14.990332031250006],[31.728906250000023,-14.49609375],[33.201757812500006,-14.013378906250011],[33.63642578125001,-14.568164062500003],[34.33251953125,-14.408593750000009],[34.50527343750002,-14.59814453125],[34.54082031250002,-15.297265625000009],[34.24824218750001,-15.887500000000003],[34.28828125000001,-15.936132812500006],[34.3759765625,-16.023730468750003],[34.40302734375001,-16.08027343750001],[34.395117187500006,-16.130859375],[34.3955078125,-16.19921875],[34.93339843750002,-16.760351562500006],[35.11210937500002,-16.898535156250006],[35.242773437500006,-16.37539062500001],[35.358496093750006,-16.16054687500001],[35.59931640625001,-16.12587890625001],[35.70888671875002,-16.095800781250006],[35.75527343750002,-16.05830078125001],[35.79121093750001,-15.958691406250011],[35.83027343750001,-15.4189453125],[35.80537109375001,-15.265625],[35.86669921875,-14.86376953125],[35.84716796875,-14.6708984375],[35.6904296875,-14.465527343750011],[35.48847656250001,-14.201074218750009],[35.37578125000002,-14.058691406250006],[35.24746093750002,-13.896875000000009],[34.54570312500002,-13.21630859375],[34.542578125000006,-13.108691406250003],[34.36083984375,-12.210546875000006],[34.60625000000002,-11.690039062500006],[34.65957031250002,-11.588671875000003],[34.82656250000002,-11.57568359375],[34.95947265625,-11.578125],[35.1826171875,-11.574804687500006],[35.41826171875002,-11.583203125000011],[35.50439453125,-11.604785156250003],[35.56435546875002,-11.602343750000003],[35.630957031250006,-11.58203125],[35.78544921875002,-11.452929687500003],[35.91132812500001,-11.454687500000006],[36.08222656250001,-11.537304687500011],[36.17548828125001,-11.609277343750009],[36.19130859375002,-11.670703125000003],[36.3056640625,-11.706347656250003],[36.518652343750006,-11.716210937500009],[36.673828125,-11.684277343750011],[36.771093750000006,-11.6103515625],[36.872656250000006,-11.5712890625],[36.97890625000002,-11.566992187500006],[37.54169921875001,-11.675097656250003],[37.92021484375002,-11.294726562500003],[38.491796875000006,-11.413281250000011],[38.79472656250002,-11.228906250000009],[38.98750000000001,-11.167285156250003],[39.170996093750006,-11.166894531250009],[39.32158203125002,-11.12255859375],[39.5634765625,-10.978515625],[39.81708984375001,-10.912402343750003],[39.98867187500002,-10.82080078125],[40.46357421875001,-10.46435546875],[40.544531250000006,-11.065625000000011],[40.40283203125,-11.33203125],[40.58085937500002,-12.635546875000003],[40.54511718750001,-13.462890625],[40.63994140625002,-14.390039062500009],[40.83515625000001,-14.79150390625],[40.55898437500002,-15.473437500000003],[40.10878906250002,-15.979296875000003],[39.84462890625002,-16.435644531250006],[39.08437500000002,-16.97285156250001],[38.14492187500002,-17.242773437500006],[37.24453125000002,-17.73994140625001],[36.540136718750006,-18.518164062500006],[35.65126953125002,-19.163867187500003],[34.947851562500006,-19.81269531250001],[34.75576171875002,-19.82197265625001],[34.69814453125002,-20.404394531250006],[34.98232421875002,-20.806250000000006],[35.267675781250006,-21.650976562500006],[35.31572265625002,-22.39687500000001],[35.57539062500001,-22.96308593750001],[35.37041015625002,-23.79824218750001],[35.438085937500006,-24.171191406250003],[35.15595703125001,-24.54140625000001],[34.60732421875002,-24.8212890625],[33.34746093750002,-25.26093750000001],[32.79218750000001,-25.644335937500003],[32.590429687500006,-26.00410156250001],[32.93359375,-26.25234375000001],[32.88916015625,-26.83046875000001],[32.88613281250002,-26.84931640625001],[32.353515625,-26.861621093750003],[32.19960937500002,-26.83349609375],[32.112890625000006,-26.839453125000006]]]},properties:{name:"Mozambique",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-5.359912109374989,16.282861328124994],[-5.512499999999989,15.496289062499983],[-5.723876953124972,15.496289062499983],[-6.131787109374926,15.496240234374966],[-6.335742187500017,15.496191406250063],[-8.17124023437492,15.496142578125045],[-9.293701171875,15.502832031249994],[-9.941406249999972,15.373779296874986],[-10.696582031249989,15.422656250000003],[-10.895605468749949,15.150488281249977],[-10.9482421875,15.151123046875014],[-11.007421874999977,15.222900390624986],[-11.169335937500023,15.358642578125014],[-11.455224609374994,15.625390624999994],[-11.760156249999937,15.425537109375057],[-11.828759765624966,15.244873046875014],[-11.842236328124955,15.129394531250028],[-11.872851562499989,14.995166015625031],[-12.104687499999955,14.745361328125043],[-12.40869140625,14.889013671874991],[-12.858496093749977,15.242529296874977],[-13.105273437499989,15.57177734375],[-13.40966796875,16.059179687500006],[-13.756640624999989,16.172509765624994],[-14.300097656249932,16.58027343750001],[-15.11264648437492,16.64492187500005],[-15.768212890624994,16.485107421875],[-16.168359374999966,16.54707031250001],[-16.34667968749997,16.926416015625023],[-16.07890624999996,17.54584960937501],[-16.084960937499943,18.52119140625001],[-16.213085937499926,19.003320312500023],[-16.51445312499996,19.361962890624994],[-16.283398437499955,19.787158203125017],[-16.21044921875003,20.227929687500023],[-16.42978515624995,20.652343750000057],[-17.06396484375,20.898828124999994],[-16.96455078125001,21.329248046875023],[-15.231201171875,21.331298828125],[-13.855371093749937,21.332958984374983],[-13.396728515624943,21.333544921875017],[-13.167431640624926,21.333789062500074],[-13.016210937499949,21.33393554687501],[-13.025097656249983,21.46679687499997],[-13.032226562500028,21.572070312500017],[-13.041748046875,21.71381835937504],[-13.051220703124983,21.854785156250074],[-13.094335937499977,22.49599609375005],[-13.107324218749937,22.56074218750001],[-13.155957031250011,22.689306640625006],[-13.166503906250028,22.753222656250045],[-13.153271484374983,22.820507812499983],[-13.12089843749996,22.884082031250074],[-13.031494140624943,23.000244140625],[-12.372900390624977,23.318017578124994],[-12.023437499999943,23.467578125000017],[-12.016308593749983,23.97021484375],[-12.016308593749983,24.378662109375],[-12.016308593749983,24.923242187499994],[-12.016308593749983,25.331689453124994],[-12.016308593749983,25.740136718749994],[-12.016308593749983,25.995410156250017],[-10.562451171874926,25.995458984375034],[-9.81718749999996,25.995458984375034],[-9.258203124999966,25.99550781250005],[-8.885644531249994,25.99550781250005],[-8.682226562499949,25.99550781250005],[-8.68212890625,26.109472656250006],[-8.68212890625,26.273193359375057],[-8.682324218749955,26.49770507812505],[-8.683349609375,27.285937500000045],[-6.2386718749999375,25.848193359375045],[-4.822607421874949,24.99560546875],[-5.172900390624989,24.995410156250045],[-5.959814453124977,24.994970703125063],[-6.287207031249977,24.99482421875001],[-6.594091796874977,24.99462890624997],[-6.396582031249977,23.274804687499994],[-6.0833984374999375,20.539501953124983],[-5.9979492187499375,19.793505859375045],[-5.969482421875,19.54487304687504],[-5.941015624999977,19.29619140624999],[-5.884082031250017,18.798876953125017],[-5.855566406249977,18.550244140624983],[-5.8270996093749545,18.301562500000045],[-5.741699218749943,17.555566406250023],[-5.713183593750017,17.306884765625],[-5.684765624999983,17.058251953124966],[-5.628662109375028,16.568652343750045],[-5.50961914062492,16.442041015625023],[-5.359912109374989,16.282861328124994]]]},properties:{name:"Mauritania",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[34.95947265625003,-11.578125000000028],[34.82656250000005,-11.575683593749972],[34.65957031250005,-11.58867187499996],[34.61855468750005,-11.620214843749991],[34.60625000000002,-11.690039062500006],[34.36083984375003,-12.210546874999991],[34.542578125000006,-13.108691406250003],[34.54570312500002,-13.21630859375],[35.247460937499994,-13.896874999999994],[35.37578125000002,-14.05869140625002],[35.48847656250004,-14.20107421874998],[35.69042968749997,-14.465527343750026],[35.84716796875003,-14.670898437500043],[35.86669921875003,-14.863769531249986],[35.83027343750004,-15.418945312500028],[35.7912109375001,-15.958691406250026],[35.75527343750005,-16.058300781249983],[35.708886718749994,-16.095800781249977],[35.5993164062501,-16.12587890624998],[35.35849609375006,-16.160546875000023],[35.242773437500006,-16.37539062500001],[35.11210937500002,-16.898535156250006],[34.93339843750002,-16.760351562500006],[34.39550781249997,-16.19921875],[34.39511718750006,-16.130859375000014],[34.4030273437501,-16.08027343750001],[34.37597656249997,-16.02373046874996],[34.2482421875001,-15.887500000000003],[34.54082031250002,-15.297265625000009],[34.50527343750005,-14.598144531249957],[34.33251953125003,-14.40859374999998],[33.63642578125004,-14.568164062499974],[33.148046875000006,-13.94091796875],[32.797460937500006,-13.6884765625],[32.67207031250004,-13.610351562499986],[32.851855468750074,-13.457031250000014],[32.96757812500002,-13.224999999999994],[32.99999999999997,-12.89960937500004],[32.97050781250002,-12.864746093749957],[32.945605468750074,-12.804394531250011],[33.021582031250006,-12.63046875000002],[33.24345703125002,-12.556542968749966],[33.39794921874997,-12.489843749999963],[33.43066406249997,-12.460449218750014],[33.48320312500002,-12.403417968750034],[33.4914062500001,-12.331054687499943],[33.25234375000005,-12.112597656250031],[33.226367187500074,-11.534863281250011],[33.23271484375002,-11.417675781250026],[33.26835937500002,-11.403906249999977],[33.379785156249994,-11.15791015625004],[33.338671875000074,-11.085156249999969],[33.29326171875002,-10.981152343749997],[33.27275390625002,-10.915039062499943],[33.261328125000006,-10.893359374999974],[33.29277343750002,-10.85234374999996],[33.3449218750001,-10.812695312499969],[33.464746093749994,-10.78310546874998],[33.65908203125005,-10.590527343749997],[33.528906250000006,-10.234667968749974],[33.31152343750003,-10.037988281249966],[33.3371093750001,-9.954003906249994],[33.350976562499994,-9.862207031250037],[33.148046875000006,-9.603515625],[32.91992187500003,-9.407421875000026],[34.32089843750006,-9.731542968749977],[34.524218750000074,-10.03017578124998],[34.66181640625004,-10.71005859375002],[34.59765625000003,-11.037500000000023],[34.77382812500005,-11.341699218750009],[34.93701171874997,-11.463476562500034],[34.95263671874997,-11.54374999999996],[34.95947265625003,-11.578125000000028]]]},properties:{name:"Malawi",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[102.10107421874997,6.242236328125031],[102.98242187499997,5.524951171875003],[103.41582031250007,4.85029296875004],[103.46875000000003,4.393261718750011],[103.36201171875004,3.769140624999963],[103.43945312499997,2.93310546875],[103.8122070312501,2.5804687500000085],[104.28847656250005,1.4806640625000398],[103.6945312500001,1.4496582031250256],[102.72714843750012,1.855566406250034],[101.29550781250012,2.8852050781250114],[101.29990234375012,3.253271484375034],[100.71542968750006,3.966210937499966],[100.61455078125002,4.652246093750023],[100.35263671875006,5.587695312499989],[100.34326171874997,5.984179687500031],[100.11914062499997,6.441992187500048],[100.3454101562501,6.549902343750006],[101.05351562500002,6.2425781250000085],[101.2570312500001,5.7893554687500455],[101.5560546875,5.907763671875003],[101.87363281250012,5.8252929687499915],[102.10107421874997,6.242236328125031]]],[[[117.5744140625001,4.17060546875004],[117.10058593750003,4.337060546875023],[115.89619140625004,4.348681640624989],[115.56845703125006,3.9387695312499744],[115.45439453125002,3.0343261718750085],[115.086328125,2.8411132812499886],[115.1791015625,2.5231933593749716],[114.78642578125002,2.250488281250014],[114.83056640625003,1.9800292968749886],[114.54589843750003,1.467138671875034],[113.90234375000003,1.4342773437499972],[113.6222656250001,1.2359375000000057],[112.47617187500006,1.5590820312500284],[112.1857421875001,1.4390624999999915],[112.078515625,1.1433593749999744],[111.76972656250004,.9994628906249687],[110.93808593750006,1.0173339843750568],[110.50576171875005,.8619628906250227],[109.65400390625004,1.6148925781250227],[109.62890625000003,2.027539062499983],[109.9845703125001,1.7176269531249915],[110.34921875000012,1.7197265624999716],[110.93994140625003,1.5173339843750426],[111.15419921875005,1.7387695312500426],[111.24218749999997,2.4357421875000114],[111.72773437500004,2.853808593750003],[112.73730468749997,3.0704589843749943],[113.04472656250002,3.2052246093750085],[113.92392578125006,4.243212890625003],[114.0638671875,4.592675781249966],[114.60830078125005,4.023974609375017],[114.84023437500005,4.3932128906250085],[114.74667968750006,4.718066406250017],[115.02675781250005,4.899707031249989],[115.1400390625,4.8997558593749915],[115.51982421875002,5.048925781250006],[115.41904296875012,5.413183593749963],[115.79687499999997,5.536132812499972],[116.1383789062501,6.12954101562498],[116.49472656250006,6.521679687500026],[117.29404296875006,6.676904296875023],[117.64570312500004,6.473681640625017],[117.61718750000003,5.940722656249974],[118.00380859375,6.0533203124999915],[118.11582031250006,5.862500000000026],[118.59482421875006,5.592089843750003],[119.22343750000007,5.412646484375031],[119.13222656250005,5.100488281250037],[118.18535156250002,4.828515625000051],[118.49804687499997,4.362353515625031],[117.5744140625001,4.17060546875004]]]]},properties:{name:"Malaysia",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[23.380664062500017,-17.640625],[24.27490234375,-17.481054687500006],[24.932421875000017,-17.54345703125],[25.2587890625,-17.793554687500006],[24.358984375000006,-17.97822265625001],[23.58056640625,-18.452929687500003],[23.298632812500017,-18.02734375],[20.97412109375,-18.31884765625],[20.976171875000006,-19.74433593750001],[20.970996093750017,-22.00019531250001],[19.977343750000017,-22.00019531250001],[19.98046875,-24.77675781250001],[19.98046875,-26.53115234375001],[19.98046875,-28.310351562500003],[19.02607421875001,-28.92792968750001],[18.310839843750017,-28.88623046875],[17.44794921875001,-28.69814453125001],[17.1884765625,-28.13251953125001],[17.1494140625,-28.08222656250001],[17.056250000000006,-28.031054687500003],[16.93330078125001,-28.069628906250003],[16.875292968750017,-28.1279296875],[16.841210937500023,-28.21894531250001],[16.810156250000006,-28.26455078125001],[16.787500000000023,-28.39472656250001],[16.755761718750023,-28.4521484375],[16.447558593750017,-28.61757812500001],[15.719042968750017,-27.9658203125],[15.341503906250011,-27.386523437500003],[14.9677734375,-26.31806640625001],[14.84521484375,-25.725683593750006],[14.837109375000011,-25.033203125],[14.501562500000006,-24.201953125000003],[14.473828125000011,-23.28115234375001],[14.525976562500006,-22.70253906250001],[14.321875000000006,-22.18994140625],[13.973242187500006,-21.767578125],[13.450585937500023,-20.91669921875001],[13.168359375000023,-20.184667968750006],[12.458203125000011,-18.9267578125],[12.095703125,-18.54091796875001],[11.77587890625,-18.001757812500003],[11.733496093750006,-17.7509765625],[11.743066406250023,-17.24921875000001],[11.902539062500011,-17.2265625],[12.013964843750017,-17.168554687500006],[12.21337890625,-17.2099609375],[12.359277343750023,-17.205859375000003],[12.548144531250017,-17.212695312500003],[13.101171875000006,-16.96767578125001],[13.403710937500023,-17.0078125],[13.93798828125,-17.388769531250006],[15.765820312500011,-17.3896484375],[16.1484375,-17.390234375000006],[16.531054687500017,-17.39082031250001],[16.913671875000006,-17.391406250000003],[17.296289062500023,-17.39199218750001],[17.835351562500023,-17.39277343750001],[18.396386718750023,-17.3994140625],[18.718066406250017,-17.703222656250006],[18.825976562500017,-17.76630859375001],[19.076464843750017,-17.817675781250003],[20.392968750000023,-17.88740234375001],[20.507617187500017,-17.95253906250001],[20.625097656250006,-17.996679687500006],[21.416894531250023,-18.00068359375001],[21.960839843750023,-17.90517578125001],[22.32421875,-17.837500000000006],[22.6240234375,-17.78164062500001],[23.068261718750023,-17.698828125000006],[23.380664062500017,-17.640625]]]},properties:{name:"Namibia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[164.20234375000004,-20.246093749999957],[164.4359375,-20.282226562499957],[165.191796875,-20.768847656249974],[165.66279296875004,-21.267187499999977],[166.94238281250003,-22.09013671875003],[166.77412109375004,-22.37617187500004],[166.09609375,-21.95664062500002],[165.24199218750002,-21.52548828125002],[164.45468750000012,-20.829101562499986],[164.16972656250007,-20.48017578125004],[164.20234375000004,-20.246093749999957]]]},properties:{name:"France",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[14.97900390625,22.99619140624999],[15.172265625000023,21.922070312499997],[15.181835937500011,21.523388671874997],[15.607324218750023,20.954394531250003],[15.587109375000011,20.733300781249994],[15.948828125000006,20.303173828124997],[15.735058593750011,19.904052734375],[15.474316406250011,16.908398437499997],[14.367968750000017,15.750146484374994],[13.4482421875,14.380664062500003],[13.505761718750023,14.134423828124994],[13.606347656250023,13.70458984375],[13.426953125000011,13.701757812499991],[13.323828125000006,13.670849609374997],[12.65478515625,13.326562499999994],[12.463183593750017,13.09375],[11.411914062500017,13.353613281249991],[10.958886718750023,13.371533203124997],[10.475878906250017,13.330224609374994],[10.229589843750006,13.281005859375],[10.184667968750006,13.270117187499991],[9.615917968750011,12.810644531249991],[9.201562500000023,12.821484374999997],[8.750585937500006,12.908154296874997],[8.4560546875,13.059667968749991],[8.095019531250017,13.291162109374994],[7.955761718750011,13.32275390625],[7.788671875000006,13.337890625],[7.056738281250006,13.000195312499997],[6.804296875000006,13.107666015625],[6.386328125000006,13.603613281249991],[6.2998046875,13.658789062499991],[6.184277343750011,13.663671874999991],[5.838183593750017,13.765380859375],[5.491992187500017,13.872851562500003],[5.415820312500017,13.859179687500003],[5.361621093750017,13.836865234374997],[5.241894531250011,13.757226562499994],[4.823339843750006,13.759765625],[4.147558593750006,13.457714843749997],[3.9478515625000057,12.775048828124994],[3.6466796875000114,12.529980468749997],[3.618457031250017,11.827734374999991],[3.5954101562500114,11.6962890625],[3.4498046875000057,11.851953124999994],[3.3599609375000057,11.880468749999991],[2.8781250000000114,12.367724609374989],[2.366015625000017,12.221923828125],[2.38916015625,11.897070312499991],[2.0914062500000057,12.277978515624994],[2.0738281250000057,12.713964843749991],[1.56494140625,12.635400390624994],[.9873046875,13.041894531249994],[.9777343750000114,13.551953124999997],[.6181640625,13.703417968750003],[.16386718750001705,14.497216796874994],[.21748046875001137,14.911474609374991],[.9600585937500057,14.986914062499991],[1.3001953125000227,15.272265625000003],[3.5042968750000227,15.356347656249994],[3.876953125,15.755273437499994],[4.121289062500011,16.357714843750003],[4.234667968750017,16.996386718750003],[4.227636718750006,19.142773437499997],[5.836621093750011,19.479150390624994],[7.481738281250017,20.873095703125003],[9.378710937500017,21.991406249999997],[11.967871093750006,23.517871093750003],[13.481250000000017,23.18017578125],[14.230761718750017,22.618457031250003],[14.97900390625,22.99619140624999]]]},properties:{name:"Niger",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[6.804296875000006,13.107666015625],[7.056738281250006,13.00019531250004],[7.788671875000006,13.337890625],[7.955761718750011,13.322753906250028],[8.095019531250045,13.29116210937498],[8.750585937500034,12.908154296875026],[9.20156250000008,12.82148437500004],[9.615917968750011,12.810644531249963],[10.184667968750063,13.270117187499963],[10.229589843749977,13.281005859375043],[10.475878906250074,13.330224609375037],[10.958886718750051,13.371533203125011],[11.411914062500074,13.353613281250006],[12.463183593750017,13.09375],[12.654785156250057,13.326562500000009],[13.323828125000034,13.670849609374983],[13.426953125000068,13.701757812499963],[13.606347656250023,13.704589843750014],[13.932324218750011,13.258496093749997],[14.06396484375,13.078515625000009],[14.160058593750023,12.612792968749986],[14.184863281250017,12.447216796874997],[14.272851562500023,12.356494140624989],[14.627148437500068,12.10869140624996],[14.559765625000011,11.492285156249963],[13.892089843750057,11.140087890624983],[13.53535156250004,10.605078124999963],[13.269921875000051,10.036181640624974],[13.175488281250011,9.539648437499977],[12.929492187500074,9.426269531249972],[12.651562500000011,8.667773437499989],[12.40351562500004,8.59555664062502],[12.311328125000074,8.419726562499989],[12.2333984375,8.282324218749977],[12.016015625000051,7.5897460937500085],[11.809179687500006,7.3450683593749915],[11.767382812500017,7.272265624999989],[11.551660156250023,6.697265625],[11.153320312500057,6.437939453125011],[11.079687500000063,6.505517578125023],[11.032519531250045,6.697900390625037],[10.954199218750006,6.776562499999997],[10.606250000000074,7.063085937500006],[10.143554687500057,6.99643554687502],[10.038867187500045,6.921386718750014],[9.874218750000068,6.803271484375017],[9.82070312500008,6.783935546874986],[9.779882812500034,6.760156250000023],[9.725585937499972,6.649999999999963],[9.659960937500017,6.531982421874986],[9.490234375,6.418652343749997],[8.997167968750006,5.917724609375],[8.800976562499983,5.197460937499983],[8.293066406250006,4.557617187500014],[7.15468750000008,4.514404296875],[6.757031250000068,4.343554687500017],[6.07656250000008,4.290624999999977],[5.587792968750051,4.647216796874972],[5.232421875000057,5.483789062499966],[4.861035156250068,6.026318359374997],[4.431347656250011,6.348583984375026],[4.125878906250023,6.411376953125028],[2.706445312500051,6.369238281249963],[2.7356445312500455,6.595703125],[2.7537109374999886,6.661767578124966],[2.774609374999983,6.711718750000017],[2.7529296875000284,6.771630859374966],[2.7317382812500455,6.852832031249989],[2.721386718750068,6.980273437500017],[2.750488281250057,7.39506835937496],[2.686035156250057,7.873730468750054],[2.703125,8.371826171875],[2.7748046875000227,9.048535156250026],[3.044921875,9.08383789062502],[3.3251953124999716,9.778466796875051],[3.5572265625000057,9.907324218750006],[3.6465820312500057,10.408984374999989],[3.83447265625,10.607421875],[3.7568359375,10.768749999999997],[3.7164062500000057,11.07958984375],[3.63886718750004,11.176855468750006],[3.4877929687499716,11.395410156250037],[3.490527343750017,11.499218750000054],[3.55390625000004,11.631884765624989],[3.595410156250068,11.696289062500057],[3.6184570312500455,11.827734375000006],[3.6466796875000114,12.529980468749983],[3.9478515625000057,12.775048828124994],[4.147558593750006,13.457714843749983],[4.823339843750006,13.759765624999972],[5.241894531250011,13.757226562499994],[5.361621093750074,13.836865234375054],[5.415820312500017,13.859179687499974],[5.491992187500074,13.872851562500003],[6.184277343750068,13.66367187500002],[6.2998046875,13.658789062500006],[6.386328125000034,13.603613281250048],[6.804296875000006,13.107666015625]]]},properties:{name:"Nigeria",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-83.6419921875,10.917236328125],[-84.168359375,10.780371093749991],[-84.348291015625,10.979882812499994],[-84.9091796875,10.9453125],[-85.62138671874999,11.184472656249994],[-85.7443359375,11.062109374999991],[-86.468896484375,11.73828125],[-86.755615234375,12.156640624999994],[-87.66752929687499,12.903564453125],[-87.54331054687499,13.039697265624994],[-87.33725585937499,12.979248046875],[-87.05917968749999,12.991455078125],[-86.95888671875,13.0537109375],[-86.93315429687499,13.117529296874991],[-86.92880859374999,13.179394531249997],[-86.918212890625,13.223583984374997],[-86.87353515625,13.266503906249994],[-86.710693359375,13.313378906249994],[-86.77060546874999,13.69873046875],[-86.758984375,13.746142578125003],[-86.733642578125,13.763476562500003],[-86.61025390625,13.774853515624997],[-86.376953125,13.755664062500003],[-86.33173828125,13.770068359375003],[-86.238232421875,13.899462890625003],[-86.15122070312499,13.994580078124997],[-86.0892578125,14.037207031249991],[-86.04038085937499,14.050146484374991],[-85.9837890625,13.965673828124991],[-85.78671874999999,13.844433593749997],[-85.75341796875,13.85205078125],[-85.73393554687499,13.858691406250003],[-85.727734375,13.876074218749991],[-85.731201171875,13.931835937499997],[-85.68193359374999,13.982568359374994],[-85.47705078125,14.108691406250003],[-85.373779296875,14.223876953125],[-85.17949218749999,14.343310546875003],[-84.98515624999999,14.75244140625],[-84.78916015624999,14.790380859374991],[-84.72978515624999,14.71337890625],[-84.645947265625,14.661083984374997],[-83.635498046875,14.876416015624997],[-83.4150390625,15.008056640625],[-83.187744140625,14.340087890625],[-83.4123046875,13.996484374999994],[-83.567333984375,13.3203125],[-83.5109375,12.411816406249997],[-83.76933593749999,11.931640625],[-83.6517578125,11.642041015624997],[-83.86787109375,11.300048828125],[-83.6419921875,10.917236328125]]]},properties:{name:"Nicaragua",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[4.226171875000034,51.38647460937503],[3.9020507812500114,51.20766601562502],[3.35009765625,51.37768554687503],[4.226171875000034,51.38647460937503]]],[[[4.226171875000034,51.38647460937503],[3.5869140625,51.45390624999999],[4.482812500000023,52.30917968749998],[4.6783203125000625,52.80976562500001],[6.062207031250068,53.407080078125006],[6.8162109375000455,53.44116210937503],[7.197265625000028,53.28227539062499],[7.035156250000057,52.38022460937498],[6.7417968750000625,51.91088867187503],[5.948535156250017,51.762402343749955],[6.193261718750051,51.48891601562502],[5.894726562500068,50.98422851562506],[5.993945312500017,50.75043945312504],[5.693554687500011,50.774755859375006],[5.827148437500057,51.125634765624994],[4.503417968750028,51.47470703124998],[4.226171875000034,51.38647460937503]]]]},properties:{name:"Netherlands",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[[[[30.869726562500006,69.78344726562506],[28.96582031250003,69.02197265625],[29.14160156250003,69.67143554687505],[27.889941406250045,70.06166992187497],[26.525390625000057,69.91503906250003],[26.011523437500074,69.65263671875005],[25.748339843750017,68.99013671875],[24.94140625000003,68.59326171875006],[23.85400390625,68.80590820312503],[22.410937500000074,68.719873046875],[21.621777343750068,69.27070312499995],[20.622167968750006,69.036865234375],[19.969824218750063,68.35639648437501],[18.378613281250068,68.56240234374997],[17.91669921875001,67.96489257812502],[17.324609375000023,68.10380859374999],[16.12744140625,67.42583007812507],[16.40351562500004,67.05498046875002],[15.422949218750006,66.48984374999998],[14.543261718750045,66.12934570312498],[14.47968750000004,65.30146484374998],[13.650292968750023,64.58154296874997],[14.077636718750028,64.464013671875],[13.960546875000063,64.01401367187498],[12.662500000000023,63.94047851562502],[11.999902343750051,63.29169921875001],[12.218164062500023,63.00063476562502],[12.303515625000074,62.28559570312501],[12.155371093750006,61.720751953125045],[12.88076171875008,61.35229492187506],[12.29414062500004,61.00268554687506],[12.588671874999989,60.450732421875045],[12.486132812500074,60.10678710937506],[11.680761718750034,59.59228515625003],[11.798144531250074,59.28989257812498],[11.388281250000063,59.036523437499966],[10.834472656250028,59.18393554687498],[9.618457031250017,58.946044921875],[8.166113281250063,58.145312500000045],[7.0048828125,58.024218750000074],[5.706835937500074,58.52363281250001],[5.84521484375,59.35346679687498],[5.1316406250000455,59.22646484375002],[5.244042968750023,60.569580078125],[5.049121093750017,60.70751953125006],[4.927832031249977,61.71069335937506],[5.5333007812500625,62.310888671875034],[6.352929687500051,62.61113281249999],[7.283789062499977,62.60229492187497],[7.00849609375004,62.957666015624994],[8.100585937500028,63.090966796874966],[8.398144531249983,63.53510742187504],[9.696875000000006,63.624560546875045],[9.708007812500028,63.864892578124994],[11.349902343750045,64.90590820312497],[12.15966796875,65.178955078125],[12.272851562500051,65.56816406250007],[12.976074218750057,66.01918945312502],[13.104687500000068,66.53940429687503],[14.754980468750006,67.49902343749997],[14.798925781250063,67.80932617187503],[16.064550781249977,68.19990234375001],[16.65185546875,68.62578125000002],[18.101464843749994,69.15629882812499],[18.293164062500068,69.47509765625003],[20.068945312500006,69.883447265625],[21.163085937500057,69.88950195312498],[21.400390625,70.17446289062505],[22.684570312500057,70.374755859375],[23.046484375000063,70.10185546874999],[24.420019531250034,70.70200195312503],[24.658007812500017,71.00102539062505],[25.768164062500063,70.85317382812502],[27.59707031250005,71.09130859375003],[29.102343750000045,70.86074218749997],[30.944140625000017,70.27441406249997],[29.601367187500017,69.97675781249998],[29.792089843750063,69.727880859375],[30.869726562500006,69.78344726562506]]],[[[21.60810546875004,78.59570312499997],[23.11669921874997,77.99150390624999],[24.23828125000003,77.89853515625006],[23.84121093750005,77.49775390625004],[22.056835937500068,77.50117187500001],[21.6083984375,77.91606445312499],[20.22792968750005,78.47783203125005],[21.60810546875004,78.59570312499997]]],[[[16.786718750000034,79.90673828125],[18.58144531250008,79.57158203125002],[19.089453125000034,79.15703125000002],[20.458203125000068,79.12924804687506],[21.388769531250034,78.74042968749998],[19.76875000000004,78.62270507812497],[18.439257812500074,78.025048828125],[16.700488281250045,76.57929687499995],[14.365820312500034,77.23447265625003],[14.920800781250023,77.68881835937506],[13.680566406250051,78.02812499999999],[11.77382812500008,78.71640625000006],[10.86591796875004,79.79658203125001],[12.753515625000006,79.77578124999997],[13.383593750000045,79.48076171874999],[15.816113281250011,79.68183593750001],[16.786718750000034,79.90673828125]]],[[[20.897851562500023,80.24995117187501],[22.450781250000034,80.40224609375005],[26.86083984375,80.16000976562498],[27.19863281250008,79.90659179687506],[25.641210937500034,79.40302734374995],[23.94775390625,79.19428710937498],[20.861132812500017,79.39785156249997],[18.725000000000023,79.7607421875],[18.343847656250006,80.05957031250006],[20.897851562500023,80.24995117187501]]]]},properties:{name:"Norway",childNum:4}},{geometry:{type:"Polygon",coordinates:[[[88.10976562500002,27.87060546875],[88.14697265625,27.749218749999997],[88.02412109375001,27.408886718749997],[87.984375,27.133935546874994],[87.9931640625,27.086083984374994],[88.11103515625001,26.928466796875],[88.1572265625,26.807324218749997],[88.16152343750002,26.724804687499997],[88.11152343750001,26.58642578125],[88.05488281250001,26.430029296875],[88.02695312500003,26.39501953125],[87.9951171875,26.382373046874996],[87.84921875000003,26.436914062499994],[87.63339843750003,26.399121093749997],[87.28740234374999,26.360302734374997],[87.01640624999999,26.555419921875],[86.70136718750001,26.43505859375],[86.36611328125002,26.574414062499997],[85.29296875,26.741015624999996],[84.68535156249999,27.041015625],[84.65478515625,27.203662109374996],[84.64072265625003,27.249853515625],[84.61015624999999,27.298681640625],[84.48085937500002,27.348193359374996],[84.22978515624999,27.42783203125],[84.09101562500001,27.491357421874994],[83.28974609375001,27.370996093749994],[82.7333984375,27.518994140624997],[82.71083984375002,27.5966796875],[82.67734375000003,27.6734375],[82.6298828125,27.687060546874996],[82.45136718750001,27.671826171874997],[82.28769531250003,27.756542968749997],[82.11191406250003,27.864941406249997],[82.03701171875002,27.900585937499997],[81.98769531250002,27.913769531249997],[81.94521484375002,27.899267578125],[81.89687500000002,27.874462890624997],[81.85263671875003,27.867089843749994],[80.58701171875003,28.649609374999997],[80.07070312500002,28.83017578125],[80.05166015625002,28.870312499999997],[80.08457031250003,28.994189453124996],[80.13046875000003,29.100390624999996],[80.16953125000003,29.124316406249996],[80.23300781250003,29.194628906249996],[80.25595703125003,29.318017578124994],[80.2548828125,29.42333984375],[80.31689453125,29.572070312499996],[80.40185546875,29.730273437499996],[80.90761718750002,30.171923828124996],[81.1103515625,30.036816406249997],[81.17714843750002,30.039892578125],[81.25507812500001,30.093310546874996],[81.41718750000001,30.337597656249997],[81.64189453124999,30.387499999999996],[81.85488281250002,30.36240234375],[82.04335937500002,30.3267578125],[82.15898437499999,30.115185546874997],[82.48652343750001,29.94150390625],[82.64082031250001,29.831201171874994],[82.85429687499999,29.683398437499996],[83.01396484374999,29.618066406249994],[83.15546875000001,29.612646484375],[83.58349609375,29.18359375],[83.93593750000002,29.279492187499997],[84.02197265625,29.253857421874997],[84.10136718749999,29.219970703125],[84.12783203125002,29.156298828124996],[84.17558593749999,29.036376953125],[84.22871093750001,28.911767578124994],[84.71425781250002,28.595556640625],[84.85507812500003,28.553613281249994],[85.06914062499999,28.609667968749996],[85.12636718750002,28.60263671875],[85.15908203125002,28.592236328124997],[85.16015625,28.571875],[85.12148437500002,28.484277343749994],[85.08857421875001,28.372265624999997],[85.12246093750002,28.315966796874996],[85.21210937500001,28.292626953124994],[85.41064453125,28.276025390624994],[85.67832031250003,28.27744140625],[85.75947265625001,28.220654296874997],[85.84023437500002,28.1353515625],[85.9541015625,27.92822265625],[86.40869140625,27.928662109374997],[86.55449218749999,28.085205078125],[86.69052734375003,28.094921874999997],[87.02011718750003,27.928662109374997],[87.14140624999999,27.838330078124997],[87.29072265625001,27.821923828124994],[87.68271484375003,27.82138671875],[88.10976562500002,27.87060546875]]]},properties:{name:"Nepal",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[173.11533203125006,-41.27929687499997],[173.73789062500006,-40.98896484374998],[174.30253906249996,-41.019531249999986],[174.09238281250018,-41.50517578124999],[174.2831054687501,-41.740624999999994],[173.54511718750004,-42.517968749999994],[173.22119140624997,-42.976562499999986],[172.71855468750002,-43.258789062500014],[172.9206054687501,-43.89140625000002],[172.38525390624997,-43.82958984374996],[171.44257812500004,-44.13583984374999],[171.11328125000003,-45.03925781250001],[170.7005859375,-45.68427734374997],[169.68662109375006,-46.55166015625002],[168.38212890625007,-46.60537109374995],[168.1891601562501,-46.362207031249966],[167.68222656250012,-46.19296875000005],[166.73154296875006,-46.19785156249998],[166.73398437500012,-45.54355468749999],[167.19453125000004,-44.963476562500034],[167.78701171875,-44.59501953125002],[168.3666015625,-44.08203124999996],[168.80644531250002,-43.9919921875],[169.66152343750005,-43.591210937499966],[170.30283203125012,-43.10761718750004],[170.7416015625,-42.92734374999999],[171.2570312500001,-42.465332031250014],[171.48623046875,-41.7947265625],[172.01074218749997,-41.44472656250001],[172.13945312500002,-40.947265625000014],[172.64062499999997,-40.51826171875001],[172.988671875,-40.84824218749999],[173.11533203125006,-41.27929687499997]]],[[[173.26943359375,-34.93476562499998],[173.84394531250015,-35.02626953124998],[174.32031250000003,-35.246679687500034],[174.54345703125003,-35.58203124999996],[174.39101562500005,-35.77373046875002],[174.8021484375,-36.30947265625001],[174.72246093750007,-36.84121093749998],[175.29951171875004,-36.99326171874996],[175.46083984375005,-36.475683593750034],[175.8761718750001,-36.95771484375],[176.10839843749997,-37.64511718749998],[177.33593749999997,-37.99082031249998],[178.0091796875,-37.55488281249998],[178.53623046875006,-37.69208984375004],[178.26767578125006,-38.55117187500001],[177.976171875,-38.72226562500005],[177.96562500000002,-39.14248046875004],[177.40751953124996,-39.08115234374998],[176.95410156249997,-39.367578124999966],[177.10986328125009,-39.673144531250045],[176.8421875000001,-40.15781250000002],[175.98291015625003,-41.21328125000002],[175.30976562499998,-41.610644531249974],[174.63535156250012,-41.289453124999994],[175.16250000000005,-40.62158203125],[175.25410156250004,-40.28935546875],[175.00927734375009,-39.95214843749996],[173.93437500000013,-39.50908203125002],[173.84433593750006,-39.13935546875001],[174.59736328124998,-38.78505859374995],[174.92802734375002,-37.80449218750003],[174.72919921875004,-37.44873046875003],[174.78203125000013,-36.943749999999994],[174.47558593750009,-36.94189453124997],[174.44687500000006,-36.45087890625004],[173.94511718750002,-36.17587890624998],[173.11669921874997,-35.205273437500026],[173.26943359375,-34.93476562499998]]]]},properties:{name:"New Zealand",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[56.38798828125002,24.97919921875004],[56.64062499999997,24.470312500000006],[57.219824218750006,23.922753906250023],[58.57802734375005,23.64345703125005],[59.80000000000004,22.21992187500001],[59.37148437500005,21.498828125000017],[58.89570312500004,21.11279296874997],[58.47421875000006,20.406884765624966],[57.86181640624997,20.24414062500003],[57.71513671875002,19.60693359374997],[57.81162109375006,19.01708984374997],[57.176562500000074,18.902587890625],[56.655078125000074,18.58735351562501],[56.55078124999997,18.165966796874955],[56.27031250000002,17.950781249999977],[55.479101562500006,17.84326171875003],[55.06416015625004,17.038916015625034],[54.06816406250002,17.005517578124966],[53.60986328124997,16.75996093750004],[53.08564453125004,16.648388671874955],[52.72919921875004,17.300390625000006],[51.977636718750006,18.996142578125074],[53.66689453125005,19.559130859375017],[54.97734375000002,19.995947265625006],[55.641015624999994,22.001855468749994],[55.185839843750074,22.7041015625],[55.1999023437501,23.034765625000034],[55.76083984375006,24.24267578125],[55.795703125000074,24.868115234374955],[56.06386718750005,24.73876953125],[56.38798828125002,24.97919921875004]]]},properties:{name:"Oman",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[76.76689453124999,35.66171875],[77.04863281249999,35.109912109374996],[77.00087890625002,34.991992187499996],[76.78291015625001,34.900195312499996],[76.7490234375,34.847558593749994],[76.6962890625,34.786914062499996],[76.59443359375001,34.73583984375],[75.70917968750001,34.503076171874994],[74.300390625,34.765380859375],[74.17197265625,34.7208984375],[74.05585937500001,34.6806640625],[73.96123046875002,34.653466796874994],[74.15,33.506982421874994],[73.99423828125,33.2421875],[74.30361328125002,32.991796875],[74.35458984375,32.768701171874994],[74.6578125,32.518945312499994],[74.68574218750001,32.493798828124994],[74.78886718750002,32.457812499999996],[74.9873046875,32.462207031249996],[75.33349609375,32.279199218749994],[75.25410156250001,32.14033203125],[75.13876953125,32.104785156249996],[75.07148437500001,32.08935546875],[74.73945312500001,31.948828125],[74.50996093750001,31.712939453124996],[74.58183593750002,31.52392578125],[74.59394531250001,31.465380859374996],[74.53496093750002,31.261376953124994],[74.51767578125,31.185595703124996],[74.6103515625,31.112841796874996],[74.62578125000002,31.068749999999994],[74.6328125,31.03466796875],[74.509765625,30.959667968749997],[74.38037109375,30.893408203125],[74.33935546875,30.8935546875],[74.21562500000002,30.768994140624997],[74.00898437500001,30.519677734374994],[73.89931640625002,30.435351562499996],[73.8091796875,30.093359375],[73.65800781250002,30.033203125],[73.46748046875001,29.9716796875],[73.38164062500002,29.934374999999996],[72.9033203125,29.028759765624997],[72.34189453125,28.751904296874997],[72.17919921875,28.421777343749994],[71.94804687500002,28.177294921874996],[71.88886718750001,28.0474609375],[71.87031250000001,27.9625],[71.71669921875002,27.915087890624996],[71.54296875,27.869873046875],[71.18476562500001,27.831640625],[70.87490234375002,27.714453125],[70.79794921875,27.709619140624994],[70.73740234375,27.72900390625],[70.69160156250001,27.768994140624997],[70.64912109375001,27.835351562499994],[70.62910156250001,27.937451171874997],[70.40371093750002,28.025048828124994],[70.24433593750001,27.934130859374996],[70.1939453125,27.894873046875],[70.14453125,27.849023437499994],[70.0498046875,27.694726562499994],[69.89628906250002,27.4736328125],[69.56796875,27.174609374999996],[69.47001953125002,26.804443359375],[70.05937500000002,26.578759765624994],[70.14921875000002,26.347558593749994],[70.1001953125,25.910058593749994],[70.65205078125001,25.422900390625003],[70.87773437500002,25.06298828125],[70.95087890625001,24.8916015625],[71.02070312500001,24.75766601562499],[71.0478515625,24.687744140625],[71.00234375000002,24.65390624999999],[70.97636718750002,24.61874999999999],[70.9732421875,24.48740234374999],[71.00625000000002,24.4443359375],[71.04531250000002,24.429980468750003],[71.04404296875,24.400097656249997],[70.98281250000002,24.361035156249997],[70.92812500000002,24.362353515625003],[70.88623046875,24.34375],[70.80507812500002,24.261962890625],[70.76728515625001,24.245410156250003],[70.71630859375,24.237988281249997],[70.54677734375002,24.41831054687499],[69.71621093750002,24.172607421875],[69.63417968750002,24.22519531249999],[69.5591796875,24.273095703124994],[69.44345703125,24.275390625],[69.23505859375001,24.268261718749997],[69.11953125000002,24.26865234374999],[69.05156250000002,24.286328124999997],[68.98457031250001,24.273095703124994],[68.90078125000002,24.292431640624997],[68.86347656250001,24.266503906249994],[68.82832031250001,24.26401367187499],[68.80000000000001,24.30908203125],[68.78115234375002,24.313720703125],[68.75898437500001,24.30722656249999],[68.73964843750002,24.2919921875],[68.728125,24.265625],[68.72412109375,23.96469726562499],[68.48867187500002,23.967236328124997],[68.38125000000002,23.950878906249997],[68.28251953125002,23.927978515625],[68.1650390625,23.857324218749994],[67.66845703125,23.810986328124997],[67.30937500000002,24.1748046875],[67.171484375,24.756103515625],[66.70302734375002,24.86093749999999],[66.69863281250002,25.226318359375],[66.42861328125002,25.575341796874994],[65.6796875,25.355273437500003],[64.77666015625002,25.307324218749997],[64.65898437500002,25.18408203125],[63.72089843750001,25.385888671874994],[63.49140625000001,25.210839843749994],[62.57246093750001,25.25473632812499],[62.31533203125002,25.134912109374994],[61.74365234375,25.13818359375],[61.56689453125,25.186328125000003],[61.587890625,25.202343749999997],[61.61542968750001,25.2861328125],[61.64013671875,25.584619140624994],[61.66865234375001,25.768994140624997],[61.86982421875001,26.242431640625],[62.31230468750002,26.490869140624994],[63.168066406250006,26.665576171874996],[63.16679687500002,27.252490234374996],[62.75273437500002,27.265625],[62.782324218750006,27.800537109375],[62.76250000000002,28.202050781249994],[61.88984375000001,28.546533203124994],[61.623046875,28.7916015625],[61.15214843750002,29.542724609375],[61.0341796875,29.663427734375],[60.843359375000006,29.858691406249996],[61.22441406250002,29.749414062499994],[62.37343750000002,29.425390625],[62.4765625,29.408349609374994],[63.56757812500001,29.497998046874997],[64.09873046875,29.391943359375],[64.52109375,29.564501953124996],[65.09550781250002,29.559472656249994],[66.17705078125002,29.835595703124994],[66.39716796875001,30.91220703125],[66.92431640625,31.305615234374997],[67.28730468750001,31.217822265624996],[67.57822265625,31.506494140624994],[68.21396484375,31.807373046875],[68.86894531250002,31.634228515624997],[69.279296875,31.936816406249996],[69.24140625000001,32.433544921875],[69.5015625,33.020068359374996],[69.92011718750001,33.1125],[70.2841796875,33.369042968749994],[69.86806640625002,33.89765625],[71.05156250000002,34.049707031249994],[70.96562500000002,34.53037109375],[71.62050781250002,35.183007812499994],[71.42753906250002,35.833740234375],[71.18505859375,36.04208984375],[71.62050781250002,36.436474609375],[72.62285156250002,36.82958984375],[73.769140625,36.888476562499996],[74.00185546875002,36.823095703125],[74.54140625000002,37.02216796875],[74.8892578125,36.952441406249996],[74.94912109375002,36.968359375],[75.05390625000001,36.987158203125],[75.3466796875,36.913476562499994],[75.84023437500002,36.649707031249996],[75.94511718750002,36.017578125],[76.01044921875001,35.996337890625],[76.07089843750003,35.9830078125],[76.25166015625001,35.810937499999994],[76.76689453124999,35.66171875]]]},properties:{name:"Pakistan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-77.37421874999993,8.65830078125002],[-77.2123046875,8.033886718749997],[-77.35078124999995,7.7058593750000455],[-77.74389648437503,7.536962890625006],[-77.90117187499999,7.229345703125048],[-78.17011718749998,7.543798828124977],[-78.42158203124995,8.060986328125011],[-78.11386718749998,8.379589843749983],[-79.08637695312495,8.997167968750034],[-79.44150390625,9.00600585937498],[-79.75043945312498,8.595507812500017],[-80.36870117187499,8.288769531250054],[-80.45810546875,8.077050781249994],[-80.07519531249997,7.6670410156250455],[-80.4388671875,7.274951171875003],[-80.84555664062498,7.22006835937502],[-81.03510742187495,7.711132812500054],[-81.50415039062503,7.721191406249972],[-81.72763671875,8.137548828124977],[-83.02734375,8.337744140624991],[-82.86162109374999,8.453515625000037],[-82.91704101562502,8.740332031250034],[-82.739990234375,8.898583984375023],[-82.72783203125002,8.916064453125031],[-82.74116210937498,8.951708984375017],[-82.93984374999994,9.449169921875026],[-82.801025390625,9.591796875000028],[-82.37080078124993,9.428564453124991],[-82.24418945312499,9.031494140625014],[-81.35478515624996,8.78056640624996],[-80.83867187499999,8.887207031250014],[-80.12709960937497,9.20991210937504],[-79.57729492187497,9.597851562500026],[-78.50434570312495,9.406298828124989],[-78.08276367187494,9.236279296874997],[-77.37421874999993,8.65830078125002]]]},properties:{name:"Panama",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-73.137353515625,-6.4658203125],[-73.75810546874999,-6.90576171875],[-73.79301757812499,-7.135058593750003],[-73.749462890625,-7.3353515625000085],[-73.964306640625,-7.37890625],[-73.95849609375,-7.506640625000003],[-73.98173828124999,-7.535742187500006],[-74.00205078124999,-7.5560546875000085],[-73.98173828124999,-7.585058593750006],[-73.94687499999999,-7.6112304687500085],[-73.89462890624999,-7.65478515625],[-73.82207031249999,-7.738964843750011],[-73.76689453124999,-7.753515625000006],[-73.72041015625,-7.782519531250003],[-73.7755859375,-7.9364257812500085],[-73.54912109374999,-8.345800781250006],[-73.43588867187499,-8.427050781250003],[-73.39814453125,-8.458984375],[-73.36040039062499,-8.479296875000003],[-73.351708984375,-8.51416015625],[-73.35673828124999,-8.566992187500006],[-73.30244140625,-8.654003906250011],[-73.203125,-8.719335937500006],[-73.0705078125,-8.8828125],[-72.9740234375,-8.9931640625],[-72.970361328125,-9.1201171875],[-73.08984375,-9.265722656250006],[-73.209423828125,-9.411425781250003],[-72.379052734375,-9.510156250000009],[-72.181591796875,-10.003710937500003],[-71.60800781249999,-10.006054687500011],[-71.237939453125,-9.966015625000011],[-71.11528320312499,-9.852441406250009],[-70.59916992187499,-9.620507812500009],[-70.642333984375,-11.01025390625],[-70.22006835937499,-11.047656250000003],[-69.57861328125,-10.951757812500006],[-68.68525390625,-12.501953125],[-68.97861328124999,-12.880078125000011],[-69.07412109375,-13.682812500000011],[-68.880322265625,-14.198828125000006],[-69.23491210937499,-14.597070312500009],[-69.37470703125,-14.962988281250006],[-69.17246093749999,-15.236621093750003],[-69.41850585937499,-15.603417968750009],[-69.21757812499999,-16.14912109375001],[-68.9134765625,-16.26191406250001],[-69.020703125,-16.642187500000006],[-69.62485351562499,-17.2001953125],[-69.5109375,-17.50605468750001],[-69.85209960937499,-17.70380859375001],[-69.92636718749999,-18.2060546875],[-70.05908203125,-18.283496093750003],[-70.1837890625,-18.3251953125],[-70.37749023437499,-18.333593750000006],[-70.41826171874999,-18.34560546875001],[-71.33696289062499,-17.68251953125001],[-71.5322265625,-17.29433593750001],[-72.111279296875,-17.002539062500006],[-72.46767578125,-16.708105468750006],[-73.824951171875,-16.15283203125],[-74.14707031249999,-15.912500000000009],[-75.104248046875,-15.411914062500003],[-75.533642578125,-14.899218750000003],[-75.93388671874999,-14.633593750000003],[-76.289013671875,-14.133105468750003],[-76.18393554687499,-13.515234375000006],[-76.83212890624999,-12.348730468750006],[-77.152734375,-12.060351562500003],[-77.22031249999999,-11.663378906250003],[-77.633203125,-11.287792968750011],[-77.736083984375,-10.836718750000003],[-78.18559570312499,-10.089062500000011],[-78.76225585937499,-8.616992187500003],[-79.37724609374999,-7.835546875000006],[-79.761962890625,-7.066503906250006],[-80.11025390625,-6.649609375000011],[-80.81162109374999,-6.2822265625],[-81.18051757812499,-5.9423828125],[-80.88271484375,-5.758984375000011],[-81.10849609374999,-5.02783203125],[-81.33662109375,-4.669531250000006],[-81.283203125,-4.322265625],[-80.798583984375,-3.7310546875000057],[-80.503662109375,-3.49609375],[-80.324658203125,-3.3878906250000114],[-80.27353515624999,-3.424609375000003],[-80.26523437499999,-3.492480468750003],[-80.24541015624999,-3.5221679687500114],[-80.24374999999999,-3.5767578125000057],[-80.22060546875,-3.6131835937500085],[-80.21757812499999,-3.7876953125000057],[-80.17924804687499,-3.877734375000003],[-80.26689453124999,-3.9488281250000057],[-80.30327148437499,-4.005078125000011],[-80.43720703125,-3.9786132812500057],[-80.49013671875,-4.010058593750003],[-80.510009765625,-4.069531250000011],[-80.49345703124999,-4.119140625],[-80.4884765625,-4.16552734375],[-80.453759765625,-4.205175781250006],[-80.4884765625,-4.393652343750006],[-80.293359375,-4.416796875000003],[-80.1974609375,-4.31103515625],[-80.13955078125,-4.296093750000011],[-79.63852539062499,-4.454882812500003],[-79.57768554687499,-4.500585937500006],[-79.51616210937499,-4.539160156250006],[-79.501904296875,-4.670605468750011],[-79.45576171875,-4.766210937500006],[-79.3994140625,-4.840039062500011],[-79.33095703125,-4.927832031250006],[-79.26811523437499,-4.957617187500006],[-79.186669921875,-4.958203125000011],[-79.07626953124999,-4.9906250000000085],[-79.03330078124999,-4.9691406250000085],[-78.995263671875,-4.908007812500003],[-78.97539062499999,-4.873242187500011],[-78.8615234375,-4.6650390625],[-78.68603515625,-4.5624023437500085],[-78.64799804687499,-4.248144531250006],[-78.240380859375,-3.4725585937500085],[-77.860595703125,-2.9816406250000114],[-76.6791015625,-2.5625976562500057],[-76.089794921875,-2.133105468750003],[-75.64165039062499,-1.6073242187500085],[-75.570556640625,-1.53125],[-75.42041015625,-.9622070312500028],[-75.24960937499999,-.9518554687500114],[-75.28359375,-.7071289062500057],[-75.2787109375,-.6539062500000057],[-75.25937499999999,-.5901367187500028],[-75.26323242187499,-.5553710937500114],[-75.32524414062499,-.5065429687500114],[-75.42470703125,-.40888671875001137],[-75.49106445312499,-.24833984375000284],[-75.63203125,-.15761718750000853],[-75.4759765625,-.15712890625000853],[-75.340478515625,-.14218750000000568],[-75.28447265624999,-.10654296875000568],[-75.224609375,-.041748046875],[-75.18408203125,-.041748046875],[-75.13837890625,-.05048828125001137],[-74.8017578125,-.20009765625000853],[-74.41787109375,-.5806640625000057],[-74.334423828125,-.8508789062500028],[-74.28388671875,-.9278320312500057],[-74.24638671874999,-.9706054687500085],[-74.05439453125,-1.0286132812500028],[-73.98681640625,-1.09814453125],[-73.926953125,-1.1251953125000114],[-73.86318359375,-1.1966796875000085],[-73.664306640625,-1.2488281250000028],[-73.4962890625,-1.6930664062500114],[-73.19697265625,-1.8302734375000114],[-73.1544921875,-2.2782226562500085],[-72.887158203125,-2.408496093750003],[-72.39560546874999,-2.4289062500000114],[-72.300732421875,-2.4092773437500057],[-72.21845703125,-2.4004882812500057],[-72.13681640624999,-2.380664062500003],[-71.98427734375,-2.3265625000000085],[-71.93247070312499,-2.2886718750000057],[-71.86728515624999,-2.2277343750000114],[-71.802734375,-2.166308593750003],[-71.75253906249999,-2.1527343750000085],[-71.55947265625,-2.2242187500000057],[-71.39697265625,-2.3340820312500057],[-70.91455078125,-2.218554687500003],[-70.095849609375,-2.658203125],[-70.07402343749999,-2.7501953125000114],[-70.735107421875,-3.781542968750003],[-70.5296875,-3.8664062500000114],[-70.48583984375,-3.8693359375000114],[-70.42109375,-3.849609375],[-70.37919921874999,-3.8187500000000085],[-70.339501953125,-3.8143554687500085],[-70.29843749999999,-3.84423828125],[-70.24028320312499,-3.8827148437500085],[-70.16752929687499,-4.0501953125000085],[-70.40463867187499,-4.150097656250011],[-70.5306640625,-4.167578125000006],[-70.72158203125,-4.158886718750011],[-70.79951171875,-4.17333984375],[-70.97368164062499,-4.3504882812500085],[-71.8447265625,-4.50439453125],[-72.256787109375,-4.7489257812500085],[-72.35283203124999,-4.7860351562500085],[-72.468994140625,-4.9012695312500085],[-72.608349609375,-5.009570312500003],[-72.69873046875,-5.067187500000003],[-72.83193359375,-5.09375],[-72.88706054687499,-5.122753906250011],[-72.9798828125,-5.634863281250006],[-73.16289062499999,-5.933398437500003],[-73.209375,-6.0287109375000085],[-73.235546875,-6.098437500000003],[-73.137353515625,-6.4658203125]]]},properties:{name:"Peru",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[126.00595703125006,9.320947265625009],[126.19335937499997,9.276708984374963],[126.31953125000004,8.844726562499986],[126.43535156250002,7.832812499999974],[126.58154296875003,7.247753906249969],[126.08007812500003,6.733349609374983],[125.82441406250004,7.333300781249989],[125.40097656250012,6.7957519531249915],[125.58847656250012,6.465771484374997],[125.66796874999997,5.97866210937498],[125.45585937500002,5.664257812500054],[124.63632812500012,5.998193359375051],[124.07812500000003,6.404443359375037],[123.98525390625,6.993701171875003],[124.20664062500006,7.396435546874983],[123.96845703125004,7.6646484374999915],[123.49306640625,7.80791015624996],[123.39091796875007,7.407519531250017],[122.49794921875005,7.672753906250051],[122.17617187500005,7.004199218750003],[122.04716796875002,7.363574218750031],[122.13183593749997,7.81049804687504],[122.33710937500004,8.028417968750034],[122.91113281250003,8.156445312499997],[123.01757812500003,8.398339843749994],[123.43457031249997,8.70332031250004],[124.22578125000004,8.271386718749966],[124.45126953125006,8.606347656249994],[124.7311523437501,8.562988281250043],[124.86894531250002,8.972265625000034],[125.5333984375001,9.140917968750017],[125.52089843750005,9.75913085937502],[126.00595703125006,9.320947265625009]]],[[[124.59384765625006,9.787207031249963],[124.35986328125003,9.630224609375048],[123.93564453125012,9.623974609375011],[123.81718750000002,9.817382812499986],[124.17285156250003,10.135205078124983],[124.57714843749997,10.026708984374991],[124.59384765625006,9.787207031249963]]],[[[123.13085937500003,9.064111328124994],[122.56249999999997,9.482812500000037],[122.47148437500007,9.961523437500034],[122.85556640625006,10.0869140625],[122.81699218750012,10.503808593750023],[122.98330078125,10.886621093750037],[123.25664062500007,10.99394531249996],[123.5675781250001,10.780761718750057],[123.16201171875,9.864257812500028],[123.30839843750002,9.356982421874974],[123.13085937500003,9.064111328124994]]],[[[123.37031250000004,9.449609375000023],[123.38623046874997,9.967089843750017],[123.71142578124997,10.473681640625017],[123.95214843750003,10.316601562499997],[123.64335937500007,10.020214843750011],[123.37031250000004,9.449609375000023]]],[[[117.31113281250012,8.439599609375051],[117.34990234375002,8.713574218749997],[117.88476562499997,9.240673828124997],[118.11484375000006,9.346679687500014],[119.52666015625002,10.953173828125003],[119.68437500000007,10.551708984375011],[119.19150390625012,10.061083984374989],[118.78212890625005,9.91611328125002],[118.4349609375,9.256005859375009],[117.98955078125002,8.877099609375009],[117.31113281250012,8.439599609375051]]],[[[124.574609375,11.343066406250031],[124.92998046875002,11.372851562499974],[125.01318359374997,10.785693359374989],[125.25332031250005,10.26381835937498],[125.02656250000004,10.033105468749966],[124.78076171874997,10.16806640625002],[124.78671875000012,10.781396484375009],[124.44550781250004,10.923583984375014],[124.574609375,11.343066406250031]]],[[[122.49619140625006,11.615087890625034],[123.15830078125012,11.535546874999994],[123.01650390625,11.116503906249974],[122.76992187500005,10.823828125000034],[122.19765625,10.622900390625048],[121.96435546874997,10.871679687500006],[122.10351562499997,11.64291992187502],[122.49619140625006,11.615087890625034]]],[[[125.23955078125002,12.527880859375003],[125.53564453125003,12.191406250000028],[125.45654296874997,11.952539062500037],[125.62812500000004,11.132031250000026],[125.23339843749997,11.145068359375017],[124.88427734375003,11.77548828125002],[124.38486328125006,12.243994140624991],[124.29472656250007,12.569335937500014],[125.23955078125002,12.527880859375003]]],[[[120.70439453125002,13.479492187499986],[121.20273437500006,13.432324218749969],[121.52275390625007,13.131201171874991],[121.54062500000006,12.63818359375],[121.23671875000005,12.218798828125003],[120.92216796875002,12.51162109374998],[120.76367187499997,12.969824218749977],[120.50830078124997,13.260058593750045],[120.70439453125002,13.479492187499986]]],[[[121.10156249999997,18.615283203125017],[121.84560546875,18.29541015625003],[122.29980468749997,18.402783203124983],[122.15097656250006,17.756494140625023],[122.23681640624997,17.434863281250045],[122.51914062500012,17.124853515625034],[122.13515625000005,16.18481445312503],[121.59531250000012,15.933251953125023],[121.39228515625004,15.324414062499969],[121.69541015625006,14.7373046875],[121.80048828125004,14.113867187499991],[122.49082031250012,14.32236328125002],[122.85605468750006,14.250781250000003],[123.23144531249997,13.747363281250017],[123.43232421875004,13.966259765625026],[123.72597656250005,13.884326171875031],[123.6081054687501,13.528076171875028],[124.14277343750004,13.035791015625009],[124.0597656250001,12.567089843749997],[123.31093750000005,13.044091796875009],[123.16328125000004,13.44174804687502],[122.59521484374997,13.90761718749998],[122.40693359375004,13.49277343750002],[121.77792968750006,13.93764648437498],[121.20351562500005,13.640283203124966],[120.61679687500006,14.188037109375003],[120.9220703125001,14.493115234374983],[120.8880859375,14.715771484375054],[120.08212890625012,14.851074218749986],[119.83076171875004,16.326562500000023],[120.15976562500012,16.047656250000045],[120.38925781250006,16.221630859374955],[120.30527343750006,16.52924804687501],[120.40888671875004,16.955615234375017],[120.35839843749997,17.63818359375],[120.59970703125012,18.507861328125074],[121.10156249999997,18.615283203125017]]]]},properties:{name:"Philippines",childNum:10}},{geometry:{type:"MultiPolygon",coordinates:[[[[155.95761718750006,-6.686816406249989],[155.71933593750012,-6.862792968749957],[155.34404296875007,-6.721679687499986],[155.20214843750003,-6.3076171875],[154.78193359375004,-5.970703125000028],[154.74111328125005,-5.545312499999952],[154.99707031249997,-5.539941406250023],[155.46699218750004,-6.145117187500034],[155.82255859375002,-6.38046875000002],[155.95761718750006,-6.686816406249989]]],[[[151.91562500000006,-4.296777343749966],[152.40566406250005,-4.340722656249952],[152.40000000000006,-4.731250000000017],[152.01328125000006,-5.003808593750037],[152.14296875,-5.357031249999963],[151.86542968750004,-5.564843750000023],[151.51513671874997,-5.552343749999963],[151.22929687500002,-5.919921874999986],[150.42832031250012,-6.276171874999989],[149.65253906250004,-6.290429687499966],[149.38232421874997,-6.078124999999972],[149.12656250000012,-6.127636718750026],[148.40117187500002,-5.765039062499952],[148.34472656249997,-5.544921874999972],[148.9992187500001,-5.484570312500011],[149.24531250000004,-5.573046875000017],[150.29873046875,-5.535644531250028],[150.95292968750002,-5.423730468749966],[151.32656250000005,-4.96035156249998],[151.67119140625007,-4.88330078125],[151.55195312500004,-4.345507812499946],[151.91562500000006,-4.296777343749966]]],[[[140.97617187500012,-9.118750000000006],[140.97519531250006,-6.90537109375002],[140.97441406250002,-4.836328125000023],[140.97353515625,-2.8034179687500256],[140.97343750000007,-2.6097656250000085],[141.18564453125006,-2.6278320312499517],[142.21152343750006,-3.0834960937499716],[142.90517578125,-3.32070312499998],[143.50898437500004,-3.431152343750014],[144.01582031250004,-3.783593749999966],[144.4777343750001,-3.82529296875002],[145.08779296875,-4.349121093749972],[145.33457031250012,-4.385253906249972],[145.7669921875,-4.823046874999989],[145.85283203125002,-5.471289062499977],[146.40341796875006,-5.6166015625000085],[147.03427734375006,-5.919238281250017],[147.37666015625004,-5.950781249999963],[147.80205078125002,-6.31523437499996],[147.84550781250007,-6.662402343749989],[147.11914062499997,-6.721679687499986],[146.96074218750002,-6.9288085937499915],[147.19003906250012,-7.3781249999999545],[147.72431640625004,-7.876269531250017],[148.12675781250007,-8.103613281249963],[148.24687500000002,-8.554296875000034],[148.58310546875006,-9.051757812499957],[149.24765625000006,-9.070996093749969],[149.20302734375005,-9.406835937499991],[149.76123046874997,-9.805859375000011],[149.87441406250005,-10.012988281250031],[150.66699218749997,-10.257128906250031],[150.48242187500003,-10.63691406250004],[150.0167968750001,-10.577148437500028],[149.75410156250004,-10.353027343750028],[147.76865234375012,-10.070117187500031],[146.69658203125002,-9.025390625],[146.03320312499997,-8.076367187500011],[144.97382812500004,-7.8021484375000085],[144.50986328125006,-7.567382812499972],[143.61376953125003,-8.200390624999969],[143.0949218750001,-8.311230468749983],[143.36621093750003,-8.961035156250034],[142.6471679687501,-9.327832031249969],[142.22958984375012,-9.169921874999957],[141.13320312500005,-9.221289062500034],[140.97617187500012,-9.118750000000006]]],[[[152.96582031249997,-4.756347656249986],[152.68066406250003,-4.498437500000023],[152.59843750000007,-3.9948242187500114],[153.1242187500001,-4.25234374999998],[152.96582031249997,-4.756347656249986]]]]},properties:{name:"Papua New Guinea",childNum:4}},{geometry:{type:"Polygon",coordinates:[[[23.484667968750017,53.939794921875],[23.887109375000023,53.0275390625],[23.8447265625,52.664208984375],[23.19697265625001,52.25693359375],[23.652441406250006,52.040380859375],[23.605273437500017,51.517919921875],[23.664453125000023,51.31005859375],[24.105761718750017,50.844970703125],[23.711718750000017,50.377343749999994],[22.6494140625,49.539013671875],[22.538671875000006,49.072705078125],[21.6396484375,49.411962890625],[20.616113281250023,49.39169921875],[19.80224609375,49.192333984375],[19.44160156250001,49.597705078124996],[18.83222656250001,49.510791015624996],[18.562402343750023,49.879345703125],[17.874804687500017,49.972265625],[17.151953125000006,50.378320312499994],[16.679101562500023,50.097460937499996],[16.007226562500023,50.611621093749996],[14.809375000000017,50.858984375],[14.9638671875,51.095117187499994],[14.601660156250006,51.832373046875],[14.752539062500006,52.081835937499996],[14.70458984375,52.110205078125],[14.6923828125,52.150048828125],[14.705371093750017,52.207470703125],[14.679882812500011,52.25],[14.615625000000023,52.277636718749996],[14.573925781250011,52.31416015625],[14.554589843750023,52.359667968749996],[14.569726562500023,52.431103515625],[14.619433593750017,52.528515625],[14.514062500000023,52.64560546875],[14.253710937500017,52.782519531249996],[14.128613281250011,52.878222656249996],[14.138867187500011,52.932861328125],[14.193652343750017,52.98232421875],[14.293164062500011,53.0267578125],[14.368554687500023,53.10556640625],[14.410937500000017,53.199023437499996],[14.412304687500011,53.216748046875],[14.41455078125,53.283496093749996],[14.715722656250023,54.018310546875],[16.186328125000017,54.290380859375],[16.55976562500001,54.55380859375],[17.26191406250001,54.729541015624996],[18.32343750000001,54.838183593749996],[18.66962890625001,54.430908203125],[18.97626953125001,54.348925781249996],[19.407128906250023,54.386083984375],[19.560156250000006,54.434619140624996],[19.604394531250023,54.4591796875],[19.64423828125001,54.447070312499996],[19.92431640625,54.433984375],[20.20820312500001,54.420751953125],[22.16845703125,54.35986328125],[23.015527343750023,54.34833984375],[23.45361328125,54.14345703125],[23.484667968750017,53.939794921875]]]},properties:{name:"Poland",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-66.12939453125003,18.444921875000034],[-65.62880859375,18.381396484375045],[-65.97080078124995,17.974365234375],[-67.19687499999998,17.994189453125045],[-67.15864257812501,18.499218749999983],[-66.12939453125003,18.444921875000034]]]},properties:{name:"United States of America",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[130.52695312500012,42.535400390625],[130.68730468750007,42.30253906249999],[130.45751953124997,42.30170898437501],[129.75634765624997,41.712255859375006],[129.70869140625004,40.857324218749994],[128.30449218750002,40.03593749999999],[127.56816406250002,39.78198242187503],[127.39453125000003,39.207910156249966],[127.78613281250003,39.084130859374966],[128.37460937500012,38.623437499999994],[128.03896484375,38.30854492187498],[127.16953125000006,38.304541015625034],[126.63388671875012,37.78183593750006],[125.94169921875007,37.87368164062502],[125.44931640625012,37.73022460937503],[125.19316406250007,38.03779296874998],[124.69091796874997,38.12919921875002],[125.06738281250003,38.556738281250006],[125.40966796875003,39.28837890625002],[125.36083984375003,39.52661132812497],[124.55742187500002,39.79057617187502],[124.36210937500002,40.004052734374994],[124.8893554687501,40.459814453125006],[125.98906250000002,40.904638671875034],[126.9035156250001,41.78105468749999],[127.17968750000003,41.531347656250006],[128.11123046875,41.389257812500006],[128.29091796875,41.56279296875002],[128.04521484375007,41.98750000000004],[128.92343750000006,42.038232421874966],[129.3136718750001,42.41357421874997],[129.71972656249997,42.47500000000005],[129.89824218750002,42.998144531250034],[130.24033203125006,42.891796874999955],[130.52695312500012,42.535400390625]]]},properties:{name:"North Korea",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-7.4061523437499375,37.17944335937497],[-7.834130859374994,37.005712890625034],[-8.597656249999943,37.12133789062506],[-8.814160156249983,37.43081054687502],[-8.914794921874972,38.512109374999966],[-9.474121093749972,38.73085937500002],[-9.374755859374972,39.338281249999966],[-9.148291015624949,39.542578125000034],[-8.886621093750023,40.179443359375],[-8.655566406249932,41.02949218749998],[-8.777148437500017,41.941064453124994],[-8.213085937499926,42.133691406249966],[-7.920849609374983,41.883642578125006],[-7.40361328124996,41.833691406249955],[-6.61826171874992,41.9423828125],[-6.212499999999949,41.53203124999996],[-6.928466796874972,41.009130859375006],[-6.81015624999992,40.343115234375034],[-7.036718750000006,39.713964843750034],[-7.44511718749996,39.53618164062496],[-7.0460449218749375,38.907031250000045],[-7.343017578124943,38.45742187500002],[-7.185449218749994,38.00634765625006],[-7.503515624999977,37.58549804687502],[-7.4061523437499375,37.17944335937497]]]},properties:{name:"Portugal",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-58.15976562499999,-20.164648437500006],[-57.830224609374994,-20.99794921875001],[-57.94267578124999,-21.79833984375],[-57.98569335937499,-22.04638671875],[-57.95590820312499,-22.109179687500003],[-57.8203125,-22.14228515625001],[-57.764062499999994,-22.109179687500003],[-57.721093749999994,-22.099218750000006],[-57.238232421875,-22.19521484375001],[-56.77519531249999,-22.261328125000006],[-56.523828124999994,-22.1025390625],[-56.44780273437499,-22.076171875],[-56.39487304687499,-22.09267578125001],[-56.189843749999994,-22.28115234375001],[-55.84916992187499,-22.3076171875],[-55.75327148437499,-22.41015625],[-55.74663085937499,-22.5126953125],[-55.70366210937499,-22.592089843750003],[-55.647412109375,-22.621875000000003],[-55.61767578125,-22.671484375000006],[-55.627587890624994,-22.74091796875001],[-55.654052734375,-22.810351562500003],[-55.458886718749994,-23.68671875000001],[-55.4423828125,-23.792578125000006],[-55.4423828125,-23.865332031250006],[-55.415917968749994,-23.95136718750001],[-55.36630859374999,-23.991015625000003],[-55.28691406249999,-24.00429687500001],[-55.1943359375,-24.01748046875001],[-55.08188476562499,-23.997656250000006],[-54.982666015625,-23.97451171875001],[-54.62548828125,-23.8125],[-54.44023437499999,-23.90175781250001],[-54.37080078125,-23.97119140625],[-54.24179687499999,-24.04726562500001],[-54.281005859375,-24.30605468750001],[-54.47314453125,-25.22021484375],[-54.610546875,-25.432714843750006],[-54.615869140624994,-25.57607421875001],[-54.63193359374999,-26.00576171875001],[-54.677734375,-26.30878906250001],[-54.934472656249994,-26.70253906250001],[-55.426660156249994,-27.00927734375],[-55.59726562499999,-27.207617187500006],[-55.63291015624999,-27.35712890625001],[-55.789990234375,-27.41640625000001],[-56.1640625,-27.32148437500001],[-56.437158203124994,-27.553808593750006],[-57.11181640625,-27.47011718750001],[-58.16826171874999,-27.2734375],[-58.60483398437499,-27.31435546875001],[-58.641748046874994,-27.196093750000003],[-58.32255859374999,-26.85761718750001],[-58.33466796875,-26.82490234375001],[-58.31767578124999,-26.7958984375],[-58.191308593749994,-26.629980468750006],[-57.943115234375,-26.05292968750001],[-57.587158203125,-25.405078125000003],[-57.821679687499994,-25.13642578125001],[-58.365380859374994,-24.959277343750003],[-58.422802734375,-24.894140625000006],[-58.51962890624999,-24.842871093750006],[-59.372949218749994,-24.453906250000003],[-59.60859375,-24.26679687500001],[-59.892480468749994,-24.093554687500003],[-60.83984375,-23.85810546875001],[-61.084716796875,-23.65644531250001],[-61.79853515625,-23.18203125000001],[-62.372509765625,-22.43916015625001],[-62.54155273437499,-22.349609375],[-62.6259765625,-22.29042968750001],[-62.62568359375,-22.261523437500003],[-62.65097656249999,-22.233691406250003],[-62.27666015624999,-21.066015625000006],[-62.276318359375,-20.5625],[-61.916943359375,-20.05537109375001],[-61.7568359375,-19.645312500000003],[-60.00737304687499,-19.29755859375001],[-59.09052734375,-19.286230468750006],[-58.18017578125,-19.81787109375],[-58.15976562499999,-20.164648437500006]]]},properties:{name:"Paraguay",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[34.880468750000006,31.3681640625],[34.98974609374997,31.913281249999955],[34.955957031249994,32.16093749999996],[35.01054687500002,32.33818359375002],[35.06503906250006,32.46044921875006],[35.19326171875005,32.53442382812503],[35.303808593750006,32.512939453125],[35.38671875000003,32.493017578125034],[35.402636718750074,32.45063476562501],[35.48437500000003,32.40166015624999],[35.5514648437501,32.39550781250006],[35.55898437500005,31.765527343749966],[35.499414062499994,31.67236328125],[35.450585937499994,31.479296875000017],[34.880468750000006,31.3681640625]]]},properties:{name:"Israel",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[51.26796875000002,24.607226562500003],[51.093359375000006,24.564648437499997],[51.02275390625002,24.565234375000003],[50.96601562500001,24.573925781249997],[50.928320312500006,24.595117187499994],[50.85566406250001,24.679638671874997],[50.80439453125001,24.789257812499997],[50.8359375,24.850390625000003],[50.846777343750006,24.888574218749994],[50.76289062500001,25.444726562499994],[51.00312500000001,25.9814453125],[51.262304687500006,26.153271484374997],[51.543066406250006,25.902392578125003],[51.4853515625,25.524707031250003],[51.60195312500002,25.14794921875],[51.26796875000002,24.607226562500003]]]},properties:{name:"Qatar",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[28.212500000000006,45.450439453125],[28.317675781250017,45.347119140625],[28.451269531250006,45.2921875],[28.78828125000001,45.240966796875],[29.223535156250023,45.4029296875],[29.705859375000017,45.259912109374994],[29.557519531250023,44.843408203124994],[29.048242187500023,44.757568359375],[28.645410156250023,44.295654296875],[28.585351562500023,43.742236328124996],[27.0869140625,44.167382812499994],[26.2158203125,44.007275390625],[25.4970703125,43.670800781249994],[23.224609375,43.873876953125],[22.705078125,44.23779296875],[22.687890625000023,44.248291015625],[21.384375000000006,44.870068359375],[21.431445312500017,45.192529296874994],[20.774218750000017,45.484423828124996],[20.775000000000006,45.749804687499996],[20.35859375000001,45.975488281249994],[20.241796875000006,46.10859375],[20.28095703125001,46.1330078125],[20.508105468750017,46.166943359375],[20.613671875000023,46.13349609375],[21.151953125000006,46.304345703124994],[22.290625000000006,47.727832031249996],[22.87666015625001,47.947265625],[23.628710937500017,47.995849609375],[24.578906250000017,47.931054687499994],[24.893359375000017,47.7177734375],[26.162695312500006,47.992529296875],[26.236230468750023,48.064355468749994],[26.276953125000006,48.113232421875],[26.3056640625,48.203759765624994],[26.4423828125,48.22998046875],[26.618945312500017,48.25986328125],[26.980761718750017,48.155029296875],[27.3369140625,47.63974609375],[28.07177734375,46.978417968749994],[28.24433593750001,46.45126953125],[28.099707031250006,45.972607421875],[28.212500000000006,45.450439453125]]]},properties:{name:"Romania",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[148.59951171875,45.317626953125],[147.91376953125004,44.99038085937502],[147.76943359375,45.19072265624999],[148.59951171875,45.317626953125]]],[[[142.76103515625002,54.393945312499966],[142.91796875000003,53.79423828125002],[143.22363281250003,53.29604492187505],[143.32363281250005,52.61357421874999],[143.15556640625002,52.08374023437497],[143.45546875,51.47148437500002],[143.81601562500006,50.28261718750002],[144.27207031250012,49.311328125000045],[143.10498046875003,49.198828125000034],[142.57421874999997,48.07216796875002],[142.55693359375002,47.737890625000034],[143.0055664062501,47.22270507812496],[143.28232421875006,46.55898437500002],[142.57802734375005,46.700781250000034],[142.20859375000006,46.0888671875],[141.83037109375002,46.451074218749966],[142.03867187500012,47.140283203124966],[141.9640625000001,47.58745117187502],[142.18173828125012,48.01337890625001],[141.86630859375006,48.750097656250006],[142.1422851562501,49.56914062499999],[142.07109375000007,50.514990234375034],[142.20673828125004,51.22255859375002],[141.72236328125004,51.73632812499997],[141.82353515625007,53.33950195312502],[142.52617187500002,53.44746093749998],[142.76103515625002,54.393945312499966]]],[[[21.235742187500023,55.26411132812498],[22.83125000000001,54.838476562500034],[22.766210937499977,54.356787109375034],[22.168457031250057,54.35986328125006],[20.20820312500004,54.420751953125034],[19.92431640625003,54.433984374999966],[19.644238281250068,54.44707031249996],[19.604394531250023,54.45917968750004],[19.85888671875,54.63383789062499],[19.944140625000074,54.75000000000003],[19.974511718750023,54.92119140625002],[20.520312500000017,54.994873046875],[20.89980468750008,55.286669921875045],[20.957812500000074,55.27890625000006],[21.235742187500023,55.26411132812498]]],[[[163.63515625000005,58.603369140625006],[163.7609375000001,59.01503906250002],[164.61572265624997,58.885595703125034],[163.63515625000005,58.603369140625006]]],[[[-179.79853515625,68.9404296875],[-178.873876953125,68.75410156249995],[-177.40751953124996,68.24516601562502],[-175.34521484375,67.67807617187503],[-174.44760742187503,67.10312500000003],[-173.6796875,67.144775390625],[-172.64057617187504,66.92499999999998],[-171.79555664062502,66.93173828125003],[-170.191943359375,66.20126953124998],[-170.66630859375,65.62153320312501],[-172.21157226562502,65.42519531249997],[-172.21318359375,65.04814453124999],[-172.92402343750004,64.70493164062506],[-173.00913085937498,64.2974609375],[-173.72973632812497,64.36450195312497],[-174.318017578125,64.63764648437504],[-175.39511718749998,64.80239257812502],[-175.85385742187498,65.01083984375003],[-176.09326171875,65.471044921875],[-177.05624999999998,65.613623046875],[-178.31020507812502,65.48486328124997],[-178.87934570312495,65.93647460937495],[-179.7283203125,65.80380859375],[-179.352099609375,65.51674804687497],[-180,65.06723632812498],[-180,65.31196289062501],[-180,65.55678710937497],[-180,65.80156250000002],[-180,66.04628906250002],[-180,66.29106445312499],[-180,66.53583984375004],[-180,66.78056640625005],[-180,67.02534179687501],[-180,67.27011718750006],[-180,67.51484374999998],[-180,67.75961914062503],[-180,68.00439453124997],[-180,68.24912109375],[-180,68.49389648437497],[-180,68.738671875],[-179.79853515625,68.9404296875]]],[[[50.265234375000006,69.18559570312502],[49.62626953125002,68.85971679687498],[48.66699218750003,68.73315429687503],[48.27880859374997,69.04033203124999],[48.63134765625003,69.43603515624997],[49.22519531250006,69.51123046875],[50.265234375000006,69.18559570312502]]],[[[169.20078125000006,69.58046875],[167.78886718750002,69.83686523437501],[168.35791015625003,70.01567382812502],[169.37480468750007,69.88261718749999],[169.20078125000006,69.58046875]]],[[[60.450488281250074,69.93486328124999],[59.57822265625006,69.73862304687498],[58.473046874999994,70.26684570312503],[59.00527343750005,70.46518554687503],[60.450488281250074,69.93486328124999]]],[[[178.8615234375001,70.826416015625],[178.89111328125009,71.23110351562502],[180.00000000000003,71.53774414062505],[180.00000000000003,70.993017578125],[178.8615234375001,70.826416015625]]],[[[-178.87646484375,71.57705078124997],[-177.53217773437504,71.26308593750005],[-177.82177734375,71.06757812500001],[-179.50668945312498,70.92343750000003],[-179.999951171875,70.993017578125],[-179.999951171875,71.53774414062505],[-178.87646484375,71.57705078124997]]],[[[55.31982421875003,73.30830078124998],[56.42958984375005,73.201171875],[56.08378906250002,72.78940429687503],[55.35595703124997,72.46508789062506],[55.29785156249997,71.93535156250005],[57.14589843750005,70.58911132812506],[54.60117187500006,70.68007812500002],[53.7223632812501,70.81445312500003],[53.36386718750006,71.54165039062505],[51.812597656250006,71.49130859375],[51.58251953124997,72.07119140625],[52.62207031250003,72.30097656250001],[53.753222656250074,73.29326171875002],[55.31982421875003,73.30830078124998]]],[[[142.18486328125007,73.89589843750005],[143.34374999999997,73.56875000000002],[143.19326171875005,73.22075195312499],[140.66279296875004,73.45200195312503],[141.08476562500002,73.86586914062497],[142.18486328125007,73.89589843750005]]],[[[113.38720703124997,74.40043945312499],[112.78242187500004,74.09506835937503],[111.64296875,74.27294921875003],[112.08447265624997,74.54897460937505],[113.38720703124997,74.40043945312499]]],[[[146.79521484375007,75.37075195312505],[150.10390625,75.21923828125],[150.64628906250002,74.944580078125],[149.5968750000001,74.77260742187505],[148.09238281250006,74.82568359375003],[146.14853515625012,75.19829101562499],[146.79521484375007,75.37075195312505]]],[[[140.04873046875,75.82895507812503],[140.94414062500007,75.70048828124999],[142.46035156250005,75.90361328125007],[143.68583984375002,75.86367187500002],[145.25527343750005,75.58559570312502],[144.01972656250004,75.04467773437506],[141.98730468750003,74.99125976562499],[139.09912109374997,74.65654296875002],[138.09228515625003,74.79746093750003],[137.00625,75.23500976562502],[137.50117187500004,75.90966796874997],[138.81396484374997,76.19970703125],[140.04873046875,75.82895507812503]]],[[[67.7653320312501,76.23759765624999],[66.28242187500004,75.98369140625005],[61.35595703124997,75.31484375000002],[60.22246093750002,74.79658203124995],[58.53466796875003,74.49892578124997],[58.44140625000003,74.12885742187498],[56.96386718750003,73.36655273437503],[55.00683593750003,73.45385742187506],[53.7628906250001,73.76616210937499],[54.64267578125006,73.95957031250006],[57.08750000000006,75.38383789062505],[58.881249999999994,75.85478515625007],[62.97148437500002,76.23666992187498],[65.862890625,76.61333007812505],[67.53496093750007,77.00776367187504],[68.48574218750005,76.93369140625003],[68.8998046875,76.57294921875001],[67.7653320312501,76.23759765624999]]],[[[130.68730468750007,42.30253906249999],[130.52695312500012,42.535400390625],[130.57724609375006,42.81162109375006],[131.06855468750004,42.90224609375005],[131.26181640625006,43.43305664062501],[131.2552734375,44.07158203124999],[131.08232421875002,44.91000976562498],[131.97753906250003,45.243994140625006],[132.93603515624997,45.029931640624994],[133.18603515625003,45.49482421875004],[133.86132812500003,46.24775390625004],[134.1676757812501,47.30219726562501],[134.75234375,47.71542968749998],[134.56357421875012,48.321728515624955],[134.29335937500005,48.37343750000002],[133.46835937500006,48.09716796875003],[133.14404296875003,48.10566406249998],[132.5619140625,47.768505859374955],[131.00273437500002,47.69145507812499],[130.7121093750001,48.12763671875004],[130.80429687500012,48.34150390624998],[129.49814453125012,49.38881835937502],[129.12011718750003,49.36206054687497],[128.70400390625,49.60014648437499],[127.99960937500006,49.56860351562506],[127.50244140624997,49.873437499999994],[127.590234375,50.20898437500003],[126.92480468749997,51.10014648437496],[126.312890625,52.39975585937506],[125.64902343750012,53.042285156250045],[124.81230468750002,53.133837890625045],[123.6078125,53.546533203124994],[122.33779296875,53.485009765624994],[120.70410156249997,53.171826171874955],[120.09453125000007,52.787207031250034],[120.65615234375,52.56665039062503],[120.74980468750007,52.096533203125006],[120.06689453125003,51.60068359375006],[119.19189453125003,50.37983398437504],[119.25986328125012,50.06640625000003],[118.4515625,49.84448242187503],[117.8734375,49.51347656250002],[116.6833007812501,49.82377929687499],[116.13457031250002,50.01079101562499],[115.27451171875006,49.948876953124994],[114.74316406249997,50.23369140625002],[114.29707031250004,50.27441406250006],[113.57421874999997,50.00703125000001],[113.44550781250004,49.94160156250001],[113.31904296875004,49.87431640624999],[113.16416015625012,49.79716796874999],[113.09208984375007,49.692529296874994],[113.05556640625,49.61625976562499],[111.3366210937501,49.355859374999966],[111.20419921875012,49.304296875000034],[110.82792968750002,49.16616210937505],[110.19990234375004,49.17041015625003],[109.5287109375,49.269873046875034],[109.45371093750012,49.29633789062501],[109.23671875000005,49.334912109374955],[108.61367187500005,49.32280273437499],[108.52246093750003,49.34150390624998],[108.4069335937501,49.39638671875005],[108.03378906250012,49.59399414062497],[107.94785156250012,49.92470703125002],[107.63095703125012,49.98310546875004],[107.3470703125,49.986669921875034],[107.23330078125,49.989404296874994],[107.14306640625003,50.03300781249999],[107.04023437500004,50.086474609375045],[106.94130859375005,50.19667968750002],[106.71113281250004,50.312597656250006],[106.57441406250004,50.32880859375004],[106.36845703125002,50.317578124999955],[106.21787109375006,50.304589843749966],[105.38359375000002,50.47373046874998],[105.09472656249997,50.38994140624996],[104.97695312500005,50.382910156250034],[104.46630859375003,50.30615234375003],[104.35390625000005,50.27529296875005],[104.2599609375001,50.214453125000006],[104.17968749999997,50.16943359374997],[103.63291015625006,50.138574218749994],[103.49628906250004,50.16494140625005],[103.42119140625002,50.18706054687502],[103.3043945312501,50.200292968750034],[103.2337890625,50.264257812500034],[103.16171875000006,50.29072265624998],[103.03945312500005,50.30063476562506],[102.85966796875002,50.33325195312506],[102.68330078125004,50.38715820312501],[102.28837890625007,50.58510742187502],[102.31660156250004,50.71845703125001],[102.21503906250004,50.82944335937506],[102.15195312500006,51.107519531250034],[102.14238281250007,51.21606445312503],[102.16005859375005,51.260839843750006],[102.1556640625,51.31376953124996],[102.1115234375001,51.353466796874955],[101.97919921875004,51.382226562499966],[101.82119140625,51.421044921874966],[101.57089843750006,51.46718750000005],[101.38125,51.45263671875],[101.30449218750007,51.474755859374994],[101.22324218750012,51.513281250000006],[100.53623046875006,51.713476562500034],[100.46894531250004,51.72607421875003],[100.23037109375,51.729833984375006],[100.0345703125,51.73710937499996],[99.92167968750002,51.755517578124994],[99.71923828124997,51.87163085937502],[98.84863281249997,52.07006835937503],[98.64052734375005,51.80117187500005],[98.3527343750001,51.717626953125006],[97.94687500000012,51.34843750000002],[97.82529296875012,50.985253906249994],[98.2794921875001,50.53325195312502],[98.10341796875005,50.077832031249955],[97.58935546875003,49.911474609375006],[97.35976562500005,49.741455078125],[97.20859375000006,49.73081054687506],[96.98574218750005,49.88281250000003],[96.31503906250012,49.90112304687503],[96.06552734375006,49.99873046875001],[95.9357421875001,49.960009765625045],[95.89941406249997,49.990576171875034],[95.851953125,50.01293945312497],[95.78935546875002,50.01249999999999],[95.70781250000002,49.96601562500001],[95.56718750000007,49.94384765625003],[95.52265625000004,49.911230468750034],[95.04433593750005,49.961572265624994],[94.93027343750006,50.043750000000045],[94.71806640625002,50.04326171875002],[94.67548828125004,50.02807617187506],[94.61474609375003,50.02373046874996],[94.25107421875006,50.55639648437503],[91.80429687500006,50.693603515625],[89.64384765625002,49.90302734374998],[89.65410156250007,49.71748046875001],[88.83164062500012,49.44843749999998],[88.633203125,49.486132812500045],[88.5443359375,49.48256835937502],[88.45244140625002,49.47270507812496],[88.39335937500007,49.48286132812498],[88.33779296875005,49.47255859375002],[88.19257812500004,49.451708984375045],[88.13554687500002,49.38149414062502],[88.11572265624997,49.25629882812501],[88.0285156250001,49.219775390625045],[87.98808593750002,49.186914062499994],[87.9347656250001,49.16455078124997],[87.81425781250002,49.162304687499955],[87.76250000000007,49.16582031249996],[87.5158203125001,49.122412109375006],[87.41669921875004,49.07661132812501],[87.32285156250012,49.085791015625006],[86.61425781249997,49.60971679687498],[86.1808593750001,49.49931640624996],[85.21015625000004,49.66484375000002],[84.9894531250001,50.061425781249994],[84.25781249999997,50.28823242187502],[83.94511718750007,50.774658203125],[83.35732421875005,50.99458007812504],[82.49394531250007,50.72758789062499],[81.46591796875006,50.739843750000006],[80.87734375,51.28144531250004],[79.98623046875,50.774560546874966],[79.46884765625012,51.49311523437498],[78.47548828125005,52.638427734375],[77.70439453125007,53.379150390625],[76.57568359374997,53.94252929687502],[76.26660156249997,54.31196289062498],[74.45195312500007,53.64726562500002],[73.28574218750006,53.598388671875],[73.39941406250003,53.81147460937498],[72.91406249999997,54.10732421875002],[71.09316406250005,54.21220703124999],[71.18554687500003,54.59931640624998],[70.73808593750007,55.30517578125],[70.18242187500002,55.162451171875034],[68.9772460937501,55.389599609374955],[68.20625000000004,55.16093750000002],[68.07382812500006,54.959570312500006],[66.22265624999997,54.667382812499994],[65.476953125,54.62329101562497],[65.1578125,54.364404296874994],[64.46123046875002,54.38417968750002],[63.0739257812501,54.10522460937506],[61.92871093750003,53.94648437500004],[61.33369140625004,54.04926757812501],[60.97949218749997,53.62172851562505],[61.19921874999997,53.28715820312502],[62.01464843750003,53.10786132812498],[61.97421875000006,52.94375000000002],[61.047460937500006,52.97246093750002],[60.80234375000006,52.74472656249998],[60.937597656250006,52.28056640625002],[60.06552734375006,51.976464843749966],[60.464746093749994,51.651171875000045],[61.363085937500074,51.44189453125003],[61.585058593750006,51.22968749999998],[61.38945312500002,50.86103515625001],[60.637988281250074,50.66372070312505],[59.95517578125006,50.79926757812504],[59.812402343749994,50.58203125],[58.88369140625005,50.694433593750006],[58.359179687500074,51.063818359375034],[57.83886718750003,51.091650390625006],[57.44218750000002,50.88886718749998],[57.01171874999997,51.06518554687503],[56.49140625000004,51.01953124999997],[55.79765625000002,50.60205078125],[55.54228515625002,50.60180664062506],[54.72714843750006,50.998095703125045],[54.42148437500006,50.78032226562499],[54.04150390624997,51.11518554687501],[53.33808593750004,51.48237304687504],[52.57119140625005,51.481640624999955],[52.33105468749997,51.681298828124966],[51.60908203125004,51.483984375000006],[50.79394531249997,51.729199218749955],[50.246875000000074,51.28950195312498],[49.49804687500003,51.08359375000006],[48.80839843750002,50.60131835937503],[48.84326171875003,50.01313476562501],[48.43427734375004,49.828515624999966],[47.7057617187501,50.37797851562502],[47.32646484375002,50.273535156250034],[46.80205078125002,49.36708984375002],[47.014257812500006,49.09833984374998],[46.70263671875003,48.80556640625002],[46.660937500000074,48.41225585937502],[47.004296874999994,48.28447265625002],[47.09326171875003,47.947705078124955],[48.109960937500006,47.74541015624996],[48.95937500000005,46.77460937499998],[48.610156250000074,46.566455078125045],[49.232226562500074,46.33715820312503],[48.15917968750003,45.73701171874998],[47.524218750000074,45.60170898437505],[46.753027343750006,44.42065429687503],[47.22988281250005,44.19238281249997],[47.5089843750001,43.50971679687498],[47.463183593750074,43.03505859375002],[48.572851562500006,41.84448242187503],[47.861132812500074,41.212744140625034],[47.26113281250005,41.315087890624994],[46.74931640625002,41.812597656250006],[46.42988281250004,41.890966796875006],[46.21269531250002,41.989892578124994],[45.63857421875005,42.20507812500003],[45.63427734374997,42.234716796875034],[45.72753906249997,42.47504882812498],[45.562890624999994,42.53574218749998],[45.34375000000003,42.52978515625003],[45.20820312500004,42.64824218749999],[45.16025390625006,42.67500000000004],[45.07158203125002,42.69414062500002],[44.94335937499997,42.73027343750002],[44.870996093749994,42.75639648437499],[44.850488281249994,42.746826171875],[44.77109375000006,42.61679687499998],[44.691796874999994,42.709619140624966],[44.64433593750002,42.734716796875034],[44.50585937500003,42.748632812500006],[44.329492187499994,42.703515624999966],[44.10273437500004,42.616357421874994],[44.004687500000074,42.59560546875002],[43.95742187500005,42.56655273437505],[43.825976562500074,42.571533203125],[43.759863281250006,42.593847656250006],[43.738378906250006,42.61699218750002],[43.74990234375005,42.65751953125002],[43.79541015624997,42.702978515625034],[43.78261718750005,42.747021484374955],[43.62304687500003,42.80771484374998],[43.5578125000001,42.844482421875],[43.089160156250074,42.98906249999996],[42.991601562499994,43.09150390624998],[42.76064453125005,43.169580078124966],[42.660253906250006,43.159082031249966],[42.566015625000006,43.15512695312506],[42.41904296875006,43.224218750000006],[42.279687499999994,43.22807617187499],[42.05000000000004,43.19013671874998],[41.58056640624997,43.21923828124997],[41.460742187500074,43.276318359374955],[41.35820312500002,43.33339843750005],[40.64804687500006,43.53388671875004],[40.02373046875002,43.48486328125],[39.873632812500006,43.47280273437502],[38.71728515624997,44.28808593750003],[38.181250000000006,44.41967773437503],[37.851464843749994,44.698828125000034],[37.41132812500004,44.73535156250003],[36.941210937500074,45.289697265624994],[37.6471679687501,45.37719726562506],[37.93310546875003,46.001708984375],[38.18359374999997,46.09482421875006],[37.9679687500001,46.61801757812506],[39.29345703125003,47.105761718750045],[38.21435546875003,47.091455078124966],[38.287402343750074,47.559179687500034],[38.90029296875005,47.85512695312502],[39.735937500000006,47.84482421875006],[39.96103515625006,48.23793945312502],[39.68652343749997,49.007910156250034],[40.07001953125004,49.20029296874998],[39.780566406250074,49.57202148437503],[39.17480468750003,49.85595703124997],[38.258593750000074,50.052343750000006],[38.04687500000003,49.92001953125006],[37.42285156249997,50.411474609375006],[36.619433593750074,50.209228515625],[35.41162109375003,50.539697265624994],[35.31191406250005,51.043896484374955],[34.280664062499994,51.311669921874966],[34.397851562499994,51.780419921874994],[33.735253906249994,52.344775390625045],[32.507910156250006,52.30854492187504],[31.763378906250097,52.10107421875003],[31.758593750000017,52.125830078125034],[31.69062500000004,52.22065429687498],[31.57734375000004,52.31230468749999],[31.585546875000006,52.532470703125],[31.53515624999997,52.798242187499966],[31.442773437499994,52.86181640625003],[31.35302734374997,52.93344726562498],[31.295117187500097,52.98979492187499],[31.25878906249997,53.01669921875006],[31.364550781250017,53.13896484375002],[31.388378906250097,53.18481445312503],[31.41787109375005,53.196044921875],[31.849707031250006,53.106201171875],[32.70429687500004,53.336328124999994],[32.45097656250002,53.6533203125],[31.754199218750017,53.81044921875002],[31.12128906250004,54.64848632812496],[30.906835937500063,55.57001953125004],[30.625585937500006,55.666259765625],[30.23359375000004,55.84521484375006],[30.04267578125004,55.83642578125003],[29.93701171874997,55.84526367187499],[29.881640625000074,55.83232421875002],[29.82392578125004,55.79511718749998],[29.74414062499997,55.770410156249994],[29.68457031249997,55.769726562499955],[29.482226562500074,55.6845703125],[29.412988281249994,55.72485351562506],[29.35341796875005,55.78437500000001],[29.373144531250063,55.83471679687506],[29.39794921874997,55.88105468749998],[29.37499999999997,55.938720703125],[28.284277343750006,56.055908203125],[27.806054687499994,56.86708984375005],[27.639453125000074,56.84565429687504],[27.814550781250034,57.16689453125002],[27.796875,57.316943359375045],[27.538671875000063,57.429785156250034],[27.51113281250005,57.508154296875006],[27.469726562500057,57.524023437500034],[27.35195312500005,57.52812499999999],[27.400000000000063,57.66679687499999],[27.542089843750063,57.799414062500006],[27.75283203125008,57.841015624999955],[27.48779296875,58.270068359375045],[27.464453125000034,58.84130859375],[28.012500000000045,59.484277343749966],[28.013964843750074,59.72475585937502],[28.947265625000057,59.828759765624994],[29.069140625000017,60.19145507812499],[28.65058593750001,60.61098632812502],[27.797656250000074,60.53613281250003],[29.69013671875004,61.54609375000001],[31.28564453125003,62.567822265624955],[31.533984375000017,62.885400390624994],[31.180859375000097,63.208300781250074],[30.05537109375004,63.689013671875045],[30.50390625000003,64.02060546875],[30.10810546875004,64.36611328125005],[30.072851562500063,64.76503906250005],[29.60419921875004,64.968408203125],[29.903417968750006,66.091064453125],[29.087011718750034,66.97094726562503],[29.941210937500074,67.54746093749998],[29.343847656250006,68.06186523437506],[28.470703125000057,68.48837890625],[28.96582031250003,69.02197265625],[30.869726562500006,69.78344726562506],[31.98457031250004,69.95366210937499],[32.94169921875002,69.75185546875],[32.37773437500002,69.47910156250003],[33.68437500000002,69.31025390625001],[35.85791015625003,69.19174804687503],[40.38066406250002,67.831884765625],[40.96640625000006,67.71347656250003],[41.18896484375003,66.82617187500003],[40.52158203125006,66.44663085937498],[39.28906250000003,66.13203125000001],[38.39755859375006,66.064453125],[35.51347656250002,66.39580078125002],[34.824609374999994,66.61113281249999],[32.46367187500002,66.91630859374999],[33.566699218750074,66.32099609374995],[34.7863281250001,65.86455078125005],[34.40644531250004,65.39575195312503],[34.803515625000074,64.98598632812502],[34.869531249999994,64.56000976562501],[35.64707031250006,64.37832031250005],[36.3649414062501,64.00283203125002],[37.44218750000002,63.813378906249966],[38.07080078124997,64.02583007812498],[37.953710937500006,64.32011718749999],[37.183691406250006,64.40849609375007],[36.52822265625005,64.84736328125004],[36.88281249999997,65.17236328124997],[38.009375000000006,64.87875976562503],[39.7580078125001,64.57705078125002],[40.28125000000003,64.99809570312502],[39.816503906250006,65.59794921874999],[41.4757812500001,66.12343750000002],[42.21054687500006,66.51967773437502],[44.09716796874997,66.23505859375004],[44.488671874999994,66.67177734375002],[44.29179687500002,67.09965820312505],[43.7824218750001,67.25449218749998],[44.22539062500002,67.99560546874997],[44.04804687500004,68.54882812499997],[45.891992187499994,68.47968750000001],[46.69042968750003,67.84882812500001],[45.52871093750005,67.75756835937497],[44.93945312499997,67.47744140625002],[45.98603515625004,66.853125],[46.690820312499994,66.82553710937498],[47.70908203125006,67.04501953125003],[47.87470703125004,67.58417968749998],[48.87792968749997,67.73134765625005],[50.83886718749997,68.34995117187503],[52.550097656250074,68.59243164062497],[53.80195312500004,68.99589843750002],[53.967871093750006,68.22734375000002],[54.5612304687501,68.273046875],[56.04365234375004,68.64887695312501],[57.126855468749994,68.55400390625005],[58.91894531249997,69.00380859375002],[59.897363281249994,68.42192382812505],[60.93359374999997,68.98676757812501],[60.17060546875004,69.59091796875],[61.01591796875002,69.85146484374997],[63.36142578125006,69.67529296875003],[68.50419921875007,68.34843749999999],[69.14052734375005,68.95063476562501],[68.54277343750002,68.96708984374999],[68.00585937499997,69.48002929687505],[67.06445312500003,69.69370117187498],[66.92636718750006,70.0142578125],[67.28476562500006,70.73872070312498],[66.66611328125006,70.90058593750001],[66.91757812500006,71.28237304687497],[68.2692382812501,71.68281250000001],[69.03906249999997,72.66992187500003],[69.64511718750006,72.89755859375006],[71.5001953125001,72.91367187500003],[72.812109375,72.69140624999997],[72.62441406250005,72.079443359375],[71.91201171875005,71.54794921874998],[72.73164062500004,70.82285156249998],[72.52968750000005,70.172509765625],[72.52734374999997,69.08051757812501],[73.5480468750001,68.57451171875005],[73.15214843750002,67.86503906250002],[72.59433593750006,67.58696289062502],[71.551171875,66.76044921874995],[70.93945312499997,66.54814453125005],[69.8771484375001,66.84545898437506],[69.19433593749997,66.57866210937505],[70.33945312500006,66.34238281250006],[71.91699218749997,66.24672851562502],[72.4173828125,66.56079101562506],[73.79208984375,66.99531250000001],[74.07451171875007,67.41411132812499],[74.76953124999997,67.76635742187497],[74.39140625000007,68.42060546874995],[74.57958984375003,68.751220703125],[76.45917968750004,68.97827148437497],[77.2384765625001,68.46958007812498],[77.65068359375007,68.90302734375001],[76.00097656249997,69.23505859374998],[74.81484375,69.09057617187503],[73.77568359375002,69.19824218750003],[73.56015625,69.70722656249998],[74.3109375,70.65361328125005],[73.08623046875007,71.44492187500006],[73.67177734375,71.84506835937503],[75.74140625000004,72.29624023437503],[76.03242187500004,71.91040039062503],[78.4826171875001,72.39497070312498],[79.4220703125001,72.38076171875002],[80.76250000000002,72.08916015625002],[81.51123046874997,71.74614257812505],[82.98613281250007,71.74868164062502],[82.18359375000003,72.23754882812497],[80.82705078125005,72.48828124999997],[80.50966796875005,73.086083984375],[80.5832031250001,73.56845703125003],[83.54472656250002,73.66650390625003],[86.59140625000006,73.89428710937497],[86.65146484375012,74.68242187500005],[87.67138671874997,75.12958984375004],[90.18496093750005,75.59106445312497],[93.54980468750003,75.8541015625],[94.57558593750005,76.1517578125],[96.87919921875002,75.93105468749997],[100.32236328125012,76.479150390625],[100.98994140625004,76.99047851562497],[103.13144531250012,77.62646484375006],[104.01455078125,77.73041992187501],[105.89453125000003,77.4888671875],[104.91191406250002,77.17470703125002],[107.42978515625006,76.92656250000002],[108.02792968750006,76.71845703124998],[111.11484375000012,76.72304687500002],[112.61953125,76.38354492187506],[113.87099609375005,75.85600585937505],[113.61357421875007,75.29296875],[111.86826171875006,74.74003906250007],[109.84033203124997,74.32197265624998],[108.19951171875002,73.69409179687497],[107.27109375000006,73.62104492187501],[106.47792968750005,73.13940429687503],[107.750390625,73.17314453125007],[109.85527343750002,73.47246093750002],[110.2614257812501,74.01743164062503],[112.14726562500007,73.70893554687498],[114.06054687500003,73.58466796874995],[115.33769531250007,73.70258789062501],[118.45019531249997,73.58979492187504],[118.43027343750012,73.24653320312501],[119.750390625,72.97910156250006],[123.1603515625001,72.95488281250002],[123.62226562500004,73.19326171875],[123.305078125,73.53291015624998],[124.3880859375,73.75483398437498],[125.61708984375,73.52060546874998],[127.74033203125012,73.48154296875],[128.88867187500003,73.19023437499999],[129.41171875000006,72.31547851562505],[128.3587890625,72.08833007812504],[129.76191406250004,71.11953125000002],[131.15742187500004,70.74218749999997],[131.56201171875003,70.901025390625],[132.56230468750007,71.89531250000005],[134.10283203125002,71.37895507812502],[135.88476562499997,71.63056640625004],[137.31542968750003,71.35942382812505],[138.11845703125002,71.56616210937497],[139.69511718750007,71.70043945312497],[139.60117187500012,72.49609374999997],[142.06142578125005,72.72080078125],[145.4857421875,72.54208984375],[146.59414062500005,72.30244140624995],[148.40205078125004,72.31196289062504],[149.50156250000012,72.16430664062497],[150.59980468750004,71.5201171875],[151.58242187500005,71.28696289062503],[152.50878906250003,70.83447265625003],[153.79414062500004,70.87998046874998],[155.8952148437501,71.09550781250002],[158.03701171875005,71.03925781250001],[159.35068359375006,70.79072265625001],[160.00644531250006,70.30966796875006],[159.83251953125003,69.78496093749999],[161.53691406250002,69.379541015625],[162.37568359375004,69.64907226562502],[164.1595703125,69.71928710937505],[164.51328125000006,69.60913085937497],[166.82031250000003,69.49956054687505],[167.62812500000004,69.74033203125006],[168.30302734375002,69.27148437500003],[169.31064453125006,69.07954101562498],[169.60986328124997,68.78603515624997],[170.53759765624997,68.82539062500001],[170.99541015625002,69.04531250000005],[170.58222656250004,69.58334960937506],[170.48681640625003,70.107568359375],[172.55957031249997,69.96835937499998],[173.27744140625006,69.823828125],[176.10751953125018,69.86030273437498],[176.92441406250018,69.64599609375003],[178.84833984375004,69.38720703124997],[180.00000000000003,68.98344726562505],[180.00000000000003,65.06723632812498],[178.51953125000003,64.60297851562498],[177.46718750000005,64.73681640624997],[177.43291015625002,64.44448242187502],[178.65029296875005,63.96528320312501],[178.7064453125001,63.52153320312502],[179.33232421875007,63.19018554687503],[179.5705078125001,62.6875],[179.12070312500012,62.32036132812499],[177.3512695312501,62.587451171875045],[175.26787109375002,62.102392578125006],[174.51435546875015,61.823632812499966],[173.6234375,61.716064453125],[172.85654296875006,61.469189453124955],[172.39277343750004,61.061767578125],[170.60820312500007,60.434912109375034],[169.9826171875001,60.067089843749955],[169.2267578125001,60.59594726562497],[168.13750000000007,60.57392578125001],[166.9640625000001,60.307031249999994],[166.35214843750006,60.48481445312498],[165.08457031250006,60.09858398437498],[163.78007812500007,60.041113281250006],[163.40996093750007,59.8349609375],[163.27285156250005,59.302587890625006],[162.14160156249997,58.44741210937502],[161.96005859375012,58.07690429687506],[162.4669921875001,57.766210937500006],[163.21386718750003,57.68681640624999],[162.77929687500003,57.35761718749998],[162.80263671875,56.81147460937501],[163.2565429687501,56.68803710937499],[163.33554687500012,56.232519531250006],[162.52822265625005,56.260693359374955],[162.08496093749997,56.08964843750002],[161.72939453125,55.358007812500006],[162.10556640625006,54.75214843750004],[161.72568359375006,54.53295898437506],[160.77265625000004,54.54135742187498],[160.0744140625001,54.18916015625001],[159.84374999999997,53.78364257812498],[159.89765625000004,53.380761718749966],[158.6087890625,52.873632812500034],[158.46347656250006,52.30498046875002],[158.10351562500003,51.80961914062499],[156.74775390625004,50.969287109375045],[156.500390625,51.47509765625006],[156.36474609374997,52.509375000000006],[156.0988281250001,53.00649414062502],[155.62031250000004,54.86455078125002],[155.5548828125001,55.348486328125034],[155.98251953125012,56.69521484375002],[156.72841796875,57.152246093749966],[157.4503906250001,57.79926757812498],[158.21044921875003,58.02529296875002],[159.03691406250002,58.423925781250034],[159.8473632812501,59.127148437499955],[161.75351562500012,60.15229492187501],[162.0036132812501,60.42016601562503],[162.97314453124997,60.782910156249955],[163.70996093749997,60.916796875000045],[164.00546875000006,61.34379882812499],[164.25566406250007,62.69658203124999],[163.33173828125004,62.550927734374994],[163.00927734374997,61.79150390625],[162.39257812500003,61.662109375],[160.76660156249997,60.753320312499966],[159.88310546875002,61.291796875000074],[160.31738281250003,61.79335937500002],[159.55234375000012,61.71948242187497],[159.07666015625003,61.922265624999994],[158.07011718750002,61.75361328125001],[157.46933593750012,61.798925781250006],[156.68027343750006,61.480615234374994],[156.62968750000002,61.27246093750003],[155.85332031250007,60.77714843750002],[154.97080078125012,60.376660156249955],[154.29306640625006,59.833349609375034],[154.58251953124997,59.540087890625074],[155.16669921875004,59.36015624999999],[154.01093750000004,59.075537109375006],[153.36113281250002,59.214794921874955],[152.8822265625,58.939062500000006],[151.99003906250002,59.160058593749994],[151.48574218750005,59.52412109375001],[150.45722656250004,59.590722656249994],[149.64257812499997,59.770410156249994],[149.20498046875,59.488183593749966],[147.87460937500006,59.388037109375006],[147.51445312500002,59.2685546875],[146.44433593749997,59.43046875000002],[145.93164062499997,59.198388671874994],[145.55458984375,59.413525390624955],[143.19218750000002,59.3701171875],[142.02539062499997,58.99965820312502],[141.75468750000007,58.745263671874966],[140.6849609375,58.21215820312497],[140.44687500000006,57.81367187499998],[140.00234375000005,57.68750000000003],[138.66210937500003,56.96552734375004],[137.69150390625006,56.13935546875004],[136.1751953125,55.35224609374998],[135.26250000000002,54.94331054687498],[135.85156249999997,54.583935546874955],[136.797265625,54.62099609375005],[136.68300781250005,53.93129882812505],[137.15537109375012,53.82167968750002],[137.3283203125001,53.538964843749966],[138.29218750000004,53.59243164062502],[138.66074218750012,53.744775390624966],[138.695703125,54.32001953125001],[139.707421875,54.27714843749999],[140.3470703125,53.812597656250034],[141.4020507812501,53.18398437500002],[141.16982421875005,52.36840820312497],[141.48525390625,52.17851562500002],[140.68769531250004,51.23227539062506],[140.47636718750007,50.545996093750034],[140.51718750000012,49.59614257812498],[140.17060546875004,48.52368164062497],[139.37265625000006,47.88735351562502],[139.00136718750005,47.38330078125],[138.58681640625005,47.057226562500006],[138.33691406250003,46.543408203124955],[137.68544921875,45.81835937500003],[136.80351562500002,45.171142578125],[136.14228515625004,44.489111328125034],[135.87460937500012,44.37353515625003],[135.1310546875001,43.52573242187506],[133.709375,42.82993164062506],[133.15996093750007,42.69697265624998],[132.30380859375006,42.88330078125],[131.72207031250005,43.20263671875006],[131.15830078125012,42.62602539062499],[130.68730468750007,42.30253906249999]]],[[[102.88476562499997,79.25395507812505],[105.14599609375003,78.81884765625006],[105.31259765625012,78.49990234375],[103.71933593750006,78.25825195312498],[101.20410156249997,78.19194335937505],[100.28398437500002,78.67919921875003],[101.59062500000002,79.350439453125],[102.88476562499997,79.25395507812505]]],[[[97.67451171875004,80.15825195312499],[100.0612304687501,79.77709960937506],[99.43955078125012,78.834228515625],[97.55546875000002,78.82656250000002],[94.65234375000003,79.12749023437505],[93.07080078124997,79.49531250000001],[94.98730468749997,80.096826171875],[97.67451171875004,80.15825195312499]]],[[[62.167773437500074,80.83476562500005],[61.05126953124997,80.418603515625],[59.30439453125004,80.52153320312502],[59.59228515625003,80.81650390624998],[62.167773437500074,80.83476562500005]]],[[[54.71894531250004,81.11596679687497],[57.69414062500002,80.79228515625002],[55.71250000000006,80.63730468749998],[54.06660156250004,80.81362304687502],[54.71894531250004,81.11596679687497]]],[[[96.52656250000004,81.0755859375],[97.83183593750002,80.79829101562498],[97.1751953125,80.24101562500007],[94.56503906250012,80.12607421875],[93.87236328125002,80.010107421875],[91.52382812500005,80.35854492187502],[93.26250000000002,80.79125976562497],[93.06513671875004,80.98847656250001],[95.80068359375005,81.28046874999998],[96.52656250000004,81.0755859375]]]]},properties:{name:"Russia",childNum:22}},{geometry:{type:"Polygon",coordinates:[[[30.50996093750001,-1.0672851562500085],[30.47705078125,-1.0830078125],[30.47021484375,-1.1311523437500028],[30.508105468750017,-1.2082031250000114],[30.631933593750006,-1.3674804687500028],[30.710742187500017,-1.3967773437500028],[30.76220703125,-1.4586914062500114],[30.812597656250006,-1.5630859375000057],[30.827539062500023,-1.6936523437500028],[30.806738281250006,-1.8506835937500057],[30.819140625000017,-1.9674804687500114],[30.828710937500006,-2.3384765625000057],[30.762500000000017,-2.3716796875000057],[30.71484375,-2.3634765625000114],[30.656640625000023,-2.373828125000003],[30.593359375000006,-2.396777343750003],[30.553613281250023,-2.4000976562500114],[29.93017578125,-2.3395507812500114],[29.8681640625,-2.7164062500000057],[29.390234375000006,-2.80859375],[29.01435546875001,-2.72021484375],[28.876367187500023,-2.4002929687500085],[29.1064453125,-2.233203125000003],[29.12939453125,-1.8602539062500085],[29.576953125000017,-1.3878906250000114],[30.1015625,-1.36865234375],[30.360253906250023,-1.0746093750000085],[30.41230468750001,-1.0630859375000057],[30.46992187500001,-1.0660156250000057],[30.50996093750001,-1.0672851562500085]]]},properties:{name:"Rwanda",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-8.683349609375,27.285937499999996],[-8.682324218749983,26.497705078124994],[-8.68212890625,26.273193359375],[-8.68212890625,26.10947265625],[-8.682226562499977,25.995507812499994],[-9.258203124999994,25.995507812499994],[-9.817187499999989,25.99545898437499],[-10.376123046874994,25.99545898437499],[-12.016308593749983,25.995410156250003],[-12.016308593749983,25.740136718749994],[-12.016308593749983,25.331689453124994],[-12.016308593749983,24.923242187499994],[-12.016308593749983,24.378662109375],[-12.016308593749983,23.97021484375],[-12.0234375,23.467578125000003],[-12.372900390624977,23.318017578124994],[-13.031494140625,23.000244140625],[-13.120898437499989,22.884082031250003],[-13.16650390625,22.753222656250003],[-13.155957031249983,22.68930664062499],[-13.107324218749994,22.560742187499997],[-13.094335937499977,22.495996093749994],[-13.051220703124983,21.854785156250003],[-13.041748046875,21.713818359374997],[-13.0322265625,21.572070312500003],[-13.025097656249983,21.466796875],[-13.016210937499977,21.333935546874997],[-15.231201171875,21.331298828125],[-16.964550781249983,21.329248046874994],[-17.06396484375,20.898828124999994],[-17.003076171874994,21.420703125000003],[-16.951123046874983,21.43027343749999],[-16.73095703125,21.47031249999999],[-15.750927734374983,21.49082031249999],[-15.610791015624983,21.47031249999999],[-15.4609375,21.45078124999999],[-15.15087890625,21.44101562499999],[-14.971142578124983,21.44101562499999],[-14.8408203125,21.45078124999999],[-14.7509765625,21.50058593749999],[-14.670849609374983,21.60019531249999],[-14.52099609375,21.990869140624994],[-14.22119140625,22.31015624999999],[-14.1708984375,22.76035156249999],[-14.12109375,22.96054687499999],[-14.10107421875,23.10019531249999],[-14.02099609375,23.41074218749999],[-13.89111328125,23.69101562499999],[-13.840771484374983,23.75058593749999],[-13.770947265624983,23.79062499999999],[-13.661083984374983,23.83066406249999],[-13.5810546875,23.87070312499999],[-13.39111328125,23.94101562499999],[-13.310986328124983,23.98105468749999],[-13.06103515625,24.40097656249999],[-12.991162109374983,24.47031249999999],[-12.7109375,24.63046874999999],[-12.630810546874983,24.68027343749999],[-12.5009765625,24.77011718749999],[-12.43115234375,24.83066406249999],[-12.40087890625,24.88046874999999],[-12.36083984375,24.97031249999999],[-12.310986328124983,25.11093749999999],[-12.03076171875,26.030859375],[-11.880859375,26.0708984375],[-11.7548828125,26.0865234375],[-11.718212890624983,26.1041015625],[-11.69921875,26.1626953125],[-11.684521484374983,26.2134765625],[-11.63720703125,26.2955078125],[-11.337890625,26.6333984375],[-11.316845703124983,26.7447265625],[-11.361279296874983,26.7935546875],[-11.392578125,26.8833984375],[-10.922802734374983,27.0103515625],[-10.25146484375,26.8609375],[-9.7353515625,26.8609375],[-9.413037109374983,27.0884765625],[-9.001904296874983,27.0904296875],[-8.794873046874983,27.120703125],[-8.753857421874983,27.1509765625],[-8.753857421874983,27.191015625],[-8.802685546874983,27.3609375],[-8.817822265624983,27.656445312499997],[-8.683349609375,27.656445312499997],[-8.683349609375,27.285937499999996]]]},properties:{name:"Western Sahara",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[46.53144531250004,29.09624023437499],[47.433203125000006,28.989550781250017],[47.671289062499994,28.53315429687504],[48.442480468750006,28.542919921874983],[48.90644531250004,27.62905273437505],[49.40527343749997,27.18095703124996],[49.986132812500074,26.828906250000017],[50.21386718750003,26.30849609375005],[50.031640624999994,26.11098632812505],[50.55791015625002,25.086669921875],[50.66689453125005,24.96381835937501],[50.72558593749997,24.869384765625057],[50.80439453125004,24.789257812499983],[50.85566406250004,24.67963867187501],[50.928320312500006,24.595117187500023],[50.96601562500004,24.573925781249983],[51.56835937500003,24.286181640625074],[51.592578125000074,24.07885742187503],[52.55507812500005,22.932812499999955],[55.104296875000074,22.621484375000023],[55.185839843750074,22.7041015625],[55.641015624999994,22.001855468749994],[54.97734375000002,19.995947265625006],[53.66689453125005,19.559130859375017],[51.977636718750006,18.996142578125074],[49.04199218750003,18.58178710937503],[48.17216796875002,18.156933593749983],[47.57958984374997,17.448339843750034],[47.441796874999994,17.111865234375045],[46.97568359375006,16.953466796875034],[46.682031249999994,17.2685546875],[46.31035156250002,17.231298828125063],[45.40654296875002,17.319775390624955],[45.14804687500006,17.427441406249955],[44.1559570312501,17.398535156250006],[43.91699218749997,17.32470703124997],[43.41796875000003,17.516259765625023],[43.19091796875003,17.35937500000003],[43.16503906249997,16.689404296874955],[42.79931640624997,16.37177734375001],[42.69882812500006,16.736962890624966],[42.38330078124997,17.122460937499994],[42.29394531249997,17.434960937499966],[41.75000000000003,17.88574218749997],[41.22949218750003,18.678417968749983],[41.116015625000074,19.082177734374994],[40.75917968750005,19.755468750000034],[40.080664062500006,20.265917968750017],[39.613671874999994,20.517675781249977],[39.093554687500074,21.31035156249999],[38.98789062500006,21.88173828125005],[39.09589843750004,22.392773437499983],[38.9411132812501,22.881835937500057],[38.46416015625002,23.71186523437504],[37.91972656250002,24.185400390625063],[37.54306640625006,24.291650390625023],[37.18085937500004,24.82001953125001],[37.148828124999994,25.291113281249977],[36.76269531250003,25.751318359375034],[36.24960937500006,26.594775390625017],[35.581347656250074,27.432470703125063],[35.18046875000002,28.03486328125004],[34.61621093749997,28.148339843749966],[34.779882812500006,28.50732421875],[34.950781250000006,29.353515625],[36.01542968750002,29.190478515625017],[36.068457031250006,29.200537109375006],[36.28281250000006,29.355371093750023],[36.47607421874997,29.49511718749997],[36.59179687500003,29.666113281250006],[36.703906250000074,29.831640624999977],[36.75527343750005,29.86601562499996],[37.46923828125003,29.995068359374955],[37.49072265625003,30.01171874999997],[37.55361328125005,30.14458007812496],[37.63359375000002,30.313281250000045],[37.64990234374997,30.330957031249994],[37.669726562500074,30.34814453125003],[37.862890625000006,30.44262695312503],[37.98007812500006,30.49999999999997],[37.47900390624997,31.007763671874955],[37.10527343750002,31.35517578125004],[36.95859375000006,31.491503906250017],[37.21562500000002,31.55610351562501],[37.49335937500004,31.625878906250023],[37.773828124999994,31.69633789062499],[38.962304687499994,31.99492187499999],[39.145410156249994,32.12451171875],[39.36865234374997,32.09174804687498],[39.70410156250003,32.04252929687499],[40.02783203124997,31.995019531249994],[40.3693359375001,31.93896484375003],[42.07441406250004,31.08037109374999],[42.857714843750074,30.495214843749977],[44.69082031250005,29.20234375000001],[46.35644531250003,29.06367187500001],[46.53144531250004,29.09624023437499]]]},properties:{name:"Saudi Arabia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[36.87138671875002,21.996728515624994],[36.92695312500001,21.58652343749999],[37.15058593750001,21.103759765625],[37.2275390625,20.55673828124999],[37.24843750000002,19.58188476562499],[37.471289062500006,18.820117187500003],[37.921875,18.555908203125],[38.609472656250006,18.005078124999997],[38.422460937500006,17.823925781249997],[38.39716796875001,17.778369140625003],[38.38554687500002,17.751269531250003],[38.37373046875001,17.717333984375003],[38.34736328125001,17.68359375],[38.28984375000002,17.637011718750003],[38.26728515625001,17.61669921875],[38.253515625000006,17.584765625000003],[37.78242187500001,17.4580078125],[37.51015625000002,17.288134765625003],[37.45292968750002,17.108691406250003],[37.41103515625002,17.061718749999997],[37.24882812500002,17.056884765625],[37.169531250000006,17.041406249999994],[37.0615234375,17.061279296875],[37.00898437500001,17.058886718750003],[36.995214843750006,17.020556640625003],[36.97578125000001,16.86655273437499],[36.97871093750001,16.800585937500003],[36.887792968750006,16.624658203124994],[36.91376953125001,16.296191406250003],[36.566015625000006,15.362109375000003],[36.4267578125,15.132080078125],[36.44814453125002,14.940087890624994],[36.470800781250006,14.736474609374994],[36.52431640625002,14.2568359375],[36.390625,13.626074218749991],[36.21220703125002,13.271093749999991],[36.107519531250006,12.726464843749994],[35.59609375000002,12.537304687499997],[35.1123046875,11.816552734374994],[34.93144531250002,10.864794921874989],[34.571875000000006,10.880175781249989],[34.27568359375002,10.528124999999989],[34.29150390625,10.124755859375],[34.078125,9.461523437499991],[33.892187500000006,10.198974609375],[33.17216796875002,10.850146484374989],[33.07304687500002,11.591503906249997],[33.199316406250006,12.21728515625],[32.73671875000002,12.009667968749994],[32.072265625,12.006738281249994],[32.33535156250002,11.716015624999997],[32.40410156250002,11.057763671874994],[31.933007812500023,10.662499999999994],[31.654882812500006,10.221142578124997],[31.224902343750017,9.799267578124997],[30.739355468750006,9.74267578125],[30.003027343750006,10.277392578124989],[29.60546875,10.065087890624994],[29.47314453125,9.768603515624989],[28.999609375000006,9.610156249999989],[28.844531250000017,9.326074218749994],[28.048925781250006,9.32861328125],[27.885839843750006,9.599658203124989],[27.07421875,9.613818359374989],[26.551367187500006,9.525830078124997],[25.891503906250023,10.202734374999991],[25.79804687500001,10.420507812499991],[25.066992187500006,10.293798828124991],[24.785253906250006,9.774658203125],[24.53193359375001,8.886914062499997],[24.147363281250023,8.665624999999991],[23.53730468750001,8.815820312499994],[23.646289062500017,9.822900390624994],[23.312304687500017,10.387939453125],[22.86005859375001,10.919677734375],[22.922656250000017,11.344873046874994],[22.55634765625001,11.669531249999991],[22.352343750000017,12.660449218749989],[21.825292968750006,12.79052734375],[22.228125000000006,13.32958984375],[22.10761718750001,13.730322265624991],[22.50996093750001,14.12744140625],[22.38154296875001,14.550488281249997],[22.6708984375,14.722460937500003],[22.93232421875001,15.162109375],[23.10517578125001,15.702539062499994],[23.9833984375,15.780175781249994],[23.982226562500017,17.266357421875],[23.980273437500017,19.496630859375003],[23.980273437500017,19.99594726562499],[24.9794921875,20.002587890624994],[24.980273437500017,21.995849609375],[28.036425781250017,21.995361328125],[29.564550781250006,21.9951171875],[31.434472656250023,21.995849609375],[33.91845703125,21.996240234374994],[36.87138671875002,21.996728515624994]]]},properties:{name:"Sudan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[34.078125,9.461523437499991],[34.09453125000002,8.582226562499997],[33.95332031250001,8.443505859374994],[33.23427734375002,8.396386718749994],[33.01259765625002,7.9515136718749915],[33.22597656250002,7.760644531249994],[33.666113281250006,7.6709960937499915],[34.06425781250002,7.225732421874994],[34.71064453125001,6.660302734374994],[35.08193359375002,5.673144531249989],[35.26835937500002,5.4922851562499915],[35.08447265625,5.3118652343749915],[34.87832031250002,5.109570312499997],[34.63984375000001,4.87548828125],[34.38017578125002,4.620654296874989],[34.176855468750006,4.419091796874994],[33.97607421875,4.22021484375],[33.74160156250002,3.9852539062499943],[33.568457031250006,3.811718749999997],[33.489355468750006,3.755078124999997],[32.83808593750001,3.7984863281249943],[32.33574218750002,3.7062011718749943],[32.09941406250002,3.5291992187499943],[31.79804687500001,3.8026367187499943],[31.47998046875,3.6804687499999886],[31.15234375,3.785595703124997],[30.83857421875001,3.49072265625],[30.50830078125,3.835693359375],[30.194921875000006,3.98193359375],[29.676855468750006,4.5869140625],[29.151464843750006,4.38818359375],[28.72705078125,4.5049804687499915],[28.19208984375001,4.350244140624994],[27.7880859375,4.644677734374994],[27.4033203125,5.109179687499989],[27.083398437500023,5.77685546875],[26.514257812500006,6.069238281249994],[26.36181640625,6.635302734374989],[25.888964843750017,7.06494140625],[25.380664062500017,7.333398437499994],[25.247363281250017,7.724560546874997],[24.853320312500017,8.137548828124991],[24.291406250000023,8.291406249999994],[24.147363281250023,8.665624999999991],[24.53193359375001,8.886914062499997],[24.785253906250006,9.774658203125],[25.066992187500006,10.293798828124991],[25.79804687500001,10.420507812499991],[25.891503906250023,10.202734374999991],[26.551367187500006,9.525830078124997],[27.07421875,9.613818359374989],[27.885839843750006,9.599658203124989],[28.048925781250006,9.32861328125],[28.844531250000017,9.326074218749994],[28.999609375000006,9.610156249999989],[29.47314453125,9.768603515624989],[29.60546875,10.065087890624994],[30.003027343750006,10.277392578124989],[30.739355468750006,9.74267578125],[31.224902343750017,9.799267578124997],[31.654882812500006,10.221142578124997],[31.933007812500023,10.662499999999994],[32.40410156250002,11.057763671874994],[32.33535156250002,11.716015624999997],[32.072265625,12.006738281249994],[32.73671875000002,12.009667968749994],[33.199316406250006,12.21728515625],[33.07304687500002,11.591503906249997],[33.17216796875002,10.850146484374989],[33.892187500000006,10.198974609375],[34.078125,9.461523437499991]]]},properties:{name:"South Sudan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-12.280615234374977,14.809033203124997],[-12.019189453124994,14.206494140624997],[-12.05419921875,13.633056640625],[-11.634960937499983,13.369873046875],[-11.390380859375,12.941992187499991],[-11.389404296875,12.404394531249991],[-12.291210937499983,12.328027343749994],[-13.082910156249994,12.633544921875],[-13.40576171875,12.662255859374994],[-13.729248046875,12.673925781249991],[-14.064843749999994,12.67529296875],[-14.349218749999977,12.676416015624994],[-15.196093749999989,12.679931640625],[-15.3779296875,12.588964843749991],[-15.574804687499977,12.490380859374994],[-15.839550781249983,12.437890624999994],[-16.144189453124994,12.457421874999994],[-16.41630859374999,12.36767578125],[-16.521337890624977,12.3486328125],[-16.656933593749983,12.364355468749991],[-16.711816406249994,12.354833984374991],[-16.763330078124994,13.064160156249997],[-16.648779296874977,13.154150390624991],[-15.834277343749989,13.156445312499997],[-15.509667968749994,13.586230468750003],[-16.56230468749999,13.587304687499994],[-17.168066406249977,14.640625],[-17.147167968749983,14.922021484374994],[-16.570751953124983,15.734423828125003],[-16.441015624999977,16.204541015624997],[-16.168359374999994,16.547070312499997],[-15.768212890624994,16.485107421875],[-15.112646484374977,16.644921874999994],[-14.300097656249989,16.580273437499997],[-13.756640624999989,16.172509765624994],[-13.40966796875,16.05917968749999],[-13.105273437499989,15.57177734375],[-12.858496093749977,15.242529296874991],[-12.40869140625,14.889013671874991],[-12.280615234374977,14.809033203124997]]]},properties:{name:"Senegal",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-37.10332031249996,-54.06562500000004],[-36.32646484374996,-54.251171875000004],[-35.79858398437497,-54.76347656250002],[-36.08549804687499,-54.86679687500001],[-37.10332031249996,-54.06562500000004]]]},properties:{name:"United Kingdom",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[161.71533203124997,-10.387304687499991],[162.10537109375005,-10.45380859375004],[162.12363281250012,-10.824414062499955],[161.53789062500007,-10.566406249999972],[161.71533203124997,-10.387304687499991]]],[[[159.75039062500005,-9.272656250000011],[159.97060546875,-9.433300781249969],[160.35458984375006,-9.421582031249983],[160.62548828124997,-9.588867187499957],[160.64921875000002,-9.92861328124998],[159.85371093750004,-9.791503906250028],[159.62187500000007,-9.532128906250023],[159.75039062500005,-9.272656250000011]]],[[[160.7494140625,-8.313964843750014],[160.99765625000006,-8.612011718749983],[161.2584960937501,-9.316894531249972],[160.87343750000005,-9.156835937499949],[160.59042968750006,-8.372753906249997],[160.7494140625,-8.313964843750014]]],[[[159.8791015625001,-8.534277343749949],[158.9440429687501,-8.04072265625004],[159.10937500000003,-7.903515624999969],[159.84306640625002,-8.326953124999989],[159.8791015625001,-8.534277343749949]]]]},properties:{name:"Solomon Islands",childNum:4}},{geometry:{type:"Polygon",coordinates:[[[-10.758593749999989,9.385351562499991],[-10.500537109375017,8.687548828125017],[-10.677343749999977,8.400585937499997],[-10.570849609374932,8.071142578125034],[-10.878076171874994,7.538232421874994],[-11.267675781249977,7.232617187499997],[-11.507519531249983,6.906542968750003],[-11.733447265625017,7.088574218750054],[-12.48564453124996,7.3862792968750455],[-12.510449218749955,7.66572265625004],[-12.88095703124992,7.856640625000026],[-12.956933593749966,8.145312500000045],[-13.272753906249989,8.429736328124989],[-13.271630859374937,8.987402343750006],[-13.292675781249955,9.04921874999998],[-13.234228515624949,9.070117187499974],[-13.129882812500028,9.047558593749997],[-13.077294921874966,9.069628906249974],[-13.028027343749955,9.103564453125045],[-12.958789062499989,9.263330078124994],[-12.557861328125,9.704980468749994],[-12.142333984375,9.875390624999994],[-11.911083984374955,9.993017578124977],[-11.273632812499955,9.996533203124983],[-11.205664062499949,9.977734374999969],[-11.047460937499977,9.786328125000054],[-10.758593749999989,9.385351562499991]]]},properties:{name:"Sierra Leone",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-89.36259765624999,14.416015625],[-88.51254882812499,13.978955078124997],[-88.504345703125,13.964208984374991],[-88.49765624999999,13.904541015625],[-88.482666015625,13.854248046875],[-88.44912109375,13.850976562499994],[-88.40849609374999,13.875390624999994],[-88.27622070312499,13.942675781250003],[-88.151025390625,13.987353515625003],[-87.99101562499999,13.879638671875],[-87.80224609375,13.889990234374991],[-87.71533203125,13.812695312499997],[-87.781884765625,13.521386718749994],[-87.930859375,13.1806640625],[-88.51201171874999,13.183935546874991],[-89.27763671874999,13.478076171875003],[-89.80419921875,13.560107421875003],[-90.09521484375,13.736523437499997],[-89.872705078125,14.045605468749997],[-89.36259765624999,14.416015625]]]},properties:{name:"El Salvador",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[48.938574218750006,11.258447265624994],[48.938085937500006,9.451757812499991],[47.97822265625001,7.9970703125],[46.97822265625001,7.9970703125],[44.02285156250002,8.986035156249997],[43.482519531250006,9.379492187499991],[43.181640625,9.879980468749991],[42.84160156250002,10.203076171874997],[42.65957031250002,10.621386718749989],[42.92275390625002,10.999316406249989],[43.24599609375002,11.499804687499989],[43.85273437500001,10.784277343749991],[44.38652343750002,10.430224609374989],[44.942968750000006,10.436718749999997],[45.81669921875002,10.835888671874997],[46.565039062500006,10.745996093749994],[47.40498046875001,11.174023437499997],[48.01923828125001,11.139355468749997],[48.674414062500006,11.322656249999994],[48.938574218750006,11.258447265624994]]]},properties:{name:"Somaliland",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[41.88398437500001,3.977734374999997],[41.91533203125002,4.031298828124989],[42.02412109375001,4.137939453125],[42.791601562500006,4.2919921875],[43.01601562500002,4.5633300781249915],[43.53828125000001,4.84033203125],[44.02812500000002,4.950976562499989],[44.940527343750006,4.912011718749994],[45.93496093750002,5.997216796874994],[47.97822265625001,7.9970703125],[48.938085937500006,9.451757812499991],[48.938574218750006,11.258447265624994],[50.11005859375001,11.529296875],[50.79228515625002,11.983691406249989],[51.2548828125,11.830712890624994],[51.08427734375002,11.335644531249997],[51.140625,10.656884765624994],[50.8984375,10.253124999999997],[50.82500000000002,9.428173828124997],[50.429785156250006,8.845263671874989],[50.10283203125002,8.199804687499991],[49.34853515625002,6.990527343749989],[49.04931640625,6.173632812499989],[48.649023437500006,5.494384765625],[47.97529296875001,4.497021484374997],[46.87880859375002,3.28564453125],[46.05117187500002,2.4751464843749886],[44.92021484375002,1.8101562499999915],[44.33271484375001,1.3909667968749915],[43.46767578125002,.6216308593749886],[41.97988281250002,-.9730468750000085],[41.73222656250002,-1.4300781250000085],[41.52187500000002,-1.572265625],[41.42695312500001,-1.4495117187500028],[41.24980468750002,-1.2205078125000028],[40.97871093750001,-.8703125000000114],[40.97001953125002,1.378173828125],[40.964453125000006,2.814648437499997],[41.341796875,3.20166015625],[41.61347656250001,3.5904785156249943],[41.88398437500001,3.977734374999997]]]},properties:{name:"Somalia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[21.431445312500017,45.192529296874994],[21.384375000000034,44.87006835937501],[22.687890625000023,44.248291015625],[22.42080078125005,44.00742187500006],[22.399023437500063,43.96953124999996],[22.36542968750004,43.86210937500002],[22.36962890625003,43.78129882812499],[22.386914062500068,43.74013671875005],[22.39482421874999,43.70664062500006],[22.436328125000017,43.66547851562501],[22.47412109375,43.60224609375001],[22.55458984375005,43.45449218750002],[22.767578125,43.35415039062502],[22.81972656250005,43.300732421874955],[22.85957031250001,43.252343749999966],[22.97685546874999,43.18798828125],[22.799902343750006,42.985742187499994],[22.466796875,42.842480468749955],[22.465625000000045,42.75078125000002],[22.46328125000008,42.70947265625003],[22.436230468749983,42.62910156250001],[22.523535156250006,42.440966796875045],[22.44570312500005,42.35913085937497],[22.42207031250004,42.32885742187503],[22.344042968750045,42.31396484375003],[22.23974609375003,42.35815429687506],[22.146679687500068,42.325000000000045],[22.052050781250074,42.30463867187498],[21.904101562500045,42.32207031249999],[21.56249999999997,42.24750976562498],[21.541601562499977,42.28081054687502],[21.51894531250008,42.32841796875002],[21.52998046875001,42.349999999999994],[21.390625000000057,42.751416015624955],[21.057031250000023,43.09169921875002],[20.339941406250063,42.89287109375002],[19.670996093750006,43.163964843749994],[19.19433593749997,43.533300781250006],[19.583789062500017,44.04345703125003],[19.15185546875003,44.302539062500045],[19.35683593750005,44.858544921874994],[19.007128906250045,44.86918945312502],[19.055078125000023,45.527246093749966],[18.905371093750006,45.931738281250034],[19.421289062500023,46.064453125],[19.61347656250001,46.169189453125],[20.161425781250017,46.14189453124996],[20.210156250000068,46.12602539062502],[20.241796875000034,46.10859375000001],[20.35859375000004,45.975488281249994],[20.775000000000034,45.74980468750002],[20.774218750000074,45.484423828125045],[21.431445312500017,45.192529296874994]]]},properties:{name:"Republic of Serbia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-54.03422851562499,3.62939453125],[-54.203125,3.13818359375],[-54.17070312499999,2.993603515624997],[-54.18808593749999,2.8748535156249915],[-54.1955078125,2.81787109375],[-54.256738281249994,2.7137207031249915],[-54.402001953124994,2.4615234374999915],[-54.53593749999999,2.3433105468749886],[-54.56840820312499,2.3425781249999886],[-54.604736328125,2.3357910156249915],[-54.61625976562499,2.3267578124999915],[-54.661865234375,2.3275390624999943],[-54.697412109374994,2.359814453124997],[-54.72221679687499,2.441650390625],[-54.766845703125,2.4547363281249943],[-54.85166015624999,2.4395507812499915],[-54.87607421874999,2.450390624999997],[-54.92656249999999,2.4973632812499886],[-54.968408203124994,2.54833984375],[-54.978662109374994,2.59765625],[-55.005810546875,2.592968749999997],[-55.0703125,2.54833984375],[-55.11411132812499,2.5392089843749943],[-55.1876953125,2.5475097656249943],[-55.286035156249994,2.4996582031249943],[-55.343994140625,2.48876953125],[-55.38535156249999,2.440624999999997],[-55.73056640624999,2.4061523437499943],[-55.935937499999994,2.5166015625],[-56.02036132812499,2.392773437499997],[-56.087792968749994,2.34130859375],[-56.12939453125,2.299511718749997],[-56.019921874999994,1.8422363281249972],[-56.482812499999994,1.942138671875],[-56.704345703125,2.0364746093749915],[-57.20981445312499,2.8828125],[-57.303662109375,3.3770996093749943],[-57.54960937499999,3.3528320312499886],[-57.832666015624994,3.675976562499997],[-58.05449218749999,4.171923828124989],[-57.711083984374994,4.9910644531249915],[-57.331005859375,5.020166015624994],[-57.194775390625,5.5484374999999915],[-56.96982421874999,5.992871093749997],[-55.93955078124999,5.795458984374989],[-55.82817382812499,5.961669921875],[-54.83369140625,5.988330078124989],[-54.05419921875,5.807910156249989],[-54.15595703125,5.3589843749999915],[-54.45219726562499,5.013476562499989],[-54.350732421874994,4.054101562499994],[-54.03422851562499,3.62939453125]]]},properties:{name:"Suriname",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[22.538671875000006,49.072705078125],[22.52412109375001,49.031396484374994],[22.432031250000023,48.933544921875],[22.389453125000017,48.873486328125],[22.295214843750017,48.685839843749996],[22.142871093750017,48.568505859374994],[22.1318359375,48.405322265624996],[21.45136718750001,48.55224609375],[20.490039062500017,48.526904296874996],[19.89863281250001,48.13134765625],[18.914160156250006,48.050830078124996],[18.724218750000006,47.787158203124996],[17.76191406250001,47.770166015624994],[17.147363281250023,48.00595703125],[16.953125,48.598828125],[17.1884765625,48.8609375],[17.75849609375001,48.888134765625],[18.160937500000017,49.257373046874996],[18.83222656250001,49.510791015624996],[19.44160156250001,49.597705078124996],[19.80224609375,49.192333984375],[20.616113281250023,49.39169921875],[21.6396484375,49.411962890625],[22.538671875000006,49.072705078125]]]},properties:{name:"Slovakia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[16.516210937500006,46.499902343749994],[16.427636718750023,46.5244140625],[16.321191406250023,46.534619140625],[16.1064453125,46.382226562499994],[16.00068359375001,46.30537109375],[15.784277343750006,46.233984375],[15.704199218750006,46.213232421875],[15.635937500000011,46.200732421874996],[15.608984375000006,46.171923828124996],[15.592578125000017,46.139990234375],[15.596875000000011,46.109228515625],[15.666210937500011,46.048486328124994],[15.668066406250006,45.904443359374994],[15.652148437500017,45.862158203125],[15.624804687500017,45.834033203124996],[14.95458984375,45.499902343749994],[13.878710937500017,45.428369140624994],[13.831152343750006,45.680419921875],[13.663476562500023,45.7919921875],[13.420996093750006,46.212304687499994],[13.399511718750006,46.317529296874994],[13.6796875,46.462890625],[13.700000000000017,46.520263671875],[14.503515625000006,46.417041015624996],[15.000683593750011,46.6259765625],[15.957617187500006,46.677636718749994],[16.093066406250017,46.86328125],[16.516210937500006,46.499902343749994]]]},properties:{name:"Slovenia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[19.076464843750045,57.8359375],[18.699902343750068,57.24272460937502],[18.136523437500045,57.55664062500003],[18.53740234374999,57.83056640625006],[19.076464843750045,57.8359375]]],[[[24.15546875000004,65.80527343750006],[23.102343750000074,65.73535156250003],[21.565527343750063,65.40810546874997],[21.138183593750057,64.80869140625006],[21.46503906250001,64.37958984375004],[20.76269531250003,63.86782226562505],[19.034374999999983,63.23774414062501],[18.46308593750004,62.895849609375006],[17.895605468749977,62.83051757812501],[17.417285156250074,61.74067382812504],[17.13076171875005,61.57573242187499],[17.25097656250003,60.700781250000006],[17.955761718750068,60.589794921874955],[18.557519531250023,60.25356445312502],[18.970507812500045,59.757226562499994],[18.285351562500068,59.10937499999997],[17.45673828125001,58.8583984375],[16.651953125000006,58.43432617187503],[16.527929687500063,57.06816406249999],[15.996679687500006,56.22260742187501],[14.782031250000017,56.16191406250002],[14.21503906250004,55.83261718749998],[14.341699218749994,55.52773437500002],[13.321386718750063,55.34638671875004],[12.592578124999989,56.13759765625002],[12.883691406250051,56.61772460937496],[12.421484375000034,56.906396484374966],[11.449316406250063,58.118359374999955],[11.14716796875004,58.98862304687498],[11.388281250000063,59.036523437499966],[11.798144531250074,59.28989257812498],[11.680761718750034,59.59228515625003],[12.486132812500074,60.10678710937506],[12.588671874999989,60.450732421875045],[12.29414062500004,61.00268554687506],[12.88076171875008,61.35229492187506],[12.155371093750006,61.720751953125045],[12.303515625000074,62.28559570312501],[12.218164062500023,63.00063476562502],[11.999902343750051,63.29169921875001],[12.662500000000023,63.94047851562502],[13.960546875000063,64.01401367187498],[14.077636718750028,64.464013671875],[13.650292968750023,64.58154296874997],[14.47968750000004,65.30146484374998],[14.543261718750045,66.12934570312498],[15.422949218750006,66.48984374999998],[16.40351562500004,67.05498046875002],[16.12744140625,67.42583007812507],[17.324609375000023,68.10380859374999],[17.91669921875001,67.96489257812502],[18.378613281250068,68.56240234374997],[19.969824218750063,68.35639648437501],[20.622167968750006,69.036865234375],[21.99746093750005,68.52060546874998],[22.78242187500001,68.39101562499997],[23.63886718750004,67.95439453125002],[23.468066406250074,67.449951171875],[23.988574218750045,66.81054687500003],[23.70117187500003,66.48076171874999],[24.15546875000004,65.80527343750006]]]]},properties:{name:"Sweden",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[31.9482421875,-25.957617187500006],[32.04140625000002,-26.28125],[32.10595703125,-26.52001953125],[32.112890625000006,-26.839453125000006],[32.02480468750002,-26.811132812500006],[31.994726562500006,-26.817480468750006],[31.967187500000023,-26.96064453125001],[31.946093750000017,-27.173632812500003],[31.958398437500023,-27.30585937500001],[31.742578125000023,-27.30996093750001],[31.469531250000017,-27.295507812500006],[31.274023437500006,-27.238378906250006],[31.063378906250023,-27.1123046875],[30.794335937500023,-26.764257812500006],[30.803320312500006,-26.41347656250001],[31.207324218750017,-25.843359375000006],[31.415136718750006,-25.74658203125],[31.921679687500017,-25.96875],[31.9482421875,-25.957617187500006]]]},properties:{name:"Swaziland",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[42.358984375000006,37.10859375],[41.78857421875,36.59716796875],[41.41679687500002,36.5146484375],[41.24560546875,36.073388671874994],[41.354101562500006,35.640429687499996],[41.19472656250002,34.768994140625],[40.98701171875001,34.429052734375],[40.689453125,34.33203125],[38.773535156250006,33.372216796874994],[36.818359375,32.317285156249994],[36.3720703125,32.3869140625],[35.78730468750001,32.734912109374996],[35.869140625,33.43173828125],[35.9423828125,33.667578125],[36.5849609375,34.221240234374996],[36.43300781250002,34.6134765625],[35.97626953125001,34.629199218749996],[35.94306640625001,35.223828125],[35.76445312500002,35.571582031249996],[36.12734375000002,35.831445312499994],[36.53750000000002,36.457421874999994],[36.54667968750002,36.50634765625],[36.59687500000001,36.7013671875],[36.62841796875,36.777685546875],[36.65859375000002,36.802539062499996],[36.77656250000001,36.79267578125],[36.94179687500002,36.7583984375],[36.9853515625,36.702392578125],[37.06621093750002,36.652636718749996],[37.43632812500002,36.643310546875],[37.523535156250006,36.6783203125],[37.720312500000006,36.743701171874996],[37.90664062500002,36.79462890625],[38.19169921875002,36.9015625],[38.7666015625,36.693115234375],[39.1083984375,36.680566406249994],[39.35664062500001,36.681591796875],[39.50146484375,36.70224609375],[39.6865234375,36.738623046875],[40.01640625000002,36.826074218749994],[40.705664062500006,37.097705078124996],[41.886816406250006,37.156396484374994],[42.358984375000006,37.10859375]]]},properties:{name:"Syria",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[23.980273437500017,19.496630859375003],[23.982226562500017,17.266357421875],[23.9833984375,15.780175781249994],[23.10517578125001,15.702539062499994],[22.93232421875001,15.162109375],[22.6708984375,14.722460937500003],[22.38154296875001,14.550488281249997],[22.50996093750001,14.12744140625],[22.10761718750001,13.730322265624991],[22.228125000000006,13.32958984375],[21.825292968750006,12.79052734375],[22.352343750000017,12.660449218749989],[22.55634765625001,11.669531249999991],[22.922656250000017,11.344873046874994],[22.86005859375001,10.919677734375],[22.49384765625001,10.996240234374994],[21.70654296875,10.574804687499991],[21.72578125000001,10.366552734374991],[21.26386718750001,9.974609375],[20.773242187500017,9.405664062499994],[20.342089843750017,9.127099609374994],[19.1455078125,9.015966796874991],[19.108691406250017,8.656152343749994],[18.455078125,8.032031249999989],[17.6494140625,7.983593749999997],[16.784765625000006,7.550976562499997],[16.37890625,7.683544921874997],[15.845019531250017,7.475292968749997],[15.480078125000006,7.5237792968749915],[15.442968750000006,7.851855468749989],[15.1162109375,8.557324218749997],[14.332324218750017,9.203515624999994],[13.977246093750011,9.691552734374994],[14.243261718750006,9.979736328125],[15.540917968750023,9.960302734374991],[15.276074218750011,10.357373046874997],[15.029882812500006,11.113671874999994],[15.081250000000011,11.845507812499989],[14.76123046875,12.655615234374991],[14.516210937500006,12.979736328125],[14.244824218750011,13.077343749999997],[14.06396484375,13.078515624999994],[13.932324218750011,13.258496093749997],[13.606347656250023,13.70458984375],[13.505761718750023,14.134423828124994],[13.4482421875,14.380664062500003],[14.367968750000017,15.750146484374994],[15.474316406250011,16.908398437499997],[15.735058593750011,19.904052734375],[15.948828125000006,20.303173828124997],[15.587109375000011,20.733300781249994],[15.607324218750023,20.954394531250003],[15.181835937500011,21.523388671874997],[15.172265625000023,21.922070312499997],[14.97900390625,22.99619140624999],[15.984082031250011,23.445214843749994],[18.231347656250023,22.33554687499999],[19.668554687500006,21.62583007812499],[21.5849609375,20.679492187500003],[23.980273437500017,19.496630859375003]]]},properties:{name:"Chad",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[.9004882812500057,10.993261718749991],[.7799804687500114,10.359570312499997],[1.330078125,9.996972656249994],[1.42431640625,9.285009765624991],[1.6001953125000057,9.050048828125],[1.6226562500000057,6.216796875],[1.1872070312500114,6.089404296874989],[.7369140625000057,6.452587890624997],[.5255859375000114,6.8509277343749915],[.634765625,7.353662109374994],[.5835937500000057,8.145800781249989],[.6880859375000057,8.304248046874989],[.41533203125001705,8.652734374999994],[.5290039062500114,9.358300781249994],[.26191406250001137,9.49560546875],[.36269531250002274,10.236474609374994],[-.05771484374997726,10.630615234375],[-.068603515625,11.115624999999994],[.9004882812500057,10.993261718749991]]]},properties:{name:"Togo",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[100.12246093750005,20.316650390625057],[100.31796875000006,20.38588867187505],[100.51953125000003,20.17792968750004],[100.53994140625,20.13237304687499],[100.54306640625012,20.088671875000074],[100.51455078125,19.996337890625],[100.39765625000004,19.756103515625],[100.62548828125003,19.499853515625006],[101.1546875,19.579199218750006],[101.22080078125006,19.486621093750074],[101.19755859375007,19.327929687500074],[101.2863281250001,18.977148437500006],[101.16552734375003,18.618310546874994],[101.10634765625005,18.533544921875063],[101.06044921875,18.479003906250057],[101.05058593750002,18.407031250000045],[101.11328125000003,18.033544921874977],[100.90849609375002,17.583886718750023],[101.10517578125004,17.47954101562499],[101.68750000000003,17.889404296875],[101.77480468750005,18.03339843750004],[101.81865234375002,18.06464843750001],[101.87548828124997,18.046435546875017],[101.94746093750004,18.081494140624983],[102.03457031250005,18.169824218750023],[102.10146484375,18.210644531249983],[102.14824218750002,18.20385742187503],[102.23164062500004,18.148974609375045],[102.35185546875002,18.045947265625017],[102.71757812500002,17.892236328124966],[103.05136718750006,18.02851562500001],[103.36699218750007,18.42333984374997],[103.62968750000002,18.38256835937503],[103.79228515625002,18.316503906249977],[103.89882812500005,18.295312500000023],[103.949609375,18.31899414062505],[104.04873046875005,18.216699218749994],[104.42812500000005,17.69897460937503],[104.81601562500012,17.30029296874997],[104.75898437500004,17.0771484375],[104.75058593750012,16.647558593750063],[104.81933593750003,16.46606445312503],[104.94990234375004,16.339941406250006],[105.02578125000005,16.23798828125001],[105.04716796875007,16.160253906249977],[105.14873046875007,16.09355468749999],[105.33066406250006,16.037890625000017],[105.40625000000003,15.987451171875051],[105.37324218750004,15.889697265625017],[105.39892578124997,15.829882812500017],[105.46201171875012,15.780419921874966],[105.62207031250003,15.699951171875],[105.51318359374997,15.360888671875031],[105.47558593750003,14.530126953124977],[105.34218750000005,14.416699218750054],[105.24365234375003,14.367871093750054],[105.1833007812501,14.346240234374989],[105.16914062500004,14.336083984374966],[105.12597656250003,14.280957031250011],[105.07412109375005,14.227441406250037],[104.96972656249997,14.366113281250051],[104.77900390625004,14.427832031250006],[103.19941406250004,14.332617187499977],[102.72890625,13.841894531250006],[102.31972656250005,13.539990234375054],[102.49960937500012,12.669970703125003],[102.75566406250002,12.42626953125],[102.73662109375007,12.089794921875011],[102.93388671875002,11.706689453125037],[102.76298828125002,12.012451171874986],[101.72363281250003,12.689355468750037],[101.44492187500006,12.618945312499989],[100.86328124999997,12.714501953125009],[100.96269531250007,13.431982421874991],[100.65605468750002,13.521289062499974],[100.01748046875,13.353173828125009],[100.08994140625006,13.045654296874972],[99.96396484375006,12.690039062500006],[99.98906250000007,12.170800781249994],[99.62734375,11.462890625000014],[99.48691406250006,10.889550781250009],[99.16503906250003,10.319824218750028],[99.16074218750006,9.734033203124966],[99.39384765625002,9.21372070312502],[99.7238281250001,9.314208984374972],[99.9046875,9.112890624999991],[99.96064453125004,8.671240234374991],[100.27939453125006,8.268505859375011],[100.453515625,7.442285156249994],[100.58623046875002,7.175976562500011],[101.01787109375002,6.860937500000034],[101.49794921875005,6.865283203125031],[102.10107421874997,6.242236328125031],[101.87363281250012,5.8252929687499915],[101.5560546875,5.907763671875003],[101.2570312500001,5.7893554687500455],[101.05351562500002,6.2425781250000085],[100.3454101562501,6.549902343750006],[100.11914062499997,6.441992187500048],[99.69599609375004,6.87666015625004],[99.72031250000012,7.106201171875],[99.05107421875002,7.887841796874994],[98.57919921875006,8.344287109374989],[98.23818359375005,8.423095703124972],[98.37138671875002,9.290527343750028],[98.70253906250005,10.19038085937504],[98.7572265625,10.660937499999974],[99.1901367187501,11.105273437499989],[99.61474609374997,11.781201171875026],[99.40507812500002,12.547900390625003],[99.21982421875012,12.73974609375],[99.13681640625006,13.716699218749994],[98.24599609375005,14.814746093750045],[98.19101562500012,15.204101562499972],[98.56523437500007,15.403564453125014],[98.68925781250002,16.30541992187497],[98.4388671875,16.975683593750034],[97.79296875000003,17.681250000000063],[97.48496093750006,18.494238281250034],[97.75400390625006,18.620800781249983],[97.816796875,19.459960937500057],[98.23906250000002,19.69067382812497],[98.9166992187501,19.77290039062504],[99.02070312500004,20.041796875000017],[99.33789062499997,20.078906250000017],[99.8903320312501,20.424414062499977],[100.12246093750005,20.316650390625057]]]},properties:{name:"Thailand",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[70.95800781250003,40.238867187500034],[70.59921875,39.974511718749994],[69.96679687499997,40.202246093750034],[69.47099609375002,39.990624999999994],[69.22910156250006,39.761083984375034],[69.29765625000007,39.52480468750005],[69.59882812500004,39.57377929687499],[69.7720703125,39.55673828124998],[70.13681640625006,39.55756835937498],[70.17109375000004,39.58417968749998],[70.20927734375007,39.57499999999996],[70.24482421875004,39.54262695312502],[70.6078125,39.56440429687504],[70.67861328125005,39.47128906249998],[70.73310546875004,39.41328124999998],[70.79931640625003,39.39472656250001],[71.00488281249997,39.41186523437503],[71.06503906250006,39.49340820312506],[71.11806640625005,39.513574218749966],[71.27285156250005,39.535302734374966],[71.328515625,39.568701171875006],[71.40429687499997,39.59785156250001],[71.73222656250002,39.422998046874994],[72.63994140625002,39.385986328125],[73.2349609375,39.37456054687499],[73.3361328125001,39.41235351562506],[73.38740234375004,39.442724609375034],[73.4704101562501,39.46059570312502],[73.63164062500007,39.44887695312502],[73.63632812500006,39.396679687499955],[73.60732421875,39.229199218749955],[73.7956054687501,39.00214843749998],[73.80166015625,38.60688476562501],[74.27744140625,38.659765625000034],[74.74501953125,38.51000976562497],[74.89130859375004,37.231640624999955],[74.65937500000004,37.39448242187501],[74.25966796875005,37.41542968750002],[74.20351562500005,37.37246093750005],[74.16708984375,37.32944335937498],[73.74960937500006,37.23178710937498],[73.6535156250001,37.239355468750034],[73.72060546875,37.41874999999999],[73.65712890625005,37.43046874999996],[73.63261718750002,37.43720703125001],[73.6046875000001,37.44604492187503],[73.48134765625,37.4716796875],[73.38291015625006,37.462255859375034],[73.21113281250004,37.40849609375002],[72.89550781250003,37.26752929687498],[72.65742187500004,37.029052734375],[71.665625,36.696923828124994],[71.530859375,36.845117187499994],[71.43291015625007,37.12753906249998],[71.5050781250001,37.60292968750002],[71.58037109375007,37.86425781250006],[71.5822265625001,37.91010742187498],[71.55195312500004,37.93315429687496],[71.48779296874997,37.93188476562497],[71.38964843750003,37.90629882812502],[71.31992187500006,37.90185546875],[71.27851562500004,37.91840820312498],[71.2828125,38.007910156250006],[71.33271484375004,38.170263671875034],[71.25585937499997,38.306982421875006],[70.87890624999997,38.45639648437498],[70.41777343750002,38.075439453125],[70.25146484374997,37.66416015625006],[69.9849609375,37.566162109375],[69.8208984375,37.60957031250004],[69.62578125000002,37.59404296874999],[69.49208984375,37.55307617187498],[69.42011718750004,37.486718749999966],[69.39921875000007,37.39931640625002],[69.42968749999997,37.290869140625034],[69.414453125,37.20776367187497],[69.35380859375007,37.15004882812502],[69.3039062500001,37.11694335937503],[69.26484375000004,37.1083984375],[69.18017578125003,37.158300781250034],[68.96044921875003,37.32504882812498],[68.6691406250001,37.258398437500006],[68.3869140625001,37.13749999999996],[68.2121093750001,37.02153320312496],[68.0677734375,36.949804687500006],[67.95800781249997,36.972021484375006],[67.83447265624997,37.06420898437506],[67.75898437500004,37.172216796875034],[67.7980468750001,37.244970703125006],[67.81435546875005,37.48701171875004],[68.29404296875006,38.032910156249955],[68.04785156250003,38.669287109375006],[68.10351562499997,38.96201171875006],[67.67656250000002,39.00849609375001],[67.34960937499997,39.242089843749994],[67.71904296875007,39.62138671875002],[68.46328125,39.53671874999998],[68.6525390625001,40.182666015625045],[69.22832031250007,40.18759765624998],[69.2062500000001,40.566552734374994],[69.71289062500003,40.65698242187503],[70.44150390625006,41.0234375],[70.75097656250003,40.739599609375006],[70.38261718750002,40.453515624999966],[70.95800781250003,40.238867187500034]]]},properties:{name:"Tajikistan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[66.52226562500007,37.34848632812506],[66.4718750000001,37.3447265625],[66.35029296875004,37.36816406249997],[66.10839843750003,37.414746093749955],[65.7650390625,37.56914062499996],[65.55498046875002,37.25117187500004],[65.30361328125005,37.24677734375001],[65.08964843750007,37.237939453124994],[64.9515625,37.19355468750001],[64.81630859375005,37.13208007812503],[64.7824218750001,37.05927734375001],[64.75312500000004,36.964794921874955],[64.60253906250003,36.554541015625034],[64.51103515625002,36.34067382812498],[64.18437500000002,36.14892578125],[63.8625000000001,36.012353515624994],[63.30166015625005,35.85839843749997],[63.1789062500001,35.85844726562499],[63.12998046875006,35.84619140624997],[63.10859375000004,35.81870117187506],[63.12998046875006,35.76674804687505],[63.15078125000005,35.72827148437503],[63.169726562500074,35.67812500000002],[63.05664062500003,35.44580078125003],[62.98027343750002,35.40917968750003],[62.85800781250006,35.34965820312499],[62.72265625000003,35.271337890625006],[62.688085937500006,35.25532226562504],[62.6105468750001,35.23315429687506],[61.98388671874997,35.443701171875034],[61.54277343750002,35.457861328125006],[61.34472656249997,35.62949218750006],[61.26201171875002,35.61958007812498],[61.11962890625003,36.64257812500003],[60.34130859375003,36.63764648437501],[60.06279296875002,36.962890625],[59.5622070312501,37.178906249999955],[59.240820312500006,37.52075195312497],[58.81542968750003,37.683496093749994],[58.4357421875001,37.63852539062498],[57.42382812500003,37.94770507812501],[57.1935546875001,38.216406250000034],[56.4406250000001,38.249414062499994],[56.22880859375002,38.07338867187502],[55.57841796875002,38.099755859374994],[55.075585937499994,37.90249023437502],[54.745214843750006,37.501904296874955],[53.91416015625006,37.34355468750002],[53.823535156250074,37.92792968749998],[53.86865234375003,38.949267578125045],[53.61757812500005,39.21596679687502],[53.12480468750002,39.43208007812498],[53.472265625000006,39.66879882812498],[53.404199218749994,39.96035156250005],[52.98750000000004,39.98759765625002],[52.73369140625002,40.39873046875002],[53.1452148437501,40.82495117187497],[53.87001953125005,40.64868164062503],[54.710058593750006,40.89111328125006],[54.592187499999994,41.19355468750001],[54.094824218750006,41.51938476562506],[53.846484375000074,42.091162109375006],[52.97001953125002,41.97622070312505],[52.4938476562501,41.780371093750034],[53.25009765625006,42.20585937500002],[54.120996093749994,42.335205078125],[54.90371093750005,41.91909179687505],[55.54521484375002,41.26274414062499],[55.97744140625005,41.32221679687504],[57.017968749999994,41.26347656249996],[56.96406250000004,41.856542968750006],[57.38173828125005,42.15629882812496],[57.814257812500074,42.18984375000005],[58.25966796875005,42.688085937500034],[58.5890625000001,42.778466796874966],[59.451074218749994,42.29951171875001],[59.858300781249994,42.295166015625],[60.10693359374997,41.90742187499998],[60.089648437500074,41.39941406250003],[60.454980468749994,41.221630859374955],[61.32890625000002,41.19511718749999],[61.953515624999994,41.030615234375034],[62.095019531250074,40.68330078124998],[62.65068359375002,39.858496093750006],[64.16279296875004,38.95361328125003],[65.612890625,38.23857421875002],[65.8571289062501,38.26875000000004],[66.629296875,37.932031249999994],[66.52558593750004,37.785742187500034],[66.51132812500006,37.59916992187496],[66.51064453125,37.45869140625004],[66.52226562500007,37.34848632812506]]]},properties:{name:"Turkmenistan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[125.06816406250002,-9.511914062499997],[124.92226562500005,-8.942480468749977],[125.17802734375002,-8.647851562499994],[125.80429687500006,-8.4921875],[126.61972656250006,-8.459472656249986],[126.91523437500004,-8.715234374999966],[126.38251953125004,-8.957617187499963],[125.40800781250002,-9.275781250000023],[125.06816406250002,-9.511914062499997]]]},properties:{name:"East Timor",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-61.012109374999966,10.134326171874989],[-61.59667968750003,10.064648437499997],[-61.464746093749966,10.538964843749994],[-61.03374023437502,10.669873046875026],[-61.012109374999966,10.134326171874989]]]},properties:{name:"Trinidad and Tobago",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[10.274609375000011,31.684960937499994],[10.114941406250068,31.46376953125005],[10.216406250000063,30.78320312500003],[10.05976562500004,30.58007812500003],[9.932519531250051,30.42534179687496],[9.895019531250028,30.387304687500034],[9.807421875000045,30.342236328124983],[9.51875000000004,30.229394531249994],[9.4580078125,30.465380859375045],[9.363281250000057,30.832910156250023],[9.224023437500023,31.373681640624994],[9.160253906250006,31.621337890625],[9.044042968750034,32.072363281250034],[8.333398437500051,32.54360351562502],[8.210937500000057,32.92670898437501],[7.877246093750017,33.172119140625],[7.762695312500028,33.23310546874998],[7.627539062500034,33.54863281249996],[7.534375000000068,33.717919921874994],[7.500195312500011,33.83247070312498],[7.495605468750057,33.97651367187501],[7.513867187500068,34.080517578124955],[8.24560546875,34.73408203124998],[8.276855468750057,34.97949218749997],[8.312109375000063,35.084619140624994],[8.394238281250011,35.20385742187503],[8.318066406250011,35.654931640624994],[8.348730468750063,36.367968750000045],[8.207617187500006,36.518945312499994],[8.444238281250051,36.76074218750003],[8.601269531250068,36.83393554687504],[8.576562500000023,36.93720703125001],[9.687988281250057,37.34038085937499],[10.196386718750063,37.205859375000045],[10.571289062500057,36.87944335937496],[11.12666015625004,36.874072265625045],[10.525683593749989,36.323339843750006],[10.590820312500028,35.88725585937499],[11.00429687500008,35.63383789062496],[11.120117187500057,35.24028320312499],[10.534863281250011,34.544726562500045],[10.200390625000068,34.34604492187506],[10.158984375000074,33.85004882812501],[10.722753906250006,33.514404296875],[11.084570312500006,33.56289062500002],[11.202636718749972,33.24921874999998],[11.50458984375004,33.181933593750045],[11.502441406250028,33.15556640624999],[11.467187500000051,32.96572265625005],[11.453906250000017,32.64257812500003],[11.533789062500034,32.52495117187496],[11.535937500000017,32.47333984375001],[11.504980468750034,32.413671875000034],[11.358007812500006,32.34521484375003],[11.168261718750074,32.25673828125002],[11.005175781250074,32.17270507812506],[10.826367187500068,32.080664062500034],[10.771582031250006,32.02119140625001],[10.60888671875,31.929541015624977],[10.47578125000004,31.736035156249983],[10.274609375000011,31.684960937499994]]]},properties:{name:"Tunisia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[43.43339843750002,41.155517578125],[43.43945312500003,41.10712890625001],[43.72265624999997,40.71953124999999],[43.56933593750003,40.48237304687498],[43.79169921875004,40.07026367187498],[44.28925781250004,40.040380859375006],[44.76826171875004,39.70351562500005],[44.81718750000002,39.65043945312496],[44.02324218750002,39.37744140625006],[44.43085937500004,38.356787109375034],[44.211328124999994,37.908056640625006],[44.56123046875004,37.74462890625003],[44.76513671875003,37.142431640625006],[44.73095703124997,37.16528320312503],[44.66933593750005,37.17358398437503],[44.60595703124997,37.176025390625],[44.566015625000006,37.15825195312502],[44.401953125000006,37.05849609375002],[44.325585937499994,37.0107421875],[44.28183593750006,36.97802734374997],[44.24570312500006,36.983300781249994],[44.20166015624997,37.05180664062502],[44.208398437499994,37.20263671875],[44.191796874999994,37.249853515625034],[44.15624999999997,37.28295898437503],[44.11445312500004,37.30185546875006],[44.01318359375003,37.313525390625045],[43.51582031250004,37.24453125000002],[42.77460937500004,37.37187500000002],[41.886816406250006,37.156396484374994],[40.70566406250006,37.09770507812502],[40.4503906250001,37.00888671875006],[40.016406250000074,36.82607421875002],[39.68652343749997,36.73862304687506],[39.50146484374997,36.702246093750034],[39.35664062500004,36.68159179687498],[39.10839843749997,36.68056640625005],[38.76660156249997,36.69311523437503],[38.19169921875002,36.90156250000004],[37.90664062500005,36.79462890625001],[37.720312500000006,36.74370117187502],[37.52353515625006,36.678320312500034],[37.436328125000074,36.643310546875],[37.327050781249994,36.64658203125006],[37.18740234375005,36.655908203124994],[37.066210937500074,36.652636718750045],[36.98535156250003,36.70239257812506],[36.941796874999994,36.758398437500006],[36.77656250000004,36.79267578124998],[36.65859375000005,36.80253906250002],[36.62841796875003,36.777685546875034],[36.5968750000001,36.70136718750001],[36.546679687500074,36.50634765625],[36.537499999999994,36.457421874999966],[36.127343749999994,35.831445312499994],[35.81093750000005,36.30986328125002],[36.18847656250003,36.65898437499999],[36.048925781250006,36.91059570312501],[35.537402343750074,36.59702148437498],[34.601367187500074,36.78447265624999],[33.694726562499994,36.18198242187498],[32.794824218749994,36.03588867187497],[32.37773437500002,36.18364257812496],[32.02197265625003,36.53530273437502],[31.35253906249997,36.80107421874999],[30.64404296874997,36.86567382812501],[30.48359375000004,36.310400390625034],[29.689062500000006,36.15668945312498],[29.14326171875001,36.39721679687506],[29.03828125000004,36.693457031250006],[28.48359375000001,36.803808593750006],[28.13369140625005,37.02949218749998],[27.348925781250045,37.01958007812502],[27.077832031250068,37.687695312499955],[27.23242187500003,37.978662109374994],[26.68281250000004,38.198339843750006],[26.763671875,38.709619140624966],[27.013671875000057,38.88686523437502],[26.68183593750004,39.292236328125],[26.113085937500074,39.46738281249998],[26.18134765625004,39.99008789062498],[26.738085937500045,40.40024414062506],[27.4755859375,40.319921875000034],[28.2890625,40.40302734374998],[29.36474609375003,40.80927734374998],[29.32226562499997,41.227734374999955],[31.25488281249997,41.10761718750001],[31.45800781249997,41.32001953125004],[32.306445312500074,41.72958984374998],[33.38134765625003,42.01757812500003],[34.75048828124997,41.95683593749999],[35.297753906249994,41.72851562500003],[36.05175781249997,41.68256835937498],[36.509667968749994,41.262500000000045],[38.38105468750004,40.92451171875001],[39.426367187500006,41.10644531250003],[40.26523437500006,40.96132812500005],[40.95947265624997,41.21162109374998],[41.41435546875002,41.42363281249999],[41.510058593750074,41.51748046875002],[41.70175781250006,41.471582031249994],[41.77939453125006,41.44052734374998],[41.823535156250074,41.432373046875],[41.92578125000003,41.49565429687502],[42.466406250000006,41.43984375000002],[42.787890625000074,41.56372070312503],[43.43339843750002,41.155517578125]]],[[[26.03896484375008,40.726757812499955],[26.62490234375008,41.401757812499994],[26.320898437500034,41.716552734375],[26.549707031250023,41.896728515625],[26.579687500000006,41.947949218749955],[26.615332031250063,41.964892578125045],[26.884863281250006,41.99184570312502],[26.96875000000003,42.02685546875006],[27.01171875,42.05864257812496],[27.193359375000057,42.07709960937498],[27.24433593750004,42.09326171875],[27.294921875000057,42.079541015624955],[27.362890625000034,42.02504882812505],[27.47480468750001,41.946875000000006],[27.53486328125001,41.92080078125002],[27.661132812500057,41.96132812500002],[27.80166015625008,41.95654296875003],[27.831933593750023,41.981298828125006],[27.879199218750074,41.98662109375002],[28.014453125000017,41.96904296874999],[28.197851562500063,41.55449218750002],[29.057226562500006,41.22973632812503],[28.780371093749977,40.97416992187499],[28.172167968750074,41.08071289062502],[27.49941406250005,40.97314453124997],[27.258007812499983,40.687353515625006],[26.10546875000003,40.61132812499997],[26.03896484375008,40.726757812499955]]]]},properties:{name:"Turkey",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[33.90322265625005,-1.002050781250034],[33.979394531249994,-1.002050781250034],[35.83691406249997,-2.036621093749943],[37.643847656250074,-3.0454101562500284],[37.608691406250074,-3.4602539062499886],[37.79726562500005,-3.6744140625000057],[39.221777343750006,-4.692382812500014],[38.81923828125005,-5.877636718749983],[38.87402343750003,-6.331250000000026],[39.47236328125004,-6.878613281249983],[39.51923828125004,-7.1241210937499915],[39.288476562499994,-7.517871093750003],[39.441015625000006,-8.011523437499946],[39.304003906250074,-8.44384765625],[39.783789062500006,-9.914550781249957],[40.46357421875004,-10.464355468749972],[39.988671874999994,-10.820800781250014],[39.56347656249997,-10.978515625],[39.321582031250074,-11.122558593749943],[39.17099609375006,-11.166894531250009],[38.98750000000004,-11.167285156250003],[38.79472656250002,-11.228906250000023],[38.49179687500006,-11.413281250000026],[37.92021484375002,-11.294726562500031],[37.54169921875004,-11.675097656249974],[36.97890625000005,-11.566992187499977],[36.87265625000006,-11.571289062499972],[36.77109375000006,-11.610351562500028],[36.67382812499997,-11.684277343749983],[36.51865234375006,-11.716210937500009],[36.30566406250003,-11.706347656249946],[36.191308593749994,-11.670703124999974],[35.785449218750074,-11.452929687500017],[35.63095703125006,-11.582031250000028],[35.564355468749994,-11.602343749999989],[35.50439453125003,-11.60478515624996],[35.418261718750074,-11.583203124999997],[35.18261718750003,-11.574804687499977],[34.95947265625003,-11.578125000000028],[34.95263671874997,-11.54374999999996],[34.93701171874997,-11.463476562500034],[34.77382812500005,-11.341699218750009],[34.59765625000003,-11.037500000000023],[34.66181640625004,-10.71005859375002],[34.524218750000074,-10.03017578124998],[34.32089843750006,-9.731542968749977],[32.91992187500003,-9.407421875000026],[32.75664062500002,-9.322265625],[31.94257812500004,-9.05400390624996],[31.673632812500017,-8.908789062499963],[31.534863281250097,-8.713281250000009],[31.44921874999997,-8.653906249999991],[31.35058593750003,-8.607031250000034],[31.07636718750004,-8.611914062499963],[30.830664062500063,-8.385546875000031],[30.720898437500097,-8.104394531250037],[30.40673828125003,-7.460644531249983],[30.313183593750097,-7.203710937499949],[30.212695312500017,-7.037890625000017],[30.106250000000017,-6.915039062500028],[29.961816406249994,-6.803124999999966],[29.798144531250017,-6.691894531249957],[29.70966796875004,-6.61689453125004],[29.590625000000017,-6.394433593750023],[29.540820312500017,-6.313867187500037],[29.506249999999994,-6.172070312500011],[29.480078125000006,-6.024999999999977],[29.490820312500063,-5.96542968750002],[29.59638671875004,-5.775976562499963],[29.59414062500005,-5.650781250000037],[29.47646484375005,-5.316601562499997],[29.42011718750004,-5.17617187499998],[29.34277343749997,-4.983105468749997],[29.32568359374997,-4.835644531249969],[29.404199218749994,-4.49667968750002],[29.40322265625005,-4.449316406249963],[29.71777343750003,-4.45585937499996],[29.94726562499997,-4.307324218749983],[30.147167968750097,-4.08535156249998],[30.400000000000006,-3.6539062500000057],[30.811132812500006,-3.1164062500000114],[30.515039062499994,-2.9175781250000057],[30.433496093749994,-2.8745117187500284],[30.424023437500097,-2.82402343749996],[30.42421875000005,-2.641601562500014],[30.441992187500006,-2.6134765624999687],[30.53369140624997,-2.426269531250014],[30.55361328125005,-2.4000976562500114],[30.593359375000063,-2.39677734374996],[30.65664062500005,-2.3738281249999886],[30.71484375000003,-2.3634765625000114],[30.828710937500006,-2.3384765624999773],[30.876562500000006,-2.143359375000017],[30.819140625000017,-1.967480468749983],[30.82753906250005,-1.6936523437499744],[30.812597656250006,-1.56308593750002],[30.76220703124997,-1.458691406249983],[30.710742187500074,-1.3967773437499744],[30.631933593750006,-1.3674804687499602],[30.508105468750074,-1.2082031250000256],[30.47021484374997,-1.1311523437499602],[30.47705078124997,-1.0830078125],[30.509960937500097,-1.0672851562499943],[30.519921874999994,-1.0625],[30.741992187500017,-1.0075195312499972],[30.809179687500063,-.9949218750000028],[30.82363281250005,-.9990234374999432],[30.84472656250003,-1.002050781250034],[31.48310546875004,-1.002050781250034],[32.905175781249994,-1.002050781250034],[33.90322265625005,-1.002050781250034]]]},properties:{name:"United Republic of Tanzania",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[30.50996093750001,-1.0672851562500085],[30.46992187500001,-1.0660156250000057],[30.41230468750001,-1.0630859375000057],[30.360253906250023,-1.0746093750000085],[30.1015625,-1.36865234375],[29.576953125000017,-1.3878906250000114],[29.561914062500023,-.9773437500000028],[29.717675781250023,.09833984374999716],[29.934472656250023,.4990234375],[29.94287109375,.8192382812499943],[30.94257812500001,1.6828124999999972],[31.252734375000017,2.0445800781249943],[31.176367187500006,2.2700683593749886],[30.728613281250006,2.4553710937499886],[30.83857421875001,3.49072265625],[31.15234375,3.785595703124997],[31.47998046875,3.6804687499999886],[31.79804687500001,3.8026367187499943],[32.09941406250002,3.5291992187499943],[32.33574218750002,3.7062011718749943],[32.83808593750001,3.7984863281249943],[33.489355468750006,3.755078124999997],[33.568457031250006,3.811718749999997],[33.74160156250002,3.9852539062499943],[33.97607421875,4.22021484375],[34.13203125000001,3.88916015625],[34.18574218750001,3.8697753906249943],[34.1650390625,3.81298828125],[34.39287109375002,3.6915039062499915],[34.447851562500006,3.1634765624999943],[34.74248046875002,2.818115234375],[34.96406250000001,2.0624023437499943],[34.96523437500002,1.6433593749999886],[34.78759765625,1.230712890625],[34.64912109375001,1.185302734375],[34.535253906250006,1.1015625],[34.48173828125002,1.0421386718749943],[34.41083984375001,.8672851562499915],[34.16093750000002,.6051757812499972],[33.94316406250002,.17377929687499716],[33.90322265625002,-1.0020507812500057],[32.90517578125002,-1.0020507812500057],[31.48310546875001,-1.0020507812500057],[30.8447265625,-1.0020507812500057],[30.823632812500023,-.9990234375],[30.809179687500006,-.9949218750000028],[30.741992187500017,-1.0075195312500114],[30.672753906250023,-1.0513671875000057],[30.598730468750006,-1.0697265625000085],[30.519921875000023,-1.0625],[30.50996093750001,-1.0672851562500085]]]},properties:{name:"Uganda",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[38.21435546875003,47.091455078124966],[37.543359374999994,47.07456054687498],[37.33984375000003,46.91689453125002],[36.2794921875001,46.658593749999966],[35.82714843749997,46.62431640625002],[34.84960937500003,46.189892578124955],[35.02285156250005,45.70097656250002],[35.558007812499994,45.310888671875034],[36.170507812500006,45.453076171874955],[36.39335937500002,45.06538085937501],[35.472558593749994,45.098486328125006],[35.08769531250002,44.802636718749966],[34.716894531250006,44.80712890625],[33.909960937500074,44.387597656249966],[33.45068359374997,44.553662109374955],[33.55517578125003,45.09765625000003],[32.5080078125001,45.40380859375006],[33.664843750000074,45.94707031249996],[33.20224609375006,46.17573242187501],[32.47675781250004,46.08369140625001],[32.035742187500006,46.26098632812497],[31.974316406250097,46.70878906249999],[30.796289062499994,46.55200195312503],[30.219042968750074,45.866748046875045],[29.601660156250063,45.682519531249994],[28.78828125000001,45.240966796875],[28.451269531250006,45.292187499999955],[28.317675781250045,45.347119140624955],[28.212500000000034,45.45043945312506],[28.26484375000004,45.48388671875003],[28.310351562500074,45.49858398437499],[28.47138671875001,45.50717773437506],[28.499023437500057,45.517724609374994],[28.513769531250034,45.57241210937502],[28.49160156250005,45.66577148437503],[28.94775390624997,46.049951171874966],[28.97187500000001,46.12763671874998],[29.00625000000008,46.17646484374998],[28.94375000000005,46.28842773437506],[28.930566406250023,46.36225585937501],[28.92744140625001,46.42412109374999],[29.146289062500017,46.52690429687496],[29.458789062500017,46.453759765624994],[29.83789062499997,46.35053710937501],[29.92431640624997,46.53886718750002],[29.934765625000097,46.62499999999997],[29.942480468750063,46.72377929687502],[29.877832031249994,46.828906250000045],[29.455664062500006,47.292626953124994],[29.159765625000006,47.455664062500006],[29.12294921875005,47.530371093750034],[29.18603515625003,47.65859375000005],[29.210742187500017,47.73154296874998],[29.211132812500097,47.775000000000034],[29.194824218750057,47.88242187499998],[28.77382812500008,48.11958007812498],[28.601660156250006,48.14438476562498],[28.530468750000068,48.15029296875002],[28.34052734375001,48.144433593749994],[27.54921875000008,48.47773437500004],[26.4423828125,48.22998046875],[26.162695312500063,47.992529296875034],[25.90869140625,47.96757812500002],[25.46425781250005,47.910791015624994],[24.89335937499999,47.71777343750003],[24.578906250000074,47.93105468750005],[23.628710937500017,47.995849609375],[22.582421875000023,48.134033203125],[22.253710937500017,48.407373046874994],[22.142871093750017,48.568505859374966],[22.295214843750045,48.68583984374999],[22.432031250000023,48.93354492187498],[22.57998046875005,49.077197265625045],[22.705664062500006,49.17119140624999],[22.6494140625,49.53901367187498],[23.711718750000045,50.377343749999966],[24.105761718750045,50.84497070312503],[23.664453125000023,51.31005859375],[23.61376953125,51.525390625],[24.361914062500006,51.86752929687498],[25.785742187500006,51.923828125],[27.14199218750008,51.75205078124998],[27.689746093750017,51.572412109374994],[28.59902343750008,51.54262695312505],[28.647753906250074,51.45654296875],[28.690234375000017,51.43886718750005],[28.731250000000017,51.43339843749999],[28.793261718750045,51.510351562500034],[28.97773437500004,51.57177734375003],[29.01308593750005,51.59892578124996],[29.06074218750001,51.625439453124955],[29.102050781250057,51.627539062500034],[29.13564453125008,51.61728515624998],[29.174218750000023,51.58061523437496],[29.23046875000003,51.49702148437498],[29.29882812500003,51.41303710937501],[29.346484375000017,51.38256835937503],[30.160742187500006,51.477880859375006],[30.449511718750017,51.274316406249994],[30.533007812500017,51.596337890624966],[30.980664062500097,52.04619140624996],[31.217968750000097,52.05024414062498],[31.345996093750074,52.10537109375002],[31.57373046875003,52.108105468749955],[31.763378906250097,52.10107421875003],[32.507910156250006,52.30854492187504],[33.735253906249994,52.344775390625045],[34.397851562499994,51.780419921874994],[34.280664062499994,51.311669921874966],[35.31191406250005,51.043896484374955],[35.41162109375003,50.539697265624994],[36.619433593750074,50.209228515625],[37.42285156249997,50.411474609375006],[38.04687500000003,49.92001953125006],[38.258593750000074,50.052343750000006],[39.17480468750003,49.85595703124997],[39.780566406250074,49.57202148437503],[40.07001953125004,49.20029296874998],[39.68652343749997,49.007910156250034],[39.96103515625006,48.23793945312502],[39.735937500000006,47.84482421875006],[38.90029296875005,47.85512695312502],[38.287402343750074,47.559179687500034],[38.21435546875003,47.091455078124966]]]},properties:{name:"Ukraine",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-57.81059570312499,-30.85859375000001],[-57.872509765625,-30.59101562500001],[-57.55229492187499,-30.26123046875],[-57.21445312499999,-30.28339843750001],[-56.83271484375,-30.107226562500003],[-56.4072265625,-30.44746093750001],[-55.998974609375,-30.837207031250003],[-56.018457031249994,-30.99189453125001],[-56.015527343749994,-31.059667968750006],[-56.00468749999999,-31.079199218750006],[-55.95200195312499,-31.080859375000003],[-55.873681640624994,-31.069628906250003],[-55.807763671874994,-31.036718750000006],[-55.75634765625,-30.987109375000003],[-55.705957031249994,-30.946582031250003],[-55.665234375,-30.924902343750006],[-55.55732421875,-30.8759765625],[-55.44956054687499,-30.964453125000006],[-55.36606445312499,-31.046191406250003],[-55.254638671875,-31.2255859375],[-55.17353515625,-31.279589843750003],[-55.09116210937499,-31.31396484375],[-54.89599609375,-31.391210937500006],[-54.587646484375,-31.485156250000003],[-54.22055664062499,-31.85517578125001],[-53.92060546875,-31.95234375000001],[-53.76171875,-32.05683593750001],[-53.601708984374994,-32.40302734375001],[-53.12558593749999,-32.73671875000001],[-53.2140625,-32.82109375],[-53.39521484375,-33.010351562500006],[-53.53134765624999,-33.1708984375],[-53.53037109374999,-33.50029296875],[-53.53764648437499,-33.6228515625],[-53.53134765624999,-33.65546875000001],[-53.51884765624999,-33.67724609375],[-53.37060546875,-33.7421875],[-53.419580078124994,-33.77919921875001],[-53.47246093749999,-33.84931640625001],[-53.53452148437499,-34.01748046875001],[-53.785302734374994,-34.38037109375],[-54.16855468749999,-34.670703125],[-54.902294921875,-34.93281250000001],[-55.67314453124999,-34.77568359375],[-56.117919921875,-34.90791015625001],[-56.85517578125,-34.67666015625001],[-57.17070312499999,-34.45234375000001],[-57.8291015625,-34.47734375],[-58.40019531249999,-33.91240234375],[-58.35336914062499,-33.26005859375],[-58.08232421874999,-32.893652343750006],[-58.12958984375,-32.75722656250001],[-58.16220703124999,-32.566503906250006],[-58.201171875,-32.4716796875],[-58.18901367187499,-31.92421875000001],[-57.81059570312499,-30.85859375000001]]]},properties:{name:"Uruguay",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[-155.58134765624996,19.012011718750017],[-155.88129882812495,19.07050781250001],[-156.04868164062498,19.749951171874983],[-155.83164062499998,20.27583007812501],[-155.198779296875,19.99438476562503],[-154.80419921875,19.524462890625045],[-155.58134765624996,19.012011718750017]]],[[[-72.50976562500003,40.98603515625001],[-73.19428710937495,40.654199218749994],[-73.573828125,40.91962890624998],[-72.50976562500003,40.98603515625001]]],[[[-94.80346679687497,49.0029296875],[-94.71279296874997,48.863427734374994],[-93.85161132812496,48.607275390625034],[-93.37788085937498,48.61655273437498],[-93.25795898437497,48.62885742187501],[-92.83671874999996,48.567773437499994],[-92.50058593749995,48.43535156250002],[-92.41459960937493,48.276611328125],[-92.34843749999996,48.276611328125],[-92.00517578125002,48.301855468750006],[-91.38720703124997,48.05854492187498],[-90.79731445312495,48.13105468750001],[-89.4556640625,47.996240234374994],[-88.37817382812497,48.30307617187498],[-87.74389648437497,48.06054687500003],[-87.20800781249997,47.848486328125006],[-86.67216796874996,47.636425781249955],[-85.65224609375,47.21997070312503],[-85.07006835937497,46.97993164062498],[-84.87597656249994,46.89990234375003],[-84.66577148437503,46.54326171875002],[-84.44047851562496,46.49814453125006],[-84.12319335937497,46.50292968749997],[-83.97778320312503,46.08491210937498],[-83.61596679687503,46.116845703124994],[-83.59267578125,45.81713867187506],[-82.91933593749994,45.51796875000002],[-82.48505859374993,45.08374023437503],[-82.137841796875,43.570898437500034],[-82.19038085937495,43.47407226562501],[-82.54531249999997,42.62470703124998],[-83.10952148437497,42.25068359375001],[-83.141943359375,41.97587890624996],[-82.69003906249995,41.675195312499994],[-81.97416992187496,41.88872070312499],[-81.50732421874997,42.10346679687504],[-81.02822265624997,42.247167968750006],[-80.24755859375,42.36601562499996],[-79.17373046875,42.74853515625],[-78.91508789062496,42.90913085937504],[-78.98076171874993,42.98061523437502],[-79.02617187499996,43.01733398437506],[-79.066064453125,43.10610351562502],[-79.17187499999997,43.466552734375],[-79.00249023437502,43.52714843749999],[-78.845556640625,43.58334960937498],[-78.72041015625001,43.62495117187501],[-78.45825195312497,43.63149414062502],[-77.87924804687498,43.629541015624994],[-76.819970703125,43.62880859375002],[-76.18579101562503,44.24223632812502],[-75.81933593749997,44.468017578125],[-75.40126953124997,44.77226562499999],[-74.99614257812496,44.970117187499966],[-74.76245117187494,44.99907226562502],[-74.663232421875,45.00390625000003],[-71.51752929687495,45.00756835937497],[-71.327294921875,45.29008789062496],[-70.89799804687493,45.26245117187503],[-70.296240234375,45.90610351562506],[-70.00771484375002,46.70893554687501],[-69.24287109374998,47.46298828124998],[-68.82871093749998,47.20332031250001],[-68.310888671875,47.3544921875],[-67.806787109375,47.08281249999999],[-67.78466796875,45.70170898437499],[-67.43266601562496,45.60312499999998],[-67.47255859375002,45.27587890625],[-67.12485351562498,45.16943359375],[-67.10673828125002,44.88505859374996],[-67.90703124999999,44.45361328125],[-68.27744140625003,44.50737304687502],[-69.79160156249995,43.80522460937499],[-70.17880859374998,43.76635742187506],[-70.82905273437493,42.82534179687502],[-71.04619140624993,42.331103515625045],[-70.73828125,42.228857421875006],[-70.4046875,41.62690429687501],[-70.65712890625,41.53422851562496],[-71.42656249999999,41.63330078125],[-71.52285156249997,41.378955078125045],[-72.84716796875003,41.265869140625],[-73.5830078125,41.02187500000005],[-74.22670898437497,40.608007812500006],[-73.95761718750003,40.32836914062497],[-74.17612304687495,39.726611328125045],[-74.42880859375,39.38720703125],[-74.89702148437502,39.14545898437504],[-75.3921875,39.09277343750006],[-75.03588867187497,38.50332031250005],[-75.65927734374995,37.953955078125034],[-76.501318359375,38.53217773437498],[-76.26425781250003,37.89355468749997],[-76.26347656249996,37.357031250000006],[-75.89042968749999,36.65703124999996],[-76.47880859374993,36.028173828125006],[-75.77221679687497,35.89990234375],[-75.77392578124997,35.64697265624997],[-76.51293945312497,35.270410156249994],[-76.74497070312498,34.94096679687502],[-77.750732421875,34.28496093749996],[-78.01333007812502,33.91181640624998],[-78.57768554687496,33.87324218750001],[-78.92031249999997,33.65869140625],[-79.27602539062497,33.135400390624966],[-80.84921875,32.113916015624966],[-81.52041015624997,30.874658203125023],[-81.24951171875003,29.793798828125006],[-80.89999999999995,29.049853515625045],[-80.52412109374995,28.48608398437503],[-80.65009765624993,28.18090820312503],[-80.22612304687499,27.207031250000057],[-80.04130859374999,26.568603515625],[-80.1263671875,25.83349609375],[-80.36694335937497,25.331249999999983],[-80.73652343749995,25.156347656249977],[-81.09765625,25.319140625000017],[-81.36494140625001,25.83105468750003],[-81.715478515625,25.98315429687503],[-81.86655273437495,26.435009765624983],[-82.44135742187501,27.059667968750034],[-82.66088867187497,27.71840820312505],[-82.84350585937494,27.845996093750017],[-82.66064453125,28.48583984374997],[-82.65146484375,28.887500000000017],[-83.29047851562498,29.45190429687497],[-83.69438476562502,29.92597656250001],[-84.04423828124996,30.10380859374999],[-84.38281250000003,29.90737304687505],[-85.31894531249995,29.680224609375045],[-85.35361328125,29.875732421875],[-86.25737304687502,30.493017578124977],[-87.79028320312503,30.291796875000017],[-88.90522460937495,30.415136718750006],[-89.58847656249998,30.165966796874955],[-90.22529296874995,30.379296874999994],[-90.41303710937501,30.140332031249983],[-89.58950195312502,29.9150390625],[-90.10136718749993,29.181787109375023],[-90.37919921874996,29.29511718750001],[-90.75102539062496,29.13085937500003],[-91.29013671875,29.288964843749994],[-91.33095703124997,29.513574218750023],[-91.8931640625,29.836035156249977],[-92.26083984374995,29.55683593750004],[-93.17568359375,29.778955078124994],[-93.69482421874997,29.769921875000023],[-94.88828125000003,29.37055664062501],[-95.27348632812499,28.96386718750003],[-95.85341796875,28.64033203125001],[-96.44873046874997,28.594482421875],[-96.56171874999998,28.367138671874955],[-97.156494140625,28.144335937500045],[-97.17143554687493,27.87958984375001],[-97.55468749999994,26.96733398437496],[-97.40234375,26.396533203125045],[-97.14624023437494,25.961474609375045],[-97.35815429687497,25.870507812499994],[-98.08281249999999,26.06445312499997],[-99.10776367187498,26.446923828124994],[-99.4435546875,27.03666992187499],[-99.50532226562497,27.54833984375003],[-100.29604492187495,28.32768554687499],[-100.65864257812501,29.06855468750004],[-101.44038085937503,29.77685546875],[-102.26894531249998,29.871191406250034],[-102.73417968749999,29.643945312500023],[-102.8919921875,29.216406250000034],[-103.25771484374998,29.001123046874966],[-104.40063476562503,29.57373046875],[-104.97880859374996,30.645947265624955],[-106.25571289062495,31.544677734375],[-106.45322265624995,31.770166015625023],[-108.21181640625002,31.779345703125017],[-108.21445312499993,31.329443359375034],[-111.0419921875,31.32421875000003],[-112.93896484375001,31.91625976562503],[-114.83593749999994,32.50830078125003],[-114.72475585937495,32.71533203125003],[-117.12827148437495,32.533349609374994],[-117.46743164062495,33.295507812500006],[-118.506201171875,34.01738281249999],[-119.14374999999995,34.11201171874998],[-119.60605468749999,34.41801757812499],[-120.48120117187503,34.47163085937498],[-120.64467773437502,34.57998046875002],[-120.63359374999999,35.07646484375002],[-120.86030273437498,35.36542968749998],[-121.87739257812498,36.33105468749997],[-121.78999023437494,36.732275390625006],[-122.394921875,37.20751953125003],[-122.46689453125,37.83818359374999],[-122.96816406249998,38.097021484375034],[-122.9865234375,38.27709960937506],[-123.701123046875,38.90727539062502],[-123.88447265624997,39.86079101562501],[-124.32402343749999,40.25195312500003],[-124.3716796875,40.49121093750003],[-124.06850585937498,41.38417968750005],[-124.53964843750003,42.812890624999966],[-124.14873046874997,43.691748046875034],[-123.92934570312495,45.57695312499996],[-124.0716796875,46.74477539062502],[-124.376025390625,47.658642578124955],[-124.62109375000001,47.90415039062498],[-124.63261718749997,48.37504882812499],[-123.97578125,48.16845703125],[-122.24199218750002,48.01074218750003],[-122.52031249999996,48.229101562500006],[-122.40854492187502,48.29389648437498],[-122.49677734374995,48.50556640625001],[-122.56201171875001,48.777978515624994],[-122.65302734375,48.76386718749998],[-122.72246093750002,48.85302734375003],[-122.78876953125003,48.993017578125034],[-119.70170898437495,48.993017578125034],[-119.27534179687494,48.99306640625005],[-118.84892578124993,48.99306640625005],[-117.99619140625002,48.99306640625005],[-116.71704101562501,48.99306640625005],[-114.58510742187501,48.99306640625005],[-112.45322265625,48.99306640625005],[-109.46855468749999,48.99306640625005],[-107.76298828124997,48.993115234374955],[-104.35195312499997,48.993115234374955],[-102.22001953124996,48.993115234374955],[-98.80898437499995,48.99316406249997],[-97.52983398437493,48.99316406249997],[-96.67705078124993,48.99316406249997],[-96.25068359374993,48.99316406249997],[-95.39790039062493,48.99316406249997],[-95.16206054687493,48.991748046875045],[-94.85434570312495,49.304589843749994],[-94.86040039062493,49.258593750000045],[-94.80346679687497,49.0029296875]]],[[[-163.476025390625,54.98071289062497],[-163.35810546874995,54.73569335937506],[-164.4634765625,54.427343750000034],[-164.887646484375,54.60781250000002],[-164.52978515625,54.88085937500006],[-163.476025390625,54.98071289062497]]],[[[-130.97915039062502,55.489160156249994],[-131.08276367187497,55.26679687499998],[-131.810986328125,55.223095703124955],[-131.62495117187504,55.831689453124966],[-131.26923828125004,55.95537109375002],[-130.97915039062502,55.489160156249994]]],[[[-133.56611328125,56.33920898437498],[-133.202978515625,56.31982421875003],[-131.97641601562498,55.208593750000034],[-131.98085937499997,54.80483398437502],[-132.78232421875,55.04848632812502],[-133.44697265624995,55.797021484374994],[-133.56611328125,56.33920898437498]]],[[[-133.36621093750006,57.003515625000034],[-132.95415039062502,56.880273437499994],[-133.212646484375,56.46459960937503],[-133.602783203125,56.46411132812503],[-133.86596679687497,57.068701171875006],[-133.36621093750006,57.003515625000034]]],[[[-134.96977539062496,57.351416015625034],[-134.62070312499998,56.71831054687502],[-135.78710937500003,57.31728515625002],[-134.96977539062496,57.351416015625034]]],[[[-152.89804687499998,57.82392578125004],[-152.21621093749997,57.577001953125006],[-153.793212890625,56.98950195312503],[-154.33896484374998,56.9208984375],[-154.70595703124997,57.335351562499966],[-154.2814453125,57.638085937499994],[-153.81835937499997,57.595605468749966],[-152.89804687499998,57.82392578125004]]],[[[-135.73037109375002,58.244238281250034],[-135.00209960937497,58.05107421875002],[-135.08486328124997,57.51103515624996],[-136.07661132812504,57.67456054687497],[-136.51230468749998,58.095996093750045],[-135.73037109375002,58.244238281250034]]],[[[-134.68027343749998,58.16166992187499],[-133.93701171874997,57.581591796875045],[-133.92529296875,57.33676757812498],[-134.43530273437497,57.056982421875006],[-134.65986328124998,57.638085937499994],[-134.68027343749998,58.16166992187499]]],[[[-166.13544921875,60.38354492187503],[-165.72968750000004,60.31420898437503],[-165.591796875,59.913134765625045],[-166.187548828125,59.773828124999994],[-167.13886718749998,60.00854492187503],[-166.13544921875,60.38354492187503]]],[[[-171.46303710937494,63.640039062499994],[-170.430419921875,63.69882812499998],[-169.77778320312498,63.09375],[-171.46303710937494,63.640039062499994]]],[[[-141.00214843750004,68.77416992187506],[-141.00214843750004,67.89755859374998],[-141.00214843750004,66.43652343750006],[-141.00214843750004,65.55991210937498],[-141.00214843750004,64.09887695312506],[-141.00214843750004,63.22226562499998],[-141.00214843750004,61.761279296875045],[-141.00214843750004,60.884667968749994],[-141.00214843750004,60.30024414062504],[-140.45283203125004,60.29970703125002],[-139.97329101562497,60.183154296875074],[-139.67631835937505,60.32832031249998],[-139.23476562499997,60.339746093749994],[-138.70546874999997,59.90131835937504],[-138.317626953125,59.611132812500074],[-137.59331054687493,59.22626953124998],[-136.81328125000002,59.150048828124994],[-136.46635742187493,59.459082031250006],[-135.70258789062504,59.72875976562506],[-135.36787109374998,59.743310546874994],[-134.94375,59.28828125000001],[-134.67724609374997,59.19926757812499],[-134.39306640625,59.009179687499994],[-134.32963867187505,58.93969726562506],[-134.21850585937503,58.849902343750045],[-133.54638671874997,58.50346679687499],[-133.27529296875,58.22285156250004],[-133.00141601562495,57.948974609375],[-132.062890625,56.95336914062503],[-131.86616210937495,56.792822265625006],[-130.649072265625,56.26367187500003],[-130.47709960937496,56.230566406250034],[-130.09785156249995,56.10927734375002],[-130.01406249999997,55.950537109375006],[-130.036572265625,55.29790039062502],[-130.2140625,55.02587890625003],[-130.57534179687497,54.769677734374966],[-131.04785156249997,55.157666015624955],[-130.9185546875,55.735986328124994],[-131.28759765624994,56.01210937500005],[-131.84384765625003,56.16010742187498],[-132.81425781249993,57.04072265624998],[-133.465869140625,57.17216796875002],[-133.55419921874997,57.69506835937497],[-134.06333007812503,58.21108398437502],[-134.77612304687506,58.45385742187503],[-135.3025390625,58.25590820312502],[-135.86171874999997,58.577050781249966],[-136.5826171875,58.24521484375006],[-137.54399414062502,58.58120117187502],[-138.35249023437498,59.08730468750002],[-140.216748046875,59.72666015624998],[-140.84316406249997,59.74887695312506],[-141.67016601562497,59.969873046874966],[-142.94565429687503,60.09697265625002],[-143.80507812499997,60.01289062500001],[-144.901318359375,60.335156249999955],[-145.898876953125,60.47817382812505],[-146.8740234375,61.00488281249997],[-148.34443359374998,60.853564453125045],[-148.197607421875,60.167773437500045],[-148.430712890625,59.98911132812498],[-149.4322265625,60.00102539062499],[-150.9607421875,59.24399414062506],[-151.73818359375002,59.18852539062502],[-151.734521484375,59.98833007812499],[-151.45146484375,60.20263671875003],[-151.32177734375,60.74291992187497],[-150.44125976562503,61.02358398437505],[-150.61225585937495,61.301123046875006],[-151.73398437499998,60.91074218749998],[-151.75048828124994,60.75488281250003],[-153.10605468749998,59.87504882812502],[-154.088330078125,59.36328125000003],[-154.129833984375,59.119873046875],[-153.33442382812495,58.85786132812498],[-154.01987304687498,58.49296874999999],[-154.247021484375,58.15942382812497],[-155.006884765625,58.01606445312501],[-156.47841796875002,57.32788085937506],[-156.475146484375,57.10517578124998],[-157.57836914062503,56.63447265625001],[-158.41440429687498,56.435839843750045],[-158.27563476562497,56.19624023437498],[-159.52324218749993,55.81000976562498],[-159.96230468749997,55.79487304687501],[-161.09951171875,55.405712890624955],[-161.74155273437498,55.39116210937502],[-162.073974609375,55.13930664062505],[-162.86503906249996,54.954541015624955],[-162.961962890625,55.18383789062506],[-162.15712890625,55.71943359375001],[-161.21562500000005,56.02143554687498],[-160.85131835937497,55.77187500000002],[-160.30205078125,56.31411132812502],[-159.28310546874997,56.688574218750006],[-158.32094726562497,57.29790039062499],[-157.60756835937502,57.601464843749994],[-157.52363281249998,58.421337890624955],[-158.50317382812494,58.85034179687497],[-159.08266601562497,58.469775390625074],[-159.67026367187498,58.9111328125],[-160.36313476562498,59.05117187500002],[-161.75546874999998,58.61201171874998],[-161.82871093749998,59.588623046875],[-162.24248046875,60.17832031249998],[-163.21938476562497,59.84560546875005],[-163.90688476562494,59.80678710937505],[-164.662255859375,60.303808593750034],[-165.35380859375002,60.54121093750001],[-164.80517578125,60.89204101562498],[-165.56586914062498,61.10234375000002],[-166.07880859375,61.803124999999966],[-165.19453125,62.47353515625002],[-164.40903320312503,63.21503906250001],[-163.358837890625,63.04575195312498],[-161.97397460937498,63.45292968749999],[-161.09970703125003,63.557910156250045],[-160.778564453125,63.818945312500034],[-160.93193359374996,64.5791015625],[-161.75937499999998,64.816259765625],[-162.80703124999997,64.37421875000001],[-163.71308593749998,64.588232421875],[-164.89951171875003,64.46064453125004],[-166.1427734375,64.58276367187503],[-167.40400390625,65.42211914062497],[-168.08837890624997,65.65776367187502],[-164.67412109375002,66.55502929687503],[-163.77548828125,66.53110351562503],[-163.69536132812502,66.08383789062503],[-161.81630859375002,66.05366210937504],[-161.5568359375,66.25053710937499],[-160.23168945312503,66.420263671875],[-160.864013671875,66.67084960937501],[-161.85668945312497,66.70034179687497],[-161.96542968750003,67.04956054687497],[-163.001708984375,67.02729492187495],[-163.720556640625,67.19555664062506],[-164.1251953125,67.60673828125007],[-166.38051757812502,68.425146484375],[-166.20908203125,68.88535156250003],[-164.30234375000003,68.93647460937498],[-163.16147460937498,69.38793945312503],[-162.95209960937504,69.75810546875005],[-161.88095703125003,70.33173828125001],[-160.9962890625,70.30458984375],[-159.31450195312496,70.87851562500003],[-157.998486328125,70.8453125],[-156.78330078124998,71.31894531250006],[-155.16684570312498,71.09921875000006],[-154.19521484375002,70.80112304687498],[-153.23291015625,70.93256835937504],[-152.23291015625,70.81035156249999],[-151.94467773437498,70.45209960937501],[-149.26943359374997,70.50078124999999],[-147.70537109375,70.21723632812495],[-145.82314453124997,70.16005859375002],[-145.19736328125003,70.00869140625002],[-143.218310546875,70.11625976562499],[-141.40791015625,69.65336914062502],[-141.00214843750004,69.65078125000002],[-141.00214843750004,68.77416992187506]]]]},properties:{name:"United States of America",childNum:14}},{geometry:{type:"Polygon",coordinates:[[[70.94677734374997,42.24868164062505],[70.97900390625003,42.26655273437504],[71.03603515625,42.28466796875],[71.12998046875006,42.25000000000003],[71.21269531250002,42.20644531250005],[71.23232421875005,42.18627929687503],[71.22851562499997,42.16289062499996],[71.03222656249997,42.07778320312505],[70.84189453125,42.019628906250006],[70.45498046875005,41.72504882812504],[70.18095703125007,41.571435546874994],[70.78242187500004,41.262500000000045],[71.11074218750005,41.152636718750045],[71.29882812500003,41.152490234374994],[71.39306640625003,41.123388671875034],[71.40839843750004,41.13603515625002],[71.60625000000002,41.367431640625],[72.36406250000002,41.04345703125],[73.13212890625002,40.828515624999994],[72.3892578125,40.427392578124994],[71.69248046875,40.15234375],[70.95800781250003,40.238867187500034],[70.38261718750002,40.453515624999966],[70.75097656250003,40.739599609375006],[70.44150390625006,41.0234375],[69.71289062500003,40.65698242187503],[69.2062500000001,40.566552734374994],[69.22832031250007,40.18759765624998],[68.6525390625001,40.182666015625045],[68.46328125,39.53671874999998],[67.71904296875007,39.62138671875002],[67.34960937499997,39.242089843749994],[67.67656250000002,39.00849609375001],[68.10351562499997,38.96201171875006],[68.04785156250003,38.669287109375006],[68.29404296875006,38.032910156249955],[67.81435546875005,37.48701171875004],[67.7980468750001,37.244970703125006],[67.75898437500004,37.172216796875034],[67.75292968749997,37.199804687500034],[67.70000000000002,37.227246093749955],[67.60742187499997,37.22250976562506],[67.5172851562501,37.26665039062499],[67.44169921875007,37.25800781250001],[67.3197265625,37.209570312500006],[67.1955078125001,37.23520507812498],[67.06884765624997,37.334814453125006],[66.82773437500006,37.37128906249998],[66.52226562500007,37.34848632812506],[66.51064453125,37.45869140625004],[66.51132812500006,37.59916992187496],[66.52558593750004,37.785742187500034],[66.629296875,37.932031249999994],[65.8571289062501,38.26875000000004],[65.612890625,38.23857421875002],[64.16279296875004,38.95361328125003],[62.65068359375002,39.858496093750006],[62.095019531250074,40.68330078124998],[61.953515624999994,41.030615234375034],[61.32890625000002,41.19511718749999],[60.454980468749994,41.221630859374955],[60.089648437500074,41.39941406250003],[60.10693359374997,41.90742187499998],[59.858300781249994,42.295166015625],[59.451074218749994,42.29951171875001],[58.5890625000001,42.778466796874966],[58.25966796875005,42.688085937500034],[57.814257812500074,42.18984375000005],[57.38173828125005,42.15629882812496],[56.96406250000004,41.856542968750006],[57.017968749999994,41.26347656249996],[55.97744140625005,41.32221679687504],[55.9767578125001,42.69951171874996],[55.97568359375006,44.99492187499996],[58.555273437500006,45.55537109375001],[61.007910156250006,44.39379882812497],[61.16074218750006,44.16860351562502],[61.99023437500003,43.492138671874955],[63.20703125000003,43.62797851562502],[64.44316406250007,43.551171874999994],[64.9054687500001,43.714697265625006],[65.49619140625,43.310546875],[65.80302734375002,42.87695312500006],[66.1002929687501,42.99082031249998],[66.00957031250007,42.00488281250003],[66.49863281250006,41.99487304687503],[66.66865234375004,41.27075195312503],[66.81425781250002,41.14238281249999],[67.9357421875001,41.19658203125002],[68.29189453125,40.656103515625034],[69.06494140625003,41.366943359375],[70.09560546875,41.82050781250004],[70.41601562500003,42.07856445312501],[70.94677734374997,42.24868164062505]]]},properties:{name:"Uzbekistan",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[-60.742138671874926,5.202050781250037],[-60.71196289062499,5.191552734375023],[-60.671972656250034,5.164355468749989],[-60.60449218749994,4.99458007812504],[-61.00283203125002,4.5352539062499915],[-62.15312499999996,4.098388671874986],[-62.71210937499998,4.01791992187502],[-62.96865234374994,3.593945312499983],[-63.29472656249993,3.92226562499998],[-64.02148437500003,3.929101562500051],[-64.25566406249996,4.140332031249997],[-64.56791992187496,3.8998046875000227],[-64.22109375000002,3.5874023437499716],[-64.21884765625,3.2046874999999915],[-63.924169921875006,2.4524414062500313],[-63.389257812500006,2.4119140625000455],[-63.393945312499994,2.2225097656250057],[-64.03544921874993,1.904443359375037],[-64.11484375000003,1.619287109375037],[-65.10375976562497,1.108105468749983],[-65.36083984374994,.8686523437500568],[-65.68144531249999,.9834472656249886],[-66.06005859375003,.7853515625000398],[-66.42924804687502,.8216796874999801],[-66.87602539062499,1.223046875000037],[-67.21083984375,2.3901367187500426],[-67.83476562499999,2.8928222656250426],[-67.3111328125,3.41586914062502],[-67.66162109375,3.864257812499986],[-67.85527343750002,4.506884765624989],[-67.82490234374995,5.270458984375026],[-67.43935546875,6.025537109375023],[-67.85917968749999,6.289892578124963],[-68.47177734375,6.156542968749974],[-69.43925781249993,6.1349121093750085],[-70.09501953124996,6.937939453125011],[-70.65507812500002,7.082763671875028],[-71.01328124999998,6.994433593749974],[-72.08427734374993,7.096874999999969],[-72.44296875,7.454882812499989],[-72.41655273437496,8.381982421875037],[-72.66542968749994,8.62758789062498],[-72.79638671874997,9.108984374999991],[-73.35634765625002,9.226855468750031],[-73.00654296874998,9.789160156250006],[-72.86933593750001,10.49125976562496],[-72.690087890625,10.835839843749994],[-72.24848632812501,11.196435546875009],[-71.95810546875,11.666406250000009],[-71.31972656249997,11.861914062500048],[-71.86865234374997,11.627343750000037],[-71.94697265624995,11.414453125000009],[-71.59433593749995,10.657373046875051],[-72.11284179687499,9.815576171874966],[-71.68671874999995,9.072509765625028],[-71.29794921874998,9.125634765625009],[-71.08583984375002,9.348242187499977],[-71.05268554687501,9.705810546874986],[-71.38662109375002,10.263769531249977],[-71.54462890624995,10.778710937499994],[-71.46953124999993,10.964160156250017],[-70.23251953124998,11.372998046874997],[-70.28652343749997,11.886035156249989],[-70.00395507812496,12.177880859375023],[-69.63159179687494,11.479931640625026],[-68.827978515625,11.431738281249977],[-68.39863281249995,11.160986328124977],[-68.23408203124998,10.569140625000017],[-67.87163085937496,10.472070312500051],[-66.98906250000002,10.610644531250031],[-66.24721679687497,10.632226562499994],[-65.85175781249995,10.257763671874997],[-65.12910156249998,10.070068359375043],[-64.85048828125,10.098095703124969],[-63.873437499999966,10.663769531250026],[-62.702343749999955,10.74980468749996],[-62.843017578125,10.417919921875026],[-62.51513671875,10.176123046874977],[-60.79248046874997,9.360742187500037],[-61.05307617187495,9.095117187500009],[-61.30400390624999,8.410400390625043],[-60.800976562499926,8.592138671875034],[-60.01752929687501,8.549316406250014],[-59.83164062499998,8.305957031250003],[-59.84907226562498,8.248681640624966],[-59.96484375000003,8.191601562499969],[-59.99072265624997,8.16201171874998],[-60.032421874999926,8.053564453125006],[-60.51362304687501,7.813183593749969],[-60.71923828124997,7.498681640625023],[-60.523193359375,7.1437011718750085],[-60.464941406250034,7.1665527343750455],[-60.39238281249999,7.164550781249986],[-60.34506835937495,7.150000000000048],[-60.32548828124996,7.133984374999983],[-60.32207031249996,7.092041015625043],[-60.35209960937496,7.002880859374997],[-60.39501953125,6.945361328125003],[-60.58608398437502,6.857080078124966],[-60.717919921874966,6.768310546875],[-61.14560546874998,6.694531249999983],[-61.12871093749999,6.214306640625026],[-61.15947265624996,6.174414062499977],[-61.22495117187498,6.129199218750003],[-61.303124999999994,6.049511718750026],[-61.39082031250001,5.938769531250017],[-61.376806640625006,5.906982421875028],[-61.167187499999926,5.674218750000037],[-60.95400390625002,5.437402343750023],[-60.742138671874926,5.202050781250037]]]},properties:{name:"Venezuela",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[107.97265624999997,21.507958984375023],[107.40996093750002,21.284814453125023],[107.35429687500007,21.055175781250057],[106.67548828125004,20.960498046875045],[106.75341796875003,20.73505859375004],[106.51796875000005,20.28886718749999],[105.98408203125004,19.939062500000034],[105.62177734375004,18.96630859375003],[105.88828125000006,18.502490234375045],[106.49902343749997,17.946435546874994],[106.47890625000005,17.719580078125063],[107.18037109375004,16.89794921875],[108.02939453125012,16.331103515625074],[108.82128906249997,15.377929687500028],[109.08486328125,14.716162109375034],[109.30332031250012,13.856445312500043],[109.271875,13.279345703124974],[109.42392578125006,12.955957031249994],[109.21894531250004,12.64580078124996],[109.1986328125,11.724853515625014],[108.82080078125003,11.3154296875],[108.2716796875001,10.934277343749969],[107.26152343750007,10.39838867187504],[106.81269531250004,10.433300781250054],[106.57246093750004,9.641113281250043],[105.50097656249997,9.093212890624983],[105.32226562499997,8.801123046874977],[104.89189453125002,8.583251953125],[104.81855468750004,8.801855468750034],[104.84521484375003,9.606152343750026],[105.02783203125003,10.067431640625031],[104.66347656250005,10.169921875000043],[104.42636718750006,10.411230468749991],[104.85058593749997,10.534472656249974],[105.38652343750002,10.940087890625009],[106.16796874999997,11.012304687499977],[105.85605468750006,11.294287109375048],[105.85146484375005,11.635009765625],[106.33984374999997,11.68183593750004],[106.41386718750002,11.948437499999997],[106.93066406249997,12.077490234374991],[107.50644531250006,12.364550781250031],[107.47539062500002,13.030371093749963],[107.60546874999997,13.437792968750017],[107.3314453125,14.126611328125009],[107.51943359375005,14.705078125],[107.51376953125012,14.817382812500057],[107.52451171875012,14.871826171875043],[107.50468750000007,14.915917968749966],[107.48037109375,14.979882812500037],[107.55527343750006,15.057031250000023],[107.58964843750002,15.118457031250017],[107.63369140625005,15.189843749999994],[107.65312500000002,15.255224609374991],[107.62167968750006,15.309863281250017],[107.56425781250002,15.391601562499972],[107.45957031250012,15.4658203125],[107.33876953125,15.560498046875011],[107.27939453125006,15.618701171875045],[107.18955078125006,15.747265624999955],[107.16591796875005,15.802490234375028],[107.1888671875,15.838623046875],[107.36064453125002,15.921728515624977],[107.39638671875,16.04301757812499],[107.29648437500006,16.08403320312499],[107.21738281250006,16.136328125000006],[106.93066406249997,16.353125000000034],[106.69609375000007,16.458984375],[106.50224609375002,16.95410156249997],[106.26953125000003,17.21679687500003],[105.69140625000003,17.737841796875045],[105.58847656250012,17.983691406250045],[105.51855468749997,18.077441406250045],[105.45820312500004,18.15429687499997],[105.33349609375003,18.189648437499983],[105.27324218750002,18.235351562500057],[105.1632812500001,18.338720703124977],[105.11455078125002,18.40527343750003],[105.08583984375005,18.450097656250023],[105.11347656250004,18.573046875000017],[105.14541015625,18.616796875000063],[105.14648437500003,18.650976562500006],[105.11513671875005,18.678857421874994],[104.99316406249997,18.728320312500045],[104.7165039062501,18.803417968749955],[104.61328125000003,18.86064453124999],[104.44580078125003,18.983837890624955],[104.10859375000004,19.195556640625],[103.91835937500005,19.26850585937504],[103.89638671875,19.339990234375023],[104.03203125000002,19.675146484375006],[104.06279296875007,19.678417968749983],[104.25986328125006,19.685498046874983],[104.5462890625,19.61054687500001],[104.58789062500003,19.618749999999977],[104.74316406250003,19.754736328124977],[104.80175781249997,19.83613281250004],[104.81513671875004,19.90400390625001],[104.9279296875001,20.01811523437499],[104.6188476562501,20.37451171875003],[104.58320312500004,20.646679687499955],[104.34960937499997,20.821093750000074],[104.19531249999997,20.913964843749966],[104.05205078125002,20.941210937500017],[103.63505859375007,20.697070312500017],[103.46357421875004,20.779833984375017],[103.21074218750002,20.840625000000045],[103.10449218749997,20.891650390625045],[102.88378906250003,21.202587890624983],[102.85117187500006,21.26591796874999],[102.9486328125,21.56977539062501],[102.69531250000003,21.66210937499997],[102.58251953125003,21.90429687500003],[102.1830078125,22.284033203125034],[102.12744140624997,22.379199218750045],[102.1759765625001,22.414648437500006],[102.2370117187501,22.466015624999983],[102.42792968750004,22.732812499999966],[102.51718750000012,22.741015625000045],[103.00537109375003,22.452978515624977],[103.35605468750006,22.75468749999999],[104.37177734375004,22.704052734374983],[104.79570312500007,22.91113281249997],[104.86474609375003,23.136376953125023],[105.27539062500003,23.34521484375003],[105.8429687500001,22.922802734374955],[106.14843749999997,22.970068359375006],[106.78027343749997,22.778906250000034],[106.53632812500004,22.395410156249994],[106.72949218749997,22.000341796875063],[107.35117187500012,21.60888671874997],[107.97265624999997,21.507958984375023]]]},properties:{name:"Vietnam",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[[[[167.41250000000005,-16.095898437499997],[167.83662109375004,-16.449707031249957],[167.44931640625012,-16.554980468750003],[167.41250000000005,-16.095898437499997]]],[[[166.74580078125004,-14.826855468750011],[166.81015625000012,-15.15742187500004],[167.13164062500002,-15.135351562499977],[167.19960937500005,-15.485742187500037],[166.82578125000006,-15.634863281249963],[166.63105468750004,-15.406054687499974],[166.52724609375,-14.850097656249957],[166.74580078125004,-14.826855468750011]]]]},properties:{name:"Vanuatu",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[[[[53.76318359374997,12.636816406249991],[54.18740234375005,12.664013671875026],[54.12949218750006,12.360644531250045],[53.59833984375004,12.342285156250028],[53.76318359374997,12.636816406249991]]],[[[53.08564453125004,16.648388671874955],[52.327734375000006,16.293554687500063],[52.2174804687501,15.655517578125],[51.6037109375001,15.336816406250009],[50.52705078125004,15.038183593750006],[50.16689453125005,14.851025390624983],[49.34990234375002,14.637792968749977],[48.668359374999994,14.050146484374977],[47.9899414062501,14.048095703125],[47.40771484374997,13.661621093750057],[46.78886718750002,13.465576171874986],[45.65732421875006,13.338720703124991],[45.03867187500006,12.815869140624969],[44.617773437500006,12.817236328124977],[43.929785156250006,12.616503906250031],[43.47529296875004,12.83901367187498],[43.23193359375003,13.267089843750057],[43.28261718750005,13.639843749999969],[43.08906250000004,14.010986328125],[43.02109375000006,14.55488281250004],[42.71718750000005,15.654638671875006],[42.79931640624997,16.37177734375001],[43.16503906249997,16.689404296874955],[43.19091796875003,17.35937500000003],[43.41796875000003,17.516259765625023],[43.91699218749997,17.32470703124997],[44.1559570312501,17.398535156250006],[45.14804687500006,17.427441406249955],[45.40654296875002,17.319775390624955],[46.31035156250002,17.231298828125063],[46.682031249999994,17.2685546875],[46.97568359375006,16.953466796875034],[47.441796874999994,17.111865234375045],[47.57958984374997,17.448339843750034],[48.17216796875002,18.156933593749983],[49.04199218750003,18.58178710937503],[51.977636718750006,18.996142578125074],[52.72919921875004,17.300390625000006],[53.08564453125004,16.648388671874955]]]]},properties:{name:"Yemen",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[31.921679687500017,-25.96875],[31.415136718750063,-25.74658203125003],[31.207324218750074,-25.843359375000034],[30.803320312500006,-26.41347656250001],[30.79433593750005,-26.764257812499977],[31.06337890625005,-27.1123046875],[31.274023437500063,-27.23837890625002],[31.469531250000017,-27.29550781250002],[31.74257812500005,-27.309960937500037],[31.95839843750005,-27.305859374999997],[31.946093750000017,-27.173632812499974],[31.96718750000005,-26.96064453125001],[31.994726562500006,-26.817480468749977],[32.024804687499994,-26.81113281250002],[32.112890625000006,-26.83945312500002],[32.199609374999994,-26.833496093749957],[32.35351562499997,-26.861621093750003],[32.7765625000001,-26.850976562499966],[32.88613281250005,-26.849316406249983],[32.53476562500006,-28.19970703125003],[32.285742187500006,-28.62148437499998],[31.778222656249994,-28.937109374999977],[31.335156250000097,-29.378125000000026],[30.288671875000063,-30.970117187499994],[28.85595703125003,-32.29423828125002],[27.860644531250017,-33.05390624999997],[27.077441406250074,-33.52119140625004],[26.429492187500045,-33.75957031250002],[25.989550781250045,-33.711328124999966],[25.63818359375003,-34.01113281250002],[25.00292968750003,-33.97363281250003],[24.8271484375,-34.16894531250003],[23.585546875000006,-33.985156249999974],[23.268164062500006,-34.08115234374999],[22.24550781250005,-34.06914062500003],[21.788964843750023,-34.37265624999996],[21.060156250000063,-34.36464843750001],[20.529882812500034,-34.4630859375],[20.020605468750006,-34.785742187500006],[19.63496093750004,-34.753320312499966],[18.80878906250004,-34.10820312499999],[18.354394531250023,-33.93906249999999],[18.43300781250005,-33.71728515625003],[17.87822265624999,-32.96152343749998],[18.25087890625008,-32.6521484375],[18.31074218750001,-32.12246093750001],[18.21083984375008,-31.74248046874996],[17.67744140625004,-31.019042968750014],[17.189062500000006,-30.09980468749997],[16.950000000000074,-29.40341796875002],[16.480761718750045,-28.641503906249966],[16.755761718750023,-28.45214843750003],[16.787500000000023,-28.39472656249997],[16.810156250000006,-28.264550781249994],[16.841210937500023,-28.21894531250004],[16.875292968750045,-28.12792968749997],[16.93330078125004,-28.06962890624999],[17.056250000000063,-28.03105468750003],[17.14941406250003,-28.082226562499983],[17.1884765625,-28.13251953125001],[17.44794921875001,-28.698144531249966],[18.310839843750017,-28.88623046875],[19.026074218750068,-28.92792968749997],[19.98046875,-28.310351562500003],[19.98046875,-26.531152343749994],[19.98046875,-24.77675781249998],[20.345214843750057,-25.029882812500034],[20.79316406250001,-25.915625000000006],[20.641406250000017,-26.7421875],[20.739843749999977,-26.84882812499997],[21.64628906249999,-26.854199218749997],[21.694726562500023,-26.840917968749963],[21.738085937500045,-26.806835937500026],[21.788281250000068,-26.710058593750034],[21.833203125000068,-26.678320312499963],[21.91455078125003,-26.66191406249999],[22.01093750000004,-26.635839843750006],[22.090917968749977,-26.580175781250034],[22.217578125000045,-26.38886718749997],[22.640234374999977,-26.071191406249994],[22.729003906250057,-25.857324218750037],[22.79609375000004,-25.679101562499966],[22.878808593750023,-25.457910156250023],[23.148730468750017,-25.288671875000006],[23.52148437500003,-25.344433593749997],[23.670703125000045,-25.433984375000037],[23.89375000000001,-25.600878906250017],[23.96953124999999,-25.62607421874999],[24.192968750000034,-25.632910156249963],[24.748144531250006,-25.817382812499986],[25.518164062500006,-25.66279296875001],[25.91210937499997,-24.747460937499966],[26.39716796875004,-24.61357421874996],[26.451757812500063,-24.582714843749983],[26.617773437500034,-24.39550781250003],[26.761132812500023,-24.297167968749974],[26.835058593750063,-24.240820312499963],[26.97060546875005,-23.76347656249996],[26.98701171875004,-23.704589843749957],[27.085546875000034,-23.577929687500003],[27.14638671875008,-23.52441406250003],[27.7685546875,-23.14892578125],[27.812597656250006,-23.108007812500006],[28.210156249999983,-22.693652343749974],[28.83984375000003,-22.480859374999966],[28.94580078125003,-22.39511718749999],[29.013476562500045,-22.27841796875002],[29.129882812500057,-22.21328124999998],[29.364843750000063,-22.19394531250005],[29.37744140625003,-22.19277343749998],[29.66308593749997,-22.146289062500017],[30.19042968750003,-22.291113281250034],[30.460156250000097,-22.329003906250023],[30.71162109375004,-22.297851562499986],[31.07343750000004,-22.30781249999997],[31.19726562499997,-22.344921874999983],[31.287890625000074,-22.402050781249983],[31.54560546875004,-23.48232421874998],[31.799609375000017,-23.89218749999999],[31.858300781249994,-24.04023437500004],[31.98583984374997,-24.460644531249983],[31.983203125000017,-24.63828125000002],[31.98437500000003,-24.844042968750017],[31.987011718750097,-25.263476562500017],[31.98457031250004,-25.631933593750034],[31.920312499999994,-25.773925781250014],[31.921679687500017,-25.96875]],[[27.19355468750001,-29.94130859375001],[27.364062500000017,-30.27919921875001],[27.753125000000068,-30.599999999999994],[28.05683593750001,-30.63105468750001],[28.128710937500017,-30.52509765625001],[28.39208984375003,-30.14755859375002],[29.09804687500005,-29.919042968750006],[29.142187500000063,-29.70097656249999],[29.293554687500006,-29.56689453125003],[29.348828125000097,-29.441992187499977],[29.38671874999997,-29.319726562500023],[29.390722656250006,-29.26972656249997],[29.370898437500017,-29.218457031249997],[29.301367187500006,-29.08984375],[28.625781250000017,-28.581738281250054],[27.73554687500004,-28.940039062500034],[27.294531250000063,-29.519335937500017],[27.19355468750001,-29.94130859375001]]]},properties:{name:"South Africa",childNum:2}},{geometry:{type:"Polygon",coordinates:[[[33.148046875000006,-9.603515625],[33.35097656250002,-9.862207031250009],[33.33710937500001,-9.954003906250009],[33.3115234375,-10.037988281250009],[33.65908203125002,-10.590527343750011],[33.46474609375002,-10.783105468750009],[33.40312500000002,-10.8017578125],[33.34492187500001,-10.812695312500011],[33.29277343750002,-10.852343750000003],[33.261328125000006,-10.893359375000003],[33.29326171875002,-10.981152343750011],[33.33867187500002,-11.085156250000011],[33.37978515625002,-11.157910156250011],[33.26835937500002,-11.403906250000006],[33.23271484375002,-11.417675781250011],[33.22636718750002,-11.534863281250011],[33.25234375000002,-12.112597656250003],[33.34013671875002,-12.308300781250011],[33.49140625000001,-12.3310546875],[33.48320312500002,-12.403417968750006],[33.4306640625,-12.46044921875],[33.39794921875,-12.489843750000006],[33.24345703125002,-12.556542968750009],[33.021582031250006,-12.630468750000006],[32.94560546875002,-12.804394531250011],[32.97050781250002,-12.86474609375],[33,-12.899609375000011],[32.96757812500002,-13.225000000000009],[32.797460937500006,-13.6884765625],[33.148046875000006,-13.94091796875],[33.201757812500006,-14.013378906250011],[31.728906250000023,-14.49609375],[30.231835937500023,-14.990332031250006],[30.396093750000006,-15.64306640625],[29.729589843750006,-15.644628906250006],[28.9130859375,-15.98779296875],[28.760644531250023,-16.53193359375001],[27.932226562500006,-16.89619140625001],[27.020800781250017,-17.95839843750001],[25.86328125,-17.951953125000003],[25.2587890625,-17.793554687500006],[24.932421875000017,-17.54345703125],[24.27490234375,-17.481054687500006],[23.380664062500017,-17.640625],[23.181640625,-17.474414062500003],[22.955859375000017,-17.285742187500006],[22.305078125000023,-16.689550781250006],[22.193945312500006,-16.62812500000001],[22.150683593750017,-16.59716796875],[21.979785156250017,-15.95556640625],[21.979785156250017,-15.72412109375],[21.97968750000001,-15.403222656250009],[21.9794921875,-14.761425781250011],[21.979394531250023,-14.440527343750006],[21.979296875000017,-14.11962890625],[21.979101562500006,-13.798730468750009],[21.979101562500006,-13.477734375000011],[21.978906250000023,-13.0009765625],[22.209570312500006,-13.0009765625],[23.843164062500023,-13.0009765625],[23.90937500000001,-12.636132812500009],[23.991308593750006,-12.422167968750003],[23.96650390625001,-10.871777343750011],[24.319921875000006,-11.07177734375],[24.5185546875,-11.4384765625],[25.184863281250017,-11.242968750000003],[25.349414062500017,-11.623046875],[26.025976562500006,-11.89013671875],[26.59638671875001,-11.972070312500009],[26.949609375000023,-11.898828125000009],[27.04609375000001,-11.615917968750011],[27.53339843750001,-12.1953125],[28.357714843750017,-12.482031250000006],[29.014257812500006,-13.368847656250011],[29.55419921875,-13.248925781250009],[29.795312500000023,-13.392773437500011],[29.79511718750001,-12.155468750000011],[29.427539062500017,-12.431250000000006],[29.064355468750023,-12.348828125000011],[28.482519531250006,-11.812109375000006],[28.357226562500017,-11.483007812500006],[28.63886718750001,-10.669238281250003],[28.63007812500001,-9.831250000000011],[28.400683593750017,-9.224804687500011],[28.917773437500017,-8.700585937500009],[28.972265625000006,-8.464941406250006],[30.75117187500001,-8.193652343750003],[30.830664062500006,-8.385546875000003],[31.07636718750001,-8.611914062500006],[31.3505859375,-8.607031250000006],[31.44921875,-8.653906250000006],[31.53486328125001,-8.713281250000009],[31.673632812500017,-8.908789062500006],[31.94257812500001,-9.054003906250003],[32.75664062500002,-9.322265625],[33.148046875000006,-9.603515625]]]},properties:{name:"Zambia",childNum:1}},{geometry:{type:"Polygon",coordinates:[[[31.287890625000017,-22.40205078125001],[31.07343750000001,-22.30781250000001],[30.71162109375001,-22.2978515625],[30.46015625000001,-22.32900390625001],[29.6630859375,-22.146289062500003],[29.37744140625,-22.19277343750001],[29.364843750000006,-22.193945312500006],[29.315234375000017,-22.15771484375],[29.237207031250023,-22.07949218750001],[29.106835937500023,-22.065722656250003],[29.03730468750001,-21.811328125000003],[28.04560546875001,-21.573046875000003],[27.66943359375,-21.064257812500003],[27.699609375000023,-20.53066406250001],[27.28076171875,-20.47871093750001],[27.221484375000017,-20.145800781250003],[26.67822265625,-19.89277343750001],[26.168066406250006,-19.53828125000001],[25.76123046875,-18.649218750000003],[25.224023437500023,-17.91523437500001],[25.2587890625,-17.793554687500006],[25.86328125,-17.951953125000003],[27.020800781250017,-17.95839843750001],[27.932226562500006,-16.89619140625001],[28.760644531250023,-16.53193359375001],[28.9130859375,-15.98779296875],[29.729589843750006,-15.644628906250006],[30.396093750000006,-15.64306640625],[30.437792968750017,-15.995312500000011],[31.236230468750023,-16.02363281250001],[31.939843750000023,-16.428808593750006],[32.243261718750006,-16.44873046875],[32.94804687500002,-16.71230468750001],[32.99306640625002,-18.35957031250001],[32.71650390625001,-19.00185546875001],[33.00673828125002,-19.873828125000003],[32.477636718750006,-20.712988281250006],[32.37109375,-21.33486328125001],[31.429492187500017,-22.298828125],[31.287890625000017,-22.40205078125001]]]},properties:{name:"Zimbabwe",childNum:1}}],Qf={type:UM,features:kM};function tp(s){const t=[];for(let e=0;e<s.length;e++){const i=s[e];Array.isArray(i[0])?t.push(...tp(i)):t.push(i)}return t}class HM{constructor(){this.solve3DArray=[]}SolveGeoJSONData(t,e){for(let i=0,n=t.features.length;i<n;i++)this.collectDataArray(t.features[i]);typeof e=="function"&&e(this.solve3DArray)}collectDataArray(t,e){if(this.solve3DArray=[],t.geometry.type=="Polygon"){const i={points:[],holes:[],areaName:t.properties.name,childNum:t.properties.childNum};for(let n=0;n<t.geometry.coordinates.length;n++){const r=this.arrayToPoints(t.geometry.coordinates[n]);n==0?i.points.push(r):i.holes.push(r)}this.solve3DArray.push(i)}else if(t.geometry.type=="MultiPolygon"){let i=1;for(let n=0;n<t.geometry.coordinates.length;n++){const r={points:[],holes:[],areaName:t.properties.name,childNum:t.properties.childNum,areaCount:i};for(let a=0,o=t.geometry.coordinates[n].length;a<o;a++){const h=this.arrayToPoints(t.geometry.coordinates[n][a]);a==0?r.points.push(h):r.holes.push(h)}this.solve3DArray.push(r),i++}}return typeof e=="function"&&e(this.solve3DArray),this.solve3DArray}arrayToPoints(t){return tp(t)}}function h5(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(s,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,ep(i.key),i)}}function l5(s,t,e){return t&&xl(s.prototype,t),e&&xl(s,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function GM(s,t,e){return t=ep(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function VM(s,t){if(typeof s!="object"||s===null)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var i=e.call(s,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function ep(s){var t=VM(s,"string");return typeof t=="symbol"?t:String(t)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const V1="154",Js={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ks={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ip=0,y3=1,np=2,WM=3,qM=0,j6=1,sp=2,Wi=3,Qi=0,x0=1,K0=2,$M=2,Rn=0,y9=1,x3=2,_3=3,v3=4,rp=5,o9=100,ap=101,op=102,M3=103,b3=104,hp=200,lp=201,cp=202,up=203,Y6=204,Z6=205,dp=206,fp=207,pp=208,mp=209,gp=210,yp=0,xp=1,_p=2,a4=3,vp=4,Mp=5,bp=6,Sp=7,W1=0,wp=1,Ap=2,Zi=0,Ep=1,Tp=2,Cp=3,Rp=4,Pp=5,D4=300,ys=301,xs=302,jr=303,E1=304,c5=306,tn=1e3,We=1001,Yr=1002,Re=1003,T1=1004,XM=1004,Or=1005,jM=1005,Me=1006,F4=1007,YM=1007,en=1008,ZM=1008,Pn=1009,Lp=1010,Ip=1011,O4=1012,J6=1013,Cn=1014,ji=1015,Zr=1016,K6=1017,Q6=1018,ls=1020,Np=1021,k0=1023,Dp=1024,Fp=1025,cs=1026,M9=1027,Op=1028,t8=1029,zp=1030,e8=1031,i8=1033,Fa=33776,Oa=33777,za=33778,Ba=33779,S3=35840,w3=35841,A3=35842,E3=35843,Bp=36196,T3=37492,C3=37496,R3=37808,P3=37809,L3=37810,I3=37811,N3=37812,D3=37813,F3=37814,O3=37815,z3=37816,B3=37817,U3=37818,k3=37819,H3=37820,G3=37821,Ua=36492,Up=36283,V3=36284,W3=36285,q3=36286,kp=2200,Hp=2201,Gp=2202,Jr=2300,b9=2301,ka=2302,c9=2400,u9=2401,C1=2402,z4=2500,n8=2501,Vp=0,s8=1,o4=2,r8=3e3,us=3001,Wp=3200,qp=3201,ws=0,$p=1,ds="",Ut="srgb",Ni="srgb-linear",a8="display-p3",JM=0,Ha=7680,KM=7681,QM=7682,tb=7683,eb=34055,ib=34056,nb=5386,sb=512,rb=513,ab=514,ob=515,hb=516,lb=517,cb=518,Xp=519,jp=512,Yp=513,Zp=514,Jp=515,Kp=516,Qp=517,tm=518,em=519,R1=35044,ub=35048,db=35040,fb=35045,pb=35049,mb=35041,gb=35046,yb=35050,xb=35042,_b="100",$3="300 es",h4=1035,Yi=2e3,P1=2001;let sn=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const n=this._listeners[t];if(n!==void 0){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const n=i.slice(0);for(let r=0,a=n.length;r<a;r++)n[r].call(this,t);t.target=null}}};const r0=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _l=1234567;const x9=Math.PI/180,Kr=180/Math.PI;function V0(){const s=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(r0[s&255]+r0[s>>8&255]+r0[s>>16&255]+r0[s>>24&255]+"-"+r0[t&255]+r0[t>>8&255]+"-"+r0[t>>16&15|64]+r0[t>>24&255]+"-"+r0[e&63|128]+r0[e>>8&255]+"-"+r0[e>>16&255]+r0[e>>24&255]+r0[i&255]+r0[i>>8&255]+r0[i>>16&255]+r0[i>>24&255]).toLowerCase()}function Pe(s,t,e){return Math.max(t,Math.min(e,s))}function o8(s,t){return(s%t+t)%t}function vb(s,t,e,i,n){return i+(s-t)*(n-i)/(e-t)}function Mb(s,t,e){return s!==t?(e-s)/(t-s):0}function l1(s,t,e){return(1-e)*s+e*t}function bb(s,t,e,i){return l1(s,t,1-Math.exp(-e*i))}function Sb(s,t=1){return t-Math.abs(o8(s,t*2)-t)}function wb(s,t,e){return s<=t?0:s>=e?1:(s=(s-t)/(e-t),s*s*(3-2*s))}function Ab(s,t,e){return s<=t?0:s>=e?1:(s=(s-t)/(e-t),s*s*s*(s*(s*6-15)+10))}function Eb(s,t){return s+Math.floor(Math.random()*(t-s+1))}function Tb(s,t){return s+Math.random()*(t-s)}function Cb(s){return s*(.5-Math.random())}function Rb(s){s!==void 0&&(_l=s);let t=_l+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Pb(s){return s*x9}function Lb(s){return s*Kr}function X3(s){return(s&s-1)===0&&s!==0}function im(s){return Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function l4(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function Ib(s,t,e,i,n){const r=Math.cos,a=Math.sin,o=r(e/2),h=a(e/2),l=r((t+i)/2),c=a((t+i)/2),u=r((t-i)/2),d=a((t-i)/2),f=r((i-t)/2),p=a((i-t)/2);switch(n){case"XYX":s.set(o*c,h*u,h*d,o*l);break;case"YZY":s.set(h*d,o*c,h*u,o*l);break;case"ZXZ":s.set(h*u,h*d,o*c,o*l);break;case"XZX":s.set(o*c,h*p,h*f,o*l);break;case"YXY":s.set(h*f,o*c,h*p,o*l);break;case"ZYZ":s.set(h*p,h*f,o*c,o*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function H0(s,t){switch(t.constructor){case Float32Array:return s;case Uint32Array:return s/4294967295;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int32Array:return Math.max(s/2147483647,-1);case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function Zt(s,t){switch(t.constructor){case Float32Array:return s;case Uint32Array:return Math.round(s*4294967295);case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int32Array:return Math.round(s*2147483647);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}const Q0={DEG2RAD:x9,RAD2DEG:Kr,generateUUID:V0,clamp:Pe,euclideanModulo:o8,mapLinear:vb,inverseLerp:Mb,lerp:l1,damp:bb,pingpong:Sb,smoothstep:wb,smootherstep:Ab,randInt:Eb,randFloat:Tb,randFloatSpread:Cb,seededRandom:Rb,degToRad:Pb,radToDeg:Lb,isPowerOfTwo:X3,ceilPowerOfTwo:im,floorPowerOfTwo:l4,setQuaternionFromProperEuler:Ib,normalize:Zt,denormalize:H0};let dt=class nm{constructor(t=0,e=0){nm.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Pe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Kt=class sm{constructor(t,e,i,n,r,a,o,h,l){sm.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,n,r,a,o,h,l)}set(t,e,i,n,r,a,o,h,l){const c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=r,c[5]=h,c[6]=i,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[3],h=i[6],l=i[1],c=i[4],u=i[7],d=i[2],f=i[5],p=i[8],g=n[0],m=n[3],y=n[6],_=n[1],x=n[4],v=n[7],b=n[2],E=n[5],w=n[8];return r[0]=a*g+o*_+h*b,r[3]=a*m+o*x+h*E,r[6]=a*y+o*v+h*w,r[1]=l*g+c*_+u*b,r[4]=l*m+c*x+u*E,r[7]=l*y+c*v+u*w,r[2]=d*g+f*_+p*b,r[5]=d*m+f*x+p*E,r[8]=d*y+f*v+p*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8];return e*a*c-e*o*l-i*r*c+i*o*h+n*r*l-n*a*h}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],u=c*a-o*l,d=o*h-c*r,f=l*r-a*h,p=e*u+i*d+n*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return t[0]=u*g,t[1]=(n*l-c*i)*g,t[2]=(o*i-n*a)*g,t[3]=d*g,t[4]=(c*e-n*h)*g,t[5]=(n*r-o*e)*g,t[6]=f*g,t[7]=(i*h-l*e)*g,t[8]=(a*e-i*r)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,r,a,o){const h=Math.cos(r),l=Math.sin(r);return this.set(i*h,i*l,-i*(h*a+l*o)+a+t,-n*l,n*h,-n*(-l*a+h*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(Do.makeScale(t,e)),this}rotate(t){return this.premultiply(Do.makeRotation(-t)),this}translate(t,e){return this.premultiply(Do.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}};const Do=new Kt;function rm(s){for(let t=s.length-1;t>=0;--t)if(s[t]>=65535)return!0;return!1}const Nb={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cr(s,t){return new Nb[s](t)}function L1(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}const vl={};function c1(s){s in vl||(vl[s]=!0,console.warn(s))}function zr(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function Fo(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}const Db=new Kt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Fb=new Kt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function Ob(s){return s.convertSRGBToLinear().applyMatrix3(Fb)}function zb(s){return s.applyMatrix3(Db).convertLinearToSRGB()}const Bb={[Ni]:s=>s,[Ut]:s=>s.convertSRGBToLinear(),[a8]:Ob},Ub={[Ni]:s=>s,[Ut]:s=>s.convertLinearToSRGB(),[a8]:zb},j0={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(s){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!s},get workingColorSpace(){return Ni},set workingColorSpace(s){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(s,t,e){if(this.enabled===!1||t===e||!t||!e)return s;const i=Bb[t],n=Ub[e];if(i===void 0||n===void 0)throw new Error(`Unsupported color space conversion, "${t}" to "${e}".`);return n(i(s))},fromWorkingColorSpace:function(s,t){return this.convert(s,this.workingColorSpace,t)},toWorkingColorSpace:function(s,t){return this.convert(s,t,this.workingColorSpace)}};let O9,h8=class{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{O9===void 0&&(O9=L1("canvas")),O9.width=t.width,O9.height=t.height;const i=O9.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=O9}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=L1("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const n=i.getImageData(0,0,t.width,t.height),r=n.data;for(let a=0;a<r.length;a++)r[a]=zr(r[a]/255)*255;return i.putImageData(n,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(zr(e[i]/255)*255):e[i]=zr(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}},kb=0,d9=class{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kb++}),this.uuid=V0(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let a=0,o=n.length;a<o;a++)n[a].isDataTexture?r.push(Oo(n[a].image)):r.push(Oo(n[a]))}else r=Oo(n);i.url=r}return e||(t.images[this.uuid]=i),i}};function Oo(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?h8.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Hb=0,Oe=class Ga extends sn{constructor(t=Ga.DEFAULT_IMAGE,e=Ga.DEFAULT_MAPPING,i=We,n=We,r=Me,a=en,o=k0,h=Pn,l=Ga.DEFAULT_ANISOTROPY,c=ds){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Hb++}),this.uuid=V0(),this.name="",this.source=new d9(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=h,this.offset=new dt(0,0),this.repeat=new dt(1,1),this.center=new dt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(c1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===us?Ut:ds),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==D4)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case tn:t.x=t.x-Math.floor(t.x);break;case We:t.x=t.x<0?0:1;break;case Yr:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case tn:t.y=t.y-Math.floor(t.y);break;case We:t.y=t.y<0?0:1;break;case Yr:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return c1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ut?us:r8}set encoding(t){c1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===us?Ut:ds}};Oe.DEFAULT_IMAGE=null;Oe.DEFAULT_MAPPING=D4;Oe.DEFAULT_ANISOTROPY=1;let ce=class am{constructor(t=0,e=0,i=0,n=1){am.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=n}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,n,r;const h=t.elements,l=h[0],c=h[4],u=h[8],d=h[1],f=h[5],p=h[9],g=h[2],m=h[6],y=h[10];if(Math.abs(c-d)<.01&&Math.abs(u-g)<.01&&Math.abs(p-m)<.01){if(Math.abs(c+d)<.1&&Math.abs(u+g)<.1&&Math.abs(p+m)<.1&&Math.abs(l+f+y-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const x=(l+1)/2,v=(f+1)/2,b=(y+1)/2,E=(c+d)/4,w=(u+g)/4,R=(p+m)/4;return x>v&&x>b?x<.01?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(x),n=E/i,r=w/i):v>b?v<.01?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(v),i=E/n,r=R/n):b<.01?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(b),i=w/r,n=R/r),this.set(i,n,r,e),this}let _=Math.sqrt((m-p)*(m-p)+(u-g)*(u-g)+(d-c)*(d-c));return Math.abs(_)<.001&&(_=1),this.x=(m-p)/_,this.y=(u-g)/_,this.z=(d-c)/_,this.w=Math.acos((l+f+y-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Di=class extends sn{constructor(t=1,e=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new ce(0,0,t,e),this.scissorTest=!1,this.viewport=new ce(0,0,t,e);const n={width:t,height:e,depth:1};i.encoding!==void 0&&(c1("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===us?Ut:ds),this.texture=new Oe(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Me,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new d9(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}};class B4 extends Oe{constructor(t=null,e=1,i=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:n},this.magFilter=Re,this.minFilter=Re,this.wrapR=We,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Gb extends Di{constructor(t=1,e=1,i=1){super(t,e),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new B4(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class l8 extends Oe{constructor(t=null,e=1,i=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:n},this.magFilter=Re,this.minFilter=Re,this.wrapR=We,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vb extends Di{constructor(t=1,e=1,i=1){super(t,e),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new l8(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class Wb extends Di{constructor(t=1,e=1,i=1,n={}){super(t,e,n),this.isWebGLMultipleRenderTargets=!0;const r=this.texture;this.texture=[];for(let a=0;a<i;a++)this.texture[a]=r.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let n=0,r=this.texture.length;n<r;n++)this.texture[n].image.width=t,this.texture[n].image.height=e,this.texture[n].image.depth=i;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.texture.length=0;for(let e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone(),this.texture[e].isRenderTargetTexture=!0;return this}}let we=class{constructor(t=0,e=0,i=0,n=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=n}static slerpFlat(t,e,i,n,r,a,o){let h=i[n+0],l=i[n+1],c=i[n+2],u=i[n+3];const d=r[a+0],f=r[a+1],p=r[a+2],g=r[a+3];if(o===0){t[e+0]=h,t[e+1]=l,t[e+2]=c,t[e+3]=u;return}if(o===1){t[e+0]=d,t[e+1]=f,t[e+2]=p,t[e+3]=g;return}if(u!==g||h!==d||l!==f||c!==p){let m=1-o;const y=h*d+l*f+c*p+u*g,_=y>=0?1:-1,x=1-y*y;if(x>Number.EPSILON){const b=Math.sqrt(x),E=Math.atan2(b,y*_);m=Math.sin(m*E)/b,o=Math.sin(o*E)/b}const v=o*_;if(h=h*m+d*v,l=l*m+f*v,c=c*m+p*v,u=u*m+g*v,m===1-o){const b=1/Math.sqrt(h*h+l*l+c*c+u*u);h*=b,l*=b,c*=b,u*=b}}t[e]=h,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,n,r,a){const o=i[n],h=i[n+1],l=i[n+2],c=i[n+3],u=r[a],d=r[a+1],f=r[a+2],p=r[a+3];return t[e]=o*p+c*u+h*f-l*d,t[e+1]=h*p+c*d+l*u-o*f,t[e+2]=l*p+c*f+o*d-h*u,t[e+3]=c*p-o*u-h*d-l*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,n=t._y,r=t._z,a=t._order,o=Math.cos,h=Math.sin,l=o(i/2),c=o(n/2),u=o(r/2),d=h(i/2),f=h(n/2),p=h(r/2);switch(a){case"XYZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"YXZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"ZXY":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"ZYX":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"YZX":this._x=d*c*u+l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u-d*f*p;break;case"XZY":this._x=d*c*u-l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],r=e[8],a=e[1],o=e[5],h=e[9],l=e[2],c=e[6],u=e[10],d=i+o+u;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-h)*f,this._y=(r-l)*f,this._z=(a-n)*f}else if(i>o&&i>u){const f=2*Math.sqrt(1+i-o-u);this._w=(c-h)/f,this._x=.25*f,this._y=(n+a)/f,this._z=(r+l)/f}else if(o>u){const f=2*Math.sqrt(1+o-i-u);this._w=(r-l)/f,this._x=(n+a)/f,this._y=.25*f,this._z=(h+c)/f}else{const f=2*Math.sqrt(1+u-i-o);this._w=(a-n)/f,this._x=(r+l)/f,this._y=(h+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Pe(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,h=e._y,l=e._z,c=e._w;return this._x=i*c+a*o+n*l-r*h,this._y=n*c+a*h+r*o-i*l,this._z=r*c+a*l+i*h-n*o,this._w=a*c-i*o-n*h-r*l,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,n=this._y,r=this._z,a=this._w;let o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;const h=1-o*o;if(h<=Number.EPSILON){const f=1-e;return this._w=f*a+e*this._w,this._x=f*i+e*this._x,this._y=f*n+e*this._y,this._z=f*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(h),c=Math.atan2(l,o),u=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l;return this._w=a*u+this._w*d,this._x=i*u+this._x*d,this._y=n*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(n),i*Math.sin(r),i*Math.cos(r),e*Math.sin(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},L=class om{constructor(t=0,e=0,i=0){om.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Ml.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Ml.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,h=t.w,l=h*e+a*n-o*i,c=h*i+o*e-r*n,u=h*n+r*i-a*e,d=-r*e-a*i-o*n;return this.x=l*h+d*-r+c*-o-u*-a,this.y=c*h+d*-a+u*-r-l*-o,this.z=u*h+d*-o+l*-a-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,h=e.z;return this.x=n*h-r*o,this.y=r*a-i*h,this.z=i*o-n*a,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return zo.copy(this).projectOnVector(t),this.sub(zo)}reflect(t){return this.sub(zo.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Pe(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const zo=new L,Ml=new we;let zi=class{constructor(t=new L(1/0,1/0,1/0),e=new L(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(hn.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(hn.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=hn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){if(t.updateWorldMatrix(!1,!1),t.boundingBox!==void 0)t.boundingBox===null&&t.computeBoundingBox(),z9.copy(t.boundingBox),z9.applyMatrix4(t.matrixWorld),this.union(z9);else{const n=t.geometry;if(n!==void 0)if(e&&n.attributes!==void 0&&n.attributes.position!==void 0){const r=n.attributes.position;for(let a=0,o=r.count;a<o;a++)hn.fromBufferAttribute(r,a).applyMatrix4(t.matrixWorld),this.expandByPoint(hn)}else n.boundingBox===null&&n.computeBoundingBox(),z9.copy(n.boundingBox),z9.applyMatrix4(t.matrixWorld),this.union(z9)}const i=t.children;for(let n=0,r=i.length;n<r;n++)this.expandByObject(i[n],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,hn),hn.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(R5),m2.subVectors(this.max,R5),B9.subVectors(t.a,R5),U9.subVectors(t.b,R5),k9.subVectors(t.c,R5),Bn.subVectors(U9,B9),Un.subVectors(k9,U9),Ds.subVectors(B9,k9);let e=[0,-Bn.z,Bn.y,0,-Un.z,Un.y,0,-Ds.z,Ds.y,Bn.z,0,-Bn.x,Un.z,0,-Un.x,Ds.z,0,-Ds.x,-Bn.y,Bn.x,0,-Un.y,Un.x,0,-Ds.y,Ds.x,0];return!Bo(e,B9,U9,k9,m2)||(e=[1,0,0,0,1,0,0,0,1],!Bo(e,B9,U9,k9,m2))?!1:(g2.crossVectors(Bn,Un),e=[g2.x,g2.y,g2.z],Bo(e,B9,U9,k9,m2))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hn).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(hn).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(on[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),on[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),on[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),on[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),on[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),on[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),on[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),on[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(on),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};const on=[new L,new L,new L,new L,new L,new L,new L,new L],hn=new L,z9=new zi,B9=new L,U9=new L,k9=new L,Bn=new L,Un=new L,Ds=new L,R5=new L,m2=new L,g2=new L,Fs=new L;function Bo(s,t,e,i,n){for(let r=0,a=s.length-3;r<=a;r+=3){Fs.fromArray(s,r);const o=n.x*Math.abs(Fs.x)+n.y*Math.abs(Fs.y)+n.z*Math.abs(Fs.z),h=t.dot(Fs),l=e.dot(Fs),c=i.dot(Fs);if(Math.max(-Math.max(h,l,c),Math.min(h,l,c))>o)return!1}return!0}const qb=new zi,P5=new L,Uo=new L;let ai=class{constructor(t=new L,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):qb.setFromPoints(t).getCenter(i);let n=0;for(let r=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;P5.subVectors(t,this.center);const e=P5.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),n=(i-this.radius)*.5;this.center.addScaledVector(P5,n/i),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Uo.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(P5.copy(t.center).add(Uo)),this.expandByPoint(P5.copy(t.center).sub(Uo))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ln=new L,ko=new L,y2=new L,kn=new L,Ho=new L,x2=new L,Go=new L;let u5=class{constructor(t=new L,e=new L(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ln)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=ln.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(ln.copy(this.origin).addScaledVector(this.direction,e),ln.distanceToSquared(t))}distanceSqToSegment(t,e,i,n){ko.copy(t).add(e).multiplyScalar(.5),y2.copy(e).sub(t).normalize(),kn.copy(this.origin).sub(ko);const r=t.distanceTo(e)*.5,a=-this.direction.dot(y2),o=kn.dot(this.direction),h=-kn.dot(y2),l=kn.lengthSq(),c=Math.abs(1-a*a);let u,d,f,p;if(c>0)if(u=a*h-o,d=a*o-h,p=r*c,u>=0)if(d>=-p)if(d<=p){const g=1/c;u*=g,d*=g,f=u*(u+a*d+2*o)+d*(a*u+d+2*h)+l}else d=r,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*h)+l;else d=-r,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*h)+l;else d<=-p?(u=Math.max(0,-(-a*r+o)),d=u>0?-r:Math.min(Math.max(-r,-h),r),f=-u*u+d*(d+2*h)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-h),r),f=d*(d+2*h)+l):(u=Math.max(0,-(a*r+o)),d=u>0?r:Math.min(Math.max(-r,-h),r),f=-u*u+d*(d+2*h)+l);else d=a>0?-r:r,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*h)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,u),n&&n.copy(ko).addScaledVector(y2,d),f}intersectSphere(t,e){ln.subVectors(t.center,this.origin);const i=ln.dot(this.direction),n=ln.dot(ln)-i*i,r=t.radius*t.radius;if(n>r)return null;const a=Math.sqrt(r-n),o=i-a,h=i+a;return h<0?null:o<0?this.at(h,e):this.at(o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,n,r,a,o,h;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(i=(t.min.x-d.x)*l,n=(t.max.x-d.x)*l):(i=(t.max.x-d.x)*l,n=(t.min.x-d.x)*l),c>=0?(r=(t.min.y-d.y)*c,a=(t.max.y-d.y)*c):(r=(t.max.y-d.y)*c,a=(t.min.y-d.y)*c),i>a||r>n||((r>i||isNaN(i))&&(i=r),(a<n||isNaN(n))&&(n=a),u>=0?(o=(t.min.z-d.z)*u,h=(t.max.z-d.z)*u):(o=(t.max.z-d.z)*u,h=(t.min.z-d.z)*u),i>h||o>n)||((o>i||i!==i)&&(i=o),(h<n||n!==n)&&(n=h),n<0)?null:this.at(i>=0?i:n,e)}intersectsBox(t){return this.intersectBox(t,ln)!==null}intersectTriangle(t,e,i,n,r){Ho.subVectors(e,t),x2.subVectors(i,t),Go.crossVectors(Ho,x2);let a=this.direction.dot(Go),o;if(a>0){if(n)return null;o=1}else if(a<0)o=-1,a=-a;else return null;kn.subVectors(this.origin,t);const h=o*this.direction.dot(x2.crossVectors(kn,x2));if(h<0)return null;const l=o*this.direction.dot(Ho.cross(kn));if(l<0||h+l>a)return null;const c=-o*kn.dot(Go);return c<0?null:this.at(c/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Lt=class j3{constructor(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m){j3.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m)}set(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=i,y[12]=n,y[1]=r,y[5]=a,y[9]=o,y[13]=h,y[2]=l,y[6]=c,y[10]=u,y[14]=d,y[3]=f,y[7]=p,y[11]=g,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new j3().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,n=1/H9.setFromMatrixColumn(t,0).length(),r=1/H9.setFromMatrixColumn(t,1).length(),a=1/H9.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),h=Math.cos(n),l=Math.sin(n),c=Math.cos(r),u=Math.sin(r);if(t.order==="XYZ"){const d=a*c,f=a*u,p=o*c,g=o*u;e[0]=h*c,e[4]=-h*u,e[8]=l,e[1]=f+p*l,e[5]=d-g*l,e[9]=-o*h,e[2]=g-d*l,e[6]=p+f*l,e[10]=a*h}else if(t.order==="YXZ"){const d=h*c,f=h*u,p=l*c,g=l*u;e[0]=d+g*o,e[4]=p*o-f,e[8]=a*l,e[1]=a*u,e[5]=a*c,e[9]=-o,e[2]=f*o-p,e[6]=g+d*o,e[10]=a*h}else if(t.order==="ZXY"){const d=h*c,f=h*u,p=l*c,g=l*u;e[0]=d-g*o,e[4]=-a*u,e[8]=p+f*o,e[1]=f+p*o,e[5]=a*c,e[9]=g-d*o,e[2]=-a*l,e[6]=o,e[10]=a*h}else if(t.order==="ZYX"){const d=a*c,f=a*u,p=o*c,g=o*u;e[0]=h*c,e[4]=p*l-f,e[8]=d*l+g,e[1]=h*u,e[5]=g*l+d,e[9]=f*l-p,e[2]=-l,e[6]=o*h,e[10]=a*h}else if(t.order==="YZX"){const d=a*h,f=a*l,p=o*h,g=o*l;e[0]=h*c,e[4]=g-d*u,e[8]=p*u+f,e[1]=u,e[5]=a*c,e[9]=-o*c,e[2]=-l*c,e[6]=f*u+p,e[10]=d-g*u}else if(t.order==="XZY"){const d=a*h,f=a*l,p=o*h,g=o*l;e[0]=h*c,e[4]=-u,e[8]=l*c,e[1]=d*u+g,e[5]=a*c,e[9]=f*u-p,e[2]=p*u-f,e[6]=o*c,e[10]=g*u+d}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose($b,t,Xb)}lookAt(t,e,i){const n=this.elements;return P0.subVectors(t,e),P0.lengthSq()===0&&(P0.z=1),P0.normalize(),Hn.crossVectors(i,P0),Hn.lengthSq()===0&&(Math.abs(i.z)===1?P0.x+=1e-4:P0.z+=1e-4,P0.normalize(),Hn.crossVectors(i,P0)),Hn.normalize(),_2.crossVectors(P0,Hn),n[0]=Hn.x,n[4]=_2.x,n[8]=P0.x,n[1]=Hn.y,n[5]=_2.y,n[9]=P0.y,n[2]=Hn.z,n[6]=_2.z,n[10]=P0.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],h=i[8],l=i[12],c=i[1],u=i[5],d=i[9],f=i[13],p=i[2],g=i[6],m=i[10],y=i[14],_=i[3],x=i[7],v=i[11],b=i[15],E=n[0],w=n[4],R=n[8],S=n[12],A=n[1],U=n[5],B=n[9],F=n[13],H=n[2],G=n[6],Y=n[10],$=n[14],j=n[3],rt=n[7],at=n[11],V=n[15];return r[0]=a*E+o*A+h*H+l*j,r[4]=a*w+o*U+h*G+l*rt,r[8]=a*R+o*B+h*Y+l*at,r[12]=a*S+o*F+h*$+l*V,r[1]=c*E+u*A+d*H+f*j,r[5]=c*w+u*U+d*G+f*rt,r[9]=c*R+u*B+d*Y+f*at,r[13]=c*S+u*F+d*$+f*V,r[2]=p*E+g*A+m*H+y*j,r[6]=p*w+g*U+m*G+y*rt,r[10]=p*R+g*B+m*Y+y*at,r[14]=p*S+g*F+m*$+y*V,r[3]=_*E+x*A+v*H+b*j,r[7]=_*w+x*U+v*G+b*rt,r[11]=_*R+x*B+v*Y+b*at,r[15]=_*S+x*F+v*$+b*V,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],h=t[9],l=t[13],c=t[2],u=t[6],d=t[10],f=t[14],p=t[3],g=t[7],m=t[11],y=t[15];return p*(+r*h*u-n*l*u-r*o*d+i*l*d+n*o*f-i*h*f)+g*(+e*h*f-e*l*d+r*a*d-n*a*f+n*l*c-r*h*c)+m*(+e*l*u-e*o*f-r*a*u+i*a*f+r*o*c-i*l*c)+y*(-n*o*c-e*h*u+e*o*d+n*a*u-i*a*d+i*h*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],_=u*m*l-g*d*l+g*h*f-o*m*f-u*h*y+o*d*y,x=p*d*l-c*m*l-p*h*f+a*m*f+c*h*y-a*d*y,v=c*g*l-p*u*l+p*o*f-a*g*f-c*o*y+a*u*y,b=p*u*h-c*g*h-p*o*d+a*g*d+c*o*m-a*u*m,E=e*_+i*x+n*v+r*b;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/E;return t[0]=_*w,t[1]=(g*d*r-u*m*r-g*n*f+i*m*f+u*n*y-i*d*y)*w,t[2]=(o*m*r-g*h*r+g*n*l-i*m*l-o*n*y+i*h*y)*w,t[3]=(u*h*r-o*d*r-u*n*l+i*d*l+o*n*f-i*h*f)*w,t[4]=x*w,t[5]=(c*m*r-p*d*r+p*n*f-e*m*f-c*n*y+e*d*y)*w,t[6]=(p*h*r-a*m*r-p*n*l+e*m*l+a*n*y-e*h*y)*w,t[7]=(a*d*r-c*h*r+c*n*l-e*d*l-a*n*f+e*h*f)*w,t[8]=v*w,t[9]=(p*u*r-c*g*r-p*i*f+e*g*f+c*i*y-e*u*y)*w,t[10]=(a*g*r-p*o*r+p*i*l-e*g*l-a*i*y+e*o*y)*w,t[11]=(c*o*r-a*u*r-c*i*l+e*u*l+a*i*f-e*o*f)*w,t[12]=b*w,t[13]=(c*g*n-p*u*n+p*i*d-e*g*d-c*i*m+e*u*m)*w,t[14]=(p*o*n-a*g*n-p*i*h+e*g*h+a*i*m-e*o*m)*w,t[15]=(a*u*n-c*o*n+c*i*h-e*u*h-a*i*d+e*o*d)*w,this}scale(t){const e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,h=t.z,l=r*a,c=r*o;return this.set(l*a+i,l*o-n*h,l*h+n*o,0,l*o+n*h,c*o+i,c*h-n*a,0,l*h-n*o,c*h+n*a,r*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,n,r,a){return this.set(1,i,r,0,t,1,a,0,e,n,1,0,0,0,0,1),this}compose(t,e,i){const n=this.elements,r=e._x,a=e._y,o=e._z,h=e._w,l=r+r,c=a+a,u=o+o,d=r*l,f=r*c,p=r*u,g=a*c,m=a*u,y=o*u,_=h*l,x=h*c,v=h*u,b=i.x,E=i.y,w=i.z;return n[0]=(1-(g+y))*b,n[1]=(f+v)*b,n[2]=(p-x)*b,n[3]=0,n[4]=(f-v)*E,n[5]=(1-(d+y))*E,n[6]=(m+_)*E,n[7]=0,n[8]=(p+x)*w,n[9]=(m-_)*w,n[10]=(1-(d+g))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,i){const n=this.elements;let r=H9.set(n[0],n[1],n[2]).length();const a=H9.set(n[4],n[5],n[6]).length(),o=H9.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],ci.copy(this);const l=1/r,c=1/a,u=1/o;return ci.elements[0]*=l,ci.elements[1]*=l,ci.elements[2]*=l,ci.elements[4]*=c,ci.elements[5]*=c,ci.elements[6]*=c,ci.elements[8]*=u,ci.elements[9]*=u,ci.elements[10]*=u,e.setFromRotationMatrix(ci),i.x=r,i.y=a,i.z=o,this}makePerspective(t,e,i,n,r,a,o=Yi){const h=this.elements,l=2*r/(e-t),c=2*r/(i-n),u=(e+t)/(e-t),d=(i+n)/(i-n);let f,p;if(o===Yi)f=-(a+r)/(a-r),p=-2*a*r/(a-r);else if(o===P1)f=-a/(a-r),p=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return h[0]=l,h[4]=0,h[8]=u,h[12]=0,h[1]=0,h[5]=c,h[9]=d,h[13]=0,h[2]=0,h[6]=0,h[10]=f,h[14]=p,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,n,r,a,o=Yi){const h=this.elements,l=1/(e-t),c=1/(i-n),u=1/(a-r),d=(e+t)*l,f=(i+n)*c;let p,g;if(o===Yi)p=(a+r)*u,g=-2*u;else if(o===P1)p=r*u,g=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return h[0]=2*l,h[4]=0,h[8]=0,h[12]=-d,h[1]=0,h[5]=2*c,h[9]=0,h[13]=-f,h[2]=0,h[6]=0,h[10]=g,h[14]=-p,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}};const H9=new L,ci=new Lt,$b=new L(0,0,0),Xb=new L(1,1,1),Hn=new L,_2=new L,P0=new L,bl=new Lt,Sl=new we;let Ti=class hm{constructor(t=0,e=0,i=0,n=hm.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,n=this._order){return this._x=t,this._y=e,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const n=t.elements,r=n[0],a=n[4],o=n[8],h=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10];switch(e){case"XYZ":this._y=Math.asin(Pe(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Pe(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(h,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(Pe(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-Pe(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Pe(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Pe(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return bl.makeRotationFromQuaternion(t),this.setFromRotationMatrix(bl,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Sl.setFromEuler(this),this.setFromQuaternion(Sl,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};Ti.DEFAULT_ORDER="XYZ";let U4=class{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}},jb=0;const wl=new L,G9=new we,cn=new Lt,v2=new L,L5=new L,Yb=new L,Zb=new we,Al=new L(1,0,0),El=new L(0,1,0),Tl=new L(0,0,1),Jb={type:"added"},Cl={type:"removed"};let ae=class Va extends sn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jb++}),this.uuid=V0(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Va.DEFAULT_UP.clone();const t=new L,e=new Ti,i=new we,n=new L(1,1,1);function r(){i.setFromEuler(e,!1)}function a(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Lt},normalMatrix:{value:new Kt}}),this.matrix=new Lt,this.matrixWorld=new Lt,this.matrixAutoUpdate=Va.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Va.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new U4,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return G9.setFromAxisAngle(t,e),this.quaternion.multiply(G9),this}rotateOnWorldAxis(t,e){return G9.setFromAxisAngle(t,e),this.quaternion.premultiply(G9),this}rotateX(t){return this.rotateOnAxis(Al,t)}rotateY(t){return this.rotateOnAxis(El,t)}rotateZ(t){return this.rotateOnAxis(Tl,t)}translateOnAxis(t,e){return wl.copy(t).applyQuaternion(this.quaternion),this.position.add(wl.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Al,t)}translateY(t){return this.translateOnAxis(El,t)}translateZ(t){return this.translateOnAxis(Tl,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(cn.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?v2.copy(t):v2.set(t,e,i);const n=this.parent;this.updateWorldMatrix(!0,!1),L5.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cn.lookAt(L5,v2,this.up):cn.lookAt(v2,L5,this.up),this.quaternion.setFromRotationMatrix(cn),n&&(cn.extractRotation(n.matrixWorld),G9.setFromRotationMatrix(cn),this.quaternion.premultiply(G9.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Jb)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Cl)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Cl)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),cn.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),cn.multiply(t.parent.matrixWorld)),t.applyMatrix4(cn),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const a=this.children[i].getObjectByProperty(t,e);if(a!==void 0)return a}}getObjectsByProperty(t,e){let i=[];this[t]===e&&i.push(this);for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectsByProperty(t,e);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(L5,t,Yb),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(L5,Zb,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++){const r=e[i];(r.matrixWorldAutoUpdate===!0||t===!0)&&r.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const n=this.children;for(let r=0,a=n.length;r<a;r++){const o=n[r];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(o,h){return o[h.uuid]===void 0&&(o[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const h=o.shapes;if(Array.isArray(h))for(let l=0,c=h.length;l<c;l++){const u=h[l];r(t.shapes,u)}else r(t.shapes,h)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let h=0,l=this.material.length;h<l;h++)o.push(r(t.materials,this.material[h]));n.material=o}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(let o=0;o<this.children.length;o++)n.children.push(this.children[o].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let o=0;o<this.animations.length;o++){const h=this.animations[o];n.animations.push(r(t.animations,h))}}if(e){const o=a(t.geometries),h=a(t.materials),l=a(t.textures),c=a(t.images),u=a(t.shapes),d=a(t.skeletons),f=a(t.animations),p=a(t.nodes);o.length>0&&(i.geometries=o),h.length>0&&(i.materials=h),l.length>0&&(i.textures=l),c.length>0&&(i.images=c),u.length>0&&(i.shapes=u),d.length>0&&(i.skeletons=d),f.length>0&&(i.animations=f),p.length>0&&(i.nodes=p)}return i.object=n,i;function a(o){const h=[];for(const l in o){const c=o[l];delete c.metadata,h.push(c)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const n=t.children[i];this.add(n.clone())}return this}};ae.DEFAULT_UP=new L(0,1,0);ae.DEFAULT_MATRIX_AUTO_UPDATE=!0;ae.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ui=new L,un=new L,Vo=new L,dn=new L,V9=new L,W9=new L,Rl=new L,Wo=new L,qo=new L,$o=new L;let M2=!1,f9=class Qs{constructor(t=new L,e=new L,i=new L){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,n){n.subVectors(i,e),ui.subVectors(t,e),n.cross(ui);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(t,e,i,n,r){ui.subVectors(n,e),un.subVectors(i,e),Vo.subVectors(t,e);const a=ui.dot(ui),o=ui.dot(un),h=ui.dot(Vo),l=un.dot(un),c=un.dot(Vo),u=a*l-o*o;if(u===0)return r.set(-2,-1,-1);const d=1/u,f=(l*h-o*c)*d,p=(a*c-o*h)*d;return r.set(1-f-p,p,f)}static containsPoint(t,e,i,n){return this.getBarycoord(t,e,i,n,dn),dn.x>=0&&dn.y>=0&&dn.x+dn.y<=1}static getUV(t,e,i,n,r,a,o,h){return M2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),M2=!0),this.getInterpolation(t,e,i,n,r,a,o,h)}static getInterpolation(t,e,i,n,r,a,o,h){return this.getBarycoord(t,e,i,n,dn),h.setScalar(0),h.addScaledVector(r,dn.x),h.addScaledVector(a,dn.y),h.addScaledVector(o,dn.z),h}static isFrontFacing(t,e,i,n){return ui.subVectors(i,e),un.subVectors(t,e),ui.cross(un).dot(n)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this}setFromAttributeAndIndices(t,e,i,n){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ui.subVectors(this.c,this.b),un.subVectors(this.a,this.b),ui.cross(un).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Qs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Qs.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,n,r){return M2===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),M2=!0),Qs.getInterpolation(t,this.a,this.b,this.c,e,i,n,r)}getInterpolation(t,e,i,n,r){return Qs.getInterpolation(t,this.a,this.b,this.c,e,i,n,r)}containsPoint(t){return Qs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Qs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,n=this.b,r=this.c;let a,o;V9.subVectors(n,i),W9.subVectors(r,i),Wo.subVectors(t,i);const h=V9.dot(Wo),l=W9.dot(Wo);if(h<=0&&l<=0)return e.copy(i);qo.subVectors(t,n);const c=V9.dot(qo),u=W9.dot(qo);if(c>=0&&u<=c)return e.copy(n);const d=h*u-c*l;if(d<=0&&h>=0&&c<=0)return a=h/(h-c),e.copy(i).addScaledVector(V9,a);$o.subVectors(t,r);const f=V9.dot($o),p=W9.dot($o);if(p>=0&&f<=p)return e.copy(r);const g=f*l-h*p;if(g<=0&&l>=0&&p<=0)return o=l/(l-p),e.copy(i).addScaledVector(W9,o);const m=c*p-f*u;if(m<=0&&u-c>=0&&f-p>=0)return Rl.subVectors(r,n),o=(u-c)/(u-c+(f-p)),e.copy(n).addScaledVector(Rl,o);const y=1/(m+g+d);return a=g*y,o=d*y,e.copy(i).addScaledVector(V9,a).addScaledVector(W9,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},Kb=0,Xe=class extends sn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kb++}),this.uuid=V0(),this.name="",this.type="Material",this.blending=y9,this.side=Qi,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Y6,this.blendDst=Z6,this.blendEquation=o9,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=a4,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Xp,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ha,this.stencilZFail=Ha,this.stencilZPass=Ha,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const n=this[e];if(n===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==y9&&(i.blending=this.blending),this.side!==Qi&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(r){const a=[];for(const o in r){const h=r[o];delete h.metadata,a.push(h)}return a}if(e){const r=n(t.textures),a=n(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const n=e.length;i=new Array(n);for(let r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}};const lm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},di={h:0,s:0,l:0},b2={h:0,s:0,l:0};function Xo(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*6*(2/3-e):s}let _t=class{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const n=t;n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Ut){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,j0.toWorkingColorSpace(this,e),this}setRGB(t,e,i,n=j0.workingColorSpace){return this.r=t,this.g=e,this.b=i,j0.toWorkingColorSpace(this,n),this}setHSL(t,e,i,n=j0.workingColorSpace){if(t=o8(t,1),e=Pe(e,0,1),i=Pe(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,a=2*i-r;this.r=Xo(a,r,t+1/3),this.g=Xo(a,r,t),this.b=Xo(a,r,t-1/3)}return j0.toWorkingColorSpace(this,n),this}setStyle(t,e=Ut){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const a=n[1],o=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=n[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(a===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Ut){const i=lm[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=zr(t.r),this.g=zr(t.g),this.b=zr(t.b),this}copyLinearToSRGB(t){return this.r=Fo(t.r),this.g=Fo(t.g),this.b=Fo(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ut){return j0.fromWorkingColorSpace(a0.copy(this),t),Math.round(Pe(a0.r*255,0,255))*65536+Math.round(Pe(a0.g*255,0,255))*256+Math.round(Pe(a0.b*255,0,255))}getHexString(t=Ut){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=j0.workingColorSpace){j0.fromWorkingColorSpace(a0.copy(this),e);const i=a0.r,n=a0.g,r=a0.b,a=Math.max(i,n,r),o=Math.min(i,n,r);let h,l;const c=(o+a)/2;if(o===a)h=0,l=0;else{const u=a-o;switch(l=c<=.5?u/(a+o):u/(2-a-o),a){case i:h=(n-r)/u+(n<r?6:0);break;case n:h=(r-i)/u+2;break;case r:h=(i-n)/u+4;break}h/=6}return t.h=h,t.s=l,t.l=c,t}getRGB(t,e=j0.workingColorSpace){return j0.fromWorkingColorSpace(a0.copy(this),e),t.r=a0.r,t.g=a0.g,t.b=a0.b,t}getStyle(t=Ut){j0.fromWorkingColorSpace(a0.copy(this),t);const e=a0.r,i=a0.g,n=a0.b;return t!==Ut?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(n*255)})`}offsetHSL(t,e,i){return this.getHSL(di),di.h+=t,di.s+=e,di.l+=i,this.setHSL(di.h,di.s,di.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(di),t.getHSL(b2);const i=l1(di.h,b2.h,e),n=l1(di.s,b2.s,e),r=l1(di.l,b2.l,e);return this.setHSL(i,n,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,n=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*n,this.g=r[1]*e+r[4]*i+r[7]*n,this.b=r[2]*e+r[5]*i+r[8]*n,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const a0=new _t;_t.NAMES=lm;let E0=class extends Xe{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}};const En=Qb();function Qb(){const s=new ArrayBuffer(4),t=new Float32Array(s),e=new Uint32Array(s),i=new Uint32Array(512),n=new Uint32Array(512);for(let h=0;h<256;++h){const l=h-127;l<-27?(i[h]=0,i[h|256]=32768,n[h]=24,n[h|256]=24):l<-14?(i[h]=1024>>-l-14,i[h|256]=1024>>-l-14|32768,n[h]=-l-1,n[h|256]=-l-1):l<=15?(i[h]=l+15<<10,i[h|256]=l+15<<10|32768,n[h]=13,n[h|256]=13):l<128?(i[h]=31744,i[h|256]=64512,n[h]=24,n[h|256]=24):(i[h]=31744,i[h|256]=64512,n[h]=13,n[h|256]=13)}const r=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let h=1;h<1024;++h){let l=h<<13,c=0;for(;!(l&8388608);)l<<=1,c-=8388608;l&=-8388609,c+=947912704,r[h]=l|c}for(let h=1024;h<2048;++h)r[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)a[h]=h<<23;a[31]=1199570944,a[32]=2147483648;for(let h=33;h<63;++h)a[h]=2147483648+(h-32<<23);a[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(o[h]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:n,mantissaTable:r,exponentTable:a,offsetTable:o}}function _0(s){Math.abs(s)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),s=Pe(s,-65504,65504),En.floatView[0]=s;const t=En.uint32View[0],e=t>>23&511;return En.baseTable[e]+((t&8388607)>>En.shiftTable[e])}function K5(s){const t=s>>10;return En.uint32View[0]=En.mantissaTable[En.offsetTable[t]+(s&1023)]+En.exponentTable[t],En.floatView[0]}const tS={toHalfFloat:_0,fromHalfFloat:K5},Be=new L,S2=new dt;let ue=class{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=R1,this.updateRange={offset:0,count:-1},this.gpuType=ji,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)S2.fromBufferAttribute(this,e),S2.applyMatrix3(t),this.setXY(e,S2.x,S2.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Be.fromBufferAttribute(this,e),Be.applyMatrix3(t),this.setXYZ(e,Be.x,Be.y,Be.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Be.fromBufferAttribute(this,e),Be.applyMatrix4(t),this.setXYZ(e,Be.x,Be.y,Be.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Be.fromBufferAttribute(this,e),Be.applyNormalMatrix(t),this.setXYZ(e,Be.x,Be.y,Be.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Be.fromBufferAttribute(this,e),Be.transformDirection(t),this.setXYZ(e,Be.x,Be.y,Be.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=H0(e,this.array)),e}setX(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=H0(e,this.array)),e}setY(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=H0(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=H0(e,this.array)),e}setW(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,n){return t*=this.itemSize,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array),n=Zt(n,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this}setXYZW(t,e,i,n,r){return t*=this.itemSize,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array),n=Zt(n,this.array),r=Zt(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==R1&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}};class eS extends ue{constructor(t,e,i){super(new Int8Array(t),e,i)}}class iS extends ue{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class nS extends ue{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class sS extends ue{constructor(t,e,i){super(new Int16Array(t),e,i)}}let k4=class extends ue{constructor(t,e,i){super(new Uint16Array(t),e,i)}};class rS extends ue{constructor(t,e,i){super(new Int32Array(t),e,i)}}let c8=class extends ue{constructor(t,e,i){super(new Uint32Array(t),e,i)}};class aS extends ue{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=K5(this.array[t*this.itemSize]);return this.normalized&&(e=H0(e,this.array)),e}setX(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize]=_0(e),this}getY(t){let e=K5(this.array[t*this.itemSize+1]);return this.normalized&&(e=H0(e,this.array)),e}setY(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize+1]=_0(e),this}getZ(t){let e=K5(this.array[t*this.itemSize+2]);return this.normalized&&(e=H0(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize+2]=_0(e),this}getW(t){let e=K5(this.array[t*this.itemSize+3]);return this.normalized&&(e=H0(e,this.array)),e}setW(t,e){return this.normalized&&(e=Zt(e,this.array)),this.array[t*this.itemSize+3]=_0(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array)),this.array[t+0]=_0(e),this.array[t+1]=_0(i),this}setXYZ(t,e,i,n){return t*=this.itemSize,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array),n=Zt(n,this.array)),this.array[t+0]=_0(e),this.array[t+1]=_0(i),this.array[t+2]=_0(n),this}setXYZW(t,e,i,n,r){return t*=this.itemSize,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array),n=Zt(n,this.array),r=Zt(r,this.array)),this.array[t+0]=_0(e),this.array[t+1]=_0(i),this.array[t+2]=_0(n),this.array[t+3]=_0(r),this}}let Nt=class extends ue{constructor(t,e,i){super(new Float32Array(t),e,i)}};class oS extends ue{constructor(t,e,i){super(new Float64Array(t),e,i)}}let hS=0;const q0=new Lt,jo=new ae,q9=new L,L0=new zi,I5=new zi,Qe=new L;let jt=class cm extends sn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hS++}),this.uuid=V0(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(rm(t)?c8:k4)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Kt().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(t),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return q0.makeRotationFromQuaternion(t),this.applyMatrix4(q0),this}rotateX(t){return q0.makeRotationX(t),this.applyMatrix4(q0),this}rotateY(t){return q0.makeRotationY(t),this.applyMatrix4(q0),this}rotateZ(t){return q0.makeRotationZ(t),this.applyMatrix4(q0),this}translate(t,e,i){return q0.makeTranslation(t,e,i),this.applyMatrix4(q0),this}scale(t,e,i){return q0.makeScale(t,e,i),this.applyMatrix4(q0),this}lookAt(t){return jo.lookAt(t),jo.updateMatrix(),this.applyMatrix4(jo.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(q9).negate(),this.translate(q9.x,q9.y,q9.z),this}setFromPoints(t){const e=[];for(let i=0,n=t.length;i<n;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Nt(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zi);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,n=e.length;i<n;i++){const r=e[i];L0.setFromBufferAttribute(r),this.morphTargetsRelative?(Qe.addVectors(this.boundingBox.min,L0.min),this.boundingBox.expandByPoint(Qe),Qe.addVectors(this.boundingBox.max,L0.max),this.boundingBox.expandByPoint(Qe)):(this.boundingBox.expandByPoint(L0.min),this.boundingBox.expandByPoint(L0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ai);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new L,1/0);return}if(t){const i=this.boundingSphere.center;if(L0.setFromBufferAttribute(t),e)for(let r=0,a=e.length;r<a;r++){const o=e[r];I5.setFromBufferAttribute(o),this.morphTargetsRelative?(Qe.addVectors(L0.min,I5.min),L0.expandByPoint(Qe),Qe.addVectors(L0.max,I5.max),L0.expandByPoint(Qe)):(L0.expandByPoint(I5.min),L0.expandByPoint(I5.max))}L0.getCenter(i);let n=0;for(let r=0,a=t.count;r<a;r++)Qe.fromBufferAttribute(t,r),n=Math.max(n,i.distanceToSquared(Qe));if(e)for(let r=0,a=e.length;r<a;r++){const o=e[r],h=this.morphTargetsRelative;for(let l=0,c=o.count;l<c;l++)Qe.fromBufferAttribute(o,l),h&&(q9.fromBufferAttribute(t,l),Qe.add(q9)),n=Math.max(n,i.distanceToSquared(Qe))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.array,n=e.position.array,r=e.normal.array,a=e.uv.array,o=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ue(new Float32Array(4*o),4));const h=this.getAttribute("tangent").array,l=[],c=[];for(let A=0;A<o;A++)l[A]=new L,c[A]=new L;const u=new L,d=new L,f=new L,p=new dt,g=new dt,m=new dt,y=new L,_=new L;function x(A,U,B){u.fromArray(n,A*3),d.fromArray(n,U*3),f.fromArray(n,B*3),p.fromArray(a,A*2),g.fromArray(a,U*2),m.fromArray(a,B*2),d.sub(u),f.sub(u),g.sub(p),m.sub(p);const F=1/(g.x*m.y-m.x*g.y);isFinite(F)&&(y.copy(d).multiplyScalar(m.y).addScaledVector(f,-g.y).multiplyScalar(F),_.copy(f).multiplyScalar(g.x).addScaledVector(d,-m.x).multiplyScalar(F),l[A].add(y),l[U].add(y),l[B].add(y),c[A].add(_),c[U].add(_),c[B].add(_))}let v=this.groups;v.length===0&&(v=[{start:0,count:i.length}]);for(let A=0,U=v.length;A<U;++A){const B=v[A],F=B.start,H=B.count;for(let G=F,Y=F+H;G<Y;G+=3)x(i[G+0],i[G+1],i[G+2])}const b=new L,E=new L,w=new L,R=new L;function S(A){w.fromArray(r,A*3),R.copy(w);const U=l[A];b.copy(U),b.sub(w.multiplyScalar(w.dot(U))).normalize(),E.crossVectors(R,U);const F=E.dot(c[A])<0?-1:1;h[A*4]=b.x,h[A*4+1]=b.y,h[A*4+2]=b.z,h[A*4+3]=F}for(let A=0,U=v.length;A<U;++A){const B=v[A],F=B.start,H=B.count;for(let G=F,Y=F+H;G<Y;G+=3)S(i[G+0]),S(i[G+1]),S(i[G+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ue(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let d=0,f=i.count;d<f;d++)i.setXYZ(d,0,0,0);const n=new L,r=new L,a=new L,o=new L,h=new L,l=new L,c=new L,u=new L;if(t)for(let d=0,f=t.count;d<f;d+=3){const p=t.getX(d+0),g=t.getX(d+1),m=t.getX(d+2);n.fromBufferAttribute(e,p),r.fromBufferAttribute(e,g),a.fromBufferAttribute(e,m),c.subVectors(a,r),u.subVectors(n,r),c.cross(u),o.fromBufferAttribute(i,p),h.fromBufferAttribute(i,g),l.fromBufferAttribute(i,m),o.add(c),h.add(c),l.add(c),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(g,h.x,h.y,h.z),i.setXYZ(m,l.x,l.y,l.z)}else for(let d=0,f=e.count;d<f;d+=3)n.fromBufferAttribute(e,d+0),r.fromBufferAttribute(e,d+1),a.fromBufferAttribute(e,d+2),c.subVectors(a,r),u.subVectors(n,r),c.cross(u),i.setXYZ(d+0,c.x,c.y,c.z),i.setXYZ(d+1,c.x,c.y,c.z),i.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Qe.fromBufferAttribute(t,e),Qe.normalize(),t.setXYZ(e,Qe.x,Qe.y,Qe.z)}toNonIndexed(){function t(o,h){const l=o.array,c=o.itemSize,u=o.normalized,d=new l.constructor(h.length*c);let f=0,p=0;for(let g=0,m=h.length;g<m;g++){o.isInterleavedBufferAttribute?f=h[g]*o.data.stride+o.offset:f=h[g]*c;for(let y=0;y<c;y++)d[p++]=l[f++]}return new ue(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new cm,i=this.index.array,n=this.attributes;for(const o in n){const h=n[o],l=t(h,i);e.setAttribute(o,l)}const r=this.morphAttributes;for(const o in r){const h=[],l=r[o];for(let c=0,u=l.length;c<u;c++){const d=l[c],f=t(d,i);h.push(f)}e.morphAttributes[o]=h}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,h=a.length;o<h;o++){const l=a[o];e.addGroup(l.start,l.count,l.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const l in h)h[l]!==void 0&&(t[l]=h[l]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const l=i[h];t.data.attributes[h]=l.toJSON(t.data)}const n={};let r=!1;for(const h in this.morphAttributes){const l=this.morphAttributes[h],c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u];c.push(f.toJSON(t.data))}c.length>0&&(n[h]=c,r=!0)}r&&(t.data.morphAttributes=n,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const n=t.attributes;for(const l in n){const c=n[l];this.setAttribute(l,c.clone(e))}const r=t.morphAttributes;for(const l in r){const c=[],u=r[l];for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone(e));this.morphAttributes[l]=c}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];this.addGroup(u.start,u.count,u.materialIndex)}const o=t.boundingBox;o!==null&&(this.boundingBox=o.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}};const Pl=new Lt,Os=new u5,w2=new ai,Ll=new L,$9=new L,X9=new L,j9=new L,Yo=new L,A2=new L,E2=new dt,T2=new dt,C2=new dt,Il=new L,Nl=new L,Dl=new L,R2=new L,P2=new L;let Ge=class extends ae{constructor(t=new jt,e=new E0){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const n=e[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=n.length;r<a;r++){const o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}getVertexPosition(t,e){const i=this.geometry,n=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;e.fromBufferAttribute(n,t);const o=this.morphTargetInfluences;if(r&&o){A2.set(0,0,0);for(let h=0,l=r.length;h<l;h++){const c=o[h],u=r[h];c!==0&&(Yo.fromBufferAttribute(u,t),a?A2.addScaledVector(Yo,c):A2.addScaledVector(Yo.sub(e),c))}e.add(A2)}return e}raycast(t,e){const i=this.geometry,n=this.material,r=this.matrixWorld;n!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),w2.copy(i.boundingSphere),w2.applyMatrix4(r),Os.copy(t.ray).recast(t.near),!(w2.containsPoint(Os.origin)===!1&&(Os.intersectSphere(w2,Ll)===null||Os.origin.distanceToSquared(Ll)>(t.far-t.near)**2))&&(Pl.copy(r).invert(),Os.copy(t.ray).applyMatrix4(Pl),!(i.boundingBox!==null&&Os.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Os)))}_computeIntersections(t,e,i){let n;const r=this.geometry,a=this.material,o=r.index,h=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,f=r.drawRange;if(o!==null)if(Array.isArray(a))for(let p=0,g=d.length;p<g;p++){const m=d[p],y=a[m.materialIndex],_=Math.max(m.start,f.start),x=Math.min(o.count,Math.min(m.start+m.count,f.start+f.count));for(let v=_,b=x;v<b;v+=3){const E=o.getX(v),w=o.getX(v+1),R=o.getX(v+2);n=L2(this,y,t,i,l,c,u,E,w,R),n&&(n.faceIndex=Math.floor(v/3),n.face.materialIndex=m.materialIndex,e.push(n))}}else{const p=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);for(let m=p,y=g;m<y;m+=3){const _=o.getX(m),x=o.getX(m+1),v=o.getX(m+2);n=L2(this,a,t,i,l,c,u,_,x,v),n&&(n.faceIndex=Math.floor(m/3),e.push(n))}}else if(h!==void 0)if(Array.isArray(a))for(let p=0,g=d.length;p<g;p++){const m=d[p],y=a[m.materialIndex],_=Math.max(m.start,f.start),x=Math.min(h.count,Math.min(m.start+m.count,f.start+f.count));for(let v=_,b=x;v<b;v+=3){const E=v,w=v+1,R=v+2;n=L2(this,y,t,i,l,c,u,E,w,R),n&&(n.faceIndex=Math.floor(v/3),n.face.materialIndex=m.materialIndex,e.push(n))}}else{const p=Math.max(0,f.start),g=Math.min(h.count,f.start+f.count);for(let m=p,y=g;m<y;m+=3){const _=m,x=m+1,v=m+2;n=L2(this,a,t,i,l,c,u,_,x,v),n&&(n.faceIndex=Math.floor(m/3),e.push(n))}}}};function lS(s,t,e,i,n,r,a,o){let h;if(t.side===x0?h=i.intersectTriangle(a,r,n,!0,o):h=i.intersectTriangle(n,r,a,t.side===Qi,o),h===null)return null;P2.copy(o),P2.applyMatrix4(s.matrixWorld);const l=e.ray.origin.distanceTo(P2);return l<e.near||l>e.far?null:{distance:l,point:P2.clone(),object:s}}function L2(s,t,e,i,n,r,a,o,h,l){s.getVertexPosition(o,$9),s.getVertexPosition(h,X9),s.getVertexPosition(l,j9);const c=lS(s,t,e,i,$9,X9,j9,R2);if(c){n&&(E2.fromBufferAttribute(n,o),T2.fromBufferAttribute(n,h),C2.fromBufferAttribute(n,l),c.uv=f9.getInterpolation(R2,$9,X9,j9,E2,T2,C2,new dt)),r&&(E2.fromBufferAttribute(r,o),T2.fromBufferAttribute(r,h),C2.fromBufferAttribute(r,l),c.uv1=f9.getInterpolation(R2,$9,X9,j9,E2,T2,C2,new dt),c.uv2=c.uv1),a&&(Il.fromBufferAttribute(a,o),Nl.fromBufferAttribute(a,h),Dl.fromBufferAttribute(a,l),c.normal=f9.getInterpolation(R2,$9,X9,j9,Il,Nl,Dl,new L),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const u={a:o,b:h,c:l,normal:new L,materialIndex:0};f9.getNormal($9,X9,j9,u.normal),c.face=u}return c}class As extends jt{constructor(t=1,e=1,i=1,n=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};const o=this;n=Math.floor(n),r=Math.floor(r),a=Math.floor(a);const h=[],l=[],c=[],u=[];let d=0,f=0;p("z","y","x",-1,-1,i,e,t,a,r,0),p("z","y","x",1,-1,i,e,-t,a,r,1),p("x","z","y",1,1,t,i,e,n,a,2),p("x","z","y",1,-1,t,i,-e,n,a,3),p("x","y","z",1,-1,t,e,i,n,r,4),p("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(h),this.setAttribute("position",new Nt(l,3)),this.setAttribute("normal",new Nt(c,3)),this.setAttribute("uv",new Nt(u,2));function p(g,m,y,_,x,v,b,E,w,R,S){const A=v/w,U=b/R,B=v/2,F=b/2,H=E/2,G=w+1,Y=R+1;let $=0,j=0;const rt=new L;for(let at=0;at<Y;at++){const V=at*U-F;for(let tt=0;tt<G;tt++){const yt=tt*A-B;rt[g]=yt*_,rt[m]=V*x,rt[y]=H,l.push(rt.x,rt.y,rt.z),rt[g]=0,rt[m]=0,rt[y]=E>0?1:-1,c.push(rt.x,rt.y,rt.z),u.push(tt/w),u.push(1-at/R),$+=1}}for(let at=0;at<R;at++)for(let V=0;V<w;V++){const tt=d+V+G*at,yt=d+V+G*(at+1),xt=d+(V+1)+G*(at+1),St=d+(V+1)+G*at;h.push(tt,yt,St),h.push(yt,xt,St),j+=6}o.addGroup(f,j,S),f+=j,d+=$}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new As(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Qr(s){const t={};for(const e in s){t[e]={};for(const i in s[e]){const n=s[e][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=n.clone():Array.isArray(n)?t[e][i]=n.slice():t[e][i]=n}}return t}function g0(s){const t={};for(let e=0;e<s.length;e++){const i=Qr(s[e]);for(const n in i)t[n]=i[n]}return t}function cS(s){const t=[];for(let e=0;e<s.length;e++)t.push(s[e].clone());return t}function um(s){return s.getRenderTarget()===null?s.outputColorSpace:Ni}const dm={clone:Qr,merge:g0};var uS=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,dS=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let Fi=class extends Xe{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=uS,this.fragmentShader=dS,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Qr(t.uniforms),this.uniformsGroups=cS(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const a=this.uniforms[n].value;a&&a.isTexture?e.uniforms[n]={type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?e.uniforms[n]={type:"c",value:a.getHex()}:a&&a.isVector2?e.uniforms[n]={type:"v2",value:a.toArray()}:a&&a.isVector3?e.uniforms[n]={type:"v3",value:a.toArray()}:a&&a.isVector4?e.uniforms[n]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?e.uniforms[n]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?e.uniforms[n]={type:"m4",value:a.toArray()}:e.uniforms[n]={value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}},H4=class extends ae{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Lt,this.projectionMatrix=new Lt,this.projectionMatrixInverse=new Lt,this.coordinateSystem=Yi}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};class He extends H4{constructor(t=50,e=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Kr*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(x9*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Kr*2*Math.atan(Math.tan(x9*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,n,r,a){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(x9*.5*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n;const a=this.view;if(this.view!==null&&this.view.enabled){const h=a.fullWidth,l=a.fullHeight;r+=a.offsetX*n/h,e-=a.offsetY*i/l,n*=a.width/h,i*=a.height/l}const o=this.filmOffset;o!==0&&(r+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Y9=-90,Z9=1;class fm extends ae{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const n=new He(Y9,Z9,t,e);n.layers=this.layers,this.add(n);const r=new He(Y9,Z9,t,e);r.layers=this.layers,this.add(r);const a=new He(Y9,Z9,t,e);a.layers=this.layers,this.add(a);const o=new He(Y9,Z9,t,e);o.layers=this.layers,this.add(o);const h=new He(Y9,Z9,t,e);h.layers=this.layers,this.add(h);const l=new He(Y9,Z9,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,n,r,a,o,h]=e;for(const l of e)this.remove(l);if(t===Yi)i.up.set(0,1,0),i.lookAt(1,0,0),n.up.set(0,1,0),n.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(t===P1)i.up.set(0,-1,0),i.lookAt(-1,0,0),n.up.set(0,-1,0),n.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const l of e)this.add(l),l.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[n,r,a,o,h,l]=this.children,c=t.getRenderTarget(),u=t.toneMapping,d=t.xr.enabled;t.toneMapping=Zi,t.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,n),t.setRenderTarget(i,1),t.render(e,r),t.setRenderTarget(i,2),t.render(e,a),t.setRenderTarget(i,3),t.render(e,o),t.setRenderTarget(i,4),t.render(e,h),i.texture.generateMipmaps=f,t.setRenderTarget(i,5),t.render(e,l),t.setRenderTarget(c),t.toneMapping=u,t.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class q1 extends Oe{constructor(t,e,i,n,r,a,o,h,l,c){t=t!==void 0?t:[],e=e!==void 0?e:ys,super(t,e,i,n,r,a,o,h,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class pm extends Di{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},n=[i,i,i,i,i,i];e.encoding!==void 0&&(c1("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===us?Ut:ds),this.texture=new q1(n,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Me}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new As(5,5,5),r=new Fi({name:"CubemapFromEquirect",uniforms:Qr(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:x0,blending:Rn});r.uniforms.tEquirect.value=e;const a=new Ge(n,r),o=e.minFilter;return e.minFilter===en&&(e.minFilter=Me),new fm(1,10,this).update(t,a),e.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,i,n){const r=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,i,n);t.setRenderTarget(r)}}const Zo=new L,fS=new L,pS=new Kt;class is{constructor(t=new L(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const n=Zo.subVectors(i,e).cross(fS.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Zo),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||pS.getNormalMatrix(t),n=this.coplanarPoint(Zo).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const zs=new ai,I2=new L;class G4{constructor(t=new is,e=new is,i=new is,n=new is,r=new is,a=new is){this.planes=[t,e,i,n,r,a]}set(t,e,i,n,r,a){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Yi){const i=this.planes,n=t.elements,r=n[0],a=n[1],o=n[2],h=n[3],l=n[4],c=n[5],u=n[6],d=n[7],f=n[8],p=n[9],g=n[10],m=n[11],y=n[12],_=n[13],x=n[14],v=n[15];if(i[0].setComponents(h-r,d-l,m-f,v-y).normalize(),i[1].setComponents(h+r,d+l,m+f,v+y).normalize(),i[2].setComponents(h+a,d+c,m+p,v+_).normalize(),i[3].setComponents(h-a,d-c,m-p,v-_).normalize(),i[4].setComponents(h-o,d-u,m-g,v-x).normalize(),e===Yi)i[5].setComponents(h+o,d+u,m+g,v+x).normalize();else if(e===P1)i[5].setComponents(o,u,g,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),zs.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),zs.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(zs)}intersectsSprite(t){return zs.center.set(0,0,0),zs.radius=.7071067811865476,zs.applyMatrix4(t.matrixWorld),this.intersectsSphere(zs)}intersectsSphere(t){const e=this.planes,i=t.center,n=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<n)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const n=e[i];if(I2.x=n.normal.x>0?t.max.x:t.min.x,I2.y=n.normal.y>0?t.max.y:t.min.y,I2.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(I2)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function mm(){let s=null,t=!1,e=null,i=null;function n(r,a){e(r,a),i=s.requestAnimationFrame(n)}return{start:function(){t!==!0&&e!==null&&(i=s.requestAnimationFrame(n),t=!0)},stop:function(){s.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){s=r}}}function mS(s,t){const e=t.isWebGL2,i=new WeakMap;function n(l,c){const u=l.array,d=l.usage,f=s.createBuffer();s.bindBuffer(c,f),s.bufferData(c,u,d),l.onUploadCallback();let p;if(u instanceof Float32Array)p=s.FLOAT;else if(u instanceof Uint16Array)if(l.isFloat16BufferAttribute)if(e)p=s.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=s.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=s.SHORT;else if(u instanceof Uint32Array)p=s.UNSIGNED_INT;else if(u instanceof Int32Array)p=s.INT;else if(u instanceof Int8Array)p=s.BYTE;else if(u instanceof Uint8Array)p=s.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=s.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version}}function r(l,c,u){const d=c.array,f=c.updateRange;s.bindBuffer(u,l),f.count===-1?s.bufferSubData(u,0,d):(e?s.bufferSubData(u,f.offset*d.BYTES_PER_ELEMENT,d,f.offset,f.count):s.bufferSubData(u,f.offset*d.BYTES_PER_ELEMENT,d.subarray(f.offset,f.offset+f.count)),f.count=-1),c.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)}function o(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=i.get(l);c&&(s.deleteBuffer(c.buffer),i.delete(l))}function h(l,c){if(l.isGLBufferAttribute){const d=i.get(l);(!d||d.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);u===void 0?i.set(l,n(l,c)):u.version<l.version&&(r(u.buffer,l,c),u.version=l.version)}return{get:a,remove:o,update:h}}class d5 extends jt{constructor(t=1,e=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};const r=t/2,a=e/2,o=Math.floor(i),h=Math.floor(n),l=o+1,c=h+1,u=t/o,d=e/h,f=[],p=[],g=[],m=[];for(let y=0;y<c;y++){const _=y*d-a;for(let x=0;x<l;x++){const v=x*u-r;p.push(v,-_,0),g.push(0,0,1),m.push(x/o),m.push(1-y/h)}}for(let y=0;y<h;y++)for(let _=0;_<o;_++){const x=_+l*y,v=_+l*(y+1),b=_+1+l*(y+1),E=_+1+l*y;f.push(x,v,E),f.push(v,b,E)}this.setIndex(f),this.setAttribute("position",new Nt(p,3)),this.setAttribute("normal",new Nt(g,3)),this.setAttribute("uv",new Nt(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new d5(t.width,t.height,t.widthSegments,t.heightSegments)}}var gS=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,yS=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xS=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_S=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vS=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,MS=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bS=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,SS=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,wS=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,AS=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ES=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,TS=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,CS=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RS=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,PS=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,LS=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,IS=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NS=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,DS=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,FS=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,OS=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,zS=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BS=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,US=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kS=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,HS=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,GS=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,VS=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,WS="gl_FragColor = linearToOutputTexel( gl_FragColor );",qS=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,$S=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,XS=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jS=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,YS=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ZS=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,JS=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,KS=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,QS=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tw=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ew=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,iw=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,nw=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sw=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rw=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aw=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ow=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hw=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lw=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cw=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,uw=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dw=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,fw=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,pw=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,mw=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,gw=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,yw=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,xw=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_w=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,vw=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Mw=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,bw=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Sw=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ww=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Aw=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ew=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Tw=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cw=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Rw=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Pw=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Lw=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Iw=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Nw=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Dw=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fw=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ow=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zw=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Bw=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Uw=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,kw=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Hw=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Gw=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Vw=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ww=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qw=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,$w=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Xw=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jw=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Yw=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Zw=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Jw=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Kw=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Qw=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tA=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,eA=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,iA=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,nA=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sA=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rA=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aA=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oA=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,hA=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,lA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uA=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,dA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fA=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pA=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gA=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xA=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_A=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,MA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bA=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,SA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wA=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,AA=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EA=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TA=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,CA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RA=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PA=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LA=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,IA=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NA=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,DA=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,FA=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OA=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zA=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,BA=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UA=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kA=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HA=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,GA=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VA=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WA=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,qA=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$A=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xt={alphahash_fragment:gS,alphahash_pars_fragment:yS,alphamap_fragment:xS,alphamap_pars_fragment:_S,alphatest_fragment:vS,alphatest_pars_fragment:MS,aomap_fragment:bS,aomap_pars_fragment:SS,begin_vertex:wS,beginnormal_vertex:AS,bsdfs:ES,iridescence_fragment:TS,bumpmap_pars_fragment:CS,clipping_planes_fragment:RS,clipping_planes_pars_fragment:PS,clipping_planes_pars_vertex:LS,clipping_planes_vertex:IS,color_fragment:NS,color_pars_fragment:DS,color_pars_vertex:FS,color_vertex:OS,common:zS,cube_uv_reflection_fragment:BS,defaultnormal_vertex:US,displacementmap_pars_vertex:kS,displacementmap_vertex:HS,emissivemap_fragment:GS,emissivemap_pars_fragment:VS,colorspace_fragment:WS,colorspace_pars_fragment:qS,envmap_fragment:$S,envmap_common_pars_fragment:XS,envmap_pars_fragment:jS,envmap_pars_vertex:YS,envmap_physical_pars_fragment:ow,envmap_vertex:ZS,fog_vertex:JS,fog_pars_vertex:KS,fog_fragment:QS,fog_pars_fragment:tw,gradientmap_pars_fragment:ew,lightmap_fragment:iw,lightmap_pars_fragment:nw,lights_lambert_fragment:sw,lights_lambert_pars_fragment:rw,lights_pars_begin:aw,lights_toon_fragment:hw,lights_toon_pars_fragment:lw,lights_phong_fragment:cw,lights_phong_pars_fragment:uw,lights_physical_fragment:dw,lights_physical_pars_fragment:fw,lights_fragment_begin:pw,lights_fragment_maps:mw,lights_fragment_end:gw,logdepthbuf_fragment:yw,logdepthbuf_pars_fragment:xw,logdepthbuf_pars_vertex:_w,logdepthbuf_vertex:vw,map_fragment:Mw,map_pars_fragment:bw,map_particle_fragment:Sw,map_particle_pars_fragment:ww,metalnessmap_fragment:Aw,metalnessmap_pars_fragment:Ew,morphcolor_vertex:Tw,morphnormal_vertex:Cw,morphtarget_pars_vertex:Rw,morphtarget_vertex:Pw,normal_fragment_begin:Lw,normal_fragment_maps:Iw,normal_pars_fragment:Nw,normal_pars_vertex:Dw,normal_vertex:Fw,normalmap_pars_fragment:Ow,clearcoat_normal_fragment_begin:zw,clearcoat_normal_fragment_maps:Bw,clearcoat_pars_fragment:Uw,iridescence_pars_fragment:kw,opaque_fragment:Hw,packing:Gw,premultiplied_alpha_fragment:Vw,project_vertex:Ww,dithering_fragment:qw,dithering_pars_fragment:$w,roughnessmap_fragment:Xw,roughnessmap_pars_fragment:jw,shadowmap_pars_fragment:Yw,shadowmap_pars_vertex:Zw,shadowmap_vertex:Jw,shadowmask_pars_fragment:Kw,skinbase_vertex:Qw,skinning_pars_vertex:tA,skinning_vertex:eA,skinnormal_vertex:iA,specularmap_fragment:nA,specularmap_pars_fragment:sA,tonemapping_fragment:rA,tonemapping_pars_fragment:aA,transmission_fragment:oA,transmission_pars_fragment:hA,uv_pars_fragment:lA,uv_pars_vertex:cA,uv_vertex:uA,worldpos_vertex:dA,background_vert:fA,background_frag:pA,backgroundCube_vert:mA,backgroundCube_frag:gA,cube_vert:yA,cube_frag:xA,depth_vert:_A,depth_frag:vA,distanceRGBA_vert:MA,distanceRGBA_frag:bA,equirect_vert:SA,equirect_frag:wA,linedashed_vert:AA,linedashed_frag:EA,meshbasic_vert:TA,meshbasic_frag:CA,meshlambert_vert:RA,meshlambert_frag:PA,meshmatcap_vert:LA,meshmatcap_frag:IA,meshnormal_vert:NA,meshnormal_frag:DA,meshphong_vert:FA,meshphong_frag:OA,meshphysical_vert:zA,meshphysical_frag:BA,meshtoon_vert:UA,meshtoon_frag:kA,points_vert:HA,points_frag:GA,shadow_vert:VA,shadow_frag:WA,sprite_vert:qA,sprite_frag:$A},At={common:{diffuse:{value:new _t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Kt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Kt},normalScale:{value:new dt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0},uvTransform:{value:new Kt}},sprite:{diffuse:{value:new _t(16777215)},opacity:{value:1},center:{value:new dt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Kt},alphaMap:{value:null},alphaMapTransform:{value:new Kt},alphaTest:{value:0}}},Si={basic:{uniforms:g0([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.fog]),vertexShader:Xt.meshbasic_vert,fragmentShader:Xt.meshbasic_frag},lambert:{uniforms:g0([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.fog,At.lights,{emissive:{value:new _t(0)}}]),vertexShader:Xt.meshlambert_vert,fragmentShader:Xt.meshlambert_frag},phong:{uniforms:g0([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.fog,At.lights,{emissive:{value:new _t(0)},specular:{value:new _t(1118481)},shininess:{value:30}}]),vertexShader:Xt.meshphong_vert,fragmentShader:Xt.meshphong_frag},standard:{uniforms:g0([At.common,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.roughnessmap,At.metalnessmap,At.fog,At.lights,{emissive:{value:new _t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag},toon:{uniforms:g0([At.common,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.gradientmap,At.fog,At.lights,{emissive:{value:new _t(0)}}]),vertexShader:Xt.meshtoon_vert,fragmentShader:Xt.meshtoon_frag},matcap:{uniforms:g0([At.common,At.bumpmap,At.normalmap,At.displacementmap,At.fog,{matcap:{value:null}}]),vertexShader:Xt.meshmatcap_vert,fragmentShader:Xt.meshmatcap_frag},points:{uniforms:g0([At.points,At.fog]),vertexShader:Xt.points_vert,fragmentShader:Xt.points_frag},dashed:{uniforms:g0([At.common,At.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xt.linedashed_vert,fragmentShader:Xt.linedashed_frag},depth:{uniforms:g0([At.common,At.displacementmap]),vertexShader:Xt.depth_vert,fragmentShader:Xt.depth_frag},normal:{uniforms:g0([At.common,At.bumpmap,At.normalmap,At.displacementmap,{opacity:{value:1}}]),vertexShader:Xt.meshnormal_vert,fragmentShader:Xt.meshnormal_frag},sprite:{uniforms:g0([At.sprite,At.fog]),vertexShader:Xt.sprite_vert,fragmentShader:Xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xt.background_vert,fragmentShader:Xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Xt.backgroundCube_vert,fragmentShader:Xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xt.cube_vert,fragmentShader:Xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xt.equirect_vert,fragmentShader:Xt.equirect_frag},distanceRGBA:{uniforms:g0([At.common,At.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xt.distanceRGBA_vert,fragmentShader:Xt.distanceRGBA_frag},shadow:{uniforms:g0([At.lights,At.fog,{color:{value:new _t(0)},opacity:{value:1}}]),vertexShader:Xt.shadow_vert,fragmentShader:Xt.shadow_frag}};Si.physical={uniforms:g0([Si.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Kt},clearcoatNormalScale:{value:new dt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Kt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Kt},sheen:{value:0},sheenColor:{value:new _t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Kt},transmissionSamplerSize:{value:new dt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Kt},attenuationDistance:{value:0},attenuationColor:{value:new _t(0)},specularColor:{value:new _t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Kt},anisotropyVector:{value:new dt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Kt}}]),vertexShader:Xt.meshphysical_vert,fragmentShader:Xt.meshphysical_frag};const N2={r:0,b:0,g:0};function XA(s,t,e,i,n,r,a){const o=new _t(0);let h=r===!0?0:1,l,c,u=null,d=0,f=null;function p(m,y){let _=!1,x=y.isScene===!0?y.background:null;switch(x&&x.isTexture&&(x=(y.backgroundBlurriness>0?e:t).get(x)),x===null?g(o,h):x&&x.isColor&&(g(x,1),_=!0),s.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,a),_=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,a),_=!0;break}(s.autoClear||_)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),x&&(x.isCubeTexture||x.mapping===c5)?(c===void 0&&(c=new Ge(new As(1,1,1),new Fi({name:"BackgroundCubeMaterial",uniforms:Qr(Si.backgroundCube.uniforms),vertexShader:Si.backgroundCube.vertexShader,fragmentShader:Si.backgroundCube.fragmentShader,side:x0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,w,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=x,c.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=x.colorSpace!==Ut,(u!==x||d!==x.version||f!==s.toneMapping)&&(c.material.needsUpdate=!0,u=x,d=x.version,f=s.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new Ge(new d5(2,2),new Fi({name:"BackgroundMaterial",uniforms:Qr(Si.background.uniforms),vertexShader:Si.background.vertexShader,fragmentShader:Si.background.fragmentShader,side:Qi,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=x,l.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,l.material.toneMapped=x.colorSpace!==Ut,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(u!==x||d!==x.version||f!==s.toneMapping)&&(l.material.needsUpdate=!0,u=x,d=x.version,f=s.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function g(m,y){m.getRGB(N2,um(s)),i.buffers.color.setClear(N2.r,N2.g,N2.b,y,a)}return{getClearColor:function(){return o},setClearColor:function(m,y=1){o.set(m),h=y,g(o,h)},getClearAlpha:function(){return h},setClearAlpha:function(m){h=m,g(o,h)},render:p}}function jA(s,t,e,i){const n=s.getParameter(s.MAX_VERTEX_ATTRIBS),r=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||r!==null,o={},h=m(null);let l=h,c=!1;function u(H,G,Y,$,j){let rt=!1;if(a){const at=g($,Y,G);l!==at&&(l=at,f(l.object)),rt=y(H,$,Y,j),rt&&_(H,$,Y,j)}else{const at=G.wireframe===!0;(l.geometry!==$.id||l.program!==Y.id||l.wireframe!==at)&&(l.geometry=$.id,l.program=Y.id,l.wireframe=at,rt=!0)}j!==null&&e.update(j,s.ELEMENT_ARRAY_BUFFER),(rt||c)&&(c=!1,R(H,G,Y,$),j!==null&&s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,e.get(j).buffer))}function d(){return i.isWebGL2?s.createVertexArray():r.createVertexArrayOES()}function f(H){return i.isWebGL2?s.bindVertexArray(H):r.bindVertexArrayOES(H)}function p(H){return i.isWebGL2?s.deleteVertexArray(H):r.deleteVertexArrayOES(H)}function g(H,G,Y){const $=Y.wireframe===!0;let j=o[H.id];j===void 0&&(j={},o[H.id]=j);let rt=j[G.id];rt===void 0&&(rt={},j[G.id]=rt);let at=rt[$];return at===void 0&&(at=m(d()),rt[$]=at),at}function m(H){const G=[],Y=[],$=[];for(let j=0;j<n;j++)G[j]=0,Y[j]=0,$[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:Y,attributeDivisors:$,object:H,attributes:{},index:null}}function y(H,G,Y,$){const j=l.attributes,rt=G.attributes;let at=0;const V=Y.getAttributes();for(const tt in V)if(V[tt].location>=0){const xt=j[tt];let St=rt[tt];if(St===void 0&&(tt==="instanceMatrix"&&H.instanceMatrix&&(St=H.instanceMatrix),tt==="instanceColor"&&H.instanceColor&&(St=H.instanceColor)),xt===void 0||xt.attribute!==St||St&&xt.data!==St.data)return!0;at++}return l.attributesNum!==at||l.index!==$}function _(H,G,Y,$){const j={},rt=G.attributes;let at=0;const V=Y.getAttributes();for(const tt in V)if(V[tt].location>=0){let xt=rt[tt];xt===void 0&&(tt==="instanceMatrix"&&H.instanceMatrix&&(xt=H.instanceMatrix),tt==="instanceColor"&&H.instanceColor&&(xt=H.instanceColor));const St={};St.attribute=xt,xt&&xt.data&&(St.data=xt.data),j[tt]=St,at++}l.attributes=j,l.attributesNum=at,l.index=$}function x(){const H=l.newAttributes;for(let G=0,Y=H.length;G<Y;G++)H[G]=0}function v(H){b(H,0)}function b(H,G){const Y=l.newAttributes,$=l.enabledAttributes,j=l.attributeDivisors;Y[H]=1,$[H]===0&&(s.enableVertexAttribArray(H),$[H]=1),j[H]!==G&&((i.isWebGL2?s:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,G),j[H]=G)}function E(){const H=l.newAttributes,G=l.enabledAttributes;for(let Y=0,$=G.length;Y<$;Y++)G[Y]!==H[Y]&&(s.disableVertexAttribArray(Y),G[Y]=0)}function w(H,G,Y,$,j,rt,at){at===!0?s.vertexAttribIPointer(H,G,Y,j,rt):s.vertexAttribPointer(H,G,Y,$,j,rt)}function R(H,G,Y,$){if(i.isWebGL2===!1&&(H.isInstancedMesh||$.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;x();const j=$.attributes,rt=Y.getAttributes(),at=G.defaultAttributeValues;for(const V in rt){const tt=rt[V];if(tt.location>=0){let yt=j[V];if(yt===void 0&&(V==="instanceMatrix"&&H.instanceMatrix&&(yt=H.instanceMatrix),V==="instanceColor"&&H.instanceColor&&(yt=H.instanceColor)),yt!==void 0){const xt=yt.normalized,St=yt.itemSize,Et=e.get(yt);if(Et===void 0)continue;const q=Et.buffer,lt=Et.type,pt=Et.bytesPerElement,vt=i.isWebGL2===!0&&(lt===s.INT||lt===s.UNSIGNED_INT||yt.gpuType===J6);if(yt.isInterleavedBufferAttribute){const bt=yt.data,M=bt.stride,P=yt.offset;if(bt.isInstancedInterleavedBuffer){for(let I=0;I<tt.locationSize;I++)b(tt.location+I,bt.meshPerAttribute);H.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=bt.meshPerAttribute*bt.count)}else for(let I=0;I<tt.locationSize;I++)v(tt.location+I);s.bindBuffer(s.ARRAY_BUFFER,q);for(let I=0;I<tt.locationSize;I++)w(tt.location+I,St/tt.locationSize,lt,xt,M*pt,(P+St/tt.locationSize*I)*pt,vt)}else{if(yt.isInstancedBufferAttribute){for(let bt=0;bt<tt.locationSize;bt++)b(tt.location+bt,yt.meshPerAttribute);H.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=yt.meshPerAttribute*yt.count)}else for(let bt=0;bt<tt.locationSize;bt++)v(tt.location+bt);s.bindBuffer(s.ARRAY_BUFFER,q);for(let bt=0;bt<tt.locationSize;bt++)w(tt.location+bt,St/tt.locationSize,lt,xt,St*pt,St/tt.locationSize*bt*pt,vt)}}else if(at!==void 0){const xt=at[V];if(xt!==void 0)switch(xt.length){case 2:s.vertexAttrib2fv(tt.location,xt);break;case 3:s.vertexAttrib3fv(tt.location,xt);break;case 4:s.vertexAttrib4fv(tt.location,xt);break;default:s.vertexAttrib1fv(tt.location,xt)}}}}E()}function S(){B();for(const H in o){const G=o[H];for(const Y in G){const $=G[Y];for(const j in $)p($[j].object),delete $[j];delete G[Y]}delete o[H]}}function A(H){if(o[H.id]===void 0)return;const G=o[H.id];for(const Y in G){const $=G[Y];for(const j in $)p($[j].object),delete $[j];delete G[Y]}delete o[H.id]}function U(H){for(const G in o){const Y=o[G];if(Y[H.id]===void 0)continue;const $=Y[H.id];for(const j in $)p($[j].object),delete $[j];delete Y[H.id]}}function B(){F(),c=!0,l!==h&&(l=h,f(l.object))}function F(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:u,reset:B,resetDefaultState:F,dispose:S,releaseStatesOfGeometry:A,releaseStatesOfProgram:U,initAttributes:x,enableAttribute:v,disableUnusedAttributes:E}}function YA(s,t,e,i){const n=i.isWebGL2;let r;function a(l){r=l}function o(l,c){s.drawArrays(r,l,c),e.update(c,r,1)}function h(l,c,u){if(u===0)return;let d,f;if(n)d=s,f="drawArraysInstanced";else if(d=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[f](r,l,c,u),e.update(c,r,u)}this.setMode=a,this.render=o,this.renderInstances=h}function ZA(s,t,e){let i;function n(){if(i!==void 0)return i;if(t.has("EXT_texture_filter_anisotropic")===!0){const w=t.get("EXT_texture_filter_anisotropic");i=s.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function r(w){if(w==="highp"){if(s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision>0)return"highp";w="mediump"}return w==="mediump"&&s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).precision>0&&s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&s.constructor.name==="WebGL2RenderingContext";let o=e.precision!==void 0?e.precision:"highp";const h=r(o);h!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",h,"instead."),o=h);const l=a||t.has("WEBGL_draw_buffers"),c=e.logarithmicDepthBuffer===!0,u=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),d=s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=s.getParameter(s.MAX_TEXTURE_SIZE),p=s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE),g=s.getParameter(s.MAX_VERTEX_ATTRIBS),m=s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS),y=s.getParameter(s.MAX_VARYING_VECTORS),_=s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS),x=d>0,v=a||t.has("OES_texture_float"),b=x&&v,E=a?s.getParameter(s.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:n,getMaxPrecision:r,precision:o,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:m,maxVaryings:y,maxFragmentUniforms:_,vertexTextures:x,floatFragmentTextures:v,floatVertexTextures:b,maxSamples:E}}function JA(s){const t=this;let e=null,i=0,n=!1,r=!1;const a=new is,o=new Kt,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d){const f=u.length!==0||d||i!==0||n;return n=d,i=u.length,f},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(u,d){e=c(u,d,0)},this.setState=function(u,d,f){const p=u.clippingPlanes,g=u.clipIntersection,m=u.clipShadows,y=s.get(u);if(!n||p===null||p.length===0||r&&!m)r?c(null):l();else{const _=r?0:i,x=_*4;let v=y.clippingState||null;h.value=v,v=c(p,d,x,f);for(let b=0;b!==x;++b)v[b]=e[b];y.clippingState=v,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function l(){h.value!==e&&(h.value=e,h.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function c(u,d,f,p){const g=u!==null?u.length:0;let m=null;if(g!==0){if(m=h.value,p!==!0||m===null){const y=f+g*4,_=d.matrixWorldInverse;o.getNormalMatrix(_),(m===null||m.length<y)&&(m=new Float32Array(y));for(let x=0,v=f;x!==g;++x,v+=4)a.copy(u[x]).applyMatrix4(_,o),a.normal.toArray(m,v),m[v+3]=a.constant}h.value=m,h.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,m}}function KA(s){let t=new WeakMap;function e(a,o){return o===jr?a.mapping=ys:o===E1&&(a.mapping=xs),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===jr||o===E1)if(t.has(a)){const h=t.get(a).texture;return e(h,a.mapping)}else{const h=a.image;if(h&&h.height>0){const l=new pm(h.height/2);return l.fromEquirectangularTexture(s,a),t.set(a,l),a.addEventListener("dispose",n),e(l.texture,a.mapping)}else return null}}return a}function n(a){const o=a.target;o.removeEventListener("dispose",n);const h=t.get(o);h!==void 0&&(t.delete(o),h.dispose())}function r(){t=new WeakMap}return{get:i,dispose:r}}let f5=class extends H4{constructor(t=-1,e=1,i=1,n=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,n,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=i-t,a=i+t,o=n+e,h=n-e;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,a=r+l*this.view.width,o-=c*this.view.offsetY,h=o-c*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}};const Rr=4,Fl=[.125,.215,.35,.446,.526,.582],h9=20,Jo=new f5,Ol=new _t;let Ko=null;const t9=(1+Math.sqrt(5))/2,J9=1/t9,zl=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,t9,J9),new L(0,t9,-J9),new L(J9,0,t9),new L(-J9,0,t9),new L(t9,J9,0),new L(-t9,J9,0)];class Y3{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,n=100){Ko=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,n,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=kl(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ul(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Ko),t.scissorTest=!1,D2(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===ys||t.mapping===xs?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Ko=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:Me,minFilter:Me,generateMipmaps:!1,type:Zr,format:k0,colorSpace:Ni,depthBuffer:!1},n=Bl(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Bl(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=QA(r)),this._blurMaterial=tE(r,t,e)}return n}_compileMaterial(t){const e=new Ge(this._lodPlanes[0],t);this._renderer.compile(e,Jo)}_sceneToCubeUV(t,e,i,n){const o=new He(90,1,e,i),h=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(Ol),c.toneMapping=Zi,c.autoClear=!1;const f=new E0({name:"PMREM.Background",side:x0,depthWrite:!1,depthTest:!1}),p=new Ge(new As,f);let g=!1;const m=t.background;m?m.isColor&&(f.color.copy(m),t.background=null,g=!0):(f.color.copy(Ol),g=!0);for(let y=0;y<6;y++){const _=y%3;_===0?(o.up.set(0,h[y],0),o.lookAt(l[y],0,0)):_===1?(o.up.set(0,0,h[y]),o.lookAt(0,l[y],0)):(o.up.set(0,h[y],0),o.lookAt(0,0,l[y]));const x=this._cubeSize;D2(n,_*x,y>2?x:0,x,x),c.setRenderTarget(n),g&&c.render(p,o),c.render(t,o)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=d,c.autoClear=u,t.background=m}_textureToCubeUV(t,e){const i=this._renderer,n=t.mapping===ys||t.mapping===xs;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=kl()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ul());const r=n?this._cubemapMaterial:this._equirectMaterial,a=new Ge(this._lodPlanes[0],r),o=r.uniforms;o.envMap.value=t;const h=this._cubeSize;D2(e,0,0,3*h,2*h),i.setRenderTarget(e),i.render(a,Jo)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const r=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),a=zl[(n-1)%zl.length];this._blur(t,n-1,n,r,a)}e.autoClear=i}_blur(t,e,i,n,r){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,i,n,"latitudinal",r),this._halfBlur(a,t,i,i,n,"longitudinal",r)}_halfBlur(t,e,i,n,r,a,o){const h=this._renderer,l=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Ge(this._lodPlanes[n],l),d=l.uniforms,f=this._sizeLods[i]-1,p=isFinite(r)?Math.PI/(2*f):2*Math.PI/(2*h9-1),g=r/p,m=isFinite(r)?1+Math.floor(c*g):h9;m>h9&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${h9}`);const y=[];let _=0;for(let w=0;w<h9;++w){const R=w/g,S=Math.exp(-R*R/2);y.push(S),w===0?_+=S:w<m&&(_+=2*S)}for(let w=0;w<y.length;w++)y[w]=y[w]/_;d.envMap.value=t.texture,d.samples.value=m,d.weights.value=y,d.latitudinal.value=a==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:x}=this;d.dTheta.value=p,d.mipInt.value=x-i;const v=this._sizeLods[n],b=3*v*(n>x-Rr?n-x+Rr:0),E=4*(this._cubeSize-v);D2(e,b,E,3*v,2*v),h.setRenderTarget(e),h.render(u,Jo)}}function QA(s){const t=[],e=[],i=[];let n=s;const r=s-Rr+1+Fl.length;for(let a=0;a<r;a++){const o=Math.pow(2,n);e.push(o);let h=1/o;a>s-Rr?h=Fl[a-s+Rr-1]:a===0&&(h=0),i.push(h);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],f=6,p=6,g=3,m=2,y=1,_=new Float32Array(g*p*f),x=new Float32Array(m*p*f),v=new Float32Array(y*p*f);for(let E=0;E<f;E++){const w=E%3*2/3-1,R=E>2?0:-1,S=[w,R,0,w+2/3,R,0,w+2/3,R+1,0,w,R,0,w+2/3,R+1,0,w,R+1,0];_.set(S,g*p*E),x.set(d,m*p*E);const A=[E,E,E,E,E,E];v.set(A,y*p*E)}const b=new jt;b.setAttribute("position",new ue(_,g)),b.setAttribute("uv",new ue(x,m)),b.setAttribute("faceIndex",new ue(v,y)),t.push(b),n>Rr&&n--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function Bl(s,t,e){const i=new Di(s,t,e);return i.texture.mapping=c5,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function D2(s,t,e,i,n){s.viewport.set(t,e,i,n),s.scissor.set(t,e,i,n)}function tE(s,t,e){const i=new Float32Array(h9),n=new L(0,1,0);return new Fi({name:"SphericalGaussianBlur",defines:{n:h9,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:u8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Rn,depthTest:!1,depthWrite:!1})}function Ul(){return new Fi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:u8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Rn,depthTest:!1,depthWrite:!1})}function kl(){return new Fi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:u8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Rn,depthTest:!1,depthWrite:!1})}function u8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eE(s){let t=new WeakMap,e=null;function i(o){if(o&&o.isTexture){const h=o.mapping,l=h===jr||h===E1,c=h===ys||h===xs;if(l||c)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let u=t.get(o);return e===null&&(e=new Y3(s)),u=l?e.fromEquirectangular(o,u):e.fromCubemap(o,u),t.set(o,u),u.texture}else{if(t.has(o))return t.get(o).texture;{const u=o.image;if(l&&u&&u.height>0||c&&u&&n(u)){e===null&&(e=new Y3(s));const d=l?e.fromEquirectangular(o):e.fromCubemap(o);return t.set(o,d),o.addEventListener("dispose",r),d.texture}else return null}}}return o}function n(o){let h=0;const l=6;for(let c=0;c<l;c++)o[c]!==void 0&&h++;return h===l}function r(o){const h=o.target;h.removeEventListener("dispose",r);const l=t.get(h);l!==void 0&&(t.delete(h),l.dispose())}function a(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:a}}function iE(s){const t={};function e(i){if(t[i]!==void 0)return t[i];let n;switch(i){case"WEBGL_depth_texture":n=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=s.getExtension(i)}return t[i]=n,n}return{has:function(i){return e(i)!==null},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const n=e(i);return n===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),n}}}function nE(s,t,e,i){const n={},r=new WeakMap;function a(u){const d=u.target;d.index!==null&&t.remove(d.index);for(const p in d.attributes)t.remove(d.attributes[p]);for(const p in d.morphAttributes){const g=d.morphAttributes[p];for(let m=0,y=g.length;m<y;m++)t.remove(g[m])}d.removeEventListener("dispose",a),delete n[d.id];const f=r.get(d);f&&(t.remove(f),r.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,e.memory.geometries--}function o(u,d){return n[d.id]===!0||(d.addEventListener("dispose",a),n[d.id]=!0,e.memory.geometries++),d}function h(u){const d=u.attributes;for(const p in d)t.update(d[p],s.ARRAY_BUFFER);const f=u.morphAttributes;for(const p in f){const g=f[p];for(let m=0,y=g.length;m<y;m++)t.update(g[m],s.ARRAY_BUFFER)}}function l(u){const d=[],f=u.index,p=u.attributes.position;let g=0;if(f!==null){const _=f.array;g=f.version;for(let x=0,v=_.length;x<v;x+=3){const b=_[x+0],E=_[x+1],w=_[x+2];d.push(b,E,E,w,w,b)}}else{const _=p.array;g=p.version;for(let x=0,v=_.length/3-1;x<v;x+=3){const b=x+0,E=x+1,w=x+2;d.push(b,E,E,w,w,b)}}const m=new(rm(d)?c8:k4)(d,1);m.version=g;const y=r.get(u);y&&t.remove(y),r.set(u,m)}function c(u){const d=r.get(u);if(d){const f=u.index;f!==null&&d.version<f.version&&l(u)}else l(u);return r.get(u)}return{get:o,update:h,getWireframeAttribute:c}}function sE(s,t,e,i){const n=i.isWebGL2;let r;function a(d){r=d}let o,h;function l(d){o=d.type,h=d.bytesPerElement}function c(d,f){s.drawElements(r,f,o,d*h),e.update(f,r,1)}function u(d,f,p){if(p===0)return;let g,m;if(n)g=s,m="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[m](r,f,o,d*h,p),e.update(f,r,p)}this.setMode=a,this.setIndex=l,this.render=c,this.renderInstances=u}function rE(s){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,o){switch(e.calls++,a){case s.TRIANGLES:e.triangles+=o*(r/3);break;case s.LINES:e.lines+=o*(r/2);break;case s.LINE_STRIP:e.lines+=o*(r-1);break;case s.LINE_LOOP:e.lines+=o*r;break;case s.POINTS:e.points+=o*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function n(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:n,update:i}}function aE(s,t){return s[0]-t[0]}function oE(s,t){return Math.abs(t[1])-Math.abs(s[1])}function hE(s,t,e){const i={},n=new Float32Array(8),r=new WeakMap,a=new ce,o=[];for(let l=0;l<8;l++)o[l]=[l,0];function h(l,c,u){const d=l.morphTargetInfluences;if(t.isWebGL2===!0){const f=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,p=f!==void 0?f.length:0;let g=r.get(c);if(g===void 0||g.count!==p){let H=function(){B.dispose(),r.delete(c),c.removeEventListener("dispose",H)};g!==void 0&&g.texture.dispose();const _=c.morphAttributes.position!==void 0,x=c.morphAttributes.normal!==void 0,v=c.morphAttributes.color!==void 0,b=c.morphAttributes.position||[],E=c.morphAttributes.normal||[],w=c.morphAttributes.color||[];let R=0;_===!0&&(R=1),x===!0&&(R=2),v===!0&&(R=3);let S=c.attributes.position.count*R,A=1;S>t.maxTextureSize&&(A=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);const U=new Float32Array(S*A*4*p),B=new B4(U,S,A,p);B.type=ji,B.needsUpdate=!0;const F=R*4;for(let G=0;G<p;G++){const Y=b[G],$=E[G],j=w[G],rt=S*A*4*G;for(let at=0;at<Y.count;at++){const V=at*F;_===!0&&(a.fromBufferAttribute(Y,at),U[rt+V+0]=a.x,U[rt+V+1]=a.y,U[rt+V+2]=a.z,U[rt+V+3]=0),x===!0&&(a.fromBufferAttribute($,at),U[rt+V+4]=a.x,U[rt+V+5]=a.y,U[rt+V+6]=a.z,U[rt+V+7]=0),v===!0&&(a.fromBufferAttribute(j,at),U[rt+V+8]=a.x,U[rt+V+9]=a.y,U[rt+V+10]=a.z,U[rt+V+11]=j.itemSize===4?a.w:1)}}g={count:p,texture:B,size:new dt(S,A)},r.set(c,g),c.addEventListener("dispose",H)}let m=0;for(let _=0;_<d.length;_++)m+=d[_];const y=c.morphTargetsRelative?1:1-m;u.getUniforms().setValue(s,"morphTargetBaseInfluence",y),u.getUniforms().setValue(s,"morphTargetInfluences",d),u.getUniforms().setValue(s,"morphTargetsTexture",g.texture,e),u.getUniforms().setValue(s,"morphTargetsTextureSize",g.size)}else{const f=d===void 0?0:d.length;let p=i[c.id];if(p===void 0||p.length!==f){p=[];for(let x=0;x<f;x++)p[x]=[x,0];i[c.id]=p}for(let x=0;x<f;x++){const v=p[x];v[0]=x,v[1]=d[x]}p.sort(oE);for(let x=0;x<8;x++)x<f&&p[x][1]?(o[x][0]=p[x][0],o[x][1]=p[x][1]):(o[x][0]=Number.MAX_SAFE_INTEGER,o[x][1]=0);o.sort(aE);const g=c.morphAttributes.position,m=c.morphAttributes.normal;let y=0;for(let x=0;x<8;x++){const v=o[x],b=v[0],E=v[1];b!==Number.MAX_SAFE_INTEGER&&E?(g&&c.getAttribute("morphTarget"+x)!==g[b]&&c.setAttribute("morphTarget"+x,g[b]),m&&c.getAttribute("morphNormal"+x)!==m[b]&&c.setAttribute("morphNormal"+x,m[b]),n[x]=E,y+=E):(g&&c.hasAttribute("morphTarget"+x)===!0&&c.deleteAttribute("morphTarget"+x),m&&c.hasAttribute("morphNormal"+x)===!0&&c.deleteAttribute("morphNormal"+x),n[x]=0)}const _=c.morphTargetsRelative?1:1-y;u.getUniforms().setValue(s,"morphTargetBaseInfluence",_),u.getUniforms().setValue(s,"morphTargetInfluences",n)}}return{update:h}}function lE(s,t,e,i){let n=new WeakMap;function r(h){const l=i.render.frame,c=h.geometry,u=t.get(h,c);if(n.get(u)!==l&&(t.update(u),n.set(u,l)),h.isInstancedMesh&&(h.hasEventListener("dispose",o)===!1&&h.addEventListener("dispose",o),n.get(h)!==l&&(e.update(h.instanceMatrix,s.ARRAY_BUFFER),h.instanceColor!==null&&e.update(h.instanceColor,s.ARRAY_BUFFER),n.set(h,l))),h.isSkinnedMesh){const d=h.skeleton;n.get(d)!==l&&(d.update(),n.set(d,l))}return u}function a(){n=new WeakMap}function o(h){const l=h.target;l.removeEventListener("dispose",o),e.remove(l.instanceMatrix),l.instanceColor!==null&&e.remove(l.instanceColor)}return{update:r,dispose:a}}const gm=new Oe,ym=new B4,xm=new l8,_m=new q1,Hl=[],Gl=[],Vl=new Float32Array(16),Wl=new Float32Array(9),ql=new Float32Array(4);function p5(s,t,e){const i=s[0];if(i<=0||i>0)return s;const n=t*e;let r=Hl[n];if(r===void 0&&(r=new Float32Array(n),Hl[n]=r),t!==0){i.toArray(r,0);for(let a=1,o=0;a!==t;++a)o+=e,s[a].toArray(r,o)}return r}function je(s,t){if(s.length!==t.length)return!1;for(let e=0,i=s.length;e<i;e++)if(s[e]!==t[e])return!1;return!0}function Ye(s,t){for(let e=0,i=t.length;e<i;e++)s[e]=t[e]}function V4(s,t){let e=Gl[t];e===void 0&&(e=new Int32Array(t),Gl[t]=e);for(let i=0;i!==t;++i)e[i]=s.allocateTextureUnit();return e}function cE(s,t){const e=this.cache;e[0]!==t&&(s.uniform1f(this.addr,t),e[0]=t)}function uE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(s.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(je(e,t))return;s.uniform2fv(this.addr,t),Ye(e,t)}}function dE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(s.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(s.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(je(e,t))return;s.uniform3fv(this.addr,t),Ye(e,t)}}function fE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(s.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(je(e,t))return;s.uniform4fv(this.addr,t),Ye(e,t)}}function pE(s,t){const e=this.cache,i=t.elements;if(i===void 0){if(je(e,t))return;s.uniformMatrix2fv(this.addr,!1,t),Ye(e,t)}else{if(je(e,i))return;ql.set(i),s.uniformMatrix2fv(this.addr,!1,ql),Ye(e,i)}}function mE(s,t){const e=this.cache,i=t.elements;if(i===void 0){if(je(e,t))return;s.uniformMatrix3fv(this.addr,!1,t),Ye(e,t)}else{if(je(e,i))return;Wl.set(i),s.uniformMatrix3fv(this.addr,!1,Wl),Ye(e,i)}}function gE(s,t){const e=this.cache,i=t.elements;if(i===void 0){if(je(e,t))return;s.uniformMatrix4fv(this.addr,!1,t),Ye(e,t)}else{if(je(e,i))return;Vl.set(i),s.uniformMatrix4fv(this.addr,!1,Vl),Ye(e,i)}}function yE(s,t){const e=this.cache;e[0]!==t&&(s.uniform1i(this.addr,t),e[0]=t)}function xE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(s.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(je(e,t))return;s.uniform2iv(this.addr,t),Ye(e,t)}}function _E(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(s.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(je(e,t))return;s.uniform3iv(this.addr,t),Ye(e,t)}}function vE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(s.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(je(e,t))return;s.uniform4iv(this.addr,t),Ye(e,t)}}function ME(s,t){const e=this.cache;e[0]!==t&&(s.uniform1ui(this.addr,t),e[0]=t)}function bE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(s.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(je(e,t))return;s.uniform2uiv(this.addr,t),Ye(e,t)}}function SE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(s.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(je(e,t))return;s.uniform3uiv(this.addr,t),Ye(e,t)}}function wE(s,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(s.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(je(e,t))return;s.uniform4uiv(this.addr,t),Ye(e,t)}}function AE(s,t,e){const i=this.cache,n=e.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),e.setTexture2D(t||gm,n)}function EE(s,t,e){const i=this.cache,n=e.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),e.setTexture3D(t||xm,n)}function TE(s,t,e){const i=this.cache,n=e.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),e.setTextureCube(t||_m,n)}function CE(s,t,e){const i=this.cache,n=e.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),e.setTexture2DArray(t||ym,n)}function RE(s){switch(s){case 5126:return cE;case 35664:return uE;case 35665:return dE;case 35666:return fE;case 35674:return pE;case 35675:return mE;case 35676:return gE;case 5124:case 35670:return yE;case 35667:case 35671:return xE;case 35668:case 35672:return _E;case 35669:case 35673:return vE;case 5125:return ME;case 36294:return bE;case 36295:return SE;case 36296:return wE;case 35678:case 36198:case 36298:case 36306:case 35682:return AE;case 35679:case 36299:case 36307:return EE;case 35680:case 36300:case 36308:case 36293:return TE;case 36289:case 36303:case 36311:case 36292:return CE}}function PE(s,t){s.uniform1fv(this.addr,t)}function LE(s,t){const e=p5(t,this.size,2);s.uniform2fv(this.addr,e)}function IE(s,t){const e=p5(t,this.size,3);s.uniform3fv(this.addr,e)}function NE(s,t){const e=p5(t,this.size,4);s.uniform4fv(this.addr,e)}function DE(s,t){const e=p5(t,this.size,4);s.uniformMatrix2fv(this.addr,!1,e)}function FE(s,t){const e=p5(t,this.size,9);s.uniformMatrix3fv(this.addr,!1,e)}function OE(s,t){const e=p5(t,this.size,16);s.uniformMatrix4fv(this.addr,!1,e)}function zE(s,t){s.uniform1iv(this.addr,t)}function BE(s,t){s.uniform2iv(this.addr,t)}function UE(s,t){s.uniform3iv(this.addr,t)}function kE(s,t){s.uniform4iv(this.addr,t)}function HE(s,t){s.uniform1uiv(this.addr,t)}function GE(s,t){s.uniform2uiv(this.addr,t)}function VE(s,t){s.uniform3uiv(this.addr,t)}function WE(s,t){s.uniform4uiv(this.addr,t)}function qE(s,t,e){const i=this.cache,n=t.length,r=V4(e,n);je(i,r)||(s.uniform1iv(this.addr,r),Ye(i,r));for(let a=0;a!==n;++a)e.setTexture2D(t[a]||gm,r[a])}function $E(s,t,e){const i=this.cache,n=t.length,r=V4(e,n);je(i,r)||(s.uniform1iv(this.addr,r),Ye(i,r));for(let a=0;a!==n;++a)e.setTexture3D(t[a]||xm,r[a])}function XE(s,t,e){const i=this.cache,n=t.length,r=V4(e,n);je(i,r)||(s.uniform1iv(this.addr,r),Ye(i,r));for(let a=0;a!==n;++a)e.setTextureCube(t[a]||_m,r[a])}function jE(s,t,e){const i=this.cache,n=t.length,r=V4(e,n);je(i,r)||(s.uniform1iv(this.addr,r),Ye(i,r));for(let a=0;a!==n;++a)e.setTexture2DArray(t[a]||ym,r[a])}function YE(s){switch(s){case 5126:return PE;case 35664:return LE;case 35665:return IE;case 35666:return NE;case 35674:return DE;case 35675:return FE;case 35676:return OE;case 5124:case 35670:return zE;case 35667:case 35671:return BE;case 35668:case 35672:return UE;case 35669:case 35673:return kE;case 5125:return HE;case 36294:return GE;case 36295:return VE;case 36296:return WE;case 35678:case 36198:case 36298:case 36306:case 35682:return qE;case 35679:case 36299:case 36307:return $E;case 35680:case 36300:case 36308:case 36293:return XE;case 36289:case 36303:case 36311:case 36292:return jE}}class ZE{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=RE(e.type)}}class JE{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=YE(e.type)}}class KE{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const n=this.seq;for(let r=0,a=n.length;r!==a;++r){const o=n[r];o.setValue(t,e[o.id],i)}}}const Qo=/(\w+)(\])?(\[|\.)?/g;function $l(s,t){s.seq.push(t),s.map[t.id]=t}function QE(s,t,e){const i=s.name,n=i.length;for(Qo.lastIndex=0;;){const r=Qo.exec(i),a=Qo.lastIndex;let o=r[1];const h=r[2]==="]",l=r[3];if(h&&(o=o|0),l===void 0||l==="["&&a+2===n){$l(e,l===void 0?new ZE(o,s,t):new JE(o,s,t));break}else{let u=e.map[o];u===void 0&&(u=new KE(o),$l(e,u)),e=u}}}class Wa{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<i;++n){const r=t.getActiveUniform(e,n),a=t.getUniformLocation(e,r.name);QE(r,a,this)}}setValue(t,e,i,n){const r=this.map[e];r!==void 0&&r.setValue(t,i,n)}setOptional(t,e,i){const n=e[i];n!==void 0&&this.setValue(t,i,n)}static upload(t,e,i,n){for(let r=0,a=e.length;r!==a;++r){const o=e[r],h=i[o.id];h.needsUpdate!==!1&&o.setValue(t,h.value,n)}}static seqWithValue(t,e){const i=[];for(let n=0,r=t.length;n!==r;++n){const a=t[n];a.id in e&&i.push(a)}return i}}function Xl(s,t,e){const i=s.createShader(t);return s.shaderSource(i,e),s.compileShader(i),i}let tT=0;function eT(s,t){const e=s.split(`
`),i=[],n=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let a=n;a<r;a++){const o=a+1;i.push(`${o===t?">":" "} ${o}: ${e[a]}`)}return i.join(`
`)}function iT(s){switch(s){case Ni:return["Linear","( value )"];case Ut:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",s),["Linear","( value )"]}}function jl(s,t,e){const i=s.getShaderParameter(t,s.COMPILE_STATUS),n=s.getShaderInfoLog(t).trim();if(i&&n==="")return"";const r=/ERROR: 0:(\d+)/.exec(n);if(r){const a=parseInt(r[1]);return e.toUpperCase()+`

`+n+`

`+eT(s.getShaderSource(t),a)}else return n}function nT(s,t){const e=iT(t);return"vec4 "+s+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function sT(s,t){let e;switch(t){case Ep:e="Linear";break;case Tp:e="Reinhard";break;case Cp:e="OptimizedCineon";break;case Rp:e="ACESFilmic";break;case Pp:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+s+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function rT(s){return[s.extensionDerivatives||s.envMapCubeUVHeight||s.bumpMap||s.normalMapTangentSpace||s.clearcoatNormalMap||s.flatShading||s.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(s.extensionFragDepth||s.logarithmicDepthBuffer)&&s.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",s.extensionDrawBuffers&&s.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(s.extensionShaderTextureLOD||s.envMap||s.transmission)&&s.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Q5).join(`
`)}function aT(s){const t=[];for(const e in s){const i=s[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function oT(s,t){const e={},i=s.getProgramParameter(t,s.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const r=s.getActiveAttrib(t,n),a=r.name;let o=1;r.type===s.FLOAT_MAT2&&(o=2),r.type===s.FLOAT_MAT3&&(o=3),r.type===s.FLOAT_MAT4&&(o=4),e[a]={type:r.type,location:s.getAttribLocation(t,a),locationSize:o}}return e}function Q5(s){return s!==""}function Yl(s,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return s.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Zl(s,t){return s.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const hT=/^[ \t]*#include +<([\w\d./]+)>/gm;function Z3(s){return s.replace(hT,cT)}const lT=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function cT(s,t){let e=Xt[t];if(e===void 0){const i=lT.get(t);if(i!==void 0)e=Xt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return Z3(e)}const uT=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Jl(s){return s.replace(uT,dT)}function dT(s,t,e,i){let n="";for(let r=parseInt(t);r<parseInt(e);r++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return n}function Kl(s){let t="precision "+s.precision+` float;
precision `+s.precision+" int;";return s.precision==="highp"?t+=`
#define HIGH_PRECISION`:s.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function fT(s){let t="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===j6?t="SHADOWMAP_TYPE_PCF":s.shadowMapType===sp?t="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===Wi&&(t="SHADOWMAP_TYPE_VSM"),t}function pT(s){let t="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case ys:case xs:t="ENVMAP_TYPE_CUBE";break;case c5:t="ENVMAP_TYPE_CUBE_UV";break}return t}function mT(s){let t="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case xs:t="ENVMAP_MODE_REFRACTION";break}return t}function gT(s){let t="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case W1:t="ENVMAP_BLENDING_MULTIPLY";break;case wp:t="ENVMAP_BLENDING_MIX";break;case Ap:t="ENVMAP_BLENDING_ADD";break}return t}function yT(s){const t=s.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function xT(s,t,e,i){const n=s.getContext(),r=e.defines;let a=e.vertexShader,o=e.fragmentShader;const h=fT(e),l=pT(e),c=mT(e),u=gT(e),d=yT(e),f=e.isWebGL2?"":rT(e),p=aT(r),g=n.createProgram();let m,y,_=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(m=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(Q5).join(`
`),m.length>0&&(m+=`
`),y=[f,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(Q5).join(`
`),y.length>0&&(y+=`
`)):(m=[Kl(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Q5).join(`
`),y=[f,Kl(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+l:"",e.envMap?"#define "+c:"",e.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+h:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Zi?"#define TONE_MAPPING":"",e.toneMapping!==Zi?Xt.tonemapping_pars_fragment:"",e.toneMapping!==Zi?sT("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Xt.colorspace_pars_fragment,nT("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Q5).join(`
`)),a=Z3(a),a=Yl(a,e),a=Zl(a,e),o=Z3(o),o=Yl(o,e),o=Zl(o,e),a=Jl(a),o=Jl(o),e.isWebGL2&&e.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,y=["#define varying in",e.glslVersion===$3?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===$3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const x=_+m+a,v=_+y+o,b=Xl(n,n.VERTEX_SHADER,x),E=Xl(n,n.FRAGMENT_SHADER,v);if(n.attachShader(g,b),n.attachShader(g,E),e.index0AttributeName!==void 0?n.bindAttribLocation(g,0,e.index0AttributeName):e.morphTargets===!0&&n.bindAttribLocation(g,0,"position"),n.linkProgram(g),s.debug.checkShaderErrors){const S=n.getProgramInfoLog(g).trim(),A=n.getShaderInfoLog(b).trim(),U=n.getShaderInfoLog(E).trim();let B=!0,F=!0;if(n.getProgramParameter(g,n.LINK_STATUS)===!1)if(B=!1,typeof s.debug.onShaderError=="function")s.debug.onShaderError(n,g,b,E);else{const H=jl(n,b,"vertex"),G=jl(n,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(g,n.VALIDATE_STATUS)+`

Program Info Log: `+S+`
`+H+`
`+G)}else S!==""?console.warn("THREE.WebGLProgram: Program Info Log:",S):(A===""||U==="")&&(F=!1);F&&(this.diagnostics={runnable:B,programLog:S,vertexShader:{log:A,prefix:m},fragmentShader:{log:U,prefix:y}})}n.deleteShader(b),n.deleteShader(E);let w;this.getUniforms=function(){return w===void 0&&(w=new Wa(n,g)),w};let R;return this.getAttributes=function(){return R===void 0&&(R=oT(n,g)),R},this.destroy=function(){i.releaseStatesOfProgram(this),n.deleteProgram(g),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=tT++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=b,this.fragmentShader=E,this}let _T=0;class vT{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,n=this._getShaderStage(e),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(t);return a.has(n)===!1&&(a.add(n),n.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new MT(t),e.set(t,i)),i}}class MT{constructor(t){this.id=_T++,this.code=t,this.usedTimes=0}}function bT(s,t,e,i,n,r,a){const o=new U4,h=new vT,l=[],c=n.isWebGL2,u=n.logarithmicDepthBuffer,d=n.vertexTextures;let f=n.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(S){return S===0?"uv":`uv${S}`}function m(S,A,U,B,F){const H=B.fog,G=F.geometry,Y=S.isMeshStandardMaterial?B.environment:null,$=(S.isMeshStandardMaterial?e:t).get(S.envMap||Y),j=$&&$.mapping===c5?$.image.height:null,rt=p[S.type];S.precision!==null&&(f=n.getMaxPrecision(S.precision),f!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",f,"instead."));const at=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,V=at!==void 0?at.length:0;let tt=0;G.morphAttributes.position!==void 0&&(tt=1),G.morphAttributes.normal!==void 0&&(tt=2),G.morphAttributes.color!==void 0&&(tt=3);let yt,xt,St,Et;if(rt){const ki=Si[rt];yt=ki.vertexShader,xt=ki.fragmentShader}else yt=S.vertexShader,xt=S.fragmentShader,h.update(S),St=h.getVertexShaderID(S),Et=h.getFragmentShaderID(S);const q=s.getRenderTarget(),lt=F.isInstancedMesh===!0,pt=!!S.map,vt=!!S.matcap,bt=!!$,M=!!S.aoMap,P=!!S.lightMap,I=!!S.bumpMap,z=!!S.normalMap,O=!!S.displacementMap,Z=!!S.emissiveMap,et=!!S.metalnessMap,J=!!S.roughnessMap,ht=S.anisotropy>0,nt=S.clearcoat>0,wt=S.iridescence>0,C=S.sheen>0,T=S.transmission>0,W=ht&&!!S.anisotropyMap,st=nt&&!!S.clearcoatMap,ft=nt&&!!S.clearcoatNormalMap,D=nt&&!!S.clearcoatRoughnessMap,ot=wt&&!!S.iridescenceMap,mt=wt&&!!S.iridescenceThicknessMap,Q=C&&!!S.sheenColorMap,Dt=C&&!!S.sheenRoughnessMap,Ot=!!S.specularMap,zt=!!S.specularColorMap,Tt=!!S.specularIntensityMap,Ct=T&&!!S.transmissionMap,kt=T&&!!S.thicknessMap,ie=!!S.gradientMap,k=!!S.alphaMap,Rt=S.alphaTest>0,it=!!S.alphaHash,Mt=!!S.extensions,Pt=!!G.attributes.uv1,le=!!G.attributes.uv2,ve=!!G.attributes.uv3;return{isWebGL2:c,shaderID:rt,shaderType:S.type,shaderName:S.name,vertexShader:yt,fragmentShader:xt,defines:S.defines,customVertexShaderID:St,customFragmentShaderID:Et,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:f,instancing:lt,instancingColor:lt&&F.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:q===null?s.outputColorSpace:q.isXRRenderTarget===!0?q.texture.colorSpace:Ni,map:pt,matcap:vt,envMap:bt,envMapMode:bt&&$.mapping,envMapCubeUVHeight:j,aoMap:M,lightMap:P,bumpMap:I,normalMap:z,displacementMap:d&&O,emissiveMap:Z,normalMapObjectSpace:z&&S.normalMapType===$p,normalMapTangentSpace:z&&S.normalMapType===ws,metalnessMap:et,roughnessMap:J,anisotropy:ht,anisotropyMap:W,clearcoat:nt,clearcoatMap:st,clearcoatNormalMap:ft,clearcoatRoughnessMap:D,iridescence:wt,iridescenceMap:ot,iridescenceThicknessMap:mt,sheen:C,sheenColorMap:Q,sheenRoughnessMap:Dt,specularMap:Ot,specularColorMap:zt,specularIntensityMap:Tt,transmission:T,transmissionMap:Ct,thicknessMap:kt,gradientMap:ie,opaque:S.transparent===!1&&S.blending===y9,alphaMap:k,alphaTest:Rt,alphaHash:it,combine:S.combine,mapUv:pt&&g(S.map.channel),aoMapUv:M&&g(S.aoMap.channel),lightMapUv:P&&g(S.lightMap.channel),bumpMapUv:I&&g(S.bumpMap.channel),normalMapUv:z&&g(S.normalMap.channel),displacementMapUv:O&&g(S.displacementMap.channel),emissiveMapUv:Z&&g(S.emissiveMap.channel),metalnessMapUv:et&&g(S.metalnessMap.channel),roughnessMapUv:J&&g(S.roughnessMap.channel),anisotropyMapUv:W&&g(S.anisotropyMap.channel),clearcoatMapUv:st&&g(S.clearcoatMap.channel),clearcoatNormalMapUv:ft&&g(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:D&&g(S.clearcoatRoughnessMap.channel),iridescenceMapUv:ot&&g(S.iridescenceMap.channel),iridescenceThicknessMapUv:mt&&g(S.iridescenceThicknessMap.channel),sheenColorMapUv:Q&&g(S.sheenColorMap.channel),sheenRoughnessMapUv:Dt&&g(S.sheenRoughnessMap.channel),specularMapUv:Ot&&g(S.specularMap.channel),specularColorMapUv:zt&&g(S.specularColorMap.channel),specularIntensityMapUv:Tt&&g(S.specularIntensityMap.channel),transmissionMapUv:Ct&&g(S.transmissionMap.channel),thicknessMapUv:kt&&g(S.thicknessMap.channel),alphaMapUv:k&&g(S.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(z||ht),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUv1s:Pt,vertexUv2s:le,vertexUv3s:ve,pointsUvs:F.isPoints===!0&&!!G.attributes.uv&&(pt||k),fog:!!H,useFog:S.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:u,skinning:F.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:tt,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:S.dithering,shadowMapEnabled:s.shadowMap.enabled&&U.length>0,shadowMapType:s.shadowMap.type,toneMapping:S.toneMapped?s.toneMapping:Zi,useLegacyLights:s.useLegacyLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===K0,flipSided:S.side===x0,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:Mt&&S.extensions.derivatives===!0,extensionFragDepth:Mt&&S.extensions.fragDepth===!0,extensionDrawBuffers:Mt&&S.extensions.drawBuffers===!0,extensionShaderTextureLOD:Mt&&S.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function y(S){const A=[];if(S.shaderID?A.push(S.shaderID):(A.push(S.customVertexShaderID),A.push(S.customFragmentShaderID)),S.defines!==void 0)for(const U in S.defines)A.push(U),A.push(S.defines[U]);return S.isRawShaderMaterial===!1&&(_(A,S),x(A,S),A.push(s.outputColorSpace)),A.push(S.customProgramCacheKey),A.join()}function _(S,A){S.push(A.precision),S.push(A.outputColorSpace),S.push(A.envMapMode),S.push(A.envMapCubeUVHeight),S.push(A.mapUv),S.push(A.alphaMapUv),S.push(A.lightMapUv),S.push(A.aoMapUv),S.push(A.bumpMapUv),S.push(A.normalMapUv),S.push(A.displacementMapUv),S.push(A.emissiveMapUv),S.push(A.metalnessMapUv),S.push(A.roughnessMapUv),S.push(A.anisotropyMapUv),S.push(A.clearcoatMapUv),S.push(A.clearcoatNormalMapUv),S.push(A.clearcoatRoughnessMapUv),S.push(A.iridescenceMapUv),S.push(A.iridescenceThicknessMapUv),S.push(A.sheenColorMapUv),S.push(A.sheenRoughnessMapUv),S.push(A.specularMapUv),S.push(A.specularColorMapUv),S.push(A.specularIntensityMapUv),S.push(A.transmissionMapUv),S.push(A.thicknessMapUv),S.push(A.combine),S.push(A.fogExp2),S.push(A.sizeAttenuation),S.push(A.morphTargetsCount),S.push(A.morphAttributeCount),S.push(A.numDirLights),S.push(A.numPointLights),S.push(A.numSpotLights),S.push(A.numSpotLightMaps),S.push(A.numHemiLights),S.push(A.numRectAreaLights),S.push(A.numDirLightShadows),S.push(A.numPointLightShadows),S.push(A.numSpotLightShadows),S.push(A.numSpotLightShadowsWithMaps),S.push(A.shadowMapType),S.push(A.toneMapping),S.push(A.numClippingPlanes),S.push(A.numClipIntersection),S.push(A.depthPacking)}function x(S,A){o.disableAll(),A.isWebGL2&&o.enable(0),A.supportsVertexTextures&&o.enable(1),A.instancing&&o.enable(2),A.instancingColor&&o.enable(3),A.matcap&&o.enable(4),A.envMap&&o.enable(5),A.normalMapObjectSpace&&o.enable(6),A.normalMapTangentSpace&&o.enable(7),A.clearcoat&&o.enable(8),A.iridescence&&o.enable(9),A.alphaTest&&o.enable(10),A.vertexColors&&o.enable(11),A.vertexAlphas&&o.enable(12),A.vertexUv1s&&o.enable(13),A.vertexUv2s&&o.enable(14),A.vertexUv3s&&o.enable(15),A.vertexTangents&&o.enable(16),A.anisotropy&&o.enable(17),S.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.skinning&&o.enable(4),A.morphTargets&&o.enable(5),A.morphNormals&&o.enable(6),A.morphColors&&o.enable(7),A.premultipliedAlpha&&o.enable(8),A.shadowMapEnabled&&o.enable(9),A.useLegacyLights&&o.enable(10),A.doubleSided&&o.enable(11),A.flipSided&&o.enable(12),A.useDepthPacking&&o.enable(13),A.dithering&&o.enable(14),A.transmission&&o.enable(15),A.sheen&&o.enable(16),A.opaque&&o.enable(17),A.pointsUvs&&o.enable(18),S.push(o.mask)}function v(S){const A=p[S.type];let U;if(A){const B=Si[A];U=dm.clone(B.uniforms)}else U=S.uniforms;return U}function b(S,A){let U;for(let B=0,F=l.length;B<F;B++){const H=l[B];if(H.cacheKey===A){U=H,++U.usedTimes;break}}return U===void 0&&(U=new xT(s,A,S,r),l.push(U)),U}function E(S){if(--S.usedTimes===0){const A=l.indexOf(S);l[A]=l[l.length-1],l.pop(),S.destroy()}}function w(S){h.remove(S)}function R(){h.dispose()}return{getParameters:m,getProgramCacheKey:y,getUniforms:v,acquireProgram:b,releaseProgram:E,releaseShaderCache:w,programs:l,dispose:R}}function ST(){let s=new WeakMap;function t(r){let a=s.get(r);return a===void 0&&(a={},s.set(r,a)),a}function e(r){s.delete(r)}function i(r,a,o){s.get(r)[a]=o}function n(){s=new WeakMap}return{get:t,remove:e,update:i,dispose:n}}function wT(s,t){return s.groupOrder!==t.groupOrder?s.groupOrder-t.groupOrder:s.renderOrder!==t.renderOrder?s.renderOrder-t.renderOrder:s.material.id!==t.material.id?s.material.id-t.material.id:s.z!==t.z?s.z-t.z:s.id-t.id}function Ql(s,t){return s.groupOrder!==t.groupOrder?s.groupOrder-t.groupOrder:s.renderOrder!==t.renderOrder?s.renderOrder-t.renderOrder:s.z!==t.z?t.z-s.z:s.id-t.id}function tc(){const s=[];let t=0;const e=[],i=[],n=[];function r(){t=0,e.length=0,i.length=0,n.length=0}function a(u,d,f,p,g,m){let y=s[t];return y===void 0?(y={id:u.id,object:u,geometry:d,material:f,groupOrder:p,renderOrder:u.renderOrder,z:g,group:m},s[t]=y):(y.id=u.id,y.object=u,y.geometry=d,y.material=f,y.groupOrder=p,y.renderOrder=u.renderOrder,y.z=g,y.group=m),t++,y}function o(u,d,f,p,g,m){const y=a(u,d,f,p,g,m);f.transmission>0?i.push(y):f.transparent===!0?n.push(y):e.push(y)}function h(u,d,f,p,g,m){const y=a(u,d,f,p,g,m);f.transmission>0?i.unshift(y):f.transparent===!0?n.unshift(y):e.unshift(y)}function l(u,d){e.length>1&&e.sort(u||wT),i.length>1&&i.sort(d||Ql),n.length>1&&n.sort(d||Ql)}function c(){for(let u=t,d=s.length;u<d;u++){const f=s[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:e,transmissive:i,transparent:n,init:r,push:o,unshift:h,finish:c,sort:l}}function AT(){let s=new WeakMap;function t(i,n){const r=s.get(i);let a;return r===void 0?(a=new tc,s.set(i,[a])):n>=r.length?(a=new tc,r.push(a)):a=r[n],a}function e(){s=new WeakMap}return{get:t,dispose:e}}function ET(){const s={};return{get:function(t){if(s[t.id]!==void 0)return s[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new L,color:new _t};break;case"SpotLight":e={position:new L,direction:new L,color:new _t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new L,color:new _t,distance:0,decay:0};break;case"HemisphereLight":e={direction:new L,skyColor:new _t,groundColor:new _t};break;case"RectAreaLight":e={color:new _t,position:new L,halfWidth:new L,halfHeight:new L};break}return s[t.id]=e,e}}}function TT(){const s={};return{get:function(t){if(s[t.id]!==void 0)return s[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dt,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[t.id]=e,e}}}let CT=0;function RT(s,t){return(t.castShadow?2:0)-(s.castShadow?2:0)+(t.map?1:0)-(s.map?1:0)}function PT(s,t){const e=new ET,i=TT(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)n.probe.push(new L);const r=new L,a=new Lt,o=new Lt;function h(c,u){let d=0,f=0,p=0;for(let U=0;U<9;U++)n.probe[U].set(0,0,0);let g=0,m=0,y=0,_=0,x=0,v=0,b=0,E=0,w=0,R=0;c.sort(RT);const S=u===!0?Math.PI:1;for(let U=0,B=c.length;U<B;U++){const F=c[U],H=F.color,G=F.intensity,Y=F.distance,$=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)d+=H.r*G*S,f+=H.g*G*S,p+=H.b*G*S;else if(F.isLightProbe)for(let j=0;j<9;j++)n.probe[j].addScaledVector(F.sh.coefficients[j],G);else if(F.isDirectionalLight){const j=e.get(F);if(j.color.copy(F.color).multiplyScalar(F.intensity*S),F.castShadow){const rt=F.shadow,at=i.get(F);at.shadowBias=rt.bias,at.shadowNormalBias=rt.normalBias,at.shadowRadius=rt.radius,at.shadowMapSize=rt.mapSize,n.directionalShadow[g]=at,n.directionalShadowMap[g]=$,n.directionalShadowMatrix[g]=F.shadow.matrix,v++}n.directional[g]=j,g++}else if(F.isSpotLight){const j=e.get(F);j.position.setFromMatrixPosition(F.matrixWorld),j.color.copy(H).multiplyScalar(G*S),j.distance=Y,j.coneCos=Math.cos(F.angle),j.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),j.decay=F.decay,n.spot[y]=j;const rt=F.shadow;if(F.map&&(n.spotLightMap[w]=F.map,w++,rt.updateMatrices(F),F.castShadow&&R++),n.spotLightMatrix[y]=rt.matrix,F.castShadow){const at=i.get(F);at.shadowBias=rt.bias,at.shadowNormalBias=rt.normalBias,at.shadowRadius=rt.radius,at.shadowMapSize=rt.mapSize,n.spotShadow[y]=at,n.spotShadowMap[y]=$,E++}y++}else if(F.isRectAreaLight){const j=e.get(F);j.color.copy(H).multiplyScalar(G),j.halfWidth.set(F.width*.5,0,0),j.halfHeight.set(0,F.height*.5,0),n.rectArea[_]=j,_++}else if(F.isPointLight){const j=e.get(F);if(j.color.copy(F.color).multiplyScalar(F.intensity*S),j.distance=F.distance,j.decay=F.decay,F.castShadow){const rt=F.shadow,at=i.get(F);at.shadowBias=rt.bias,at.shadowNormalBias=rt.normalBias,at.shadowRadius=rt.radius,at.shadowMapSize=rt.mapSize,at.shadowCameraNear=rt.camera.near,at.shadowCameraFar=rt.camera.far,n.pointShadow[m]=at,n.pointShadowMap[m]=$,n.pointShadowMatrix[m]=F.shadow.matrix,b++}n.point[m]=j,m++}else if(F.isHemisphereLight){const j=e.get(F);j.skyColor.copy(F.color).multiplyScalar(G*S),j.groundColor.copy(F.groundColor).multiplyScalar(G*S),n.hemi[x]=j,x++}}_>0&&(t.isWebGL2||s.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=At.LTC_FLOAT_1,n.rectAreaLTC2=At.LTC_FLOAT_2):s.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=At.LTC_HALF_1,n.rectAreaLTC2=At.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=d,n.ambient[1]=f,n.ambient[2]=p;const A=n.hash;(A.directionalLength!==g||A.pointLength!==m||A.spotLength!==y||A.rectAreaLength!==_||A.hemiLength!==x||A.numDirectionalShadows!==v||A.numPointShadows!==b||A.numSpotShadows!==E||A.numSpotMaps!==w)&&(n.directional.length=g,n.spot.length=y,n.rectArea.length=_,n.point.length=m,n.hemi.length=x,n.directionalShadow.length=v,n.directionalShadowMap.length=v,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=E,n.spotShadowMap.length=E,n.directionalShadowMatrix.length=v,n.pointShadowMatrix.length=b,n.spotLightMatrix.length=E+w-R,n.spotLightMap.length=w,n.numSpotLightShadowsWithMaps=R,A.directionalLength=g,A.pointLength=m,A.spotLength=y,A.rectAreaLength=_,A.hemiLength=x,A.numDirectionalShadows=v,A.numPointShadows=b,A.numSpotShadows=E,A.numSpotMaps=w,n.version=CT++)}function l(c,u){let d=0,f=0,p=0,g=0,m=0;const y=u.matrixWorldInverse;for(let _=0,x=c.length;_<x;_++){const v=c[_];if(v.isDirectionalLight){const b=n.directional[d];b.direction.setFromMatrixPosition(v.matrixWorld),r.setFromMatrixPosition(v.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(y),d++}else if(v.isSpotLight){const b=n.spot[p];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(y),b.direction.setFromMatrixPosition(v.matrixWorld),r.setFromMatrixPosition(v.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(y),p++}else if(v.isRectAreaLight){const b=n.rectArea[g];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(y),o.identity(),a.copy(v.matrixWorld),a.premultiply(y),o.extractRotation(a),b.halfWidth.set(v.width*.5,0,0),b.halfHeight.set(0,v.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),g++}else if(v.isPointLight){const b=n.point[f];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(y),f++}else if(v.isHemisphereLight){const b=n.hemi[m];b.direction.setFromMatrixPosition(v.matrixWorld),b.direction.transformDirection(y),m++}}}return{setup:h,setupView:l,state:n}}function ec(s,t){const e=new PT(s,t),i=[],n=[];function r(){i.length=0,n.length=0}function a(u){i.push(u)}function o(u){n.push(u)}function h(u){e.setup(i,u)}function l(u){e.setupView(i,u)}return{init:r,state:{lightsArray:i,shadowsArray:n,lights:e},setupLights:h,setupLightsView:l,pushLight:a,pushShadow:o}}function LT(s,t){let e=new WeakMap;function i(r,a=0){const o=e.get(r);let h;return o===void 0?(h=new ec(s,t),e.set(r,[h])):a>=o.length?(h=new ec(s,t),o.push(h)):h=o[a],h}function n(){e=new WeakMap}return{get:i,dispose:n}}let d8=class extends Xe{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Wp,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}};class f8 extends Xe{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const IT=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,NT=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function DT(s,t,e){let i=new G4;const n=new dt,r=new dt,a=new ce,o=new d8({depthPacking:qp}),h=new f8,l={},c=e.maxTextureSize,u={[Qi]:x0,[x0]:Qi,[K0]:K0},d=new Fi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dt},radius:{value:4}},vertexShader:IT,fragmentShader:NT}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new jt;p.setAttribute("position",new ue(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Ge(p,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j6;let y=this.type;this.render=function(b,E,w){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||b.length===0)return;const R=s.getRenderTarget(),S=s.getActiveCubeFace(),A=s.getActiveMipmapLevel(),U=s.state;U.setBlending(Rn),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const B=y!==Wi&&this.type===Wi,F=y===Wi&&this.type!==Wi;for(let H=0,G=b.length;H<G;H++){const Y=b[H],$=Y.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;n.copy($.mapSize);const j=$.getFrameExtents();if(n.multiply(j),r.copy($.mapSize),(n.x>c||n.y>c)&&(n.x>c&&(r.x=Math.floor(c/j.x),n.x=r.x*j.x,$.mapSize.x=r.x),n.y>c&&(r.y=Math.floor(c/j.y),n.y=r.y*j.y,$.mapSize.y=r.y)),$.map===null||B===!0||F===!0){const at=this.type!==Wi?{minFilter:Re,magFilter:Re}:{};$.map!==null&&$.map.dispose(),$.map=new Di(n.x,n.y,at),$.map.texture.name=Y.name+".shadowMap",$.camera.updateProjectionMatrix()}s.setRenderTarget($.map),s.clear();const rt=$.getViewportCount();for(let at=0;at<rt;at++){const V=$.getViewport(at);a.set(r.x*V.x,r.y*V.y,r.x*V.z,r.y*V.w),U.viewport(a),$.updateMatrices(Y,at),i=$.getFrustum(),v(E,w,$.camera,Y,this.type)}$.isPointLightShadow!==!0&&this.type===Wi&&_($,w),$.needsUpdate=!1}y=this.type,m.needsUpdate=!1,s.setRenderTarget(R,S,A)};function _(b,E){const w=t.update(g);d.defines.VSM_SAMPLES!==b.blurSamples&&(d.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Di(n.x,n.y)),d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,s.setRenderTarget(b.mapPass),s.clear(),s.renderBufferDirect(E,null,w,d,g,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,s.setRenderTarget(b.map),s.clear(),s.renderBufferDirect(E,null,w,f,g,null)}function x(b,E,w,R){let S=null;const A=w.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(A!==void 0)S=A;else if(S=w.isPointLight===!0?h:o,s.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const U=S.uuid,B=E.uuid;let F=l[U];F===void 0&&(F={},l[U]=F);let H=F[B];H===void 0&&(H=S.clone(),F[B]=H),S=H}if(S.visible=E.visible,S.wireframe=E.wireframe,R===Wi?S.side=E.shadowSide!==null?E.shadowSide:E.side:S.side=E.shadowSide!==null?E.shadowSide:u[E.side],S.alphaMap=E.alphaMap,S.alphaTest=E.alphaTest,S.map=E.map,S.clipShadows=E.clipShadows,S.clippingPlanes=E.clippingPlanes,S.clipIntersection=E.clipIntersection,S.displacementMap=E.displacementMap,S.displacementScale=E.displacementScale,S.displacementBias=E.displacementBias,S.wireframeLinewidth=E.wireframeLinewidth,S.linewidth=E.linewidth,w.isPointLight===!0&&S.isMeshDistanceMaterial===!0){const U=s.properties.get(S);U.light=w}return S}function v(b,E,w,R,S){if(b.visible===!1)return;if(b.layers.test(E.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&S===Wi)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,b.matrixWorld);const B=t.update(b),F=b.material;if(Array.isArray(F)){const H=B.groups;for(let G=0,Y=H.length;G<Y;G++){const $=H[G],j=F[$.materialIndex];if(j&&j.visible){const rt=x(b,j,R,S);s.renderBufferDirect(w,null,B,rt,b,$)}}}else if(F.visible){const H=x(b,F,R,S);s.renderBufferDirect(w,null,B,H,b,null)}}const U=b.children;for(let B=0,F=U.length;B<F;B++)v(U[B],E,w,R,S)}}function FT(s,t,e){const i=e.isWebGL2;function n(){let k=!1;const Rt=new ce;let it=null;const Mt=new ce(0,0,0,0);return{setMask:function(Pt){it!==Pt&&!k&&(s.colorMask(Pt,Pt,Pt,Pt),it=Pt)},setLocked:function(Pt){k=Pt},setClear:function(Pt,le,ve,Je,ki){ki===!0&&(Pt*=Je,le*=Je,ve*=Je),Rt.set(Pt,le,ve,Je),Mt.equals(Rt)===!1&&(s.clearColor(Pt,le,ve,Je),Mt.copy(Rt))},reset:function(){k=!1,it=null,Mt.set(-1,0,0,0)}}}function r(){let k=!1,Rt=null,it=null,Mt=null;return{setTest:function(Pt){Pt?q(s.DEPTH_TEST):lt(s.DEPTH_TEST)},setMask:function(Pt){Rt!==Pt&&!k&&(s.depthMask(Pt),Rt=Pt)},setFunc:function(Pt){if(it!==Pt){switch(Pt){case yp:s.depthFunc(s.NEVER);break;case xp:s.depthFunc(s.ALWAYS);break;case _p:s.depthFunc(s.LESS);break;case a4:s.depthFunc(s.LEQUAL);break;case vp:s.depthFunc(s.EQUAL);break;case Mp:s.depthFunc(s.GEQUAL);break;case bp:s.depthFunc(s.GREATER);break;case Sp:s.depthFunc(s.NOTEQUAL);break;default:s.depthFunc(s.LEQUAL)}it=Pt}},setLocked:function(Pt){k=Pt},setClear:function(Pt){Mt!==Pt&&(s.clearDepth(Pt),Mt=Pt)},reset:function(){k=!1,Rt=null,it=null,Mt=null}}}function a(){let k=!1,Rt=null,it=null,Mt=null,Pt=null,le=null,ve=null,Je=null,ki=null;return{setTest:function(Ee){k||(Ee?q(s.STENCIL_TEST):lt(s.STENCIL_TEST))},setMask:function(Ee){Rt!==Ee&&!k&&(s.stencilMask(Ee),Rt=Ee)},setFunc:function(Ee,Hi,d0){(it!==Ee||Mt!==Hi||Pt!==d0)&&(s.stencilFunc(Ee,Hi,d0),it=Ee,Mt=Hi,Pt=d0)},setOp:function(Ee,Hi,d0){(le!==Ee||ve!==Hi||Je!==d0)&&(s.stencilOp(Ee,Hi,d0),le=Ee,ve=Hi,Je=d0)},setLocked:function(Ee){k=Ee},setClear:function(Ee){ki!==Ee&&(s.clearStencil(Ee),ki=Ee)},reset:function(){k=!1,Rt=null,it=null,Mt=null,Pt=null,le=null,ve=null,Je=null,ki=null}}}const o=new n,h=new r,l=new a,c=new WeakMap,u=new WeakMap;let d={},f={},p=new WeakMap,g=[],m=null,y=!1,_=null,x=null,v=null,b=null,E=null,w=null,R=null,S=!1,A=null,U=null,B=null,F=null,H=null;const G=s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,$=0;const j=s.getParameter(s.VERSION);j.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(j)[1]),Y=$>=1):j.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),Y=$>=2);let rt=null,at={};const V=s.getParameter(s.SCISSOR_BOX),tt=s.getParameter(s.VIEWPORT),yt=new ce().fromArray(V),xt=new ce().fromArray(tt);function St(k,Rt,it,Mt){const Pt=new Uint8Array(4),le=s.createTexture();s.bindTexture(k,le),s.texParameteri(k,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(k,s.TEXTURE_MAG_FILTER,s.NEAREST);for(let ve=0;ve<it;ve++)i&&(k===s.TEXTURE_3D||k===s.TEXTURE_2D_ARRAY)?s.texImage3D(Rt,0,s.RGBA,1,1,Mt,0,s.RGBA,s.UNSIGNED_BYTE,Pt):s.texImage2D(Rt+ve,0,s.RGBA,1,1,0,s.RGBA,s.UNSIGNED_BYTE,Pt);return le}const Et={};Et[s.TEXTURE_2D]=St(s.TEXTURE_2D,s.TEXTURE_2D,1),Et[s.TEXTURE_CUBE_MAP]=St(s.TEXTURE_CUBE_MAP,s.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Et[s.TEXTURE_2D_ARRAY]=St(s.TEXTURE_2D_ARRAY,s.TEXTURE_2D_ARRAY,1,1),Et[s.TEXTURE_3D]=St(s.TEXTURE_3D,s.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),h.setClear(1),l.setClear(0),q(s.DEPTH_TEST),h.setFunc(a4),O(!1),Z(y3),q(s.CULL_FACE),I(Rn);function q(k){d[k]!==!0&&(s.enable(k),d[k]=!0)}function lt(k){d[k]!==!1&&(s.disable(k),d[k]=!1)}function pt(k,Rt){return f[k]!==Rt?(s.bindFramebuffer(k,Rt),f[k]=Rt,i&&(k===s.DRAW_FRAMEBUFFER&&(f[s.FRAMEBUFFER]=Rt),k===s.FRAMEBUFFER&&(f[s.DRAW_FRAMEBUFFER]=Rt)),!0):!1}function vt(k,Rt){let it=g,Mt=!1;if(k)if(it=p.get(Rt),it===void 0&&(it=[],p.set(Rt,it)),k.isWebGLMultipleRenderTargets){const Pt=k.texture;if(it.length!==Pt.length||it[0]!==s.COLOR_ATTACHMENT0){for(let le=0,ve=Pt.length;le<ve;le++)it[le]=s.COLOR_ATTACHMENT0+le;it.length=Pt.length,Mt=!0}}else it[0]!==s.COLOR_ATTACHMENT0&&(it[0]=s.COLOR_ATTACHMENT0,Mt=!0);else it[0]!==s.BACK&&(it[0]=s.BACK,Mt=!0);Mt&&(e.isWebGL2?s.drawBuffers(it):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(it))}function bt(k){return m!==k?(s.useProgram(k),m=k,!0):!1}const M={[o9]:s.FUNC_ADD,[ap]:s.FUNC_SUBTRACT,[op]:s.FUNC_REVERSE_SUBTRACT};if(i)M[M3]=s.MIN,M[b3]=s.MAX;else{const k=t.get("EXT_blend_minmax");k!==null&&(M[M3]=k.MIN_EXT,M[b3]=k.MAX_EXT)}const P={[hp]:s.ZERO,[lp]:s.ONE,[cp]:s.SRC_COLOR,[Y6]:s.SRC_ALPHA,[gp]:s.SRC_ALPHA_SATURATE,[pp]:s.DST_COLOR,[dp]:s.DST_ALPHA,[up]:s.ONE_MINUS_SRC_COLOR,[Z6]:s.ONE_MINUS_SRC_ALPHA,[mp]:s.ONE_MINUS_DST_COLOR,[fp]:s.ONE_MINUS_DST_ALPHA};function I(k,Rt,it,Mt,Pt,le,ve,Je){if(k===Rn){y===!0&&(lt(s.BLEND),y=!1);return}if(y===!1&&(q(s.BLEND),y=!0),k!==rp){if(k!==_||Je!==S){if((x!==o9||E!==o9)&&(s.blendEquation(s.FUNC_ADD),x=o9,E=o9),Je)switch(k){case y9:s.blendFuncSeparate(s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case x3:s.blendFunc(s.ONE,s.ONE);break;case _3:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case v3:s.blendFuncSeparate(s.ZERO,s.SRC_COLOR,s.ZERO,s.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",k);break}else switch(k){case y9:s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case x3:s.blendFunc(s.SRC_ALPHA,s.ONE);break;case _3:s.blendFuncSeparate(s.ZERO,s.ONE_MINUS_SRC_COLOR,s.ZERO,s.ONE);break;case v3:s.blendFunc(s.ZERO,s.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",k);break}v=null,b=null,w=null,R=null,_=k,S=Je}return}Pt=Pt||Rt,le=le||it,ve=ve||Mt,(Rt!==x||Pt!==E)&&(s.blendEquationSeparate(M[Rt],M[Pt]),x=Rt,E=Pt),(it!==v||Mt!==b||le!==w||ve!==R)&&(s.blendFuncSeparate(P[it],P[Mt],P[le],P[ve]),v=it,b=Mt,w=le,R=ve),_=k,S=!1}function z(k,Rt){k.side===K0?lt(s.CULL_FACE):q(s.CULL_FACE);let it=k.side===x0;Rt&&(it=!it),O(it),k.blending===y9&&k.transparent===!1?I(Rn):I(k.blending,k.blendEquation,k.blendSrc,k.blendDst,k.blendEquationAlpha,k.blendSrcAlpha,k.blendDstAlpha,k.premultipliedAlpha),h.setFunc(k.depthFunc),h.setTest(k.depthTest),h.setMask(k.depthWrite),o.setMask(k.colorWrite);const Mt=k.stencilWrite;l.setTest(Mt),Mt&&(l.setMask(k.stencilWriteMask),l.setFunc(k.stencilFunc,k.stencilRef,k.stencilFuncMask),l.setOp(k.stencilFail,k.stencilZFail,k.stencilZPass)),J(k.polygonOffset,k.polygonOffsetFactor,k.polygonOffsetUnits),k.alphaToCoverage===!0?q(s.SAMPLE_ALPHA_TO_COVERAGE):lt(s.SAMPLE_ALPHA_TO_COVERAGE)}function O(k){A!==k&&(k?s.frontFace(s.CW):s.frontFace(s.CCW),A=k)}function Z(k){k!==ip?(q(s.CULL_FACE),k!==U&&(k===y3?s.cullFace(s.BACK):k===np?s.cullFace(s.FRONT):s.cullFace(s.FRONT_AND_BACK))):lt(s.CULL_FACE),U=k}function et(k){k!==B&&(Y&&s.lineWidth(k),B=k)}function J(k,Rt,it){k?(q(s.POLYGON_OFFSET_FILL),(F!==Rt||H!==it)&&(s.polygonOffset(Rt,it),F=Rt,H=it)):lt(s.POLYGON_OFFSET_FILL)}function ht(k){k?q(s.SCISSOR_TEST):lt(s.SCISSOR_TEST)}function nt(k){k===void 0&&(k=s.TEXTURE0+G-1),rt!==k&&(s.activeTexture(k),rt=k)}function wt(k,Rt,it){it===void 0&&(rt===null?it=s.TEXTURE0+G-1:it=rt);let Mt=at[it];Mt===void 0&&(Mt={type:void 0,texture:void 0},at[it]=Mt),(Mt.type!==k||Mt.texture!==Rt)&&(rt!==it&&(s.activeTexture(it),rt=it),s.bindTexture(k,Rt||Et[k]),Mt.type=k,Mt.texture=Rt)}function C(){const k=at[rt];k!==void 0&&k.type!==void 0&&(s.bindTexture(k.type,null),k.type=void 0,k.texture=void 0)}function T(){try{s.compressedTexImage2D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function W(){try{s.compressedTexImage3D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function st(){try{s.texSubImage2D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function ft(){try{s.texSubImage3D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function D(){try{s.compressedTexSubImage2D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function ot(){try{s.compressedTexSubImage3D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function mt(){try{s.texStorage2D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function Q(){try{s.texStorage3D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function Dt(){try{s.texImage2D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function Ot(){try{s.texImage3D.apply(s,arguments)}catch(k){console.error("THREE.WebGLState:",k)}}function zt(k){yt.equals(k)===!1&&(s.scissor(k.x,k.y,k.z,k.w),yt.copy(k))}function Tt(k){xt.equals(k)===!1&&(s.viewport(k.x,k.y,k.z,k.w),xt.copy(k))}function Ct(k,Rt){let it=u.get(Rt);it===void 0&&(it=new WeakMap,u.set(Rt,it));let Mt=it.get(k);Mt===void 0&&(Mt=s.getUniformBlockIndex(Rt,k.name),it.set(k,Mt))}function kt(k,Rt){const Mt=u.get(Rt).get(k);c.get(Rt)!==Mt&&(s.uniformBlockBinding(Rt,Mt,k.__bindingPointIndex),c.set(Rt,Mt))}function ie(){s.disable(s.BLEND),s.disable(s.CULL_FACE),s.disable(s.DEPTH_TEST),s.disable(s.POLYGON_OFFSET_FILL),s.disable(s.SCISSOR_TEST),s.disable(s.STENCIL_TEST),s.disable(s.SAMPLE_ALPHA_TO_COVERAGE),s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO),s.blendFuncSeparate(s.ONE,s.ZERO,s.ONE,s.ZERO),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(s.LESS),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(s.ALWAYS,0,4294967295),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.clearStencil(0),s.cullFace(s.BACK),s.frontFace(s.CCW),s.polygonOffset(0,0),s.activeTexture(s.TEXTURE0),s.bindFramebuffer(s.FRAMEBUFFER,null),i===!0&&(s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.bindFramebuffer(s.READ_FRAMEBUFFER,null)),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),d={},rt=null,at={},f={},p=new WeakMap,g=[],m=null,y=!1,_=null,x=null,v=null,b=null,E=null,w=null,R=null,S=!1,A=null,U=null,B=null,F=null,H=null,yt.set(0,0,s.canvas.width,s.canvas.height),xt.set(0,0,s.canvas.width,s.canvas.height),o.reset(),h.reset(),l.reset()}return{buffers:{color:o,depth:h,stencil:l},enable:q,disable:lt,bindFramebuffer:pt,drawBuffers:vt,useProgram:bt,setBlending:I,setMaterial:z,setFlipSided:O,setCullFace:Z,setLineWidth:et,setPolygonOffset:J,setScissorTest:ht,activeTexture:nt,bindTexture:wt,unbindTexture:C,compressedTexImage2D:T,compressedTexImage3D:W,texImage2D:Dt,texImage3D:Ot,updateUBOMapping:Ct,uniformBlockBinding:kt,texStorage2D:mt,texStorage3D:Q,texSubImage2D:st,texSubImage3D:ft,compressedTexSubImage2D:D,compressedTexSubImage3D:ot,scissor:zt,viewport:Tt,reset:ie}}function OT(s,t,e,i,n,r,a){const o=n.isWebGL2,h=n.maxTextures,l=n.maxCubemapSize,c=n.maxTextureSize,u=n.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let g;const m=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(C,T){return y?new OffscreenCanvas(C,T):L1("canvas")}function x(C,T,W,st){let ft=1;if((C.width>st||C.height>st)&&(ft=st/Math.max(C.width,C.height)),ft<1||T===!0)if(typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&C instanceof ImageBitmap){const D=T?l4:Math.floor,ot=D(ft*C.width),mt=D(ft*C.height);g===void 0&&(g=_(ot,mt));const Q=W?_(ot,mt):g;return Q.width=ot,Q.height=mt,Q.getContext("2d").drawImage(C,0,0,ot,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+C.width+"x"+C.height+") to ("+ot+"x"+mt+")."),Q}else return"data"in C&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+C.width+"x"+C.height+")."),C;return C}function v(C){return X3(C.width)&&X3(C.height)}function b(C){return o?!1:C.wrapS!==We||C.wrapT!==We||C.minFilter!==Re&&C.minFilter!==Me}function E(C,T){return C.generateMipmaps&&T&&C.minFilter!==Re&&C.minFilter!==Me}function w(C){s.generateMipmap(C)}function R(C,T,W,st,ft=!1){if(o===!1)return T;if(C!==null){if(s[C]!==void 0)return s[C];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+C+"'")}let D=T;return T===s.RED&&(W===s.FLOAT&&(D=s.R32F),W===s.HALF_FLOAT&&(D=s.R16F),W===s.UNSIGNED_BYTE&&(D=s.R8)),T===s.RG&&(W===s.FLOAT&&(D=s.RG32F),W===s.HALF_FLOAT&&(D=s.RG16F),W===s.UNSIGNED_BYTE&&(D=s.RG8)),T===s.RGBA&&(W===s.FLOAT&&(D=s.RGBA32F),W===s.HALF_FLOAT&&(D=s.RGBA16F),W===s.UNSIGNED_BYTE&&(D=st===Ut&&ft===!1?s.SRGB8_ALPHA8:s.RGBA8),W===s.UNSIGNED_SHORT_4_4_4_4&&(D=s.RGBA4),W===s.UNSIGNED_SHORT_5_5_5_1&&(D=s.RGB5_A1)),(D===s.R16F||D===s.R32F||D===s.RG16F||D===s.RG32F||D===s.RGBA16F||D===s.RGBA32F)&&t.get("EXT_color_buffer_float"),D}function S(C,T,W){return E(C,W)===!0||C.isFramebufferTexture&&C.minFilter!==Re&&C.minFilter!==Me?Math.log2(Math.max(T.width,T.height))+1:C.mipmaps!==void 0&&C.mipmaps.length>0?C.mipmaps.length:C.isCompressedTexture&&Array.isArray(C.image)?T.mipmaps.length:1}function A(C){return C===Re||C===T1||C===Or?s.NEAREST:s.LINEAR}function U(C){const T=C.target;T.removeEventListener("dispose",U),F(T),T.isVideoTexture&&p.delete(T)}function B(C){const T=C.target;T.removeEventListener("dispose",B),G(T)}function F(C){const T=i.get(C);if(T.__webglInit===void 0)return;const W=C.source,st=m.get(W);if(st){const ft=st[T.__cacheKey];ft.usedTimes--,ft.usedTimes===0&&H(C),Object.keys(st).length===0&&m.delete(W)}i.remove(C)}function H(C){const T=i.get(C);s.deleteTexture(T.__webglTexture);const W=C.source,st=m.get(W);delete st[T.__cacheKey],a.memory.textures--}function G(C){const T=C.texture,W=i.get(C),st=i.get(T);if(st.__webglTexture!==void 0&&(s.deleteTexture(st.__webglTexture),a.memory.textures--),C.depthTexture&&C.depthTexture.dispose(),C.isWebGLCubeRenderTarget)for(let ft=0;ft<6;ft++)s.deleteFramebuffer(W.__webglFramebuffer[ft]),W.__webglDepthbuffer&&s.deleteRenderbuffer(W.__webglDepthbuffer[ft]);else{if(s.deleteFramebuffer(W.__webglFramebuffer),W.__webglDepthbuffer&&s.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&s.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let ft=0;ft<W.__webglColorRenderbuffer.length;ft++)W.__webglColorRenderbuffer[ft]&&s.deleteRenderbuffer(W.__webglColorRenderbuffer[ft]);W.__webglDepthRenderbuffer&&s.deleteRenderbuffer(W.__webglDepthRenderbuffer)}if(C.isWebGLMultipleRenderTargets)for(let ft=0,D=T.length;ft<D;ft++){const ot=i.get(T[ft]);ot.__webglTexture&&(s.deleteTexture(ot.__webglTexture),a.memory.textures--),i.remove(T[ft])}i.remove(T),i.remove(C)}let Y=0;function $(){Y=0}function j(){const C=Y;return C>=h&&console.warn("THREE.WebGLTextures: Trying to use "+C+" texture units while this GPU supports only "+h),Y+=1,C}function rt(C){const T=[];return T.push(C.wrapS),T.push(C.wrapT),T.push(C.wrapR||0),T.push(C.magFilter),T.push(C.minFilter),T.push(C.anisotropy),T.push(C.internalFormat),T.push(C.format),T.push(C.type),T.push(C.generateMipmaps),T.push(C.premultiplyAlpha),T.push(C.flipY),T.push(C.unpackAlignment),T.push(C.colorSpace),T.join()}function at(C,T){const W=i.get(C);if(C.isVideoTexture&&nt(C),C.isRenderTargetTexture===!1&&C.version>0&&W.__version!==C.version){const st=C.image;if(st===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(st.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pt(W,C,T);return}}e.bindTexture(s.TEXTURE_2D,W.__webglTexture,s.TEXTURE0+T)}function V(C,T){const W=i.get(C);if(C.version>0&&W.__version!==C.version){pt(W,C,T);return}e.bindTexture(s.TEXTURE_2D_ARRAY,W.__webglTexture,s.TEXTURE0+T)}function tt(C,T){const W=i.get(C);if(C.version>0&&W.__version!==C.version){pt(W,C,T);return}e.bindTexture(s.TEXTURE_3D,W.__webglTexture,s.TEXTURE0+T)}function yt(C,T){const W=i.get(C);if(C.version>0&&W.__version!==C.version){vt(W,C,T);return}e.bindTexture(s.TEXTURE_CUBE_MAP,W.__webglTexture,s.TEXTURE0+T)}const xt={[tn]:s.REPEAT,[We]:s.CLAMP_TO_EDGE,[Yr]:s.MIRRORED_REPEAT},St={[Re]:s.NEAREST,[T1]:s.NEAREST_MIPMAP_NEAREST,[Or]:s.NEAREST_MIPMAP_LINEAR,[Me]:s.LINEAR,[F4]:s.LINEAR_MIPMAP_NEAREST,[en]:s.LINEAR_MIPMAP_LINEAR},Et={[jp]:s.NEVER,[em]:s.ALWAYS,[Yp]:s.LESS,[Jp]:s.LEQUAL,[Zp]:s.EQUAL,[tm]:s.GEQUAL,[Kp]:s.GREATER,[Qp]:s.NOTEQUAL};function q(C,T,W){if(W?(s.texParameteri(C,s.TEXTURE_WRAP_S,xt[T.wrapS]),s.texParameteri(C,s.TEXTURE_WRAP_T,xt[T.wrapT]),(C===s.TEXTURE_3D||C===s.TEXTURE_2D_ARRAY)&&s.texParameteri(C,s.TEXTURE_WRAP_R,xt[T.wrapR]),s.texParameteri(C,s.TEXTURE_MAG_FILTER,St[T.magFilter]),s.texParameteri(C,s.TEXTURE_MIN_FILTER,St[T.minFilter])):(s.texParameteri(C,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(C,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),(C===s.TEXTURE_3D||C===s.TEXTURE_2D_ARRAY)&&s.texParameteri(C,s.TEXTURE_WRAP_R,s.CLAMP_TO_EDGE),(T.wrapS!==We||T.wrapT!==We)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),s.texParameteri(C,s.TEXTURE_MAG_FILTER,A(T.magFilter)),s.texParameteri(C,s.TEXTURE_MIN_FILTER,A(T.minFilter)),T.minFilter!==Re&&T.minFilter!==Me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),T.compareFunction&&(s.texParameteri(C,s.TEXTURE_COMPARE_MODE,s.COMPARE_REF_TO_TEXTURE),s.texParameteri(C,s.TEXTURE_COMPARE_FUNC,Et[T.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){const st=t.get("EXT_texture_filter_anisotropic");if(T.magFilter===Re||T.minFilter!==Or&&T.minFilter!==en||T.type===ji&&t.has("OES_texture_float_linear")===!1||o===!1&&T.type===Zr&&t.has("OES_texture_half_float_linear")===!1)return;(T.anisotropy>1||i.get(T).__currentAnisotropy)&&(s.texParameterf(C,st.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,n.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy)}}function lt(C,T){let W=!1;C.__webglInit===void 0&&(C.__webglInit=!0,T.addEventListener("dispose",U));const st=T.source;let ft=m.get(st);ft===void 0&&(ft={},m.set(st,ft));const D=rt(T);if(D!==C.__cacheKey){ft[D]===void 0&&(ft[D]={texture:s.createTexture(),usedTimes:0},a.memory.textures++,W=!0),ft[D].usedTimes++;const ot=ft[C.__cacheKey];ot!==void 0&&(ft[C.__cacheKey].usedTimes--,ot.usedTimes===0&&H(T)),C.__cacheKey=D,C.__webglTexture=ft[D].texture}return W}function pt(C,T,W){let st=s.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(st=s.TEXTURE_2D_ARRAY),T.isData3DTexture&&(st=s.TEXTURE_3D);const ft=lt(C,T),D=T.source;e.bindTexture(st,C.__webglTexture,s.TEXTURE0+W);const ot=i.get(D);if(D.version!==ot.__version||ft===!0){e.activeTexture(s.TEXTURE0+W),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,T.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,T.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE);const mt=b(T)&&v(T.image)===!1;let Q=x(T.image,mt,!1,c);Q=wt(T,Q);const Dt=v(Q)||o,Ot=r.convert(T.format,T.colorSpace);let zt=r.convert(T.type),Tt=R(T.internalFormat,Ot,zt,T.colorSpace);q(st,T,Dt);let Ct;const kt=T.mipmaps,ie=o&&T.isVideoTexture!==!0,k=ot.__version===void 0||ft===!0,Rt=S(T,Q,Dt);if(T.isDepthTexture)Tt=s.DEPTH_COMPONENT,o?T.type===ji?Tt=s.DEPTH_COMPONENT32F:T.type===Cn?Tt=s.DEPTH_COMPONENT24:T.type===ls?Tt=s.DEPTH24_STENCIL8:Tt=s.DEPTH_COMPONENT16:T.type===ji&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===cs&&Tt===s.DEPTH_COMPONENT&&T.type!==O4&&T.type!==Cn&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=Cn,zt=r.convert(T.type)),T.format===M9&&Tt===s.DEPTH_COMPONENT&&(Tt=s.DEPTH_STENCIL,T.type!==ls&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=ls,zt=r.convert(T.type))),k&&(ie?e.texStorage2D(s.TEXTURE_2D,1,Tt,Q.width,Q.height):e.texImage2D(s.TEXTURE_2D,0,Tt,Q.width,Q.height,0,Ot,zt,null));else if(T.isDataTexture)if(kt.length>0&&Dt){ie&&k&&e.texStorage2D(s.TEXTURE_2D,Rt,Tt,kt[0].width,kt[0].height);for(let it=0,Mt=kt.length;it<Mt;it++)Ct=kt[it],ie?e.texSubImage2D(s.TEXTURE_2D,it,0,0,Ct.width,Ct.height,Ot,zt,Ct.data):e.texImage2D(s.TEXTURE_2D,it,Tt,Ct.width,Ct.height,0,Ot,zt,Ct.data);T.generateMipmaps=!1}else ie?(k&&e.texStorage2D(s.TEXTURE_2D,Rt,Tt,Q.width,Q.height),e.texSubImage2D(s.TEXTURE_2D,0,0,0,Q.width,Q.height,Ot,zt,Q.data)):e.texImage2D(s.TEXTURE_2D,0,Tt,Q.width,Q.height,0,Ot,zt,Q.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){ie&&k&&e.texStorage3D(s.TEXTURE_2D_ARRAY,Rt,Tt,kt[0].width,kt[0].height,Q.depth);for(let it=0,Mt=kt.length;it<Mt;it++)Ct=kt[it],T.format!==k0?Ot!==null?ie?e.compressedTexSubImage3D(s.TEXTURE_2D_ARRAY,it,0,0,0,Ct.width,Ct.height,Q.depth,Ot,Ct.data,0,0):e.compressedTexImage3D(s.TEXTURE_2D_ARRAY,it,Tt,Ct.width,Ct.height,Q.depth,0,Ct.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ie?e.texSubImage3D(s.TEXTURE_2D_ARRAY,it,0,0,0,Ct.width,Ct.height,Q.depth,Ot,zt,Ct.data):e.texImage3D(s.TEXTURE_2D_ARRAY,it,Tt,Ct.width,Ct.height,Q.depth,0,Ot,zt,Ct.data)}else{ie&&k&&e.texStorage2D(s.TEXTURE_2D,Rt,Tt,kt[0].width,kt[0].height);for(let it=0,Mt=kt.length;it<Mt;it++)Ct=kt[it],T.format!==k0?Ot!==null?ie?e.compressedTexSubImage2D(s.TEXTURE_2D,it,0,0,Ct.width,Ct.height,Ot,Ct.data):e.compressedTexImage2D(s.TEXTURE_2D,it,Tt,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ie?e.texSubImage2D(s.TEXTURE_2D,it,0,0,Ct.width,Ct.height,Ot,zt,Ct.data):e.texImage2D(s.TEXTURE_2D,it,Tt,Ct.width,Ct.height,0,Ot,zt,Ct.data)}else if(T.isDataArrayTexture)ie?(k&&e.texStorage3D(s.TEXTURE_2D_ARRAY,Rt,Tt,Q.width,Q.height,Q.depth),e.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,0,Q.width,Q.height,Q.depth,Ot,zt,Q.data)):e.texImage3D(s.TEXTURE_2D_ARRAY,0,Tt,Q.width,Q.height,Q.depth,0,Ot,zt,Q.data);else if(T.isData3DTexture)ie?(k&&e.texStorage3D(s.TEXTURE_3D,Rt,Tt,Q.width,Q.height,Q.depth),e.texSubImage3D(s.TEXTURE_3D,0,0,0,0,Q.width,Q.height,Q.depth,Ot,zt,Q.data)):e.texImage3D(s.TEXTURE_3D,0,Tt,Q.width,Q.height,Q.depth,0,Ot,zt,Q.data);else if(T.isFramebufferTexture){if(k)if(ie)e.texStorage2D(s.TEXTURE_2D,Rt,Tt,Q.width,Q.height);else{let it=Q.width,Mt=Q.height;for(let Pt=0;Pt<Rt;Pt++)e.texImage2D(s.TEXTURE_2D,Pt,Tt,it,Mt,0,Ot,zt,null),it>>=1,Mt>>=1}}else if(kt.length>0&&Dt){ie&&k&&e.texStorage2D(s.TEXTURE_2D,Rt,Tt,kt[0].width,kt[0].height);for(let it=0,Mt=kt.length;it<Mt;it++)Ct=kt[it],ie?e.texSubImage2D(s.TEXTURE_2D,it,0,0,Ot,zt,Ct):e.texImage2D(s.TEXTURE_2D,it,Tt,Ot,zt,Ct);T.generateMipmaps=!1}else ie?(k&&e.texStorage2D(s.TEXTURE_2D,Rt,Tt,Q.width,Q.height),e.texSubImage2D(s.TEXTURE_2D,0,0,0,Ot,zt,Q)):e.texImage2D(s.TEXTURE_2D,0,Tt,Ot,zt,Q);E(T,Dt)&&w(st),ot.__version=D.version,T.onUpdate&&T.onUpdate(T)}C.__version=T.version}function vt(C,T,W){if(T.image.length!==6)return;const st=lt(C,T),ft=T.source;e.bindTexture(s.TEXTURE_CUBE_MAP,C.__webglTexture,s.TEXTURE0+W);const D=i.get(ft);if(ft.version!==D.__version||st===!0){e.activeTexture(s.TEXTURE0+W),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,T.flipY),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),s.pixelStorei(s.UNPACK_ALIGNMENT,T.unpackAlignment),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE);const ot=T.isCompressedTexture||T.image[0].isCompressedTexture,mt=T.image[0]&&T.image[0].isDataTexture,Q=[];for(let it=0;it<6;it++)!ot&&!mt?Q[it]=x(T.image[it],!1,!0,l):Q[it]=mt?T.image[it].image:T.image[it],Q[it]=wt(T,Q[it]);const Dt=Q[0],Ot=v(Dt)||o,zt=r.convert(T.format,T.colorSpace),Tt=r.convert(T.type),Ct=R(T.internalFormat,zt,Tt,T.colorSpace),kt=o&&T.isVideoTexture!==!0,ie=D.__version===void 0||st===!0;let k=S(T,Dt,Ot);q(s.TEXTURE_CUBE_MAP,T,Ot);let Rt;if(ot){kt&&ie&&e.texStorage2D(s.TEXTURE_CUBE_MAP,k,Ct,Dt.width,Dt.height);for(let it=0;it<6;it++){Rt=Q[it].mipmaps;for(let Mt=0;Mt<Rt.length;Mt++){const Pt=Rt[Mt];T.format!==k0?zt!==null?kt?e.compressedTexSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt,0,0,Pt.width,Pt.height,zt,Pt.data):e.compressedTexImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt,Ct,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):kt?e.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt,0,0,Pt.width,Pt.height,zt,Tt,Pt.data):e.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt,Ct,Pt.width,Pt.height,0,zt,Tt,Pt.data)}}}else{Rt=T.mipmaps,kt&&ie&&(Rt.length>0&&k++,e.texStorage2D(s.TEXTURE_CUBE_MAP,k,Ct,Q[0].width,Q[0].height));for(let it=0;it<6;it++)if(mt){kt?e.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,0,0,Q[it].width,Q[it].height,zt,Tt,Q[it].data):e.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,Ct,Q[it].width,Q[it].height,0,zt,Tt,Q[it].data);for(let Mt=0;Mt<Rt.length;Mt++){const le=Rt[Mt].image[it].image;kt?e.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt+1,0,0,le.width,le.height,zt,Tt,le.data):e.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt+1,Ct,le.width,le.height,0,zt,Tt,le.data)}}else{kt?e.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,0,0,zt,Tt,Q[it]):e.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,0,Ct,zt,Tt,Q[it]);for(let Mt=0;Mt<Rt.length;Mt++){const Pt=Rt[Mt];kt?e.texSubImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt+1,0,0,zt,Tt,Pt.image[it]):e.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+it,Mt+1,Ct,zt,Tt,Pt.image[it])}}}E(T,Ot)&&w(s.TEXTURE_CUBE_MAP),D.__version=ft.version,T.onUpdate&&T.onUpdate(T)}C.__version=T.version}function bt(C,T,W,st,ft){const D=r.convert(W.format,W.colorSpace),ot=r.convert(W.type),mt=R(W.internalFormat,D,ot,W.colorSpace);i.get(T).__hasExternalTextures||(ft===s.TEXTURE_3D||ft===s.TEXTURE_2D_ARRAY?e.texImage3D(ft,0,mt,T.width,T.height,T.depth,0,D,ot,null):e.texImage2D(ft,0,mt,T.width,T.height,0,D,ot,null)),e.bindFramebuffer(s.FRAMEBUFFER,C),ht(T)?d.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,st,ft,i.get(W).__webglTexture,0,J(T)):(ft===s.TEXTURE_2D||ft>=s.TEXTURE_CUBE_MAP_POSITIVE_X&&ft<=s.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&s.framebufferTexture2D(s.FRAMEBUFFER,st,ft,i.get(W).__webglTexture,0),e.bindFramebuffer(s.FRAMEBUFFER,null)}function M(C,T,W){if(s.bindRenderbuffer(s.RENDERBUFFER,C),T.depthBuffer&&!T.stencilBuffer){let st=s.DEPTH_COMPONENT16;if(W||ht(T)){const ft=T.depthTexture;ft&&ft.isDepthTexture&&(ft.type===ji?st=s.DEPTH_COMPONENT32F:ft.type===Cn&&(st=s.DEPTH_COMPONENT24));const D=J(T);ht(T)?d.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,D,st,T.width,T.height):s.renderbufferStorageMultisample(s.RENDERBUFFER,D,st,T.width,T.height)}else s.renderbufferStorage(s.RENDERBUFFER,st,T.width,T.height);s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,C)}else if(T.depthBuffer&&T.stencilBuffer){const st=J(T);W&&ht(T)===!1?s.renderbufferStorageMultisample(s.RENDERBUFFER,st,s.DEPTH24_STENCIL8,T.width,T.height):ht(T)?d.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,st,s.DEPTH24_STENCIL8,T.width,T.height):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,T.width,T.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,C)}else{const st=T.isWebGLMultipleRenderTargets===!0?T.texture:[T.texture];for(let ft=0;ft<st.length;ft++){const D=st[ft],ot=r.convert(D.format,D.colorSpace),mt=r.convert(D.type),Q=R(D.internalFormat,ot,mt,D.colorSpace),Dt=J(T);W&&ht(T)===!1?s.renderbufferStorageMultisample(s.RENDERBUFFER,Dt,Q,T.width,T.height):ht(T)?d.renderbufferStorageMultisampleEXT(s.RENDERBUFFER,Dt,Q,T.width,T.height):s.renderbufferStorage(s.RENDERBUFFER,Q,T.width,T.height)}}s.bindRenderbuffer(s.RENDERBUFFER,null)}function P(C,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(s.FRAMEBUFFER,C),!(T.depthTexture&&T.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),at(T.depthTexture,0);const st=i.get(T.depthTexture).__webglTexture,ft=J(T);if(T.depthTexture.format===cs)ht(T)?d.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,st,0,ft):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,st,0);else if(T.depthTexture.format===M9)ht(T)?d.framebufferTexture2DMultisampleEXT(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,st,0,ft):s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,st,0);else throw new Error("Unknown depthTexture format")}function I(C){const T=i.get(C),W=C.isWebGLCubeRenderTarget===!0;if(C.depthTexture&&!T.__autoAllocateDepthBuffer){if(W)throw new Error("target.depthTexture not supported in Cube render targets");P(T.__webglFramebuffer,C)}else if(W){T.__webglDepthbuffer=[];for(let st=0;st<6;st++)e.bindFramebuffer(s.FRAMEBUFFER,T.__webglFramebuffer[st]),T.__webglDepthbuffer[st]=s.createRenderbuffer(),M(T.__webglDepthbuffer[st],C,!1)}else e.bindFramebuffer(s.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer=s.createRenderbuffer(),M(T.__webglDepthbuffer,C,!1);e.bindFramebuffer(s.FRAMEBUFFER,null)}function z(C,T,W){const st=i.get(C);T!==void 0&&bt(st.__webglFramebuffer,C,C.texture,s.COLOR_ATTACHMENT0,s.TEXTURE_2D),W!==void 0&&I(C)}function O(C){const T=C.texture,W=i.get(C),st=i.get(T);C.addEventListener("dispose",B),C.isWebGLMultipleRenderTargets!==!0&&(st.__webglTexture===void 0&&(st.__webglTexture=s.createTexture()),st.__version=T.version,a.memory.textures++);const ft=C.isWebGLCubeRenderTarget===!0,D=C.isWebGLMultipleRenderTargets===!0,ot=v(C)||o;if(ft){W.__webglFramebuffer=[];for(let mt=0;mt<6;mt++)W.__webglFramebuffer[mt]=s.createFramebuffer()}else{if(W.__webglFramebuffer=s.createFramebuffer(),D)if(n.drawBuffers){const mt=C.texture;for(let Q=0,Dt=mt.length;Q<Dt;Q++){const Ot=i.get(mt[Q]);Ot.__webglTexture===void 0&&(Ot.__webglTexture=s.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&C.samples>0&&ht(C)===!1){const mt=D?T:[T];W.__webglMultisampledFramebuffer=s.createFramebuffer(),W.__webglColorRenderbuffer=[],e.bindFramebuffer(s.FRAMEBUFFER,W.__webglMultisampledFramebuffer);for(let Q=0;Q<mt.length;Q++){const Dt=mt[Q];W.__webglColorRenderbuffer[Q]=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,W.__webglColorRenderbuffer[Q]);const Ot=r.convert(Dt.format,Dt.colorSpace),zt=r.convert(Dt.type),Tt=R(Dt.internalFormat,Ot,zt,Dt.colorSpace,C.isXRRenderTarget===!0),Ct=J(C);s.renderbufferStorageMultisample(s.RENDERBUFFER,Ct,Tt,C.width,C.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+Q,s.RENDERBUFFER,W.__webglColorRenderbuffer[Q])}s.bindRenderbuffer(s.RENDERBUFFER,null),C.depthBuffer&&(W.__webglDepthRenderbuffer=s.createRenderbuffer(),M(W.__webglDepthRenderbuffer,C,!0)),e.bindFramebuffer(s.FRAMEBUFFER,null)}}if(ft){e.bindTexture(s.TEXTURE_CUBE_MAP,st.__webglTexture),q(s.TEXTURE_CUBE_MAP,T,ot);for(let mt=0;mt<6;mt++)bt(W.__webglFramebuffer[mt],C,T,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+mt);E(T,ot)&&w(s.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(D){const mt=C.texture;for(let Q=0,Dt=mt.length;Q<Dt;Q++){const Ot=mt[Q],zt=i.get(Ot);e.bindTexture(s.TEXTURE_2D,zt.__webglTexture),q(s.TEXTURE_2D,Ot,ot),bt(W.__webglFramebuffer,C,Ot,s.COLOR_ATTACHMENT0+Q,s.TEXTURE_2D),E(Ot,ot)&&w(s.TEXTURE_2D)}e.unbindTexture()}else{let mt=s.TEXTURE_2D;(C.isWebGL3DRenderTarget||C.isWebGLArrayRenderTarget)&&(o?mt=C.isWebGL3DRenderTarget?s.TEXTURE_3D:s.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(mt,st.__webglTexture),q(mt,T,ot),bt(W.__webglFramebuffer,C,T,s.COLOR_ATTACHMENT0,mt),E(T,ot)&&w(mt),e.unbindTexture()}C.depthBuffer&&I(C)}function Z(C){const T=v(C)||o,W=C.isWebGLMultipleRenderTargets===!0?C.texture:[C.texture];for(let st=0,ft=W.length;st<ft;st++){const D=W[st];if(E(D,T)){const ot=C.isWebGLCubeRenderTarget?s.TEXTURE_CUBE_MAP:s.TEXTURE_2D,mt=i.get(D).__webglTexture;e.bindTexture(ot,mt),w(ot),e.unbindTexture()}}}function et(C){if(o&&C.samples>0&&ht(C)===!1){const T=C.isWebGLMultipleRenderTargets?C.texture:[C.texture],W=C.width,st=C.height;let ft=s.COLOR_BUFFER_BIT;const D=[],ot=C.stencilBuffer?s.DEPTH_STENCIL_ATTACHMENT:s.DEPTH_ATTACHMENT,mt=i.get(C),Q=C.isWebGLMultipleRenderTargets===!0;if(Q)for(let Dt=0;Dt<T.length;Dt++)e.bindFramebuffer(s.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+Dt,s.RENDERBUFFER,null),e.bindFramebuffer(s.FRAMEBUFFER,mt.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+Dt,s.TEXTURE_2D,null,0);e.bindFramebuffer(s.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),e.bindFramebuffer(s.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let Dt=0;Dt<T.length;Dt++){D.push(s.COLOR_ATTACHMENT0+Dt),C.depthBuffer&&D.push(ot);const Ot=mt.__ignoreDepthValues!==void 0?mt.__ignoreDepthValues:!1;if(Ot===!1&&(C.depthBuffer&&(ft|=s.DEPTH_BUFFER_BIT),C.stencilBuffer&&(ft|=s.STENCIL_BUFFER_BIT)),Q&&s.framebufferRenderbuffer(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,mt.__webglColorRenderbuffer[Dt]),Ot===!0&&(s.invalidateFramebuffer(s.READ_FRAMEBUFFER,[ot]),s.invalidateFramebuffer(s.DRAW_FRAMEBUFFER,[ot])),Q){const zt=i.get(T[Dt]).__webglTexture;s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,zt,0)}s.blitFramebuffer(0,0,W,st,0,0,W,st,ft,s.NEAREST),f&&s.invalidateFramebuffer(s.READ_FRAMEBUFFER,D)}if(e.bindFramebuffer(s.READ_FRAMEBUFFER,null),e.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),Q)for(let Dt=0;Dt<T.length;Dt++){e.bindFramebuffer(s.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+Dt,s.RENDERBUFFER,mt.__webglColorRenderbuffer[Dt]);const Ot=i.get(T[Dt]).__webglTexture;e.bindFramebuffer(s.FRAMEBUFFER,mt.__webglFramebuffer),s.framebufferTexture2D(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0+Dt,s.TEXTURE_2D,Ot,0)}e.bindFramebuffer(s.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}}function J(C){return Math.min(u,C.samples)}function ht(C){const T=i.get(C);return o&&C.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&T.__useRenderToTexture!==!1}function nt(C){const T=a.render.frame;p.get(C)!==T&&(p.set(C,T),C.update())}function wt(C,T){const W=C.colorSpace,st=C.format,ft=C.type;return C.isCompressedTexture===!0||C.format===h4||W!==Ni&&W!==ds&&(W===Ut?o===!1?t.has("EXT_sRGB")===!0&&st===k0?(C.format=h4,C.minFilter=Me,C.generateMipmaps=!1):T=h8.sRGBToLinear(T):(st!==k0||ft!==Pn)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",W)),T}this.allocateTextureUnit=j,this.resetTextureUnits=$,this.setTexture2D=at,this.setTexture2DArray=V,this.setTexture3D=tt,this.setTextureCube=yt,this.rebindTextures=z,this.setupRenderTarget=O,this.updateRenderTargetMipmap=Z,this.updateMultisampleRenderTarget=et,this.setupDepthRenderbuffer=I,this.setupFrameBufferTexture=bt,this.useMultisampledRTT=ht}function vm(s,t,e){const i=e.isWebGL2;function n(r,a=ds){let o;if(r===Pn)return s.UNSIGNED_BYTE;if(r===K6)return s.UNSIGNED_SHORT_4_4_4_4;if(r===Q6)return s.UNSIGNED_SHORT_5_5_5_1;if(r===Lp)return s.BYTE;if(r===Ip)return s.SHORT;if(r===O4)return s.UNSIGNED_SHORT;if(r===J6)return s.INT;if(r===Cn)return s.UNSIGNED_INT;if(r===ji)return s.FLOAT;if(r===Zr)return i?s.HALF_FLOAT:(o=t.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(r===Np)return s.ALPHA;if(r===k0)return s.RGBA;if(r===Dp)return s.LUMINANCE;if(r===Fp)return s.LUMINANCE_ALPHA;if(r===cs)return s.DEPTH_COMPONENT;if(r===M9)return s.DEPTH_STENCIL;if(r===h4)return o=t.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(r===Op)return s.RED;if(r===t8)return s.RED_INTEGER;if(r===zp)return s.RG;if(r===e8)return s.RG_INTEGER;if(r===i8)return s.RGBA_INTEGER;if(r===Fa||r===Oa||r===za||r===Ba)if(a===Ut)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Fa)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Oa)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===za)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Ba)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Fa)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Oa)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===za)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Ba)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===S3||r===w3||r===A3||r===E3)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===S3)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===w3)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===A3)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===E3)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Bp)return o=t.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===T3||r===C3)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(r===T3)return a===Ut?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===C3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===R3||r===P3||r===L3||r===I3||r===N3||r===D3||r===F3||r===O3||r===z3||r===B3||r===U3||r===k3||r===H3||r===G3)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(r===R3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===P3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===L3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===I3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===N3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===D3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===F3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===O3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===z3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===B3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===U3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===k3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===H3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===G3)return a===Ut?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Ua)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(r===Ua)return a===Ut?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(r===Up||r===V3||r===W3||r===q3)if(o=t.get("EXT_texture_compression_rgtc"),o!==null){if(r===Ua)return o.COMPRESSED_RED_RGTC1_EXT;if(r===V3)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===W3)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===q3)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ls?i?s.UNSIGNED_INT_24_8:(o=t.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):s[r]!==void 0?s[r]:null}return{convert:n}}class Mm extends He{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Ci extends ae{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zT={type:"move"};class t7{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ci,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ci,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ci,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let n=null,r=null,a=null;const o=this._targetRay,h=this._grip,l=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(l&&t.hand){a=!0;for(const g of t.hand.values()){const m=e.getJointPose(g,i),y=this._getHandJoint(l,g);m!==null&&(y.matrix.fromArray(m.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=m.radius),y.visible=m!==null}const c=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],d=c.position.distanceTo(u.position),f=.02,p=.005;l.inputState.pinching&&d>f+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&d<=f-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else h!==null&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1));o!==null&&(n=e.getPose(t.targetRaySpace,i),n===null&&r!==null&&(n=r),n!==null&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(zT)))}return o!==null&&(o.visible=n!==null),h!==null&&(h.visible=r!==null),l!==null&&(l.visible=a!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Ci;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class bm extends Oe{constructor(t,e,i,n,r,a,o,h,l,c){if(c=c!==void 0?c:cs,c!==cs&&c!==M9)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===cs&&(i=Cn),i===void 0&&c===M9&&(i=ls),super(null,n,r,a,o,h,c,i,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=o!==void 0?o:Re,this.minFilter=h!==void 0?h:Re,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class BT extends sn{constructor(t,e){super();const i=this;let n=null,r=1,a=null,o="local-floor",h=1,l=null,c=null,u=null,d=null,f=null,p=null;const g=e.getContextAttributes();let m=null,y=null;const _=[],x=[],v=new He;v.layers.enable(1),v.viewport=new ce;const b=new He;b.layers.enable(2),b.viewport=new ce;const E=[v,b],w=new Mm;w.layers.enable(1),w.layers.enable(2);let R=null,S=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let tt=_[V];return tt===void 0&&(tt=new t7,_[V]=tt),tt.getTargetRaySpace()},this.getControllerGrip=function(V){let tt=_[V];return tt===void 0&&(tt=new t7,_[V]=tt),tt.getGripSpace()},this.getHand=function(V){let tt=_[V];return tt===void 0&&(tt=new t7,_[V]=tt),tt.getHandSpace()};function A(V){const tt=x.indexOf(V.inputSource);if(tt===-1)return;const yt=_[tt];yt!==void 0&&(yt.update(V.inputSource,V.frame,l||a),yt.dispatchEvent({type:V.type,data:V.inputSource}))}function U(){n.removeEventListener("select",A),n.removeEventListener("selectstart",A),n.removeEventListener("selectend",A),n.removeEventListener("squeeze",A),n.removeEventListener("squeezestart",A),n.removeEventListener("squeezeend",A),n.removeEventListener("end",U),n.removeEventListener("inputsourceschange",B);for(let V=0;V<_.length;V++){const tt=x[V];tt!==null&&(x[V]=null,_[V].disconnect(tt))}R=null,S=null,t.setRenderTarget(m),f=null,d=null,u=null,n=null,y=null,at.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){r=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){o=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(V){l=V},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return n},this.setSession=async function(V){if(n=V,n!==null){if(m=t.getRenderTarget(),n.addEventListener("select",A),n.addEventListener("selectstart",A),n.addEventListener("selectend",A),n.addEventListener("squeeze",A),n.addEventListener("squeezestart",A),n.addEventListener("squeezeend",A),n.addEventListener("end",U),n.addEventListener("inputsourceschange",B),g.xrCompatible!==!0&&await e.makeXRCompatible(),n.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const tt={antialias:n.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:r};f=new XRWebGLLayer(n,e,tt),n.updateRenderState({baseLayer:f}),y=new Di(f.framebufferWidth,f.framebufferHeight,{format:k0,type:Pn,colorSpace:t.outputColorSpace,stencilBuffer:g.stencil})}else{let tt=null,yt=null,xt=null;g.depth&&(xt=g.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,tt=g.stencil?M9:cs,yt=g.stencil?ls:Cn);const St={colorFormat:e.RGBA8,depthFormat:xt,scaleFactor:r};u=new XRWebGLBinding(n,e),d=u.createProjectionLayer(St),n.updateRenderState({layers:[d]}),y=new Di(d.textureWidth,d.textureHeight,{format:k0,type:Pn,depthTexture:new bm(d.textureWidth,d.textureHeight,yt,void 0,void 0,void 0,void 0,void 0,void 0,tt),stencilBuffer:g.stencil,colorSpace:t.outputColorSpace,samples:g.antialias?4:0});const Et=t.properties.get(y);Et.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(h),l=null,a=await n.requestReferenceSpace(o),at.setContext(n),at.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(n!==null)return n.environmentBlendMode};function B(V){for(let tt=0;tt<V.removed.length;tt++){const yt=V.removed[tt],xt=x.indexOf(yt);xt>=0&&(x[xt]=null,_[xt].disconnect(yt))}for(let tt=0;tt<V.added.length;tt++){const yt=V.added[tt];let xt=x.indexOf(yt);if(xt===-1){for(let Et=0;Et<_.length;Et++)if(Et>=x.length){x.push(yt),xt=Et;break}else if(x[Et]===null){x[Et]=yt,xt=Et;break}if(xt===-1)break}const St=_[xt];St&&St.connect(yt)}}const F=new L,H=new L;function G(V,tt,yt){F.setFromMatrixPosition(tt.matrixWorld),H.setFromMatrixPosition(yt.matrixWorld);const xt=F.distanceTo(H),St=tt.projectionMatrix.elements,Et=yt.projectionMatrix.elements,q=St[14]/(St[10]-1),lt=St[14]/(St[10]+1),pt=(St[9]+1)/St[5],vt=(St[9]-1)/St[5],bt=(St[8]-1)/St[0],M=(Et[8]+1)/Et[0],P=q*bt,I=q*M,z=xt/(-bt+M),O=z*-bt;tt.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(O),V.translateZ(z),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const Z=q+z,et=lt+z,J=P-O,ht=I+(xt-O),nt=pt*lt/et*Z,wt=vt*lt/et*Z;V.projectionMatrix.makePerspective(J,ht,nt,wt,Z,et),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}function Y(V,tt){tt===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(tt.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(n===null)return;w.near=b.near=v.near=V.near,w.far=b.far=v.far=V.far,(R!==w.near||S!==w.far)&&(n.updateRenderState({depthNear:w.near,depthFar:w.far}),R=w.near,S=w.far);const tt=V.parent,yt=w.cameras;Y(w,tt);for(let xt=0;xt<yt.length;xt++)Y(yt[xt],tt);yt.length===2?G(w,v,b):w.projectionMatrix.copy(v.projectionMatrix),$(V,w,tt)};function $(V,tt,yt){yt===null?V.matrix.copy(tt.matrixWorld):(V.matrix.copy(yt.matrixWorld),V.matrix.invert(),V.matrix.multiply(tt.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0);const xt=V.children;for(let St=0,Et=xt.length;St<Et;St++)xt[St].updateMatrixWorld(!0);V.projectionMatrix.copy(tt.projectionMatrix),V.projectionMatrixInverse.copy(tt.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=Kr*2*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}this.getCamera=function(){return w},this.getFoveation=function(){if(!(d===null&&f===null))return h},this.setFoveation=function(V){h=V,d!==null&&(d.fixedFoveation=V),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=V)};let j=null;function rt(V,tt){if(c=tt.getViewerPose(l||a),p=tt,c!==null){const yt=c.views;f!==null&&(t.setRenderTargetFramebuffer(y,f.framebuffer),t.setRenderTarget(y));let xt=!1;yt.length!==w.cameras.length&&(w.cameras.length=0,xt=!0);for(let St=0;St<yt.length;St++){const Et=yt[St];let q=null;if(f!==null)q=f.getViewport(Et);else{const pt=u.getViewSubImage(d,Et);q=pt.viewport,St===0&&(t.setRenderTargetTextures(y,pt.colorTexture,d.ignoreDepthValues?void 0:pt.depthStencilTexture),t.setRenderTarget(y))}let lt=E[St];lt===void 0&&(lt=new He,lt.layers.enable(St),lt.viewport=new ce,E[St]=lt),lt.matrix.fromArray(Et.transform.matrix),lt.matrix.decompose(lt.position,lt.quaternion,lt.scale),lt.projectionMatrix.fromArray(Et.projectionMatrix),lt.projectionMatrixInverse.copy(lt.projectionMatrix).invert(),lt.viewport.set(q.x,q.y,q.width,q.height),St===0&&(w.matrix.copy(lt.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),xt===!0&&w.cameras.push(lt)}}for(let yt=0;yt<_.length;yt++){const xt=x[yt],St=_[yt];xt!==null&&St!==void 0&&St.update(xt,tt,l||a)}j&&j(V,tt),tt.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:tt}),p=null}const at=new mm;at.setAnimationLoop(rt),this.setAnimationLoop=function(V){j=V},this.dispose=function(){}}}function UT(s,t){function e(m,y){m.matrixAutoUpdate===!0&&m.updateMatrix(),y.value.copy(m.matrix)}function i(m,y){y.color.getRGB(m.fogColor.value,um(s)),y.isFog?(m.fogNear.value=y.near,m.fogFar.value=y.far):y.isFogExp2&&(m.fogDensity.value=y.density)}function n(m,y,_,x,v){y.isMeshBasicMaterial||y.isMeshLambertMaterial?r(m,y):y.isMeshToonMaterial?(r(m,y),u(m,y)):y.isMeshPhongMaterial?(r(m,y),c(m,y)):y.isMeshStandardMaterial?(r(m,y),d(m,y),y.isMeshPhysicalMaterial&&f(m,y,v)):y.isMeshMatcapMaterial?(r(m,y),p(m,y)):y.isMeshDepthMaterial?r(m,y):y.isMeshDistanceMaterial?(r(m,y),g(m,y)):y.isMeshNormalMaterial?r(m,y):y.isLineBasicMaterial?(a(m,y),y.isLineDashedMaterial&&o(m,y)):y.isPointsMaterial?h(m,y,_,x):y.isSpriteMaterial?l(m,y):y.isShadowMaterial?(m.color.value.copy(y.color),m.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function r(m,y){m.opacity.value=y.opacity,y.color&&m.diffuse.value.copy(y.color),y.emissive&&m.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(m.map.value=y.map,e(y.map,m.mapTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,e(y.alphaMap,m.alphaMapTransform)),y.bumpMap&&(m.bumpMap.value=y.bumpMap,e(y.bumpMap,m.bumpMapTransform),m.bumpScale.value=y.bumpScale,y.side===x0&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,e(y.normalMap,m.normalMapTransform),m.normalScale.value.copy(y.normalScale),y.side===x0&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,e(y.displacementMap,m.displacementMapTransform),m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias),y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap,e(y.emissiveMap,m.emissiveMapTransform)),y.specularMap&&(m.specularMap.value=y.specularMap,e(y.specularMap,m.specularMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest);const _=t.get(y).envMap;if(_&&(m.envMap.value=_,m.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=y.reflectivity,m.ior.value=y.ior,m.refractionRatio.value=y.refractionRatio),y.lightMap){m.lightMap.value=y.lightMap;const x=s.useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=y.lightMapIntensity*x,e(y.lightMap,m.lightMapTransform)}y.aoMap&&(m.aoMap.value=y.aoMap,m.aoMapIntensity.value=y.aoMapIntensity,e(y.aoMap,m.aoMapTransform))}function a(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,y.map&&(m.map.value=y.map,e(y.map,m.mapTransform))}function o(m,y){m.dashSize.value=y.dashSize,m.totalSize.value=y.dashSize+y.gapSize,m.scale.value=y.scale}function h(m,y,_,x){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.size.value=y.size*_,m.scale.value=x*.5,y.map&&(m.map.value=y.map,e(y.map,m.uvTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,e(y.alphaMap,m.alphaMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest)}function l(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.rotation.value=y.rotation,y.map&&(m.map.value=y.map,e(y.map,m.mapTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,e(y.alphaMap,m.alphaMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest)}function c(m,y){m.specular.value.copy(y.specular),m.shininess.value=Math.max(y.shininess,1e-4)}function u(m,y){y.gradientMap&&(m.gradientMap.value=y.gradientMap)}function d(m,y){m.metalness.value=y.metalness,y.metalnessMap&&(m.metalnessMap.value=y.metalnessMap,e(y.metalnessMap,m.metalnessMapTransform)),m.roughness.value=y.roughness,y.roughnessMap&&(m.roughnessMap.value=y.roughnessMap,e(y.roughnessMap,m.roughnessMapTransform)),t.get(y).envMap&&(m.envMapIntensity.value=y.envMapIntensity)}function f(m,y,_){m.ior.value=y.ior,y.sheen>0&&(m.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),m.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(m.sheenColorMap.value=y.sheenColorMap,e(y.sheenColorMap,m.sheenColorMapTransform)),y.sheenRoughnessMap&&(m.sheenRoughnessMap.value=y.sheenRoughnessMap,e(y.sheenRoughnessMap,m.sheenRoughnessMapTransform))),y.clearcoat>0&&(m.clearcoat.value=y.clearcoat,m.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(m.clearcoatMap.value=y.clearcoatMap,e(y.clearcoatMap,m.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,e(y.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(m.clearcoatNormalMap.value=y.clearcoatNormalMap,e(y.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===x0&&m.clearcoatNormalScale.value.negate())),y.iridescence>0&&(m.iridescence.value=y.iridescence,m.iridescenceIOR.value=y.iridescenceIOR,m.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(m.iridescenceMap.value=y.iridescenceMap,e(y.iridescenceMap,m.iridescenceMapTransform)),y.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=y.iridescenceThicknessMap,e(y.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),y.transmission>0&&(m.transmission.value=y.transmission,m.transmissionSamplerMap.value=_.texture,m.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(m.transmissionMap.value=y.transmissionMap,e(y.transmissionMap,m.transmissionMapTransform)),m.thickness.value=y.thickness,y.thicknessMap&&(m.thicknessMap.value=y.thicknessMap,e(y.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=y.attenuationDistance,m.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(m.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(m.anisotropyMap.value=y.anisotropyMap,e(y.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=y.specularIntensity,m.specularColor.value.copy(y.specularColor),y.specularColorMap&&(m.specularColorMap.value=y.specularColorMap,e(y.specularColorMap,m.specularColorMapTransform)),y.specularIntensityMap&&(m.specularIntensityMap.value=y.specularIntensityMap,e(y.specularIntensityMap,m.specularIntensityMapTransform))}function p(m,y){y.matcap&&(m.matcap.value=y.matcap)}function g(m,y){const _=t.get(y).light;m.referencePosition.value.setFromMatrixPosition(_.matrixWorld),m.nearDistance.value=_.shadow.camera.near,m.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:n}}function kT(s,t,e,i){let n={},r={},a=[];const o=e.isWebGL2?s.getParameter(s.MAX_UNIFORM_BUFFER_BINDINGS):0;function h(_,x){const v=x.program;i.uniformBlockBinding(_,v)}function l(_,x){let v=n[_.id];v===void 0&&(p(_),v=c(_),n[_.id]=v,_.addEventListener("dispose",m));const b=x.program;i.updateUBOMapping(_,b);const E=t.render.frame;r[_.id]!==E&&(d(_),r[_.id]=E)}function c(_){const x=u();_.__bindingPointIndex=x;const v=s.createBuffer(),b=_.__size,E=_.usage;return s.bindBuffer(s.UNIFORM_BUFFER,v),s.bufferData(s.UNIFORM_BUFFER,b,E),s.bindBuffer(s.UNIFORM_BUFFER,null),s.bindBufferBase(s.UNIFORM_BUFFER,x,v),v}function u(){for(let _=0;_<o;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const x=n[_.id],v=_.uniforms,b=_.__cache;s.bindBuffer(s.UNIFORM_BUFFER,x);for(let E=0,w=v.length;E<w;E++){const R=v[E];if(f(R,E,b)===!0){const S=R.__offset,A=Array.isArray(R.value)?R.value:[R.value];let U=0;for(let B=0;B<A.length;B++){const F=A[B],H=g(F);typeof F=="number"?(R.__data[0]=F,s.bufferSubData(s.UNIFORM_BUFFER,S+U,R.__data)):F.isMatrix3?(R.__data[0]=F.elements[0],R.__data[1]=F.elements[1],R.__data[2]=F.elements[2],R.__data[3]=F.elements[0],R.__data[4]=F.elements[3],R.__data[5]=F.elements[4],R.__data[6]=F.elements[5],R.__data[7]=F.elements[0],R.__data[8]=F.elements[6],R.__data[9]=F.elements[7],R.__data[10]=F.elements[8],R.__data[11]=F.elements[0]):(F.toArray(R.__data,U),U+=H.storage/Float32Array.BYTES_PER_ELEMENT)}s.bufferSubData(s.UNIFORM_BUFFER,S,R.__data)}}s.bindBuffer(s.UNIFORM_BUFFER,null)}function f(_,x,v){const b=_.value;if(v[x]===void 0){if(typeof b=="number")v[x]=b;else{const E=Array.isArray(b)?b:[b],w=[];for(let R=0;R<E.length;R++)w.push(E[R].clone());v[x]=w}return!0}else if(typeof b=="number"){if(v[x]!==b)return v[x]=b,!0}else{const E=Array.isArray(v[x])?v[x]:[v[x]],w=Array.isArray(b)?b:[b];for(let R=0;R<E.length;R++){const S=E[R];if(S.equals(w[R])===!1)return S.copy(w[R]),!0}}return!1}function p(_){const x=_.uniforms;let v=0;const b=16;let E=0;for(let w=0,R=x.length;w<R;w++){const S=x[w],A={boundary:0,storage:0},U=Array.isArray(S.value)?S.value:[S.value];for(let B=0,F=U.length;B<F;B++){const H=U[B],G=g(H);A.boundary+=G.boundary,A.storage+=G.storage}if(S.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=v,w>0){E=v%b;const B=b-E;E!==0&&B-A.boundary<0&&(v+=b-E,S.__offset=v)}v+=A.storage}return E=v%b,E>0&&(v+=b-E),_.__size=v,_.__cache={},this}function g(_){const x={boundary:0,storage:0};return typeof _=="number"?(x.boundary=4,x.storage=4):_.isVector2?(x.boundary=8,x.storage=8):_.isVector3||_.isColor?(x.boundary=16,x.storage=12):_.isVector4?(x.boundary=16,x.storage=16):_.isMatrix3?(x.boundary=48,x.storage=48):_.isMatrix4?(x.boundary=64,x.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),x}function m(_){const x=_.target;x.removeEventListener("dispose",m);const v=a.indexOf(x.__bindingPointIndex);a.splice(v,1),s.deleteBuffer(n[x.id]),delete n[x.id],delete r[x.id]}function y(){for(const _ in n)s.deleteBuffer(n[_]);a=[],n={},r={}}return{bind:h,update:l,dispose:y}}function HT(){const s=L1("canvas");return s.style.display="block",s}class p8{constructor(t={}){const{canvas:e=HT(),context:i=null,depth:n=!0,stencil:r=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=t;this.isWebGLRenderer=!0;let d;i!==null?d=i.getContextAttributes().alpha:d=a;const f=new Uint32Array(4),p=new Int32Array(4);let g=null,m=null;const y=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Ut,this.useLegacyLights=!0,this.toneMapping=Zi,this.toneMappingExposure=1;const x=this;let v=!1,b=0,E=0,w=null,R=-1,S=null;const A=new ce,U=new ce;let B=null;const F=new _t(0);let H=0,G=e.width,Y=e.height,$=1,j=null,rt=null;const at=new ce(0,0,G,Y),V=new ce(0,0,G,Y);let tt=!1;const yt=new G4;let xt=!1,St=!1,Et=null;const q=new Lt,lt=new dt,pt=new L,vt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function bt(){return w===null?$:1}let M=i;function P(N,K){for(let ct=0;ct<N.length;ct++){const X=N[ct],ut=e.getContext(X,K);if(ut!==null)return ut}return null}try{const N={alpha:!0,depth:n,stencil:r,antialias:o,premultipliedAlpha:h,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${V1}`),e.addEventListener("webglcontextlost",Rt,!1),e.addEventListener("webglcontextrestored",it,!1),e.addEventListener("webglcontextcreationerror",Mt,!1),M===null){const K=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&K.shift(),M=P(K,N),M===null)throw P(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&M instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),M.getShaderPrecisionFormat===void 0&&(M.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let I,z,O,Z,et,J,ht,nt,wt,C,T,W,st,ft,D,ot,mt,Q,Dt,Ot,zt,Tt,Ct,kt;function ie(){I=new iE(M),z=new ZA(M,I,t),I.init(z),Tt=new vm(M,I,z),O=new FT(M,I,z),Z=new rE(M),et=new ST,J=new OT(M,I,O,et,z,Tt,Z),ht=new KA(x),nt=new eE(x),wt=new mS(M,z),Ct=new jA(M,I,wt,z),C=new nE(M,wt,Z,Ct),T=new lE(M,C,wt,Z),Dt=new hE(M,z,J),ot=new JA(et),W=new bT(x,ht,nt,I,z,Ct,ot),st=new UT(x,et),ft=new AT,D=new LT(I,z),Q=new XA(x,ht,nt,O,T,d,h),mt=new DT(x,T,z),kt=new kT(M,Z,z,O),Ot=new YA(M,I,Z,z),zt=new sE(M,I,Z,z),Z.programs=W.programs,x.capabilities=z,x.extensions=I,x.properties=et,x.renderLists=ft,x.shadowMap=mt,x.state=O,x.info=Z}ie();const k=new BT(x,M);this.xr=k,this.getContext=function(){return M},this.getContextAttributes=function(){return M.getContextAttributes()},this.forceContextLoss=function(){const N=I.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=I.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(N){N!==void 0&&($=N,this.setSize(G,Y,!1))},this.getSize=function(N){return N.set(G,Y)},this.setSize=function(N,K,ct=!0){if(k.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=N,Y=K,e.width=Math.floor(N*$),e.height=Math.floor(K*$),ct===!0&&(e.style.width=N+"px",e.style.height=K+"px"),this.setViewport(0,0,N,K)},this.getDrawingBufferSize=function(N){return N.set(G*$,Y*$).floor()},this.setDrawingBufferSize=function(N,K,ct){G=N,Y=K,$=ct,e.width=Math.floor(N*ct),e.height=Math.floor(K*ct),this.setViewport(0,0,N,K)},this.getCurrentViewport=function(N){return N.copy(A)},this.getViewport=function(N){return N.copy(at)},this.setViewport=function(N,K,ct,X){N.isVector4?at.set(N.x,N.y,N.z,N.w):at.set(N,K,ct,X),O.viewport(A.copy(at).multiplyScalar($).floor())},this.getScissor=function(N){return N.copy(V)},this.setScissor=function(N,K,ct,X){N.isVector4?V.set(N.x,N.y,N.z,N.w):V.set(N,K,ct,X),O.scissor(U.copy(V).multiplyScalar($).floor())},this.getScissorTest=function(){return tt},this.setScissorTest=function(N){O.setScissorTest(tt=N)},this.setOpaqueSort=function(N){j=N},this.setTransparentSort=function(N){rt=N},this.getClearColor=function(N){return N.copy(Q.getClearColor())},this.setClearColor=function(){Q.setClearColor.apply(Q,arguments)},this.getClearAlpha=function(){return Q.getClearAlpha()},this.setClearAlpha=function(){Q.setClearAlpha.apply(Q,arguments)},this.clear=function(N=!0,K=!0,ct=!0){let X=0;if(N){let ut=!1;if(w!==null){const Ft=w.texture.format;ut=Ft===i8||Ft===e8||Ft===t8}if(ut){const Ft=w.texture.type,Ht=Ft===Pn||Ft===Cn||Ft===O4||Ft===ls||Ft===K6||Ft===Q6,Gt=Q.getClearColor(),Wt=Q.getClearAlpha(),te=Gt.r,$t=Gt.g,Yt=Gt.b;Ht?(f[0]=te,f[1]=$t,f[2]=Yt,f[3]=Wt,M.clearBufferuiv(M.COLOR,0,f)):(p[0]=te,p[1]=$t,p[2]=Yt,p[3]=Wt,M.clearBufferiv(M.COLOR,0,p))}else X|=M.COLOR_BUFFER_BIT}K&&(X|=M.DEPTH_BUFFER_BIT),ct&&(X|=M.STENCIL_BUFFER_BIT),M.clear(X)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Rt,!1),e.removeEventListener("webglcontextrestored",it,!1),e.removeEventListener("webglcontextcreationerror",Mt,!1),ft.dispose(),D.dispose(),et.dispose(),ht.dispose(),nt.dispose(),T.dispose(),Ct.dispose(),kt.dispose(),W.dispose(),k.dispose(),k.removeEventListener("sessionstart",Ee),k.removeEventListener("sessionend",Hi),Et&&(Et.dispose(),Et=null),d0.stop()};function Rt(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function it(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const N=Z.autoReset,K=mt.enabled,ct=mt.autoUpdate,X=mt.needsUpdate,ut=mt.type;ie(),Z.autoReset=N,mt.enabled=K,mt.autoUpdate=ct,mt.needsUpdate=X,mt.type=ut}function Mt(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function Pt(N){const K=N.target;K.removeEventListener("dispose",Pt),le(K)}function le(N){ve(N),et.remove(N)}function ve(N){const K=et.get(N).programs;K!==void 0&&(K.forEach(function(ct){W.releaseProgram(ct)}),N.isShaderMaterial&&W.releaseShaderCache(N))}this.renderBufferDirect=function(N,K,ct,X,ut,Ft){K===null&&(K=vt);const Ht=ut.isMesh&&ut.matrixWorld.determinant()<0,Gt=dy(N,K,ct,X,ut);O.setMaterial(X,Ht);let Wt=ct.index,te=1;X.wireframe===!0&&(Wt=C.getWireframeAttribute(ct),te=2);const $t=ct.drawRange,Yt=ct.attributes.position;let Te=$t.start*te,Le=($t.start+$t.count)*te;Ft!==null&&(Te=Math.max(Te,Ft.start*te),Le=Math.min(Le,(Ft.start+Ft.count)*te)),Wt!==null?(Te=Math.max(Te,0),Le=Math.min(Le,Wt.count)):Yt!=null&&(Te=Math.max(Te,0),Le=Math.min(Le,Yt.count));const li=Le-Te;if(li<0||li===1/0)return;Ct.setup(ut,X,Gt,ct,Wt);let rn,ze=Ot;if(Wt!==null&&(rn=wt.get(Wt),ze=zt,ze.setIndex(rn)),ut.isMesh)X.wireframe===!0?(O.setLineWidth(X.wireframeLinewidth*bt()),ze.setMode(M.LINES)):ze.setMode(M.TRIANGLES);else if(ut.isLine){let oe=X.linewidth;oe===void 0&&(oe=1),O.setLineWidth(oe*bt()),ut.isLineSegments?ze.setMode(M.LINES):ut.isLineLoop?ze.setMode(M.LINE_LOOP):ze.setMode(M.LINE_STRIP)}else ut.isPoints?ze.setMode(M.POINTS):ut.isSprite&&ze.setMode(M.TRIANGLES);if(ut.isInstancedMesh)ze.renderInstances(Te,li,ut.count);else if(ct.isInstancedBufferGeometry){const oe=ct._maxInstanceCount!==void 0?ct._maxInstanceCount:1/0,_o=Math.min(ct.instanceCount,oe);ze.renderInstances(Te,li,_o)}else ze.render(Te,li)},this.compile=function(N,K){function ct(X,ut,Ft){X.transparent===!0&&X.side===K0&&X.forceSinglePass===!1?(X.side=x0,X.needsUpdate=!0,a2(X,ut,Ft),X.side=Qi,X.needsUpdate=!0,a2(X,ut,Ft),X.side=K0):a2(X,ut,Ft)}m=D.get(N),m.init(),_.push(m),N.traverseVisible(function(X){X.isLight&&X.layers.test(K.layers)&&(m.pushLight(X),X.castShadow&&m.pushShadow(X))}),m.setupLights(x.useLegacyLights),N.traverse(function(X){const ut=X.material;if(ut)if(Array.isArray(ut))for(let Ft=0;Ft<ut.length;Ft++){const Ht=ut[Ft];ct(Ht,N,X)}else ct(ut,N,X)}),_.pop(),m=null};let Je=null;function ki(N){Je&&Je(N)}function Ee(){d0.stop()}function Hi(){d0.start()}const d0=new mm;d0.setAnimationLoop(ki),typeof self<"u"&&d0.setContext(self),this.setAnimationLoop=function(N){Je=N,k.setAnimationLoop(N),N===null?d0.stop():d0.start()},k.addEventListener("sessionstart",Ee),k.addEventListener("sessionend",Hi),this.render=function(N,K){if(K!==void 0&&K.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),K.parent===null&&K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),k.enabled===!0&&k.isPresenting===!0&&(k.cameraAutoUpdate===!0&&k.updateCamera(K),K=k.getCamera()),N.isScene===!0&&N.onBeforeRender(x,N,K,w),m=D.get(N,_.length),m.init(),_.push(m),q.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),yt.setFromProjectionMatrix(q),St=this.localClippingEnabled,xt=ot.init(this.clippingPlanes,St),g=ft.get(N,y.length),g.init(),y.push(g),ah(N,K,0,x.sortObjects),g.finish(),x.sortObjects===!0&&g.sort(j,rt),this.info.render.frame++,xt===!0&&ot.beginShadows();const ct=m.state.shadowsArray;if(mt.render(ct,N,K),xt===!0&&ot.endShadows(),this.info.autoReset===!0&&this.info.reset(),Q.render(g,N),m.setupLights(x.useLegacyLights),K.isArrayCamera){const X=K.cameras;for(let ut=0,Ft=X.length;ut<Ft;ut++){const Ht=X[ut];oh(g,N,Ht,Ht.viewport)}}else oh(g,N,K);w!==null&&(J.updateMultisampleRenderTarget(w),J.updateRenderTargetMipmap(w)),N.isScene===!0&&N.onAfterRender(x,N,K),Ct.resetDefaultState(),R=-1,S=null,_.pop(),_.length>0?m=_[_.length-1]:m=null,y.pop(),y.length>0?g=y[y.length-1]:g=null};function ah(N,K,ct,X){if(N.visible===!1)return;if(N.layers.test(K.layers)){if(N.isGroup)ct=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(K);else if(N.isLight)m.pushLight(N),N.castShadow&&m.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||yt.intersectsSprite(N)){X&&pt.setFromMatrixPosition(N.matrixWorld).applyMatrix4(q);const Ht=T.update(N),Gt=N.material;Gt.visible&&g.push(N,Ht,Gt,ct,pt.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||yt.intersectsObject(N))){const Ht=T.update(N),Gt=N.material;if(X&&(N.boundingSphere!==void 0?(N.boundingSphere===null&&N.computeBoundingSphere(),pt.copy(N.boundingSphere.center)):(Ht.boundingSphere===null&&Ht.computeBoundingSphere(),pt.copy(Ht.boundingSphere.center)),pt.applyMatrix4(N.matrixWorld).applyMatrix4(q)),Array.isArray(Gt)){const Wt=Ht.groups;for(let te=0,$t=Wt.length;te<$t;te++){const Yt=Wt[te],Te=Gt[Yt.materialIndex];Te&&Te.visible&&g.push(N,Ht,Te,ct,pt.z,Yt)}}else Gt.visible&&g.push(N,Ht,Gt,ct,pt.z,null)}}const Ft=N.children;for(let Ht=0,Gt=Ft.length;Ht<Gt;Ht++)ah(Ft[Ht],K,ct,X)}function oh(N,K,ct,X){const ut=N.opaque,Ft=N.transmissive,Ht=N.transparent;m.setupLightsView(ct),xt===!0&&ot.setGlobalState(x.clippingPlanes,ct),Ft.length>0&&uy(ut,Ft,K,ct),X&&O.viewport(A.copy(X)),ut.length>0&&r2(ut,K,ct),Ft.length>0&&r2(Ft,K,ct),Ht.length>0&&r2(Ht,K,ct),O.buffers.depth.setTest(!0),O.buffers.depth.setMask(!0),O.buffers.color.setMask(!0),O.setPolygonOffset(!1)}function uy(N,K,ct,X){const ut=z.isWebGL2;Et===null&&(Et=new Di(1,1,{generateMipmaps:!0,type:I.has("EXT_color_buffer_half_float")?Zr:Pn,minFilter:en,samples:ut?4:0})),x.getDrawingBufferSize(lt),ut?Et.setSize(lt.x,lt.y):Et.setSize(l4(lt.x),l4(lt.y));const Ft=x.getRenderTarget();x.setRenderTarget(Et),x.getClearColor(F),H=x.getClearAlpha(),H<1&&x.setClearColor(16777215,.5),x.clear();const Ht=x.toneMapping;x.toneMapping=Zi,r2(N,ct,X),J.updateMultisampleRenderTarget(Et),J.updateRenderTargetMipmap(Et);let Gt=!1;for(let Wt=0,te=K.length;Wt<te;Wt++){const $t=K[Wt],Yt=$t.object,Te=$t.geometry,Le=$t.material,li=$t.group;if(Le.side===K0&&Yt.layers.test(X.layers)){const rn=Le.side;Le.side=x0,Le.needsUpdate=!0,hh(Yt,ct,X,Te,Le,li),Le.side=rn,Le.needsUpdate=!0,Gt=!0}}Gt===!0&&(J.updateMultisampleRenderTarget(Et),J.updateRenderTargetMipmap(Et)),x.setRenderTarget(Ft),x.setClearColor(F,H),x.toneMapping=Ht}function r2(N,K,ct){const X=K.isScene===!0?K.overrideMaterial:null;for(let ut=0,Ft=N.length;ut<Ft;ut++){const Ht=N[ut],Gt=Ht.object,Wt=Ht.geometry,te=X===null?Ht.material:X,$t=Ht.group;Gt.layers.test(ct.layers)&&hh(Gt,K,ct,Wt,te,$t)}}function hh(N,K,ct,X,ut,Ft){N.onBeforeRender(x,K,ct,X,ut,Ft),N.modelViewMatrix.multiplyMatrices(ct.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),ut.onBeforeRender(x,K,ct,X,N,Ft),ut.transparent===!0&&ut.side===K0&&ut.forceSinglePass===!1?(ut.side=x0,ut.needsUpdate=!0,x.renderBufferDirect(ct,K,X,ut,N,Ft),ut.side=Qi,ut.needsUpdate=!0,x.renderBufferDirect(ct,K,X,ut,N,Ft),ut.side=K0):x.renderBufferDirect(ct,K,X,ut,N,Ft),N.onAfterRender(x,K,ct,X,ut,Ft)}function a2(N,K,ct){K.isScene!==!0&&(K=vt);const X=et.get(N),ut=m.state.lights,Ft=m.state.shadowsArray,Ht=ut.state.version,Gt=W.getParameters(N,ut.state,Ft,K,ct),Wt=W.getProgramCacheKey(Gt);let te=X.programs;X.environment=N.isMeshStandardMaterial?K.environment:null,X.fog=K.fog,X.envMap=(N.isMeshStandardMaterial?nt:ht).get(N.envMap||X.environment),te===void 0&&(N.addEventListener("dispose",Pt),te=new Map,X.programs=te);let $t=te.get(Wt);if($t!==void 0){if(X.currentProgram===$t&&X.lightsStateVersion===Ht)return lh(N,Gt),$t}else Gt.uniforms=W.getUniforms(N),N.onBuild(ct,Gt,x),N.onBeforeCompile(Gt,x),$t=W.acquireProgram(Gt,Wt),te.set(Wt,$t),X.uniforms=Gt.uniforms;const Yt=X.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(Yt.clippingPlanes=ot.uniform),lh(N,Gt),X.needsLights=py(N),X.lightsStateVersion=Ht,X.needsLights&&(Yt.ambientLightColor.value=ut.state.ambient,Yt.lightProbe.value=ut.state.probe,Yt.directionalLights.value=ut.state.directional,Yt.directionalLightShadows.value=ut.state.directionalShadow,Yt.spotLights.value=ut.state.spot,Yt.spotLightShadows.value=ut.state.spotShadow,Yt.rectAreaLights.value=ut.state.rectArea,Yt.ltc_1.value=ut.state.rectAreaLTC1,Yt.ltc_2.value=ut.state.rectAreaLTC2,Yt.pointLights.value=ut.state.point,Yt.pointLightShadows.value=ut.state.pointShadow,Yt.hemisphereLights.value=ut.state.hemi,Yt.directionalShadowMap.value=ut.state.directionalShadowMap,Yt.directionalShadowMatrix.value=ut.state.directionalShadowMatrix,Yt.spotShadowMap.value=ut.state.spotShadowMap,Yt.spotLightMatrix.value=ut.state.spotLightMatrix,Yt.spotLightMap.value=ut.state.spotLightMap,Yt.pointShadowMap.value=ut.state.pointShadowMap,Yt.pointShadowMatrix.value=ut.state.pointShadowMatrix);const Te=$t.getUniforms(),Le=Wa.seqWithValue(Te.seq,Yt);return X.currentProgram=$t,X.uniformsList=Le,$t}function lh(N,K){const ct=et.get(N);ct.outputColorSpace=K.outputColorSpace,ct.instancing=K.instancing,ct.skinning=K.skinning,ct.morphTargets=K.morphTargets,ct.morphNormals=K.morphNormals,ct.morphColors=K.morphColors,ct.morphTargetsCount=K.morphTargetsCount,ct.numClippingPlanes=K.numClippingPlanes,ct.numIntersection=K.numClipIntersection,ct.vertexAlphas=K.vertexAlphas,ct.vertexTangents=K.vertexTangents,ct.toneMapping=K.toneMapping}function dy(N,K,ct,X,ut){K.isScene!==!0&&(K=vt),J.resetTextureUnits();const Ft=K.fog,Ht=X.isMeshStandardMaterial?K.environment:null,Gt=w===null?x.outputColorSpace:w.isXRRenderTarget===!0?w.texture.colorSpace:Ni,Wt=(X.isMeshStandardMaterial?nt:ht).get(X.envMap||Ht),te=X.vertexColors===!0&&!!ct.attributes.color&&ct.attributes.color.itemSize===4,$t=!!ct.attributes.tangent&&(!!X.normalMap||X.anisotropy>0),Yt=!!ct.morphAttributes.position,Te=!!ct.morphAttributes.normal,Le=!!ct.morphAttributes.color,li=X.toneMapped?x.toneMapping:Zi,rn=ct.morphAttributes.position||ct.morphAttributes.normal||ct.morphAttributes.color,ze=rn!==void 0?rn.length:0,oe=et.get(X),_o=m.state.lights;if(xt===!0&&(St===!0||N!==S)){const R0=N===S&&X.id===R;ot.setState(X,N,R0)}let Ke=!1;X.version===oe.__version?(oe.needsLights&&oe.lightsStateVersion!==_o.state.version||oe.outputColorSpace!==Gt||ut.isInstancedMesh&&oe.instancing===!1||!ut.isInstancedMesh&&oe.instancing===!0||ut.isSkinnedMesh&&oe.skinning===!1||!ut.isSkinnedMesh&&oe.skinning===!0||oe.envMap!==Wt||X.fog===!0&&oe.fog!==Ft||oe.numClippingPlanes!==void 0&&(oe.numClippingPlanes!==ot.numPlanes||oe.numIntersection!==ot.numIntersection)||oe.vertexAlphas!==te||oe.vertexTangents!==$t||oe.morphTargets!==Yt||oe.morphNormals!==Te||oe.morphColors!==Le||oe.toneMapping!==li||z.isWebGL2===!0&&oe.morphTargetsCount!==ze)&&(Ke=!0):(Ke=!0,oe.__version=X.version);let Rs=oe.currentProgram;Ke===!0&&(Rs=a2(X,K,ut));let ch=!1,A5=!1,vo=!1;const f0=Rs.getUniforms(),Ps=oe.uniforms;if(O.useProgram(Rs.program)&&(ch=!0,A5=!0,vo=!0),X.id!==R&&(R=X.id,A5=!0),ch||S!==N){if(f0.setValue(M,"projectionMatrix",N.projectionMatrix),z.logarithmicDepthBuffer&&f0.setValue(M,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),S!==N&&(S=N,A5=!0,vo=!0),X.isShaderMaterial||X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshStandardMaterial||X.envMap){const R0=f0.map.cameraPosition;R0!==void 0&&R0.setValue(M,pt.setFromMatrixPosition(N.matrixWorld))}(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial)&&f0.setValue(M,"isOrthographic",N.isOrthographicCamera===!0),(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial||X.isShadowMaterial||ut.isSkinnedMesh)&&f0.setValue(M,"viewMatrix",N.matrixWorldInverse)}if(ut.isSkinnedMesh){f0.setOptional(M,ut,"bindMatrix"),f0.setOptional(M,ut,"bindMatrixInverse");const R0=ut.skeleton;R0&&(z.floatVertexTextures?(R0.boneTexture===null&&R0.computeBoneTexture(),f0.setValue(M,"boneTexture",R0.boneTexture,J),f0.setValue(M,"boneTextureSize",R0.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Mo=ct.morphAttributes;if((Mo.position!==void 0||Mo.normal!==void 0||Mo.color!==void 0&&z.isWebGL2===!0)&&Dt.update(ut,ct,Rs),(A5||oe.receiveShadow!==ut.receiveShadow)&&(oe.receiveShadow=ut.receiveShadow,f0.setValue(M,"receiveShadow",ut.receiveShadow)),X.isMeshGouraudMaterial&&X.envMap!==null&&(Ps.envMap.value=Wt,Ps.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1),A5&&(f0.setValue(M,"toneMappingExposure",x.toneMappingExposure),oe.needsLights&&fy(Ps,vo),Ft&&X.fog===!0&&st.refreshFogUniforms(Ps,Ft),st.refreshMaterialUniforms(Ps,X,$,Y,Et),Wa.upload(M,oe.uniformsList,Ps,J)),X.isShaderMaterial&&X.uniformsNeedUpdate===!0&&(Wa.upload(M,oe.uniformsList,Ps,J),X.uniformsNeedUpdate=!1),X.isSpriteMaterial&&f0.setValue(M,"center",ut.center),f0.setValue(M,"modelViewMatrix",ut.modelViewMatrix),f0.setValue(M,"normalMatrix",ut.normalMatrix),f0.setValue(M,"modelMatrix",ut.matrixWorld),X.isShaderMaterial||X.isRawShaderMaterial){const R0=X.uniformsGroups;for(let bo=0,my=R0.length;bo<my;bo++)if(z.isWebGL2){const uh=R0[bo];kt.update(uh,Rs),kt.bind(uh,Rs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Rs}function fy(N,K){N.ambientLightColor.needsUpdate=K,N.lightProbe.needsUpdate=K,N.directionalLights.needsUpdate=K,N.directionalLightShadows.needsUpdate=K,N.pointLights.needsUpdate=K,N.pointLightShadows.needsUpdate=K,N.spotLights.needsUpdate=K,N.spotLightShadows.needsUpdate=K,N.rectAreaLights.needsUpdate=K,N.hemisphereLights.needsUpdate=K}function py(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(N,K,ct){et.get(N.texture).__webglTexture=K,et.get(N.depthTexture).__webglTexture=ct;const X=et.get(N);X.__hasExternalTextures=!0,X.__hasExternalTextures&&(X.__autoAllocateDepthBuffer=ct===void 0,X.__autoAllocateDepthBuffer||I.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),X.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,K){const ct=et.get(N);ct.__webglFramebuffer=K,ct.__useDefaultFramebuffer=K===void 0},this.setRenderTarget=function(N,K=0,ct=0){w=N,b=K,E=ct;let X=!0,ut=null,Ft=!1,Ht=!1;if(N){const Wt=et.get(N);Wt.__useDefaultFramebuffer!==void 0?(O.bindFramebuffer(M.FRAMEBUFFER,null),X=!1):Wt.__webglFramebuffer===void 0?J.setupRenderTarget(N):Wt.__hasExternalTextures&&J.rebindTextures(N,et.get(N.texture).__webglTexture,et.get(N.depthTexture).__webglTexture);const te=N.texture;(te.isData3DTexture||te.isDataArrayTexture||te.isCompressedArrayTexture)&&(Ht=!0);const $t=et.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(ut=$t[K],Ft=!0):z.isWebGL2&&N.samples>0&&J.useMultisampledRTT(N)===!1?ut=et.get(N).__webglMultisampledFramebuffer:ut=$t,A.copy(N.viewport),U.copy(N.scissor),B=N.scissorTest}else A.copy(at).multiplyScalar($).floor(),U.copy(V).multiplyScalar($).floor(),B=tt;if(O.bindFramebuffer(M.FRAMEBUFFER,ut)&&z.drawBuffers&&X&&O.drawBuffers(N,ut),O.viewport(A),O.scissor(U),O.setScissorTest(B),Ft){const Wt=et.get(N.texture);M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_CUBE_MAP_POSITIVE_X+K,Wt.__webglTexture,ct)}else if(Ht){const Wt=et.get(N.texture),te=K||0;M.framebufferTextureLayer(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,Wt.__webglTexture,ct||0,te)}R=-1},this.readRenderTargetPixels=function(N,K,ct,X,ut,Ft,Ht){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Gt=et.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&Ht!==void 0&&(Gt=Gt[Ht]),Gt){O.bindFramebuffer(M.FRAMEBUFFER,Gt);try{const Wt=N.texture,te=Wt.format,$t=Wt.type;if(te!==k0&&Tt.convert(te)!==M.getParameter(M.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Yt=$t===Zr&&(I.has("EXT_color_buffer_half_float")||z.isWebGL2&&I.has("EXT_color_buffer_float"));if($t!==Pn&&Tt.convert($t)!==M.getParameter(M.IMPLEMENTATION_COLOR_READ_TYPE)&&!($t===ji&&(z.isWebGL2||I.has("OES_texture_float")||I.has("WEBGL_color_buffer_float")))&&!Yt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K>=0&&K<=N.width-X&&ct>=0&&ct<=N.height-ut&&M.readPixels(K,ct,X,ut,Tt.convert(te),Tt.convert($t),Ft)}finally{const Wt=w!==null?et.get(w).__webglFramebuffer:null;O.bindFramebuffer(M.FRAMEBUFFER,Wt)}}},this.copyFramebufferToTexture=function(N,K,ct=0){const X=Math.pow(2,-ct),ut=Math.floor(K.image.width*X),Ft=Math.floor(K.image.height*X);J.setTexture2D(K,0),M.copyTexSubImage2D(M.TEXTURE_2D,ct,0,0,N.x,N.y,ut,Ft),O.unbindTexture()},this.copyTextureToTexture=function(N,K,ct,X=0){const ut=K.image.width,Ft=K.image.height,Ht=Tt.convert(ct.format),Gt=Tt.convert(ct.type);J.setTexture2D(ct,0),M.pixelStorei(M.UNPACK_FLIP_Y_WEBGL,ct.flipY),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ct.premultiplyAlpha),M.pixelStorei(M.UNPACK_ALIGNMENT,ct.unpackAlignment),K.isDataTexture?M.texSubImage2D(M.TEXTURE_2D,X,N.x,N.y,ut,Ft,Ht,Gt,K.image.data):K.isCompressedTexture?M.compressedTexSubImage2D(M.TEXTURE_2D,X,N.x,N.y,K.mipmaps[0].width,K.mipmaps[0].height,Ht,K.mipmaps[0].data):M.texSubImage2D(M.TEXTURE_2D,X,N.x,N.y,Ht,Gt,K.image),X===0&&ct.generateMipmaps&&M.generateMipmap(M.TEXTURE_2D),O.unbindTexture()},this.copyTextureToTexture3D=function(N,K,ct,X,ut=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ft=N.max.x-N.min.x+1,Ht=N.max.y-N.min.y+1,Gt=N.max.z-N.min.z+1,Wt=Tt.convert(X.format),te=Tt.convert(X.type);let $t;if(X.isData3DTexture)J.setTexture3D(X,0),$t=M.TEXTURE_3D;else if(X.isDataArrayTexture)J.setTexture2DArray(X,0),$t=M.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}M.pixelStorei(M.UNPACK_FLIP_Y_WEBGL,X.flipY),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),M.pixelStorei(M.UNPACK_ALIGNMENT,X.unpackAlignment);const Yt=M.getParameter(M.UNPACK_ROW_LENGTH),Te=M.getParameter(M.UNPACK_IMAGE_HEIGHT),Le=M.getParameter(M.UNPACK_SKIP_PIXELS),li=M.getParameter(M.UNPACK_SKIP_ROWS),rn=M.getParameter(M.UNPACK_SKIP_IMAGES),ze=ct.isCompressedTexture?ct.mipmaps[0]:ct.image;M.pixelStorei(M.UNPACK_ROW_LENGTH,ze.width),M.pixelStorei(M.UNPACK_IMAGE_HEIGHT,ze.height),M.pixelStorei(M.UNPACK_SKIP_PIXELS,N.min.x),M.pixelStorei(M.UNPACK_SKIP_ROWS,N.min.y),M.pixelStorei(M.UNPACK_SKIP_IMAGES,N.min.z),ct.isDataTexture||ct.isData3DTexture?M.texSubImage3D($t,ut,K.x,K.y,K.z,Ft,Ht,Gt,Wt,te,ze.data):ct.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),M.compressedTexSubImage3D($t,ut,K.x,K.y,K.z,Ft,Ht,Gt,Wt,ze.data)):M.texSubImage3D($t,ut,K.x,K.y,K.z,Ft,Ht,Gt,Wt,te,ze),M.pixelStorei(M.UNPACK_ROW_LENGTH,Yt),M.pixelStorei(M.UNPACK_IMAGE_HEIGHT,Te),M.pixelStorei(M.UNPACK_SKIP_PIXELS,Le),M.pixelStorei(M.UNPACK_SKIP_ROWS,li),M.pixelStorei(M.UNPACK_SKIP_IMAGES,rn),ut===0&&X.generateMipmaps&&M.generateMipmap($t),O.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?J.setTextureCube(N,0):N.isData3DTexture?J.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?J.setTexture2DArray(N,0):J.setTexture2D(N,0),O.unbindTexture()},this.resetState=function(){b=0,E=0,w=null,O.reset(),Ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Yi}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ut?us:r8}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===us?Ut:Ni}}class Sm extends p8{}Sm.prototype.isWebGL1Renderer=!0;class W4{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new _t(t),this.density=e}clone(){return new W4(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class q4{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new _t(t),this.near=e,this.far=i}clone(){return new q4(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class m8 extends ae{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class $1{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=R1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=V0()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=V0()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=V0()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const p0=new L;class _s{constructor(t,e,i,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)p0.fromBufferAttribute(this,e),p0.applyMatrix4(t),this.setXYZ(e,p0.x,p0.y,p0.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)p0.fromBufferAttribute(this,e),p0.applyNormalMatrix(t),this.setXYZ(e,p0.x,p0.y,p0.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)p0.fromBufferAttribute(this,e),p0.transformDirection(t),this.setXYZ(e,p0.x,p0.y,p0.z);return this}setX(t,e){return this.normalized&&(e=Zt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Zt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Zt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Zt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=H0(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=H0(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=H0(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=H0(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array),n=Zt(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this}setXYZW(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Zt(e,this.array),i=Zt(i,this.array),n=Zt(n,this.array),r=Zt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[n+r])}return new ue(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new _s(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[n+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class g8 extends Xe{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let K9;const N5=new L,Q9=new L,tr=new L,er=new dt,D5=new dt,wm=new Lt,F2=new L,F5=new L,O2=new L,ic=new dt,e7=new dt,nc=new dt;class Am extends ae{constructor(t){if(super(),this.isSprite=!0,this.type="Sprite",K9===void 0){K9=new jt;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new $1(e,5);K9.setIndex([0,1,2,0,2,3]),K9.setAttribute("position",new _s(i,3,0,!1)),K9.setAttribute("uv",new _s(i,2,3,!1))}this.geometry=K9,this.material=t!==void 0?t:new g8,this.center=new dt(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Q9.setFromMatrixScale(this.matrixWorld),wm.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),tr.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Q9.multiplyScalar(-tr.z);const i=this.material.rotation;let n,r;i!==0&&(r=Math.cos(i),n=Math.sin(i));const a=this.center;z2(F2.set(-.5,-.5,0),tr,a,Q9,n,r),z2(F5.set(.5,-.5,0),tr,a,Q9,n,r),z2(O2.set(.5,.5,0),tr,a,Q9,n,r),ic.set(0,0),e7.set(1,0),nc.set(1,1);let o=t.ray.intersectTriangle(F2,F5,O2,!1,N5);if(o===null&&(z2(F5.set(-.5,.5,0),tr,a,Q9,n,r),e7.set(0,1),o=t.ray.intersectTriangle(F2,O2,F5,!1,N5),o===null))return;const h=t.ray.origin.distanceTo(N5);h<t.near||h>t.far||e.push({distance:h,point:N5.clone(),uv:f9.getInterpolation(N5,F2,F5,O2,ic,e7,nc,new dt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function z2(s,t,e,i,n,r){er.subVectors(s,e).addScalar(.5).multiply(i),n!==void 0?(D5.x=r*er.x-n*er.y,D5.y=n*er.x+r*er.y):D5.copy(er),s.copy(t),s.x+=D5.x,s.y+=D5.y,s.applyMatrix4(wm)}const B2=new L,sc=new L;class Em extends ae{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,n=e.length;i<n;i++){const r=e[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const n=this.levels;let r;for(r=0;r<n.length&&!(e<n[r].distance);r++);return n.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,n;for(i=1,n=e.length;i<n;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){B2.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(B2);this.getObjectForDistance(n).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){B2.setFromMatrixPosition(t.matrixWorld),sc.setFromMatrixPosition(this.matrixWorld);const i=B2.distanceTo(sc)/t.zoom;e[0].object.visible=!0;let n,r;for(n=1,r=e.length;n<r;n++){let a=e[n].distance;if(e[n].object.visible&&(a-=a*e[n].hysteresis),i>=a)e[n-1].object.visible=!1,e[n].object.visible=!0;else break}for(this._currentLevel=n-1;n<r;n++)e[n].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let n=0,r=i.length;n<r;n++){const a=i[n];e.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return e}}const rc=new L,ac=new ce,oc=new ce,GT=new L,hc=new Lt,ir=new L,i7=new ai,lc=new Lt,n7=new u5;class $4 extends Ge{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Lt,this.bindMatrixInverse=new Lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new zi),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)ir.fromBufferAttribute(e,i),this.applyBoneTransform(i,ir),this.boundingBox.expandByPoint(ir)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ai),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)ir.fromBufferAttribute(e,i),this.applyBoneTransform(i,ir),this.boundingSphere.expandByPoint(ir)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,n=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),i7.copy(this.boundingSphere),i7.applyMatrix4(n),t.ray.intersectsSphere(i7)!==!1&&(lc.copy(n).invert(),n7.copy(t.ray).applyMatrix4(lc),!(this.boundingBox!==null&&n7.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,n7)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ce,e=this.geometry.attributes.skinWeight;for(let i=0,n=e.count;i<n;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,n=this.geometry;ac.fromBufferAttribute(n.attributes.skinIndex,t),oc.fromBufferAttribute(n.attributes.skinWeight,t),rc.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const a=oc.getComponent(r);if(a!==0){const o=ac.getComponent(r);hc.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),e.addScaledVector(GT.copy(rc).applyMatrix4(hc),a)}}return e.applyMatrix4(this.bindMatrixInverse)}boneTransform(t,e){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(t,e)}}class t5 extends ae{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Br extends Oe{constructor(t=null,e=1,i=1,n,r,a,o,h,l=Re,c=Re,u,d){super(null,a,o,h,l,c,n,r,u,d),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const cc=new Lt,VT=new Lt;class m5{constructor(t=[],e=[]){this.uuid=V0(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Lt)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Lt;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let r=0,a=t.length;r<a;r++){const o=t[r]?t[r].matrixWorld:VT;cc.multiplyMatrices(o,e[r]),cc.toArray(i,r*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new m5(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=im(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Br(e,t,t,k0,ji);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,n=t.bones.length;i<n;i++){const r=t.bones[i];let a=e[r];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new t5),this.bones.push(a),this.boneInverses.push(new Lt().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let n=0,r=e.length;n<r;n++){const a=e[n];t.bones.push(a.uuid);const o=i[n];t.boneInverses.push(o.toArray())}return t}}class e5 extends ue{constructor(t,e,i,n=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const nr=new Lt,uc=new Lt,U2=[],dc=new zi,WT=new Lt,O5=new Ge,z5=new ai;class y8 extends Ge{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new e5(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let n=0;n<i;n++)this.setMatrixAt(n,WT)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new zi),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,nr),dc.copy(t.boundingBox).applyMatrix4(nr),this.boundingBox.union(dc)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new ai),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,nr),z5.copy(t.boundingSphere).applyMatrix4(nr),this.boundingSphere.union(z5)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}raycast(t,e){const i=this.matrixWorld,n=this.count;if(O5.geometry=this.geometry,O5.material=this.material,O5.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),z5.copy(this.boundingSphere),z5.applyMatrix4(i),t.ray.intersectsSphere(z5)!==!1))for(let r=0;r<n;r++){this.getMatrixAt(r,nr),uc.multiplyMatrices(i,nr),O5.matrixWorld=uc,O5.raycast(t,U2);for(let a=0,o=U2.length;a<o;a++){const h=U2[a];h.instanceId=r,h.object=this,e.push(h)}U2.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new e5(new Float32Array(this.instanceMatrix.count*3),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ze extends Xe{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const fc=new L,pc=new L,mc=new Lt,s7=new u5,k2=new ai;class nn extends ae{constructor(t=new jt,e=new Ze){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let n=1,r=e.count;n<r;n++)fc.fromBufferAttribute(e,n-1),pc.fromBufferAttribute(e,n),i[n]=i[n-1],i[n]+=fc.distanceTo(pc);t.setAttribute("lineDistance",new Nt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,n=this.matrixWorld,r=t.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),k2.copy(i.boundingSphere),k2.applyMatrix4(n),k2.radius+=r,t.ray.intersectsSphere(k2)===!1)return;mc.copy(n).invert(),s7.copy(t.ray).applyMatrix4(mc);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=o*o,l=new L,c=new L,u=new L,d=new L,f=this.isLineSegments?2:1,p=i.index,m=i.attributes.position;if(p!==null){const y=Math.max(0,a.start),_=Math.min(p.count,a.start+a.count);for(let x=y,v=_-1;x<v;x+=f){const b=p.getX(x),E=p.getX(x+1);if(l.fromBufferAttribute(m,b),c.fromBufferAttribute(m,E),s7.distanceSqToSegment(l,c,d,u)>h)continue;d.applyMatrix4(this.matrixWorld);const R=t.ray.origin.distanceTo(d);R<t.near||R>t.far||e.push({distance:R,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,a.start),_=Math.min(m.count,a.start+a.count);for(let x=y,v=_-1;x<v;x+=f){if(l.fromBufferAttribute(m,x),c.fromBufferAttribute(m,x+1),s7.distanceSqToSegment(l,c,d,u)>h)continue;d.applyMatrix4(this.matrixWorld);const E=t.ray.origin.distanceTo(d);E<t.near||E>t.far||e.push({distance:E,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const n=e[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=n.length;r<a;r++){const o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}const gc=new L,yc=new L;class oi extends nn{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let n=0,r=e.count;n<r;n+=2)gc.fromBufferAttribute(e,n),yc.fromBufferAttribute(e,n+1),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+gc.distanceTo(yc);t.setAttribute("lineDistance",new Nt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class x8 extends nn{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class X4 extends Xe{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const xc=new Lt,J3=new u5,H2=new ai,G2=new L;class _8 extends ae{constructor(t=new jt,e=new X4){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,n=this.matrixWorld,r=t.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),H2.copy(i.boundingSphere),H2.applyMatrix4(n),H2.radius+=r,t.ray.intersectsSphere(H2)===!1)return;xc.copy(n).invert(),J3.copy(t.ray).applyMatrix4(xc);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=o*o,l=i.index,u=i.attributes.position;if(l!==null){const d=Math.max(0,a.start),f=Math.min(l.count,a.start+a.count);for(let p=d,g=f;p<g;p++){const m=l.getX(p);G2.fromBufferAttribute(u,m),_c(G2,m,h,n,t,e,this)}}else{const d=Math.max(0,a.start),f=Math.min(u.count,a.start+a.count);for(let p=d,g=f;p<g;p++)G2.fromBufferAttribute(u,p),_c(G2,p,h,n,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const n=e[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=n.length;r<a;r++){const o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}}function _c(s,t,e,i,n,r,a){const o=J3.distanceSqToPoint(s);if(o<e){const h=new L;J3.closestPointToPoint(s,h),h.applyMatrix4(i);const l=n.ray.origin.distanceTo(h);if(l<n.near||l>n.far)return;r.push({distance:l,distanceToRay:Math.sqrt(o),point:h,index:t,face:null,object:a})}}class qT extends Oe{constructor(t,e,i,n,r,a,o,h,l){super(t,e,i,n,r,a,o,h,l),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Me,this.magFilter=r!==void 0?r:Me,this.generateMipmaps=!1;const c=this;function u(){c.needsUpdate=!0,t.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class $T extends Oe{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Re,this.minFilter=Re,this.generateMipmaps=!1,this.needsUpdate=!0}}class v8 extends Oe{constructor(t,e,i,n,r,a,o,h,l,c,u,d){super(null,a,o,h,l,c,n,r,u,d),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class XT extends v8{constructor(t,e,i,n,r,a){super(t,e,i,r,a),this.isCompressedArrayTexture=!0,this.image.depth=n,this.wrapR=We}}class jT extends Oe{constructor(t,e,i,n,r,a,o,h,l){super(t,e,i,n,r,a,o,h,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class hi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,n=this.getPoint(0),r=0;e.push(0);for(let a=1;a<=t;a++)i=this.getPoint(a/t),r+=i.distanceTo(n),e.push(r),n=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let n=0;const r=i.length;let a;e?a=e:a=t*i[r-1];let o=0,h=r-1,l;for(;o<=h;)if(n=Math.floor(o+(h-o)/2),l=i[n]-a,l<0)o=n+1;else if(l>0)h=n-1;else{h=n;break}if(n=h,i[n]===a)return n/(r-1);const c=i[n],d=i[n+1]-c,f=(a-c)/d;return(n+f)/(r-1)}getTangent(t,e){let n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);const a=this.getPoint(n),o=this.getPoint(r),h=e||(a.isVector2?new dt:new L);return h.copy(o).sub(a).normalize(),h}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new L,n=[],r=[],a=[],o=new L,h=new Lt;for(let f=0;f<=t;f++){const p=f/t;n[f]=this.getTangentAt(p,new L)}r[0]=new L,a[0]=new L;let l=Number.MAX_VALUE;const c=Math.abs(n[0].x),u=Math.abs(n[0].y),d=Math.abs(n[0].z);c<=l&&(l=c,i.set(1,0,0)),u<=l&&(l=u,i.set(0,1,0)),d<=l&&i.set(0,0,1),o.crossVectors(n[0],i).normalize(),r[0].crossVectors(n[0],o),a[0].crossVectors(n[0],r[0]);for(let f=1;f<=t;f++){if(r[f]=r[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(n[f-1],n[f]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(Pe(n[f-1].dot(n[f]),-1,1));r[f].applyMatrix4(h.makeRotationAxis(o,p))}a[f].crossVectors(n[f],r[f])}if(e===!0){let f=Math.acos(Pe(r[0].dot(r[t]),-1,1));f/=t,n[0].dot(o.crossVectors(r[0],r[t]))>0&&(f=-f);for(let p=1;p<=t;p++)r[p].applyMatrix4(h.makeRotationAxis(n[p],f*p)),a[p].crossVectors(n[p],r[p])}return{tangents:n,normals:r,binormals:a}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class j4 extends hi{constructor(t=0,e=0,i=1,n=1,r=0,a=Math.PI*2,o=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=h}getPoint(t,e){const i=e||new dt,n=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(a?r=0:r=n),this.aClockwise===!0&&!a&&(r===n?r=-n:r=r-n);const o=this.aStartAngle+t*r;let h=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=h-this.aX,f=l-this.aY;h=d*c-f*u+this.aX,l=d*u+f*c+this.aY}return i.set(h,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class Tm extends j4{constructor(t,e,i,n,r,a){super(t,e,i,i,n,r,a),this.isArcCurve=!0,this.type="ArcCurve"}}function M8(){let s=0,t=0,e=0,i=0;function n(r,a,o,h){s=r,t=o,e=-3*r+3*a-2*o-h,i=2*r-2*a+o+h}return{initCatmullRom:function(r,a,o,h,l){n(a,o,l*(o-r),l*(h-a))},initNonuniformCatmullRom:function(r,a,o,h,l,c,u){let d=(a-r)/l-(o-r)/(l+c)+(o-a)/c,f=(o-a)/c-(h-a)/(c+u)+(h-o)/u;d*=c,f*=c,n(a,o,d,f)},calc:function(r){const a=r*r,o=a*r;return s+t*r+e*a+i*o}}}const V2=new L,r7=new M8,a7=new M8,o7=new M8;class Cm extends hi{constructor(t=[],e=!1,i="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=n}getPoint(t,e=new L){const i=e,n=this.points,r=n.length,a=(r-(this.closed?0:1))*t;let o=Math.floor(a),h=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:h===0&&o===r-1&&(o=r-2,h=1);let l,c;this.closed||o>0?l=n[(o-1)%r]:(V2.subVectors(n[0],n[1]).add(n[0]),l=V2);const u=n[o%r],d=n[(o+1)%r];if(this.closed||o+2<r?c=n[(o+2)%r]:(V2.subVectors(n[r-1],n[r-2]).add(n[r-1]),c=V2),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let p=Math.pow(l.distanceToSquared(u),f),g=Math.pow(u.distanceToSquared(d),f),m=Math.pow(d.distanceToSquared(c),f);g<1e-4&&(g=1),p<1e-4&&(p=g),m<1e-4&&(m=g),r7.initNonuniformCatmullRom(l.x,u.x,d.x,c.x,p,g,m),a7.initNonuniformCatmullRom(l.y,u.y,d.y,c.y,p,g,m),o7.initNonuniformCatmullRom(l.z,u.z,d.z,c.z,p,g,m)}else this.curveType==="catmullrom"&&(r7.initCatmullRom(l.x,u.x,d.x,c.x,this.tension),a7.initCatmullRom(l.y,u.y,d.y,c.y,this.tension),o7.initCatmullRom(l.z,u.z,d.z,c.z,this.tension));return i.set(r7.calc(h),a7.calc(h),o7.calc(h)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const n=t.points[e];this.points.push(new L().fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function vc(s,t,e,i,n){const r=(i-t)*.5,a=(n-e)*.5,o=s*s,h=s*o;return(2*e-2*i+r+a)*h+(-3*e+3*i-2*r-a)*o+r*s+e}function YT(s,t){const e=1-s;return e*e*t}function ZT(s,t){return 2*(1-s)*s*t}function JT(s,t){return s*s*t}function u1(s,t,e,i){return YT(s,t)+ZT(s,e)+JT(s,i)}function KT(s,t){const e=1-s;return e*e*e*t}function QT(s,t){const e=1-s;return 3*e*e*s*t}function tC(s,t){return 3*(1-s)*s*s*t}function eC(s,t){return s*s*s*t}function d1(s,t,e,i,n){return KT(s,t)+QT(s,e)+tC(s,i)+eC(s,n)}class b8 extends hi{constructor(t=new dt,e=new dt,i=new dt,n=new dt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=n}getPoint(t,e=new dt){const i=e,n=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(d1(t,n.x,r.x,a.x,o.x),d1(t,n.y,r.y,a.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Rm extends hi{constructor(t=new L,e=new L,i=new L,n=new L){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=n}getPoint(t,e=new L){const i=e,n=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(d1(t,n.x,r.x,a.x,o.x),d1(t,n.y,r.y,a.y,o.y),d1(t,n.z,r.z,a.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Y4 extends hi{constructor(t=new dt,e=new dt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new dt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new dt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Pm extends hi{constructor(t=new L,e=new L){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new L){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new L){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class S8 extends hi{constructor(t=new dt,e=new dt,i=new dt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new dt){const i=e,n=this.v0,r=this.v1,a=this.v2;return i.set(u1(t,n.x,r.x,a.x),u1(t,n.y,r.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class w8 extends hi{constructor(t=new L,e=new L,i=new L){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new L){const i=e,n=this.v0,r=this.v1,a=this.v2;return i.set(u1(t,n.x,r.x,a.x),u1(t,n.y,r.y,a.y),u1(t,n.z,r.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class A8 extends hi{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new dt){const i=e,n=this.points,r=(n.length-1)*t,a=Math.floor(r),o=r-a,h=n[a===0?a:a-1],l=n[a],c=n[a>n.length-2?n.length-1:a+1],u=n[a>n.length-3?n.length-1:a+2];return i.set(vc(o,h.x,l.x,c.x,u.x),vc(o,h.y,l.y,c.y,u.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const n=t.points[e];this.points.push(new dt().fromArray(n))}return this}}var E8=Object.freeze({__proto__:null,ArcCurve:Tm,CatmullRomCurve3:Cm,CubicBezierCurve:b8,CubicBezierCurve3:Rm,EllipseCurve:j4,LineCurve:Y4,LineCurve3:Pm,QuadraticBezierCurve:S8,QuadraticBezierCurve3:w8,SplineCurve:A8});class Lm extends hi{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Y4(e,t))}getPoint(t,e){const i=t*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=i){const a=n[r]-i,o=this.curves[r],h=o.getLength(),l=h===0?0:1-a/h;return o.getPointAt(l,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let n=0,r=this.curves;n<r.length;n++){const a=r[n],o=a.isEllipseCurve?t*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,h=a.getPoints(o);for(let l=0;l<h.length;l++){const c=h[l];i&&i.equals(c)||(e.push(c),i=c)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const n=t.curves[e];this.curves.push(new E8[n.type]().fromJSON(n))}return this}}class I1 extends Lm{constructor(t){super(),this.type="Path",this.currentPoint=new dt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new Y4(this.currentPoint.clone(),new dt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,n){const r=new S8(this.currentPoint.clone(),new dt(t,e),new dt(i,n));return this.curves.push(r),this.currentPoint.set(i,n),this}bezierCurveTo(t,e,i,n,r,a){const o=new b8(this.currentPoint.clone(),new dt(t,e),new dt(i,n),new dt(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new A8(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,n,r,a){const o=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+o,e+h,i,n,r,a),this}absarc(t,e,i,n,r,a){return this.absellipse(t,e,i,i,n,r,a),this}ellipse(t,e,i,n,r,a,o,h){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+l,e+c,i,n,r,a,o,h),this}absellipse(t,e,i,n,r,a,o,h){const l=new j4(t,e,i,n,r,a,o,h);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class X1 extends jt{constructor(t=[new dt(0,-.5),new dt(.5,0),new dt(0,.5)],e=12,i=0,n=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},e=Math.floor(e),n=Pe(n,0,Math.PI*2);const r=[],a=[],o=[],h=[],l=[],c=1/e,u=new L,d=new dt,f=new L,p=new L,g=new L;let m=0,y=0;for(let _=0;_<=t.length-1;_++)switch(_){case 0:m=t[_+1].x-t[_].x,y=t[_+1].y-t[_].y,f.x=y*1,f.y=-m,f.z=y*0,g.copy(f),f.normalize(),h.push(f.x,f.y,f.z);break;case t.length-1:h.push(g.x,g.y,g.z);break;default:m=t[_+1].x-t[_].x,y=t[_+1].y-t[_].y,f.x=y*1,f.y=-m,f.z=y*0,p.copy(f),f.x+=g.x,f.y+=g.y,f.z+=g.z,f.normalize(),h.push(f.x,f.y,f.z),g.copy(p)}for(let _=0;_<=e;_++){const x=i+_*c*n,v=Math.sin(x),b=Math.cos(x);for(let E=0;E<=t.length-1;E++){u.x=t[E].x*v,u.y=t[E].y,u.z=t[E].x*b,a.push(u.x,u.y,u.z),d.x=_/e,d.y=E/(t.length-1),o.push(d.x,d.y);const w=h[3*E+0]*v,R=h[3*E+1],S=h[3*E+0]*b;l.push(w,R,S)}}for(let _=0;_<e;_++)for(let x=0;x<t.length-1;x++){const v=x+_*t.length,b=v,E=v+t.length,w=v+t.length+1,R=v+1;r.push(b,E,R),r.push(w,R,E)}this.setIndex(r),this.setAttribute("position",new Nt(a,3)),this.setAttribute("uv",new Nt(o,2)),this.setAttribute("normal",new Nt(l,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new X1(t.points,t.segments,t.phiStart,t.phiLength)}}class Z4 extends X1{constructor(t=1,e=1,i=4,n=8){const r=new I1;r.absarc(0,-e/2,t,Math.PI*1.5,0),r.absarc(0,e/2,t,0,Math.PI*.5),super(r.getPoints(i),n),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:i,radialSegments:n}}static fromJSON(t){return new Z4(t.radius,t.length,t.capSegments,t.radialSegments)}}class J4 extends jt{constructor(t=1,e=32,i=0,n=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},e=Math.max(3,e);const r=[],a=[],o=[],h=[],l=new L,c=new dt;a.push(0,0,0),o.push(0,0,1),h.push(.5,.5);for(let u=0,d=3;u<=e;u++,d+=3){const f=i+u/e*n;l.x=t*Math.cos(f),l.y=t*Math.sin(f),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/t+1)/2,c.y=(a[d+1]/t+1)/2,h.push(c.x,c.y)}for(let u=1;u<=e;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new Nt(a,3)),this.setAttribute("normal",new Nt(o,3)),this.setAttribute("uv",new Nt(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new J4(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class g5 extends jt{constructor(t=1,e=1,i=1,n=32,r=1,a=!1,o=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:h};const l=this;n=Math.floor(n),r=Math.floor(r);const c=[],u=[],d=[],f=[];let p=0;const g=[],m=i/2;let y=0;_(),a===!1&&(t>0&&x(!0),e>0&&x(!1)),this.setIndex(c),this.setAttribute("position",new Nt(u,3)),this.setAttribute("normal",new Nt(d,3)),this.setAttribute("uv",new Nt(f,2));function _(){const v=new L,b=new L;let E=0;const w=(e-t)/i;for(let R=0;R<=r;R++){const S=[],A=R/r,U=A*(e-t)+t;for(let B=0;B<=n;B++){const F=B/n,H=F*h+o,G=Math.sin(H),Y=Math.cos(H);b.x=U*G,b.y=-A*i+m,b.z=U*Y,u.push(b.x,b.y,b.z),v.set(G,w,Y).normalize(),d.push(v.x,v.y,v.z),f.push(F,1-A),S.push(p++)}g.push(S)}for(let R=0;R<n;R++)for(let S=0;S<r;S++){const A=g[S][R],U=g[S+1][R],B=g[S+1][R+1],F=g[S][R+1];c.push(A,U,F),c.push(U,B,F),E+=6}l.addGroup(y,E,0),y+=E}function x(v){const b=p,E=new dt,w=new L;let R=0;const S=v===!0?t:e,A=v===!0?1:-1;for(let B=1;B<=n;B++)u.push(0,m*A,0),d.push(0,A,0),f.push(.5,.5),p++;const U=p;for(let B=0;B<=n;B++){const H=B/n*h+o,G=Math.cos(H),Y=Math.sin(H);w.x=S*Y,w.y=m*A,w.z=S*G,u.push(w.x,w.y,w.z),d.push(0,A,0),E.x=G*.5+.5,E.y=Y*.5*A+.5,f.push(E.x,E.y),p++}for(let B=0;B<n;B++){const F=b+B,H=U+B;v===!0?c.push(H,H+1,F):c.push(H+1,H,F),R+=3}l.addGroup(y,R,v===!0?1:2),y+=R}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new g5(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class K4 extends g5{constructor(t=1,e=1,i=32,n=1,r=!1,a=0,o=Math.PI*2){super(0,t,e,i,n,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}static fromJSON(t){return new K4(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Es extends jt{constructor(t=[],e=[],i=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n};const r=[],a=[];o(n),l(i),c(),this.setAttribute("position",new Nt(r,3)),this.setAttribute("normal",new Nt(r.slice(),3)),this.setAttribute("uv",new Nt(a,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function o(_){const x=new L,v=new L,b=new L;for(let E=0;E<e.length;E+=3)f(e[E+0],x),f(e[E+1],v),f(e[E+2],b),h(x,v,b,_)}function h(_,x,v,b){const E=b+1,w=[];for(let R=0;R<=E;R++){w[R]=[];const S=_.clone().lerp(v,R/E),A=x.clone().lerp(v,R/E),U=E-R;for(let B=0;B<=U;B++)B===0&&R===E?w[R][B]=S:w[R][B]=S.clone().lerp(A,B/U)}for(let R=0;R<E;R++)for(let S=0;S<2*(E-R)-1;S++){const A=Math.floor(S/2);S%2===0?(d(w[R][A+1]),d(w[R+1][A]),d(w[R][A])):(d(w[R][A+1]),d(w[R+1][A+1]),d(w[R+1][A]))}}function l(_){const x=new L;for(let v=0;v<r.length;v+=3)x.x=r[v+0],x.y=r[v+1],x.z=r[v+2],x.normalize().multiplyScalar(_),r[v+0]=x.x,r[v+1]=x.y,r[v+2]=x.z}function c(){const _=new L;for(let x=0;x<r.length;x+=3){_.x=r[x+0],_.y=r[x+1],_.z=r[x+2];const v=m(_)/2/Math.PI+.5,b=y(_)/Math.PI+.5;a.push(v,1-b)}p(),u()}function u(){for(let _=0;_<a.length;_+=6){const x=a[_+0],v=a[_+2],b=a[_+4],E=Math.max(x,v,b),w=Math.min(x,v,b);E>.9&&w<.1&&(x<.2&&(a[_+0]+=1),v<.2&&(a[_+2]+=1),b<.2&&(a[_+4]+=1))}}function d(_){r.push(_.x,_.y,_.z)}function f(_,x){const v=_*3;x.x=t[v+0],x.y=t[v+1],x.z=t[v+2]}function p(){const _=new L,x=new L,v=new L,b=new L,E=new dt,w=new dt,R=new dt;for(let S=0,A=0;S<r.length;S+=9,A+=6){_.set(r[S+0],r[S+1],r[S+2]),x.set(r[S+3],r[S+4],r[S+5]),v.set(r[S+6],r[S+7],r[S+8]),E.set(a[A+0],a[A+1]),w.set(a[A+2],a[A+3]),R.set(a[A+4],a[A+5]),b.copy(_).add(x).add(v).divideScalar(3);const U=m(b);g(E,A+0,_,U),g(w,A+2,x,U),g(R,A+4,v,U)}}function g(_,x,v,b){b<0&&_.x===1&&(a[x]=_.x-1),v.x===0&&v.z===0&&(a[x]=b/2/Math.PI+.5)}function m(_){return Math.atan2(_.z,-_.x)}function y(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Es(t.vertices,t.indices,t.radius,t.details)}}class Q4 extends Es{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,a,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Q4(t.radius,t.detail)}}const W2=new L,q2=new L,h7=new L,$2=new f9;class T8 extends jt{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const n=Math.pow(10,4),r=Math.cos(x9*e),a=t.getIndex(),o=t.getAttribute("position"),h=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},f=[];for(let p=0;p<h;p+=3){a?(l[0]=a.getX(p),l[1]=a.getX(p+1),l[2]=a.getX(p+2)):(l[0]=p,l[1]=p+1,l[2]=p+2);const{a:g,b:m,c:y}=$2;if(g.fromBufferAttribute(o,l[0]),m.fromBufferAttribute(o,l[1]),y.fromBufferAttribute(o,l[2]),$2.getNormal(h7),u[0]=`${Math.round(g.x*n)},${Math.round(g.y*n)},${Math.round(g.z*n)}`,u[1]=`${Math.round(m.x*n)},${Math.round(m.y*n)},${Math.round(m.z*n)}`,u[2]=`${Math.round(y.x*n)},${Math.round(y.y*n)},${Math.round(y.z*n)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let _=0;_<3;_++){const x=(_+1)%3,v=u[_],b=u[x],E=$2[c[_]],w=$2[c[x]],R=`${v}_${b}`,S=`${b}_${v}`;S in d&&d[S]?(h7.dot(d[S].normal)<=r&&(f.push(E.x,E.y,E.z),f.push(w.x,w.y,w.z)),d[S]=null):R in d||(d[R]={index0:l[_],index1:l[x],normal:h7.clone()})}}for(const p in d)if(d[p]){const{index0:g,index1:m}=d[p];W2.fromBufferAttribute(o,g),q2.fromBufferAttribute(o,m),f.push(W2.x,W2.y,W2.z),f.push(q2.x,q2.y,q2.z)}this.setAttribute("position",new Nt(f,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class _9 extends I1{constructor(t){super(t),this.uuid=V0(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const n=t.holes[e];this.holes.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const n=t.holes[e];this.holes.push(new I1().fromJSON(n))}return this}}const iC={triangulate:function(s,t,e=2){const i=t&&t.length,n=i?t[0]*e:s.length;let r=Im(s,0,n,e,!0);const a=[];if(!r||r.next===r.prev)return a;let o,h,l,c,u,d,f;if(i&&(r=oC(s,t,r,e)),s.length>80*e){o=l=s[0],h=c=s[1];for(let p=e;p<n;p+=e)u=s[p],d=s[p+1],u<o&&(o=u),d<h&&(h=d),u>l&&(l=u),d>c&&(c=d);f=Math.max(l-o,c-h),f=f!==0?32767/f:0}return N1(r,a,e,o,h,f,0),a}};function Im(s,t,e,i,n){let r,a;if(n===xC(s,t,e,i)>0)for(r=t;r<e;r+=i)a=Mc(r,s[r],s[r+1],a);else for(r=e-i;r>=t;r-=i)a=Mc(r,s[r],s[r+1],a);return a&&to(a,a.next)&&(F1(a),a=a.next),a}function S9(s,t){if(!s)return s;t||(t=s);let e=s,i;do if(i=!1,!e.steiner&&(to(e,e.next)||Se(e.prev,e,e.next)===0)){if(F1(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function N1(s,t,e,i,n,r,a){if(!s)return;!a&&r&&dC(s,i,n,r);let o=s,h,l;for(;s.prev!==s.next;){if(h=s.prev,l=s.next,r?sC(s,i,n,r):nC(s)){t.push(h.i/e|0),t.push(s.i/e|0),t.push(l.i/e|0),F1(s),s=l.next,o=l.next;continue}if(s=l,s===o){a?a===1?(s=rC(S9(s),t,e),N1(s,t,e,i,n,r,2)):a===2&&aC(s,t,e,i,n,r):N1(S9(s),t,e,i,n,r,1);break}}}function nC(s){const t=s.prev,e=s,i=s.next;if(Se(t,e,i)>=0)return!1;const n=t.x,r=e.x,a=i.x,o=t.y,h=e.y,l=i.y,c=n<r?n<a?n:a:r<a?r:a,u=o<h?o<l?o:l:h<l?h:l,d=n>r?n>a?n:a:r>a?r:a,f=o>h?o>l?o:l:h>l?h:l;let p=i.next;for(;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=u&&p.y<=f&&Pr(n,o,r,h,a,l,p.x,p.y)&&Se(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function sC(s,t,e,i){const n=s.prev,r=s,a=s.next;if(Se(n,r,a)>=0)return!1;const o=n.x,h=r.x,l=a.x,c=n.y,u=r.y,d=a.y,f=o<h?o<l?o:l:h<l?h:l,p=c<u?c<d?c:d:u<d?u:d,g=o>h?o>l?o:l:h>l?h:l,m=c>u?c>d?c:d:u>d?u:d,y=K3(f,p,t,e,i),_=K3(g,m,t,e,i);let x=s.prevZ,v=s.nextZ;for(;x&&x.z>=y&&v&&v.z<=_;){if(x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==n&&x!==a&&Pr(o,c,h,u,l,d,x.x,x.y)&&Se(x.prev,x,x.next)>=0||(x=x.prevZ,v.x>=f&&v.x<=g&&v.y>=p&&v.y<=m&&v!==n&&v!==a&&Pr(o,c,h,u,l,d,v.x,v.y)&&Se(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;x&&x.z>=y;){if(x.x>=f&&x.x<=g&&x.y>=p&&x.y<=m&&x!==n&&x!==a&&Pr(o,c,h,u,l,d,x.x,x.y)&&Se(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;v&&v.z<=_;){if(v.x>=f&&v.x<=g&&v.y>=p&&v.y<=m&&v!==n&&v!==a&&Pr(o,c,h,u,l,d,v.x,v.y)&&Se(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function rC(s,t,e){let i=s;do{const n=i.prev,r=i.next.next;!to(n,r)&&Nm(n,i,i.next,r)&&D1(n,r)&&D1(r,n)&&(t.push(n.i/e|0),t.push(i.i/e|0),t.push(r.i/e|0),F1(i),F1(i.next),i=s=r),i=i.next}while(i!==s);return S9(i)}function aC(s,t,e,i,n,r){let a=s;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&mC(a,o)){let h=Dm(a,o);a=S9(a,a.next),h=S9(h,h.next),N1(a,t,e,i,n,r,0),N1(h,t,e,i,n,r,0);return}o=o.next}a=a.next}while(a!==s)}function oC(s,t,e,i){const n=[];let r,a,o,h,l;for(r=0,a=t.length;r<a;r++)o=t[r]*i,h=r<a-1?t[r+1]*i:s.length,l=Im(s,o,h,i,!1),l===l.next&&(l.steiner=!0),n.push(pC(l));for(n.sort(hC),r=0;r<n.length;r++)e=lC(n[r],e);return e}function hC(s,t){return s.x-t.x}function lC(s,t){const e=cC(s,t);if(!e)return t;const i=Dm(e,s);return S9(i,i.next),S9(e,e.next)}function cC(s,t){let e=t,i=-1/0,n;const r=s.x,a=s.y;do{if(a<=e.y&&a>=e.next.y&&e.next.y!==e.y){const d=e.x+(a-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(d<=r&&d>i&&(i=d,n=e.x<e.next.x?e:e.next,d===r))return n}e=e.next}while(e!==t);if(!n)return null;const o=n,h=n.x,l=n.y;let c=1/0,u;e=n;do r>=e.x&&e.x>=h&&r!==e.x&&Pr(a<l?r:i,a,h,l,a<l?i:r,a,e.x,e.y)&&(u=Math.abs(a-e.y)/(r-e.x),D1(e,s)&&(u<c||u===c&&(e.x>n.x||e.x===n.x&&uC(n,e)))&&(n=e,c=u)),e=e.next;while(e!==o);return n}function uC(s,t){return Se(s.prev,s,t.prev)<0&&Se(t.next,s,s.next)<0}function dC(s,t,e,i){let n=s;do n.z===0&&(n.z=K3(n.x,n.y,t,e,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==s);n.prevZ.nextZ=null,n.prevZ=null,fC(n)}function fC(s){let t,e,i,n,r,a,o,h,l=1;do{for(e=s,s=null,r=null,a=0;e;){for(a++,i=e,o=0,t=0;t<l&&(o++,i=i.nextZ,!!i);t++);for(h=l;o>0||h>0&&i;)o!==0&&(h===0||!i||e.z<=i.z)?(n=e,e=e.nextZ,o--):(n=i,i=i.nextZ,h--),r?r.nextZ=n:s=n,n.prevZ=r,r=n;e=i}r.nextZ=null,l*=2}while(a>1);return s}function K3(s,t,e,i,n){return s=(s-e)*n|0,t=(t-i)*n|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function pC(s){let t=s,e=s;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==s);return e}function Pr(s,t,e,i,n,r,a,o){return(n-a)*(t-o)>=(s-a)*(r-o)&&(s-a)*(i-o)>=(e-a)*(t-o)&&(e-a)*(r-o)>=(n-a)*(i-o)}function mC(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!gC(s,t)&&(D1(s,t)&&D1(t,s)&&yC(s,t)&&(Se(s.prev,s,t.prev)||Se(s,t.prev,t))||to(s,t)&&Se(s.prev,s,s.next)>0&&Se(t.prev,t,t.next)>0)}function Se(s,t,e){return(t.y-s.y)*(e.x-t.x)-(t.x-s.x)*(e.y-t.y)}function to(s,t){return s.x===t.x&&s.y===t.y}function Nm(s,t,e,i){const n=j2(Se(s,t,e)),r=j2(Se(s,t,i)),a=j2(Se(e,i,s)),o=j2(Se(e,i,t));return!!(n!==r&&a!==o||n===0&&X2(s,e,t)||r===0&&X2(s,i,t)||a===0&&X2(e,s,i)||o===0&&X2(e,t,i))}function X2(s,t,e){return t.x<=Math.max(s.x,e.x)&&t.x>=Math.min(s.x,e.x)&&t.y<=Math.max(s.y,e.y)&&t.y>=Math.min(s.y,e.y)}function j2(s){return s>0?1:s<0?-1:0}function gC(s,t){let e=s;do{if(e.i!==s.i&&e.next.i!==s.i&&e.i!==t.i&&e.next.i!==t.i&&Nm(e,e.next,s,t))return!0;e=e.next}while(e!==s);return!1}function D1(s,t){return Se(s.prev,s,s.next)<0?Se(s,t,s.next)>=0&&Se(s,s.prev,t)>=0:Se(s,t,s.prev)<0||Se(s,s.next,t)<0}function yC(s,t){let e=s,i=!1;const n=(s.x+t.x)/2,r=(s.y+t.y)/2;do e.y>r!=e.next.y>r&&e.next.y!==e.y&&n<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==s);return i}function Dm(s,t){const e=new Q3(s.i,s.x,s.y),i=new Q3(t.i,t.x,t.y),n=s.next,r=t.prev;return s.next=t,t.prev=s,e.next=n,n.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function Mc(s,t,e,i){const n=new Q3(s,t,e);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function F1(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Q3(s,t,e){this.i=s,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xC(s,t,e,i){let n=0;for(let r=t,a=e-i;r<e;r+=i)n+=(s[a]-s[r])*(s[r+1]+s[a+1]),a=r;return n}class Ji{static area(t){const e=t.length;let i=0;for(let n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return i*.5}static isClockWise(t){return Ji.area(t)<0}static triangulateShape(t,e){const i=[],n=[],r=[];bc(t),Sc(i,t);let a=t.length;e.forEach(bc);for(let h=0;h<e.length;h++)n.push(a),a+=e[h].length,Sc(i,e[h]);const o=iC.triangulate(i,n);for(let h=0;h<o.length;h+=3)r.push(o.slice(h,h+3));return r}}function bc(s){const t=s.length;t>2&&s[t-1].equals(s[0])&&s.pop()}function Sc(s,t){for(let e=0;e<t.length;e++)s.push(t[e].x),s.push(t[e].y)}class eo extends jt{constructor(t=new _9([new dt(.5,.5),new dt(-.5,.5),new dt(-.5,-.5),new dt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,n=[],r=[];for(let o=0,h=t.length;o<h;o++){const l=t[o];a(l)}this.setAttribute("position",new Nt(n,3)),this.setAttribute("uv",new Nt(r,2)),this.computeVertexNormals();function a(o){const h=[],l=e.curveSegments!==void 0?e.curveSegments:12,c=e.steps!==void 0?e.steps:1,u=e.depth!==void 0?e.depth:1;let d=e.bevelEnabled!==void 0?e.bevelEnabled:!0,f=e.bevelThickness!==void 0?e.bevelThickness:.2,p=e.bevelSize!==void 0?e.bevelSize:f-.1,g=e.bevelOffset!==void 0?e.bevelOffset:0,m=e.bevelSegments!==void 0?e.bevelSegments:3;const y=e.extrudePath,_=e.UVGenerator!==void 0?e.UVGenerator:_C;let x,v=!1,b,E,w,R;y&&(x=y.getSpacedPoints(c),v=!0,d=!1,b=y.computeFrenetFrames(c,!1),E=new L,w=new L,R=new L),d||(m=0,f=0,p=0,g=0);const S=o.extractPoints(l);let A=S.shape;const U=S.holes;if(!Ji.isClockWise(A)){A=A.reverse();for(let M=0,P=U.length;M<P;M++){const I=U[M];Ji.isClockWise(I)&&(U[M]=I.reverse())}}const F=Ji.triangulateShape(A,U),H=A;for(let M=0,P=U.length;M<P;M++){const I=U[M];A=A.concat(I)}function G(M,P,I){return P||console.error("THREE.ExtrudeGeometry: vec does not exist"),M.clone().addScaledVector(P,I)}const Y=A.length,$=F.length;function j(M,P,I){let z,O,Z;const et=M.x-P.x,J=M.y-P.y,ht=I.x-M.x,nt=I.y-M.y,wt=et*et+J*J,C=et*nt-J*ht;if(Math.abs(C)>Number.EPSILON){const T=Math.sqrt(wt),W=Math.sqrt(ht*ht+nt*nt),st=P.x-J/T,ft=P.y+et/T,D=I.x-nt/W,ot=I.y+ht/W,mt=((D-st)*nt-(ot-ft)*ht)/(et*nt-J*ht);z=st+et*mt-M.x,O=ft+J*mt-M.y;const Q=z*z+O*O;if(Q<=2)return new dt(z,O);Z=Math.sqrt(Q/2)}else{let T=!1;et>Number.EPSILON?ht>Number.EPSILON&&(T=!0):et<-Number.EPSILON?ht<-Number.EPSILON&&(T=!0):Math.sign(J)===Math.sign(nt)&&(T=!0),T?(z=-J,O=et,Z=Math.sqrt(wt)):(z=et,O=J,Z=Math.sqrt(wt/2))}return new dt(z/Z,O/Z)}const rt=[];for(let M=0,P=H.length,I=P-1,z=M+1;M<P;M++,I++,z++)I===P&&(I=0),z===P&&(z=0),rt[M]=j(H[M],H[I],H[z]);const at=[];let V,tt=rt.concat();for(let M=0,P=U.length;M<P;M++){const I=U[M];V=[];for(let z=0,O=I.length,Z=O-1,et=z+1;z<O;z++,Z++,et++)Z===O&&(Z=0),et===O&&(et=0),V[z]=j(I[z],I[Z],I[et]);at.push(V),tt=tt.concat(V)}for(let M=0;M<m;M++){const P=M/m,I=f*Math.cos(P*Math.PI/2),z=p*Math.sin(P*Math.PI/2)+g;for(let O=0,Z=H.length;O<Z;O++){const et=G(H[O],rt[O],z);q(et.x,et.y,-I)}for(let O=0,Z=U.length;O<Z;O++){const et=U[O];V=at[O];for(let J=0,ht=et.length;J<ht;J++){const nt=G(et[J],V[J],z);q(nt.x,nt.y,-I)}}}const yt=p+g;for(let M=0;M<Y;M++){const P=d?G(A[M],tt[M],yt):A[M];v?(w.copy(b.normals[0]).multiplyScalar(P.x),E.copy(b.binormals[0]).multiplyScalar(P.y),R.copy(x[0]).add(w).add(E),q(R.x,R.y,R.z)):q(P.x,P.y,0)}for(let M=1;M<=c;M++)for(let P=0;P<Y;P++){const I=d?G(A[P],tt[P],yt):A[P];v?(w.copy(b.normals[M]).multiplyScalar(I.x),E.copy(b.binormals[M]).multiplyScalar(I.y),R.copy(x[M]).add(w).add(E),q(R.x,R.y,R.z)):q(I.x,I.y,u/c*M)}for(let M=m-1;M>=0;M--){const P=M/m,I=f*Math.cos(P*Math.PI/2),z=p*Math.sin(P*Math.PI/2)+g;for(let O=0,Z=H.length;O<Z;O++){const et=G(H[O],rt[O],z);q(et.x,et.y,u+I)}for(let O=0,Z=U.length;O<Z;O++){const et=U[O];V=at[O];for(let J=0,ht=et.length;J<ht;J++){const nt=G(et[J],V[J],z);v?q(nt.x,nt.y+x[c-1].y,x[c-1].x+I):q(nt.x,nt.y,u+I)}}}xt(),St();function xt(){const M=n.length/3;if(d){let P=0,I=Y*P;for(let z=0;z<$;z++){const O=F[z];lt(O[2]+I,O[1]+I,O[0]+I)}P=c+m*2,I=Y*P;for(let z=0;z<$;z++){const O=F[z];lt(O[0]+I,O[1]+I,O[2]+I)}}else{for(let P=0;P<$;P++){const I=F[P];lt(I[2],I[1],I[0])}for(let P=0;P<$;P++){const I=F[P];lt(I[0]+Y*c,I[1]+Y*c,I[2]+Y*c)}}i.addGroup(M,n.length/3-M,0)}function St(){const M=n.length/3;let P=0;Et(H,P),P+=H.length;for(let I=0,z=U.length;I<z;I++){const O=U[I];Et(O,P),P+=O.length}i.addGroup(M,n.length/3-M,1)}function Et(M,P){let I=M.length;for(;--I>=0;){const z=I;let O=I-1;O<0&&(O=M.length-1);for(let Z=0,et=c+m*2;Z<et;Z++){const J=Y*Z,ht=Y*(Z+1),nt=P+z+J,wt=P+O+J,C=P+O+ht,T=P+z+ht;pt(nt,wt,C,T)}}}function q(M,P,I){h.push(M),h.push(P),h.push(I)}function lt(M,P,I){vt(M),vt(P),vt(I);const z=n.length/3,O=_.generateTopUV(i,n,z-3,z-2,z-1);bt(O[0]),bt(O[1]),bt(O[2])}function pt(M,P,I,z){vt(M),vt(P),vt(z),vt(P),vt(I),vt(z);const O=n.length/3,Z=_.generateSideWallUV(i,n,O-6,O-3,O-2,O-1);bt(Z[0]),bt(Z[1]),bt(Z[3]),bt(Z[1]),bt(Z[2]),bt(Z[3])}function vt(M){n.push(h[M*3+0]),n.push(h[M*3+1]),n.push(h[M*3+2])}function bt(M){r.push(M.x),r.push(M.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return vC(e,i,t)}static fromJSON(t,e){const i=[];for(let r=0,a=t.shapes.length;r<a;r++){const o=e[t.shapes[r]];i.push(o)}const n=t.options.extrudePath;return n!==void 0&&(t.options.extrudePath=new E8[n.type]().fromJSON(n)),new eo(i,t.options)}}const _C={generateTopUV:function(s,t,e,i,n){const r=t[e*3],a=t[e*3+1],o=t[i*3],h=t[i*3+1],l=t[n*3],c=t[n*3+1];return[new dt(r,a),new dt(o,h),new dt(l,c)]},generateSideWallUV:function(s,t,e,i,n,r){const a=t[e*3],o=t[e*3+1],h=t[e*3+2],l=t[i*3],c=t[i*3+1],u=t[i*3+2],d=t[n*3],f=t[n*3+1],p=t[n*3+2],g=t[r*3],m=t[r*3+1],y=t[r*3+2];return Math.abs(o-c)<Math.abs(a-l)?[new dt(a,1-h),new dt(l,1-u),new dt(d,1-p),new dt(g,1-y)]:[new dt(o,1-h),new dt(c,1-u),new dt(f,1-p),new dt(m,1-y)]}};function vC(s,t,e){if(e.shapes=[],Array.isArray(s))for(let i=0,n=s.length;i<n;i++){const r=s[i];e.shapes.push(r.uuid)}else e.shapes.push(s.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class io extends Es{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(n,r,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new io(t.radius,t.detail)}}class j1 extends Es{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,n,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new j1(t.radius,t.detail)}}class no extends jt{constructor(t=.5,e=1,i=32,n=1,r=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},i=Math.max(3,i),n=Math.max(1,n);const o=[],h=[],l=[],c=[];let u=t;const d=(e-t)/n,f=new L,p=new dt;for(let g=0;g<=n;g++){for(let m=0;m<=i;m++){const y=r+m/i*a;f.x=u*Math.cos(y),f.y=u*Math.sin(y),h.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(f.x/e+1)/2,p.y=(f.y/e+1)/2,c.push(p.x,p.y)}u+=d}for(let g=0;g<n;g++){const m=g*(i+1);for(let y=0;y<i;y++){const _=y+m,x=_,v=_+i+1,b=_+i+2,E=_+1;o.push(x,v,E),o.push(v,b,E)}}this.setIndex(o),this.setAttribute("position",new Nt(h,3)),this.setAttribute("normal",new Nt(l,3)),this.setAttribute("uv",new Nt(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new no(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class so extends jt{constructor(t=new _9([new dt(0,.5),new dt(-.5,-.5),new dt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],n=[],r=[],a=[];let o=0,h=0;if(Array.isArray(t)===!1)l(t);else for(let c=0;c<t.length;c++)l(t[c]),this.addGroup(o,h,c),o+=h,h=0;this.setIndex(i),this.setAttribute("position",new Nt(n,3)),this.setAttribute("normal",new Nt(r,3)),this.setAttribute("uv",new Nt(a,2));function l(c){const u=n.length/3,d=c.extractPoints(e);let f=d.shape;const p=d.holes;Ji.isClockWise(f)===!1&&(f=f.reverse());for(let m=0,y=p.length;m<y;m++){const _=p[m];Ji.isClockWise(_)===!0&&(p[m]=_.reverse())}const g=Ji.triangulateShape(f,p);for(let m=0,y=p.length;m<y;m++){const _=p[m];f=f.concat(_)}for(let m=0,y=f.length;m<y;m++){const _=f[m];n.push(_.x,_.y,0),r.push(0,0,1),a.push(_.x,_.y)}for(let m=0,y=g.length;m<y;m++){const _=g[m],x=_[0]+u,v=_[1]+u,b=_[2]+u;i.push(x,v,b),h+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return MC(e,t)}static fromJSON(t,e){const i=[];for(let n=0,r=t.shapes.length;n<r;n++){const a=e[t.shapes[n]];i.push(a)}return new so(i,t.curveSegments)}}function MC(s,t){if(t.shapes=[],Array.isArray(s))for(let e=0,i=s.length;e<i;e++){const n=s[e];t.shapes.push(n.uuid)}else t.shapes.push(s.uuid);return t}class y5 extends jt{constructor(t=1,e=32,i=16,n=0,r=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const h=Math.min(a+o,Math.PI);let l=0;const c=[],u=new L,d=new L,f=[],p=[],g=[],m=[];for(let y=0;y<=i;y++){const _=[],x=y/i;let v=0;y===0&&a===0?v=.5/e:y===i&&h===Math.PI&&(v=-.5/e);for(let b=0;b<=e;b++){const E=b/e;u.x=-t*Math.cos(n+E*r)*Math.sin(a+x*o),u.y=t*Math.cos(a+x*o),u.z=t*Math.sin(n+E*r)*Math.sin(a+x*o),p.push(u.x,u.y,u.z),d.copy(u).normalize(),g.push(d.x,d.y,d.z),m.push(E+v,1-x),_.push(l++)}c.push(_)}for(let y=0;y<i;y++)for(let _=0;_<e;_++){const x=c[y][_+1],v=c[y][_],b=c[y+1][_],E=c[y+1][_+1];(y!==0||a>0)&&f.push(x,v,E),(y!==i-1||h<Math.PI)&&f.push(v,b,E)}this.setIndex(f),this.setAttribute("position",new Nt(p,3)),this.setAttribute("normal",new Nt(g,3)),this.setAttribute("uv",new Nt(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new y5(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class ro extends Es{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,n,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new ro(t.radius,t.detail)}}class ao extends jt{constructor(t=1,e=.4,i=12,n=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},i=Math.floor(i),n=Math.floor(n);const a=[],o=[],h=[],l=[],c=new L,u=new L,d=new L;for(let f=0;f<=i;f++)for(let p=0;p<=n;p++){const g=p/n*r,m=f/i*Math.PI*2;u.x=(t+e*Math.cos(m))*Math.cos(g),u.y=(t+e*Math.cos(m))*Math.sin(g),u.z=e*Math.sin(m),o.push(u.x,u.y,u.z),c.x=t*Math.cos(g),c.y=t*Math.sin(g),d.subVectors(u,c).normalize(),h.push(d.x,d.y,d.z),l.push(p/n),l.push(f/i)}for(let f=1;f<=i;f++)for(let p=1;p<=n;p++){const g=(n+1)*f+p-1,m=(n+1)*(f-1)+p-1,y=(n+1)*(f-1)+p,_=(n+1)*f+p;a.push(g,m,_),a.push(m,y,_)}this.setIndex(a),this.setAttribute("position",new Nt(o,3)),this.setAttribute("normal",new Nt(h,3)),this.setAttribute("uv",new Nt(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ao(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class oo extends jt{constructor(t=1,e=.4,i=64,n=8,r=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},i=Math.floor(i),n=Math.floor(n);const o=[],h=[],l=[],c=[],u=new L,d=new L,f=new L,p=new L,g=new L,m=new L,y=new L;for(let x=0;x<=i;++x){const v=x/i*r*Math.PI*2;_(v,r,a,t,f),_(v+.01,r,a,t,p),m.subVectors(p,f),y.addVectors(p,f),g.crossVectors(m,y),y.crossVectors(g,m),g.normalize(),y.normalize();for(let b=0;b<=n;++b){const E=b/n*Math.PI*2,w=-e*Math.cos(E),R=e*Math.sin(E);u.x=f.x+(w*y.x+R*g.x),u.y=f.y+(w*y.y+R*g.y),u.z=f.z+(w*y.z+R*g.z),h.push(u.x,u.y,u.z),d.subVectors(u,f).normalize(),l.push(d.x,d.y,d.z),c.push(x/i),c.push(b/n)}}for(let x=1;x<=i;x++)for(let v=1;v<=n;v++){const b=(n+1)*(x-1)+(v-1),E=(n+1)*x+(v-1),w=(n+1)*x+v,R=(n+1)*(x-1)+v;o.push(b,E,R),o.push(E,w,R)}this.setIndex(o),this.setAttribute("position",new Nt(h,3)),this.setAttribute("normal",new Nt(l,3)),this.setAttribute("uv",new Nt(c,2));function _(x,v,b,E,w){const R=Math.cos(x),S=Math.sin(x),A=b/v*x,U=Math.cos(A);w.x=E*(2+U)*.5*R,w.y=E*(2+U)*S*.5,w.z=E*Math.sin(A)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oo(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class ho extends jt{constructor(t=new w8(new L(-1,-1,0),new L(-1,1,0),new L(1,1,0)),e=64,i=1,n=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r};const a=t.computeFrenetFrames(e,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new L,h=new L,l=new dt;let c=new L;const u=[],d=[],f=[],p=[];g(),this.setIndex(p),this.setAttribute("position",new Nt(u,3)),this.setAttribute("normal",new Nt(d,3)),this.setAttribute("uv",new Nt(f,2));function g(){for(let x=0;x<e;x++)m(x);m(r===!1?e:0),_(),y()}function m(x){c=t.getPointAt(x/e,c);const v=a.normals[x],b=a.binormals[x];for(let E=0;E<=n;E++){const w=E/n*Math.PI*2,R=Math.sin(w),S=-Math.cos(w);h.x=S*v.x+R*b.x,h.y=S*v.y+R*b.y,h.z=S*v.z+R*b.z,h.normalize(),d.push(h.x,h.y,h.z),o.x=c.x+i*h.x,o.y=c.y+i*h.y,o.z=c.z+i*h.z,u.push(o.x,o.y,o.z)}}function y(){for(let x=1;x<=e;x++)for(let v=1;v<=n;v++){const b=(n+1)*(x-1)+(v-1),E=(n+1)*x+(v-1),w=(n+1)*x+v,R=(n+1)*(x-1)+v;p.push(b,E,R),p.push(E,w,R)}}function _(){for(let x=0;x<=e;x++)for(let v=0;v<=n;v++)l.x=x/e,l.y=v/n,f.push(l.x,l.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new ho(new E8[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class Fm extends jt{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,n=new L,r=new L;if(t.index!==null){const a=t.attributes.position,o=t.index;let h=t.groups;h.length===0&&(h=[{start:0,count:o.count,materialIndex:0}]);for(let l=0,c=h.length;l<c;++l){const u=h[l],d=u.start,f=u.count;for(let p=d,g=d+f;p<g;p+=3)for(let m=0;m<3;m++){const y=o.getX(p+m),_=o.getX(p+(m+1)%3);n.fromBufferAttribute(a,y),r.fromBufferAttribute(a,_),wc(n,r,i)===!0&&(e.push(n.x,n.y,n.z),e.push(r.x,r.y,r.z))}}}else{const a=t.attributes.position;for(let o=0,h=a.count/3;o<h;o++)for(let l=0;l<3;l++){const c=3*o+l,u=3*o+(l+1)%3;n.fromBufferAttribute(a,c),r.fromBufferAttribute(a,u),wc(n,r,i)===!0&&(e.push(n.x,n.y,n.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new Nt(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function wc(s,t,e){const i=`${s.x},${s.y},${s.z}-${t.x},${t.y},${t.z}`,n=`${t.x},${t.y},${t.z}-${s.x},${s.y},${s.z}`;return e.has(i)===!0||e.has(n)===!0?!1:(e.add(i),e.add(n),!0)}var Ac=Object.freeze({__proto__:null,BoxGeometry:As,CapsuleGeometry:Z4,CircleGeometry:J4,ConeGeometry:K4,CylinderGeometry:g5,DodecahedronGeometry:Q4,EdgesGeometry:T8,ExtrudeGeometry:eo,IcosahedronGeometry:io,LatheGeometry:X1,OctahedronGeometry:j1,PlaneGeometry:d5,PolyhedronGeometry:Es,RingGeometry:no,ShapeGeometry:so,SphereGeometry:y5,TetrahedronGeometry:ro,TorusGeometry:ao,TorusKnotGeometry:oo,TubeGeometry:ho,WireframeGeometry:Fm});class Om extends Xe{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new _t(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class zm extends Fi{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class x5 extends Xe{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ws,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Bi extends x5{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Pe(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new _t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new _t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class f1 extends Xe{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new _t(16777215),this.specular=new _t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ws,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Bm extends Xe{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ws,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class Um extends Xe{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ws,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class C8 extends Xe{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ws,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class km extends Xe{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ws,this.normalScale=new dt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Hm extends Ze{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Z0(s,t,e){return R8(s)?new s.constructor(s.subarray(t,e!==void 0?e:s.length)):s.slice(t,e)}function p9(s,t,e){return!s||!e&&s.constructor===t?s:typeof t.BYTES_PER_ELEMENT=="number"?new t(s):Array.prototype.slice.call(s)}function R8(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function Gm(s){function t(n,r){return s[n]-s[r]}const e=s.length,i=new Array(e);for(let n=0;n!==e;++n)i[n]=n;return i.sort(t),i}function t6(s,t,e){const i=s.length,n=new s.constructor(i);for(let r=0,a=0;a!==i;++r){const o=e[r]*t;for(let h=0;h!==t;++h)n[a++]=s[o+h]}return n}function P8(s,t,e,i){let n=1,r=s[0];for(;r!==void 0&&r[i]===void 0;)r=s[n++];if(r===void 0)return;let a=r[i];if(a!==void 0)if(Array.isArray(a))do a=r[i],a!==void 0&&(t.push(r.time),e.push.apply(e,a)),r=s[n++];while(r!==void 0);else if(a.toArray!==void 0)do a=r[i],a!==void 0&&(t.push(r.time),a.toArray(e,e.length)),r=s[n++];while(r!==void 0);else do a=r[i],a!==void 0&&(t.push(r.time),e.push(a)),r=s[n++];while(r!==void 0)}function bC(s,t,e,i,n=30){const r=s.clone();r.name=t;const a=[];for(let h=0;h<r.tracks.length;++h){const l=r.tracks[h],c=l.getValueSize(),u=[],d=[];for(let f=0;f<l.times.length;++f){const p=l.times[f]*n;if(!(p<e||p>=i)){u.push(l.times[f]);for(let g=0;g<c;++g)d.push(l.values[f*c+g])}}u.length!==0&&(l.times=p9(u,l.times.constructor),l.values=p9(d,l.values.constructor),a.push(l))}r.tracks=a;let o=1/0;for(let h=0;h<r.tracks.length;++h)o>r.tracks[h].times[0]&&(o=r.tracks[h].times[0]);for(let h=0;h<r.tracks.length;++h)r.tracks[h].shift(-1*o);return r.resetDuration(),r}function SC(s,t=0,e=s,i=30){i<=0&&(i=30);const n=e.tracks.length,r=t/i;for(let a=0;a<n;++a){const o=e.tracks[a],h=o.ValueTypeName;if(h==="bool"||h==="string")continue;const l=s.tracks.find(function(y){return y.name===o.name&&y.ValueTypeName===h});if(l===void 0)continue;let c=0;const u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);let d=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);const p=o.times.length-1;let g;if(r<=o.times[0]){const y=c,_=u-c;g=Z0(o.values,y,_)}else if(r>=o.times[p]){const y=p*u+c,_=y+u-c;g=Z0(o.values,y,_)}else{const y=o.createInterpolant(),_=c,x=u-c;y.evaluate(r),g=Z0(y.resultBuffer,_,x)}h==="quaternion"&&new we().fromArray(g).normalize().conjugate().toArray(g);const m=l.times.length;for(let y=0;y<m;++y){const _=y*f+d;if(h==="quaternion")we.multiplyQuaternionsFlat(l.values,_,g,0,l.values,_);else{const x=f-d*2;for(let v=0;v<x;++v)l.values[_+v]-=g[v]}}}return s.blendMode=n8,s}const wC={arraySlice:Z0,convertArray:p9,isTypedArray:R8,getKeyframeOrder:Gm,sortedArray:t6,flattenJSON:P8,subclip:bC,makeClipAdditive:SC};class _5{constructor(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{let a;i:{n:if(!(t<n)){for(let o=i+2;;){if(n===void 0){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(r=n,n=e[++i],t<n)break e}a=e.length;break i}if(!(t>=r)){const o=e[1];t<o&&(i=2,r=o);for(let h=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(n=r,r=e[--i-1],t>=r)break e}a=i,i=0;break i}break t}for(;i<a;){const o=i+a>>>1;t<e[o]?a=o:i=o+1}if(n=e[i],r=e[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n;for(let a=0;a!==n;++a)e[a]=i[r+a];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Vm extends _5{constructor(t,e,i,n){super(t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:c9,endingEnd:c9}}intervalChanged_(t,e,i){const n=this.parameterPositions;let r=t-2,a=t+1,o=n[r],h=n[a];if(o===void 0)switch(this.getSettings_().endingStart){case u9:r=t,o=2*e-i;break;case C1:r=n.length-2,o=e+n[r]-n[r+1];break;default:r=t,o=i}if(h===void 0)switch(this.getSettings_().endingEnd){case u9:a=t,h=2*i-e;break;case C1:a=1,h=i+n[1]-n[0];break;default:a=t-1,h=e}const l=(i-e)*.5,c=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(h-i),this._offsetPrev=r*c,this._offsetNext=a*c}interpolate_(t,e,i,n){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,h=t*o,l=h-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(i-e)/(n-e),g=p*p,m=g*p,y=-d*m+2*d*g-d*p,_=(1+d)*m+(-1.5-2*d)*g+(-.5+d)*p+1,x=(-1-f)*m+(1.5+f)*g+.5*p,v=f*m-f*g;for(let b=0;b!==o;++b)r[b]=y*a[c+b]+_*a[l+b]+x*a[h+b]+v*a[u+b];return r}}class L8 extends _5{constructor(t,e,i,n){super(t,e,i,n)}interpolate_(t,e,i,n){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,h=t*o,l=h-o,c=(i-e)/(n-e),u=1-c;for(let d=0;d!==o;++d)r[d]=a[l+d]*u+a[h+d]*c;return r}}class Wm extends _5{constructor(t,e,i,n){super(t,e,i,n)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ui{constructor(t,e,i,n){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=p9(e,this.TimeBufferType),this.values=p9(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:p9(t.times,Array),values:p9(t.values,Array)};const n=t.getInterpolation();n!==t.DefaultInterpolation&&(i.interpolation=n)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new Wm(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new L8(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Vm(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Jr:e=this.InterpolantFactoryMethodDiscrete;break;case b9:e=this.InterpolantFactoryMethodLinear;break;case ka:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jr;case this.InterpolantFactoryMethodLinear:return b9;case this.InterpolantFactoryMethodSmooth:return ka}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]*=t}return this}trim(t,e){const i=this.times,n=i.length;let r=0,a=n-1;for(;r!==n&&i[r]<t;)++r;for(;a!==-1&&i[a]>e;)--a;if(++a,r!==0||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);const o=this.getValueSize();this.times=Z0(i,r,a),this.values=Z0(this.values,r*o,a*o)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,n=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let o=0;o!==r;o++){const h=i[o];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,h),t=!1;break}if(a!==null&&a>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,h,a),t=!1;break}a=h}if(n!==void 0&&R8(n))for(let o=0,h=n.length;o!==h;++o){const l=n[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),t=!1;break}}return t}optimize(){const t=Z0(this.times),e=Z0(this.values),i=this.getValueSize(),n=this.getInterpolation()===ka,r=t.length-1;let a=1;for(let o=1;o<r;++o){let h=!1;const l=t[o],c=t[o+1];if(l!==c&&(o!==1||l!==t[0]))if(n)h=!0;else{const u=o*i,d=u-i,f=u+i;for(let p=0;p!==i;++p){const g=e[u+p];if(g!==e[d+p]||g!==e[f+p]){h=!0;break}}}if(h){if(o!==a){t[a]=t[o];const u=o*i,d=a*i;for(let f=0;f!==i;++f)e[d+f]=e[u+f]}++a}}if(r>0){t[a]=t[r];for(let o=r*i,h=a*i,l=0;l!==i;++l)e[h+l]=e[o+l];++a}return a!==t.length?(this.times=Z0(t,0,a),this.values=Z0(e,0,a*i)):(this.times=t,this.values=e),this}clone(){const t=Z0(this.times,0),e=Z0(this.values,0),i=this.constructor,n=new i(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}Ui.prototype.TimeBufferType=Float32Array;Ui.prototype.ValueBufferType=Float32Array;Ui.prototype.DefaultInterpolation=b9;class P9 extends Ui{}P9.prototype.ValueTypeName="bool";P9.prototype.ValueBufferType=Array;P9.prototype.DefaultInterpolation=Jr;P9.prototype.InterpolantFactoryMethodLinear=void 0;P9.prototype.InterpolantFactoryMethodSmooth=void 0;class I8 extends Ui{}I8.prototype.ValueTypeName="color";class vs extends Ui{}vs.prototype.ValueTypeName="number";class qm extends _5{constructor(t,e,i,n){super(t,e,i,n)}interpolate_(t,e,i,n){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,h=(i-e)/(n-e);let l=t*o;for(let c=l+o;l!==c;l+=4)we.slerpFlat(r,0,a,l-o,a,l,h);return r}}class In extends Ui{InterpolantFactoryMethodLinear(t){return new qm(this.times,this.values,this.getValueSize(),t)}}In.prototype.ValueTypeName="quaternion";In.prototype.DefaultInterpolation=b9;In.prototype.InterpolantFactoryMethodSmooth=void 0;class L9 extends Ui{}L9.prototype.ValueTypeName="string";L9.prototype.ValueBufferType=Array;L9.prototype.DefaultInterpolation=Jr;L9.prototype.InterpolantFactoryMethodLinear=void 0;L9.prototype.InterpolantFactoryMethodSmooth=void 0;class w9 extends Ui{}w9.prototype.ValueTypeName="vector";class Ms{constructor(t,e=-1,i,n=z4){this.name=t,this.tracks=i,this.duration=e,this.blendMode=n,this.uuid=V0(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,n=1/(t.fps||1);for(let a=0,o=i.length;a!==o;++a)e.push(EC(i[a]).scale(n));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,a=i.length;r!==a;++r)e.push(Ui.toJSON(i[r]));return n}static CreateFromMorphTargetSequence(t,e,i,n){const r=e.length,a=[];for(let o=0;o<r;o++){let h=[],l=[];h.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);const c=Gm(h);h=t6(h,1,c),l=t6(l,1,c),!n&&h[0]===0&&(h.push(r),l.push(l[0])),a.push(new vs(".morphTargetInfluences["+e[o].name+"]",h,l).scale(1/i))}return new this(t,-1,a)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const n=t;i=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const n={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,h=t.length;o<h;o++){const l=t[o],c=l.name.match(r);if(c&&c.length>1){const u=c[1];let d=n[u];d||(n[u]=d=[]),d.push(l)}}const a=[];for(const o in n)a.push(this.CreateFromMorphTargetSequence(o,n[o],e,i));return a}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,d,f,p,g){if(f.length!==0){const m=[],y=[];P8(f,m,y,p),m.length!==0&&g.push(new u(d,m,y))}},n=[],r=t.name||"default",a=t.fps||30,o=t.blendMode;let h=t.length||-1;const l=t.hierarchy||[];for(let u=0;u<l.length;u++){const d=l[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const f={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let g=0;g<d[p].morphTargets.length;g++)f[d[p].morphTargets[g]]=-1;for(const g in f){const m=[],y=[];for(let _=0;_!==d[p].morphTargets.length;++_){const x=d[p];m.push(x.time),y.push(x.morphTarget===g?1:0)}n.push(new vs(".morphTargetInfluence["+g+"]",m,y))}h=f.length*a}else{const f=".bones["+e[u].name+"]";i(w9,f+".position",d,"pos",n),i(In,f+".quaternion",d,"rot",n),i(w9,f+".scale",d,"scl",n)}}return n.length===0?null:new this(r,h,n,o)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,n=t.length;i!==n;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function AC(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vs;case"vector":case"vector2":case"vector3":case"vector4":return w9;case"color":return I8;case"quaternion":return In;case"bool":case"boolean":return P9;case"string":return L9}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}function EC(s){if(s.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=AC(s.type);if(s.times===void 0){const e=[],i=[];P8(s.keys,e,i,"value"),s.times=e,s.values=i}return t.parse!==void 0?t.parse(s):new t(s.name,s.times,s.values,s.interpolation)}const bs={enabled:!1,files:{},add:function(s,t){this.enabled!==!1&&(this.files[s]=t)},get:function(s){if(this.enabled!==!1)return this.files[s]},remove:function(s){delete this.files[s]},clear:function(){this.files={}}};let N8=class{constructor(t,e,i){const n=this;let r=!1,a=0,o=0,h;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(c){o++,r===!1&&n.onStart!==void 0&&n.onStart(c,a,o),r=!0},this.itemEnd=function(c){a++,n.onProgress!==void 0&&n.onProgress(c,a,o),a===o&&(r=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(c){n.onError!==void 0&&n.onError(c)},this.resolveURL=function(c){return h?h(c):c},this.setURLModifier=function(c){return h=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=l.length;u<d;u+=2){const f=l[u],p=l[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return p}return null}}};const $m=new N8;let n0=class{constructor(t){this.manager=t!==void 0?t:$m,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(n,r){i.load(t,n,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}};n0.DEFAULT_MATERIAL_NAME="__DEFAULT";const fn={};class TC extends Error{constructor(t,e){super(t),this.response=e}}class ri extends n0{constructor(t){super(t)}load(t,e,i,n){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=bs.get(t);if(r!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(fn[t]!==void 0){fn[t].push({onLoad:e,onProgress:i,onError:n});return}fn[t]=[],fn[t].push({onLoad:e,onProgress:i,onError:n});const a=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,h=this.responseType;fetch(a).then(l=>{if(l.status===200||l.status===0){if(l.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||l.body===void 0||l.body.getReader===void 0)return l;const c=fn[t],u=l.body.getReader(),d=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),f=d?parseInt(d):0,p=f!==0;let g=0;const m=new ReadableStream({start(y){_();function _(){u.read().then(({done:x,value:v})=>{if(x)y.close();else{g+=v.byteLength;const b=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:f});for(let E=0,w=c.length;E<w;E++){const R=c[E];R.onProgress&&R.onProgress(b)}y.enqueue(v),_()}})}}});return new Response(m)}else throw new TC(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(h){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return l.json();default:if(o===void 0)return l.text();{const u=/charset="?([^;"\s]*)"?/i.exec(o),d=u&&u[1]?u[1].toLowerCase():void 0,f=new TextDecoder(d);return l.arrayBuffer().then(p=>f.decode(p))}}}).then(l=>{bs.add(t,l);const c=fn[t];delete fn[t];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onLoad&&f.onLoad(l)}}).catch(l=>{const c=fn[t];if(c===void 0)throw this.manager.itemError(t),l;delete fn[t];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.onError&&f.onError(l)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class CC extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=new ri(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(o){try{e(r.parse(JSON.parse(o)))}catch(h){n?n(h):console.error(h),r.manager.itemError(t)}},i,n)}parse(t){const e=[];for(let i=0;i<t.length;i++){const n=Ms.parse(t[i]);e.push(n)}return e}}class RC extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=[],o=new v8,h=new ri(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(r.withCredentials);let l=0;function c(u){h.load(t[u],function(d){const f=r.parse(d,!0);a[u]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(o.minFilter=Me),o.image=a,o.format=f.format,o.needsUpdate=!0,e&&e(o))},i,n)}if(Array.isArray(t))for(let u=0,d=t.length;u<d;++u)c(u);else h.load(t,function(u){const d=r.parse(u,!0);if(d.isCubemap){const f=d.mipmaps.length/d.mipmapCount;for(let p=0;p<f;p++){a[p]={mipmaps:[]};for(let g=0;g<d.mipmapCount;g++)a[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+g]),a[p].format=d.format,a[p].width=d.width,a[p].height=d.height}o.image=a}else o.image.width=d.width,o.image.height=d.height,o.mipmaps=d.mipmaps;d.mipmapCount===1&&(o.minFilter=Me),o.format=d.format,o.needsUpdate=!0,e&&e(o)},i,n);return o}}let O1=class extends n0{constructor(t){super(t)}load(t,e,i,n){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=bs.get(t);if(a!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const o=L1("img");function h(){c(),bs.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(u){c(),n&&n(u),r.manager.itemError(t),r.manager.itemEnd(t)}function c(){o.removeEventListener("load",h,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",h,!1),o.addEventListener("error",l,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}};class Xm extends n0{constructor(t){super(t)}load(t,e,i,n){const r=new q1;r.colorSpace=Ut;const a=new O1(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function h(l){a.load(t[l],function(c){r.images[l]=c,o++,o===6&&(r.needsUpdate=!0,e&&e(r))},void 0,n)}for(let l=0;l<t.length;++l)h(l);return r}}class PC extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=new Br,o=new ri(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,function(h){const l=r.parse(h);l&&(l.image!==void 0?a.image=l.image:l.data!==void 0&&(a.image.width=l.width,a.image.height=l.height,a.image.data=l.data),a.wrapS=l.wrapS!==void 0?l.wrapS:We,a.wrapT=l.wrapT!==void 0?l.wrapT:We,a.magFilter=l.magFilter!==void 0?l.magFilter:Me,a.minFilter=l.minFilter!==void 0?l.minFilter:Me,a.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.colorSpace!==void 0?a.colorSpace=l.colorSpace:l.encoding!==void 0&&(a.encoding=l.encoding),l.flipY!==void 0&&(a.flipY=l.flipY),l.format!==void 0&&(a.format=l.format),l.type!==void 0&&(a.type=l.type),l.mipmaps!==void 0&&(a.mipmaps=l.mipmaps,a.minFilter=en),l.mipmapCount===1&&(a.minFilter=Me),l.generateMipmaps!==void 0&&(a.generateMipmaps=l.generateMipmaps),a.needsUpdate=!0,e&&e(a,l))},i,n),a}}let lo=class extends n0{constructor(t){super(t)}load(t,e,i,n){const r=new Oe,a=new O1(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(o){r.image=o,r.needsUpdate=!0,e!==void 0&&e(r)},i,n),r}};class Ts extends ae{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new _t(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}class jm extends Ts{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ae.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _t(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const l7=new Lt,Ec=new L,Tc=new L;class D8{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dt(512,512),this.map=null,this.mapPass=null,this.matrix=new Lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new G4,this._frameExtents=new dt(1,1),this._viewportCount=1,this._viewports=[new ce(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;Ec.setFromMatrixPosition(t.matrixWorld),e.position.copy(Ec),Tc.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Tc),e.updateMatrixWorld(),l7.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l7),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(l7)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class LC extends D8{constructor(){super(new He(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=Kr*2*t.angle*this.focus,n=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||n!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=n,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Y1 extends Ts{constructor(t,e,i=0,n=Math.PI/3,r=0,a=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ae.DEFAULT_UP),this.updateMatrix(),this.target=new ae,this.distance=i,this.angle=n,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new LC}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const Cc=new Lt,B5=new L,c7=new L;class IC extends D8{constructor(){super(new He(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new dt(4,2),this._viewportCount=6,this._viewports=[new ce(2,1,1,1),new ce(0,1,1,1),new ce(3,1,1,1),new ce(1,1,1,1),new ce(3,0,1,1),new ce(1,0,1,1)],this._cubeDirections=[new L(1,0,0),new L(-1,0,0),new L(0,0,1),new L(0,0,-1),new L(0,1,0),new L(0,-1,0)],this._cubeUps=[new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,0,1),new L(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,n=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),B5.setFromMatrixPosition(t.matrixWorld),i.position.copy(B5),c7.copy(i.position),c7.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(c7),i.updateMatrixWorld(),n.makeTranslation(-B5.x,-B5.y,-B5.z),Cc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Cc)}}class z1 extends Ts{constructor(t,e,i=0,n=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=n,this.shadow=new IC}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class NC extends D8{constructor(){super(new f5(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Z1 extends Ts{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ae.DEFAULT_UP),this.updateMatrix(),this.target=new ae,this.shadow=new NC}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class co extends Ts{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ym extends Ts{constructor(t,e,i=10,n=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class Zm{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new L)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,n=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*n),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*i),e.addScaledVector(a[4],1.092548*(i*n)),e.addScaledVector(a[5],1.092548*(n*r)),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],1.092548*(i*r)),e.addScaledVector(a[8],.546274*(i*i-n*n)),e}getIrradianceAt(t,e){const i=t.x,n=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],2*.511664*n),e.addScaledVector(a[2],2*.511664*r),e.addScaledVector(a[3],2*.511664*i),e.addScaledVector(a[4],2*.429043*i*n),e.addScaledVector(a[5],2*.429043*n*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],2*.429043*i*r),e.addScaledVector(a[8],.429043*(i*i-n*n)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].fromArray(t,e+n*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].toArray(t,e+n*3);return t}static getBasisAt(t,e){const i=t.x,n=t.y,r=t.z;e[0]=.282095,e[1]=.488603*n,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*n,e[5]=1.092548*n*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-n*n)}}class uo extends Ts{constructor(t=new Zm,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class fo extends n0{constructor(t){super(t),this.textures={}}load(t,e,i,n){const r=this,a=new ri(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,function(o){try{e(r.parse(JSON.parse(o)))}catch(h){n?n(h):console.error(h),r.manager.itemError(t)}},i,n)}parse(t){const e=this.textures;function i(r){return e[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),e[r]}const n=fo.createMaterialFromType(t.type);if(t.uuid!==void 0&&(n.uuid=t.uuid),t.name!==void 0&&(n.name=t.name),t.color!==void 0&&n.color!==void 0&&n.color.setHex(t.color),t.roughness!==void 0&&(n.roughness=t.roughness),t.metalness!==void 0&&(n.metalness=t.metalness),t.sheen!==void 0&&(n.sheen=t.sheen),t.sheenColor!==void 0&&(n.sheenColor=new _t().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(n.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&n.emissive!==void 0&&n.emissive.setHex(t.emissive),t.specular!==void 0&&n.specular!==void 0&&n.specular.setHex(t.specular),t.specularIntensity!==void 0&&(n.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&n.specularColor!==void 0&&n.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(n.shininess=t.shininess),t.clearcoat!==void 0&&(n.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=t.clearcoatRoughness),t.iridescence!==void 0&&(n.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(n.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(n.transmission=t.transmission),t.thickness!==void 0&&(n.thickness=t.thickness),t.attenuationDistance!==void 0&&(n.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&n.attenuationColor!==void 0&&n.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(n.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(n.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(n.fog=t.fog),t.flatShading!==void 0&&(n.flatShading=t.flatShading),t.blending!==void 0&&(n.blending=t.blending),t.combine!==void 0&&(n.combine=t.combine),t.side!==void 0&&(n.side=t.side),t.shadowSide!==void 0&&(n.shadowSide=t.shadowSide),t.opacity!==void 0&&(n.opacity=t.opacity),t.transparent!==void 0&&(n.transparent=t.transparent),t.alphaTest!==void 0&&(n.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(n.alphaHash=t.alphaHash),t.depthTest!==void 0&&(n.depthTest=t.depthTest),t.depthWrite!==void 0&&(n.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(n.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(n.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(n.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(n.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(n.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(n.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(n.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(n.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(n.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(n.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(n.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(n.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(n.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(n.rotation=t.rotation),t.linewidth!==1&&(n.linewidth=t.linewidth),t.dashSize!==void 0&&(n.dashSize=t.dashSize),t.gapSize!==void 0&&(n.gapSize=t.gapSize),t.scale!==void 0&&(n.scale=t.scale),t.polygonOffset!==void 0&&(n.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(n.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(n.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(n.dithering=t.dithering),t.alphaToCoverage!==void 0&&(n.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(n.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(n.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(n.visible=t.visible),t.toneMapped!==void 0&&(n.toneMapped=t.toneMapped),t.userData!==void 0&&(n.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?n.vertexColors=t.vertexColors>0:n.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const r in t.uniforms){const a=t.uniforms[r];switch(n.uniforms[r]={},a.type){case"t":n.uniforms[r].value=i(a.value);break;case"c":n.uniforms[r].value=new _t().setHex(a.value);break;case"v2":n.uniforms[r].value=new dt().fromArray(a.value);break;case"v3":n.uniforms[r].value=new L().fromArray(a.value);break;case"v4":n.uniforms[r].value=new ce().fromArray(a.value);break;case"m3":n.uniforms[r].value=new Kt().fromArray(a.value);break;case"m4":n.uniforms[r].value=new Lt().fromArray(a.value);break;default:n.uniforms[r].value=a.value}}if(t.defines!==void 0&&(n.defines=t.defines),t.vertexShader!==void 0&&(n.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(n.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(n.glslVersion=t.glslVersion),t.extensions!==void 0)for(const r in t.extensions)n.extensions[r]=t.extensions[r];if(t.lights!==void 0&&(n.lights=t.lights),t.clipping!==void 0&&(n.clipping=t.clipping),t.size!==void 0&&(n.size=t.size),t.sizeAttenuation!==void 0&&(n.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(n.map=i(t.map)),t.matcap!==void 0&&(n.matcap=i(t.matcap)),t.alphaMap!==void 0&&(n.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(n.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(n.bumpScale=t.bumpScale),t.normalMap!==void 0&&(n.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(n.normalMapType=t.normalMapType),t.normalScale!==void 0){let r=t.normalScale;Array.isArray(r)===!1&&(r=[r,r]),n.normalScale=new dt().fromArray(r)}return t.displacementMap!==void 0&&(n.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(n.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(n.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(n.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(n.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(n.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(n.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(n.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(n.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(n.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(n.envMap=i(t.envMap)),t.envMapIntensity!==void 0&&(n.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(n.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(n.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(n.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(n.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(n.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(n.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(n.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(n.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(n.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(n.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(n.clearcoatNormalScale=new dt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(n.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(n.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(n.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(n.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(n.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(n.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(n.sheenRoughnessMap=i(t.sheenRoughnessMap)),n}setTextures(t){return this.textures=t,this}static createMaterialFromType(t){const e={ShadowMaterial:Om,SpriteMaterial:g8,RawShaderMaterial:zm,ShaderMaterial:Fi,PointsMaterial:X4,MeshPhysicalMaterial:Bi,MeshStandardMaterial:x5,MeshPhongMaterial:f1,MeshToonMaterial:Bm,MeshNormalMaterial:Um,MeshLambertMaterial:C8,MeshDepthMaterial:d8,MeshDistanceMaterial:f8,MeshBasicMaterial:E0,MeshMatcapMaterial:km,LineDashedMaterial:Hm,LineBasicMaterial:Ze,Material:Xe};return new e[t]}}class A9{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,n=t.length;i<n;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class Jm extends jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class Km extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=new ri(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,function(o){try{e(r.parse(JSON.parse(o)))}catch(h){n?n(h):console.error(h),r.manager.itemError(t)}},i,n)}parse(t){const e={},i={};function n(f,p){if(e[p]!==void 0)return e[p];const m=f.interleavedBuffers[p],y=r(f,m.buffer),_=Cr(m.type,y),x=new $1(_,m.stride);return x.uuid=m.uuid,e[p]=x,x}function r(f,p){if(i[p]!==void 0)return i[p];const m=f.arrayBuffers[p],y=new Uint32Array(m).buffer;return i[p]=y,y}const a=t.isInstancedBufferGeometry?new Jm:new jt,o=t.data.index;if(o!==void 0){const f=Cr(o.type,o.array);a.setIndex(new ue(f,1))}const h=t.data.attributes;for(const f in h){const p=h[f];let g;if(p.isInterleavedBufferAttribute){const m=n(t.data,p.data);g=new _s(m,p.itemSize,p.offset,p.normalized)}else{const m=Cr(p.type,p.array),y=p.isInstancedBufferAttribute?e5:ue;g=new y(m,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),p.usage!==void 0&&g.setUsage(p.usage),p.updateRange!==void 0&&(g.updateRange.offset=p.updateRange.offset,g.updateRange.count=p.updateRange.count),a.setAttribute(f,g)}const l=t.data.morphAttributes;if(l)for(const f in l){const p=l[f],g=[];for(let m=0,y=p.length;m<y;m++){const _=p[m];let x;if(_.isInterleavedBufferAttribute){const v=n(t.data,_.data);x=new _s(v,_.itemSize,_.offset,_.normalized)}else{const v=Cr(_.type,_.array);x=new ue(v,_.itemSize,_.normalized)}_.name!==void 0&&(x.name=_.name),g.push(x)}a.morphAttributes[f]=g}t.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const u=t.data.groups||t.data.drawcalls||t.data.offsets;if(u!==void 0)for(let f=0,p=u.length;f!==p;++f){const g=u[f];a.addGroup(g.start,g.count,g.materialIndex)}const d=t.data.boundingSphere;if(d!==void 0){const f=new L;d.center!==void 0&&f.fromArray(d.center),a.boundingSphere=new ai(f,d.radius)}return t.name&&(a.name=t.name),t.userData&&(a.userData=t.userData),a}}class DC extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=this.path===""?A9.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const o=new ri(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(h){let l=null;try{l=JSON.parse(h)}catch(u){n!==void 0&&n(u),console.error("THREE:ObjectLoader: Can't parse "+t+".",u.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){n!==void 0&&n(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}r.parse(l,e)},i,n)}async loadAsync(t,e){const i=this,n=this.path===""?A9.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||n;const r=new ri(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const a=await r.loadAsync(t,e),o=JSON.parse(a),h=o.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(o)}parse(t,e){const i=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,n),a=this.parseImages(t.images,function(){e!==void 0&&e(l)}),o=this.parseTextures(t.textures,a),h=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,r,h,o,i),c=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,c),e!==void 0){let u=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){u=!0;break}u===!1&&e(l)}return l}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),n=this.parseGeometries(t.geometries,i),r=await this.parseImagesAsync(t.images),a=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,a),h=this.parseObject(t.object,n,o,a,e),l=this.parseSkeletons(t.skeletons,h);return this.bindSkeletons(h,l),h}parseShapes(t){const e={};if(t!==void 0)for(let i=0,n=t.length;i<n;i++){const r=new _9().fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},n={};if(e.traverse(function(r){r.isBone&&(n[r.uuid]=r)}),t!==void 0)for(let r=0,a=t.length;r<a;r++){const o=new m5().fromJSON(t[r],n);i[o.uuid]=o}return i}parseGeometries(t,e){const i={};if(t!==void 0){const n=new Km;for(let r=0,a=t.length;r<a;r++){let o;const h=t[r];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":o=n.parse(h);break;default:h.type in Ac?o=Ac[h.type].fromJSON(h,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}o.uuid=h.uuid,h.name!==void 0&&(o.name=h.name),h.userData!==void 0&&(o.userData=h.userData),i[h.uuid]=o}}return i}parseMaterials(t,e){const i={},n={};if(t!==void 0){const r=new fo;r.setTextures(e);for(let a=0,o=t.length;a<o;a++){const h=t[a];i[h.uuid]===void 0&&(i[h.uuid]=r.parse(h)),n[h.uuid]=i[h.uuid]}}return n}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const n=t[i],r=Ms.parse(n);e[r.uuid]=r}return e}parseImages(t,e){const i=this,n={};let r;function a(h){return i.manager.itemStart(h),r.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function o(h){if(typeof h=="string"){const l=h,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:i.resourcePath+l;return a(c)}else return h.data?{data:Cr(h.type,h.data),width:h.width,height:h.height}:null}if(t!==void 0&&t.length>0){const h=new N8(e);r=new O1(h),r.setCrossOrigin(this.crossOrigin);for(let l=0,c=t.length;l<c;l++){const u=t[l],d=u.url;if(Array.isArray(d)){const f=[];for(let p=0,g=d.length;p<g;p++){const m=d[p],y=o(m);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new Br(y.data,y.width,y.height)))}n[u.uuid]=new d9(f)}else{const f=o(u.url);n[u.uuid]=new d9(f)}}}return n}async parseImagesAsync(t){const e=this,i={};let n;async function r(a){if(typeof a=="string"){const o=a,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:e.resourcePath+o;return await n.loadAsync(h)}else return a.data?{data:Cr(a.type,a.data),width:a.width,height:a.height}:null}if(t!==void 0&&t.length>0){n=new O1(this.manager),n.setCrossOrigin(this.crossOrigin);for(let a=0,o=t.length;a<o;a++){const h=t[a],l=h.url;if(Array.isArray(l)){const c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u],p=await r(f);p!==null&&(p instanceof HTMLImageElement?c.push(p):c.push(new Br(p.data,p.width,p.height)))}i[h.uuid]=new d9(c)}else{const c=await r(h.url);i[h.uuid]=new d9(c)}}}return i}parseTextures(t,e){function i(r,a){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),a[r])}const n={};if(t!==void 0)for(let r=0,a=t.length;r<a;r++){const o=t[r];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),e[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const h=e[o.image],l=h.data;let c;Array.isArray(l)?(c=new q1,l.length===6&&(c.needsUpdate=!0)):(l&&l.data?c=new Br:c=new Oe,l&&(c.needsUpdate=!0)),c.source=h,c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=i(o.mapping,FC)),o.channel!==void 0&&(c.channel=o.channel),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=i(o.wrap[0],Rc),c.wrapT=i(o.wrap[1],Rc)),o.format!==void 0&&(c.format=o.format),o.internalFormat!==void 0&&(c.internalFormat=o.internalFormat),o.type!==void 0&&(c.type=o.type),o.colorSpace!==void 0&&(c.colorSpace=o.colorSpace),o.encoding!==void 0&&(c.encoding=o.encoding),o.minFilter!==void 0&&(c.minFilter=i(o.minFilter,Pc)),o.magFilter!==void 0&&(c.magFilter=i(o.magFilter,Pc)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.generateMipmaps!==void 0&&(c.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(c.compareFunction=o.compareFunction),o.userData!==void 0&&(c.userData=o.userData),n[o.uuid]=c}return n}parseObject(t,e,i,n,r){let a;function o(d){return e[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),e[d]}function h(d){if(d!==void 0){if(Array.isArray(d)){const f=[];for(let p=0,g=d.length;p<g;p++){const m=d[p];i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),f.push(i[m])}return f}return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),i[d]}}function l(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),n[d]}let c,u;switch(t.type){case"Scene":a=new m8,t.background!==void 0&&(Number.isInteger(t.background)?a.background=new _t(t.background):a.background=l(t.background)),t.environment!==void 0&&(a.environment=l(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?a.fog=new q4(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(a.fog=new W4(t.fog.color,t.fog.density))),t.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(a.backgroundIntensity=t.backgroundIntensity);break;case"PerspectiveCamera":a=new He(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(a.focus=t.focus),t.zoom!==void 0&&(a.zoom=t.zoom),t.filmGauge!==void 0&&(a.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(a.filmOffset=t.filmOffset),t.view!==void 0&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new f5(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(a.zoom=t.zoom),t.view!==void 0&&(a.view=Object.assign({},t.view));break;case"AmbientLight":a=new co(t.color,t.intensity);break;case"DirectionalLight":a=new Z1(t.color,t.intensity);break;case"PointLight":a=new z1(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new Ym(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new Y1(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new jm(t.color,t.groundColor,t.intensity);break;case"LightProbe":a=new uo().fromJSON(t);break;case"SkinnedMesh":c=o(t.geometry),u=h(t.material),a=new $4(c,u),t.bindMode!==void 0&&(a.bindMode=t.bindMode),t.bindMatrix!==void 0&&a.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(a.skeleton=t.skeleton);break;case"Mesh":c=o(t.geometry),u=h(t.material),a=new Ge(c,u);break;case"InstancedMesh":c=o(t.geometry),u=h(t.material);const d=t.count,f=t.instanceMatrix,p=t.instanceColor;a=new y8(c,u,d),a.instanceMatrix=new e5(new Float32Array(f.array),16),p!==void 0&&(a.instanceColor=new e5(new Float32Array(p.array),p.itemSize));break;case"LOD":a=new Em;break;case"Line":a=new nn(o(t.geometry),h(t.material));break;case"LineLoop":a=new x8(o(t.geometry),h(t.material));break;case"LineSegments":a=new oi(o(t.geometry),h(t.material));break;case"PointCloud":case"Points":a=new _8(o(t.geometry),h(t.material));break;case"Sprite":a=new Am(h(t.material));break;case"Group":a=new Ci;break;case"Bone":a=new t5;break;default:a=new ae}if(a.uuid=t.uuid,t.name!==void 0&&(a.name=t.name),t.matrix!==void 0?(a.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=t.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(t.position!==void 0&&a.position.fromArray(t.position),t.rotation!==void 0&&a.rotation.fromArray(t.rotation),t.quaternion!==void 0&&a.quaternion.fromArray(t.quaternion),t.scale!==void 0&&a.scale.fromArray(t.scale)),t.up!==void 0&&a.up.fromArray(t.up),t.castShadow!==void 0&&(a.castShadow=t.castShadow),t.receiveShadow!==void 0&&(a.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(a.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(a.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(a.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(a.visible=t.visible),t.frustumCulled!==void 0&&(a.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(a.renderOrder=t.renderOrder),t.userData!==void 0&&(a.userData=t.userData),t.layers!==void 0&&(a.layers.mask=t.layers),t.children!==void 0){const d=t.children;for(let f=0;f<d.length;f++)a.add(this.parseObject(d[f],e,i,n,r))}if(t.animations!==void 0){const d=t.animations;for(let f=0;f<d.length;f++){const p=d[f];a.animations.push(r[p])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(a.autoUpdate=t.autoUpdate);const d=t.levels;for(let f=0;f<d.length;f++){const p=d[f],g=a.getObjectByProperty("uuid",p.object);g!==void 0&&a.addLevel(g,p.distance,p.hysteresis)}}return a}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const n=e[i.skeleton];n===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(n,i.bindMatrix)}})}}const FC={UVMapping:D4,CubeReflectionMapping:ys,CubeRefractionMapping:xs,EquirectangularReflectionMapping:jr,EquirectangularRefractionMapping:E1,CubeUVReflectionMapping:c5},Rc={RepeatWrapping:tn,ClampToEdgeWrapping:We,MirroredRepeatWrapping:Yr},Pc={NearestFilter:Re,NearestMipmapNearestFilter:T1,NearestMipmapLinearFilter:Or,LinearFilter:Me,LinearMipmapNearestFilter:F4,LinearMipmapLinearFilter:en};class Qm extends n0{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,n){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=bs.get(t);if(a!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(t,o).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(h){bs.add(t,h),e&&e(h),r.manager.itemEnd(t)}).catch(function(h){n&&n(h),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}let Y2;class F8{static getContext(){return Y2===void 0&&(Y2=new(window.AudioContext||window.webkitAudioContext)),Y2}static setContext(t){Y2=t}}class OC extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=new ri(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(h){try{const l=h.slice(0);F8.getContext().decodeAudioData(l,function(u){e(u)},o)}catch(l){o(l)}},i,n);function o(h){n?n(h):console.error(h),r.manager.itemError(t)}}}class zC extends uo{constructor(t,e,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const n=new _t().set(t),r=new _t().set(e),a=new L(n.r,n.g,n.b),o=new L(r.r,r.g,r.b),h=Math.sqrt(Math.PI),l=h*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(h),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}}class BC extends uo{constructor(t,e=1){super(void 0,e),this.isAmbientLightProbe=!0;const i=new _t().set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Lc=new Lt,Ic=new Lt,Bs=new Lt;class UC{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new He,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new He,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Bs.copy(t.projectionMatrix);const n=e.eyeSep/2,r=n*e.near/e.focus,a=e.near*Math.tan(x9*e.fov*.5)/e.zoom;let o,h;Ic.elements[12]=-n,Lc.elements[12]=n,o=-a*e.aspect+r,h=a*e.aspect+r,Bs.elements[0]=2*e.near/(h-o),Bs.elements[8]=(h+o)/(h-o),this.cameraL.projectionMatrix.copy(Bs),o=-a*e.aspect-r,h=a*e.aspect-r,Bs.elements[0]=2*e.near/(h-o),Bs.elements[8]=(h+o)/(h-o),this.cameraR.projectionMatrix.copy(Bs)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Ic),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Lc)}}let O8=class{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Nc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Nc();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}};function Nc(){return(typeof performance>"u"?Date:performance).now()}const Us=new L,Dc=new we,kC=new L,ks=new L;class HC extends ae{constructor(){super(),this.type="AudioListener",this.context=F8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new O8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Us,Dc,kC),ks.set(0,0,-1).applyQuaternion(Dc),e.positionX){const n=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Us.x,n),e.positionY.linearRampToValueAtTime(Us.y,n),e.positionZ.linearRampToValueAtTime(Us.z,n),e.forwardX.linearRampToValueAtTime(ks.x,n),e.forwardY.linearRampToValueAtTime(ks.y,n),e.forwardZ.linearRampToValueAtTime(ks.z,n),e.upX.linearRampToValueAtTime(i.x,n),e.upY.linearRampToValueAtTime(i.y,n),e.upZ.linearRampToValueAtTime(i.z,n)}else e.setPosition(Us.x,Us.y,Us.z),e.setOrientation(ks.x,ks.y,ks.z,i.x,i.y,i.z)}}class tg extends ae{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const Hs=new L,Fc=new we,GC=new L,Gs=new L;class VC extends tg{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hs,Fc,GC),Gs.set(0,0,1).applyQuaternion(Fc);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Hs.x,i),e.positionY.linearRampToValueAtTime(Hs.y,i),e.positionZ.linearRampToValueAtTime(Hs.z,i),e.orientationX.linearRampToValueAtTime(Gs.x,i),e.orientationY.linearRampToValueAtTime(Gs.y,i),e.orientationZ.linearRampToValueAtTime(Gs.z,i)}else e.setPosition(Hs.x,Hs.y,Hs.z),e.setOrientation(Gs.x,Gs.y,Gs.z)}}class WC{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class eg{constructor(t,e,i){this.binding=t,this.valueSize=i;let n,r,a;switch(e){case"quaternion":n=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:n=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,n=this.valueSize,r=t*n+n;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==n;++o)i[r+o]=i[o];a=e}else{a+=e;const o=e/a;this._mixBufferRegion(i,r,0,o,n)}this.cumulativeWeight=a}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,n=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,n,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const h=e*this._origIndex;this._mixBufferRegion(i,n,h,1-r,e)}a>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*e,1,e);for(let h=e,l=e+e;h!==l;++h)if(i[h]!==i[h+e]){o.setValue(i,n);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,n=i*this._origIndex;t.getValue(e,n);for(let r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,n,r){if(n>=.5)for(let a=0;a!==r;++a)t[e+a]=t[i+a]}_slerp(t,e,i,n){we.slerpFlat(t,e,t,e,t,i,n)}_slerpAdditive(t,e,i,n,r){const a=this._workIndex*r;we.multiplyQuaternionsFlat(t,a,t,e,t,i),we.slerpFlat(t,e,t,e,t,a,n)}_lerp(t,e,i,n,r){const a=1-n;for(let o=0;o!==r;++o){const h=e+o;t[h]=t[h]*a+t[i+o]*n}}_lerpAdditive(t,e,i,n,r){for(let a=0;a!==r;++a){const o=e+a;t[o]=t[o]+t[i+a]*n}}}const z8="\\[\\]\\.:\\/",qC=new RegExp("["+z8+"]","g"),B8="[^"+z8+"]",$C="[^"+z8.replace("\\.","")+"]",XC=/((?:WC+[\/:])*)/.source.replace("WC",B8),jC=/(WCOD+)?/.source.replace("WCOD",$C),YC=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",B8),ZC=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",B8),JC=new RegExp("^"+XC+jC+YC+ZC+"$"),KC=["material","materials","bones","map"];class QC{constructor(t,e,i){const n=i||Qt.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,n=this._bindings[i];n!==void 0&&n.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Qt{constructor(t,e,i){this.path=e,this.parsedPath=i||Qt.parseTrackName(e),this.node=Qt.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Qt.Composite(t,e,i):new Qt(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(qC,"")}static parseTrackName(t){const e=JC.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const r=i.nodeName.substring(n+1);KC.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(r){for(let a=0;a<r.length;a++){const o=r[a];if(o.name===e||o.uuid===e)return o;const h=i(o.children);if(h)return h}return null},n=i(t.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)t[e++]=i[n]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,n=e.propertyName;let r=e.propertyIndex;if(t||(t=Qt.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let l=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let c=0;c<t.length;c++)if(t[c].name===l){l=c;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(l!==void 0){if(t[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[l]}}const a=t[n];if(a===void 0){const l=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+n+" but it wasn't found.",t);return}let o=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(r!==void 0){if(n==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[r]!==void 0&&(r=t.morphTargetDictionary[r])}h=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else a.fromArray!==void 0&&a.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(h=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qt.Composite=QC;Qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Qt.prototype.GetterByBindingType=[Qt.prototype._getValue_direct,Qt.prototype._getValue_array,Qt.prototype._getValue_arrayElement,Qt.prototype._getValue_toArray];Qt.prototype.SetterByBindingTypeAndVersioning=[[Qt.prototype._setValue_direct,Qt.prototype._setValue_direct_setNeedsUpdate,Qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_array,Qt.prototype._setValue_array_setNeedsUpdate,Qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_arrayElement,Qt.prototype._setValue_arrayElement_setNeedsUpdate,Qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_fromArray,Qt.prototype._setValue_fromArray_setNeedsUpdate,Qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tR{constructor(){this.isAnimationObjectGroup=!0,this.uuid=V0(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,n=arguments.length;i!==n;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,n=this._parsedPaths,r=this._bindings,a=r.length;let o,h=t.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const d=arguments[c],f=d.uuid;let p=e[f];if(p===void 0){p=h++,e[f]=p,t.push(d);for(let g=0,m=a;g!==m;++g)r[g].push(new Qt(d,i[g],n[g]))}else if(p<l){o=t[p];const g=--l,m=t[g];e[m.uuid]=p,t[p]=m,e[f]=g,t[g]=d;for(let y=0,_=a;y!==_;++y){const x=r[y],v=x[g];let b=x[p];x[p]=v,b===void 0&&(b=new Qt(d,i[y],n[y])),x[g]=b}}else t[p]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,n=i.length;let r=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const h=arguments[a],l=h.uuid,c=e[l];if(c!==void 0&&c>=r){const u=r++,d=t[u];e[d.uuid]=c,t[c]=d,e[l]=u,t[u]=h;for(let f=0,p=n;f!==p;++f){const g=i[f],m=g[u],y=g[c];g[c]=m,g[u]=y}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,n=i.length;let r=this.nCachedObjects_,a=t.length;for(let o=0,h=arguments.length;o!==h;++o){const l=arguments[o],c=l.uuid,u=e[c];if(u!==void 0)if(delete e[c],u<r){const d=--r,f=t[d],p=--a,g=t[p];e[f.uuid]=u,t[u]=f,e[g.uuid]=d,t[d]=g,t.pop();for(let m=0,y=n;m!==y;++m){const _=i[m],x=_[d],v=_[p];_[u]=x,_[d]=v,_.pop()}}else{const d=--a,f=t[d];d>0&&(e[f.uuid]=u),t[u]=f,t.pop();for(let p=0,g=n;p!==g;++p){const m=i[p];m[u]=m[d],m.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let n=i[t];const r=this._bindings;if(n!==void 0)return r[n];const a=this._paths,o=this._parsedPaths,h=this._objects,l=h.length,c=this.nCachedObjects_,u=new Array(l);n=r.length,i[t]=n,a.push(t),o.push(e),r.push(u);for(let d=c,f=h.length;d!==f;++d){const p=h[d];u[d]=new Qt(p,t,e)}return u}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,h=a[o],l=t[o];e[l]=i,a[i]=h,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}}class ig{constructor(t,e,i=null,n=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=n;const r=e.tracks,a=r.length,o=new Array(a),h={endingStart:c9,endingEnd:c9};for(let l=0;l!==a;++l){const c=r[l].createInterpolant(null);o[l]=c,c.settings=h}this._interpolantSettings=h,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Hp,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const n=this._mixer,r=n.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);const h=o.parameterPositions,l=o.sampleValues;return h[0]=r,h[1]=r+i,l[0]=t/a,l[1]=e/a,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,n){if(!this.enabled){this._updateWeight(t);return}const r=this._startTime;if(r!==null){const h=(t-r)*i;h<0||i===0?e=0:(this._startTime=null,e=i*h)}e*=this._updateTimeScale(t);const a=this._updateTime(e),o=this._updateWeight(t);if(o>0){const h=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case n8:for(let c=0,u=h.length;c!==u;++c)h[c].evaluate(a),l[c].accumulateAdditive(o);break;case z4:default:for(let c=0,u=h.length;c!==u;++c)h[c].evaluate(a),l[c].accumulate(n,o)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let n=this.time+t,r=this._loopCount;const a=i===Gp;if(t===0)return r===-1?n:a&&(r&1)===1?e-n:n;if(i===kp){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(n>=e)n=e;else if(n<0)n=0;else{this.time=n;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(r===-1&&(t>=0?(r=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),n>=e||n<0){const o=Math.floor(n/e);n-=e*o,r+=Math.abs(o);const h=this.repetitions-r;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=t>0?e:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=n;if(a&&(r&1)===1)return e-n}return n}_setEndings(t,e,i){const n=this._interpolantSettings;i?(n.endingStart=u9,n.endingEnd=u9):(t?n.endingStart=this.zeroSlopeAtStart?u9:c9:n.endingStart=C1,e?n.endingEnd=this.zeroSlopeAtEnd?u9:c9:n.endingEnd=C1)}_scheduleFading(t,e,i){const n=this._mixer,r=n.time;let a=this._weightInterpolant;a===null&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,h=a.sampleValues;return o[0]=r,h[0]=e,o[1]=r+t,h[1]=i,this}}const eR=new Float32Array(1);class ng extends sn{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,h=i.uuid,l=this._bindingsByRootAndName;let c=l[h];c===void 0&&(c={},l[h]=c);for(let u=0;u!==r;++u){const d=n[u],f=d.name;let p=c[f];if(p!==void 0)++p.referenceCount,a[u]=p;else{if(p=a[u],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,h,f));continue}const g=e&&e._propertyBindings[u].binding.parsedPath;p=new eg(Qt.create(i,f,g),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,h,f),a[u]=p}o[u].resultBuffer=p.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,i)}const e=t._propertyBindings;for(let i=0,n=e.length;i!==n;++i){const r=e[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,n=e.length;i!==n;++i){const r=e[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const n=this._actions,r=this._actionsByClip;let a=r[e];if(a===void 0)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{const o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,a=this._actionsByClip,o=a[r],h=o.knownActions,l=h[h.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,h[c]=l,h.pop(),t._byClipCacheIndex=null;const u=o.actionByRoot,d=(t._localRoot||this._root).uuid;delete u[d],h.length===0&&delete a[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,n=e.length;i!==n;++i){const r=e[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const n=this._bindingsByRootAndName,r=this._bindings;let a=n[e];a===void 0&&(a={},n[e]=a),a[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],h=e[e.length-1],l=t._cacheIndex;h._cacheIndex=l,e[l]=h,e.pop(),delete o[r],Object.keys(o).length===0&&delete a[n]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new L8(new Float32Array(2),new Float32Array(2),1,eR),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const n=e||this._root,r=n.uuid;let a=typeof t=="string"?Ms.findByName(n,t):t;const o=a!==null?a.uuid:t,h=this._actionsByClip[o];let l=null;if(i===void 0&&(a!==null?i=a.blendMode:i=z4),h!==void 0){const u=h.actionByRoot[r];if(u!==void 0&&u.blendMode===i)return u;l=h.knownActions[0],a===null&&(a=l._clip)}if(a===null)return null;const c=new ig(this,a,e,i);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c}existingAction(t,e){const i=e||this._root,n=i.uuid,r=typeof t=="string"?Ms.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[n]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1;for(let l=0;l!==i;++l)e[l]._update(n,t,r,a);const o=this._bindings,h=this._nActiveBindings;for(let l=0;l!==h;++l)o[l].apply(a);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(r!==void 0){const a=r.knownActions;for(let o=0,h=a.length;o!==h;++o){const l=a[o];this._deactivateAction(l);const c=l._cacheIndex,u=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,e[c]=u,e.pop(),this._removeInactiveBindingsForAction(l)}delete n[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,h=o[e];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const n=this._bindingsByRootAndName,r=n[e];if(r!==void 0)for(const a in r){const o=r[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class U8{constructor(t){this.value=t}clone(){return new U8(this.value.clone===void 0?this.value:this.value.clone())}}let iR=0;class nR extends sn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:iR++}),this.name="",this.usage=R1,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,n=e.length;i<n;i++)this.uniforms.push(e[i].clone());return this}clone(){return new this.constructor().copy(this)}}class sR extends $1{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class rR{constructor(t,e,i,n,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=n,this.count=r,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}class sg{constructor(t,e,i=0,n=1/0){this.ray=new u5(t,e),this.near=i,this.far=n,this.camera=null,this.layers=new U4,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,i=[]){return e6(t,this,i,e),i.sort(Oc),i}intersectObjects(t,e=!0,i=[]){for(let n=0,r=t.length;n<r;n++)e6(t[n],this,i,e);return i.sort(Oc),i}}function Oc(s,t){return s.distance-t.distance}function e6(s,t,e,i){if(s.layers.test(t.layers)&&s.raycast(t,e),i===!0){const n=s.children;for(let r=0,a=n.length;r<a;r++)e6(n[r],t,e,!0)}}class i6{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Pe(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class aR{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}const zc=new dt;class oR{constructor(t=new dt(1/0,1/0),e=new dt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=zc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,zc).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Bc=new L,Z2=new L;class hR{constructor(t=new L,e=new L){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Bc.subVectors(t,this.start),Z2.subVectors(this.end,this.start);const i=Z2.dot(Z2);let r=Z2.dot(Bc)/i;return e&&(r=Pe(r,0,1)),r}closestPointToPoint(t,e,i){const n=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(n).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Uc=new L;class lR extends ae{constructor(t,e){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new jt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,h=32;a<h;a++,o++){const l=a/h*Math.PI*2,c=o/h*Math.PI*2;n.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new Nt(n,3));const r=new Ze({fog:!1,toneMapped:!1});this.cone=new oi(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Uc.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Uc),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Gn=new L,J2=new Lt,u7=new Lt;class rg extends oi{constructor(t){const e=ag(t),i=new jt,n=[],r=[],a=new _t(0,0,1),o=new _t(0,1,0);for(let l=0;l<e.length;l++){const c=e[l];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}i.setAttribute("position",new Nt(n,3)),i.setAttribute("color",new Nt(r,3));const h=new Ze({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,n=i.getAttribute("position");u7.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<e.length;r++){const o=e[r];o.parent&&o.parent.isBone&&(J2.multiplyMatrices(u7,o.matrixWorld),Gn.setFromMatrixPosition(J2),n.setXYZ(a,Gn.x,Gn.y,Gn.z),J2.multiplyMatrices(u7,o.parent.matrixWorld),Gn.setFromMatrixPosition(J2),n.setXYZ(a+1,Gn.x,Gn.y,Gn.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function ag(s){const t=[];s.isBone===!0&&t.push(s);for(let e=0;e<s.children.length;e++)t.push.apply(t,ag(s.children[e]));return t}class cR extends Ge{constructor(t,e,i){const n=new y5(e,4,2),r=new E0({wireframe:!0,fog:!1,toneMapped:!1});super(n,r),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const uR=new L,kc=new _t,Hc=new _t;class dR extends ae{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const n=new j1(e);n.rotateY(Math.PI*.5),this.material=new E0({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=n.getAttribute("position"),a=new Float32Array(r.count*3);n.setAttribute("color",new ue(a,3)),this.add(new Ge(n,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");kc.copy(this.light.color),Hc.copy(this.light.groundColor);for(let i=0,n=e.count;i<n;i++){const r=i<n/2?kc:Hc;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(uR.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fR extends oi{constructor(t=10,e=10,i=4473924,n=8947848){i=new _t(i),n=new _t(n);const r=e/2,a=t/e,o=t/2,h=[],l=[];for(let d=0,f=0,p=-o;d<=e;d++,p+=a){h.push(-o,0,p,o,0,p),h.push(p,0,-o,p,0,o);const g=d===r?i:n;g.toArray(l,f),f+=3,g.toArray(l,f),f+=3,g.toArray(l,f),f+=3,g.toArray(l,f),f+=3}const c=new jt;c.setAttribute("position",new Nt(h,3)),c.setAttribute("color",new Nt(l,3));const u=new Ze({vertexColors:!0,toneMapped:!1});super(c,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class pR extends oi{constructor(t=10,e=16,i=8,n=64,r=4473924,a=8947848){r=new _t(r),a=new _t(a);const o=[],h=[];if(e>1)for(let u=0;u<e;u++){const d=u/e*(Math.PI*2),f=Math.sin(d)*t,p=Math.cos(d)*t;o.push(0,0,0),o.push(f,0,p);const g=u&1?r:a;h.push(g.r,g.g,g.b),h.push(g.r,g.g,g.b)}for(let u=0;u<i;u++){const d=u&1?r:a,f=t-t/i*u;for(let p=0;p<n;p++){let g=p/n*(Math.PI*2),m=Math.sin(g)*f,y=Math.cos(g)*f;o.push(m,0,y),h.push(d.r,d.g,d.b),g=(p+1)/n*(Math.PI*2),m=Math.sin(g)*f,y=Math.cos(g)*f,o.push(m,0,y),h.push(d.r,d.g,d.b)}}const l=new jt;l.setAttribute("position",new Nt(o,3)),l.setAttribute("color",new Nt(h,3));const c=new Ze({vertexColors:!0,toneMapped:!1});super(l,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Gc=new L,K2=new L,Vc=new L;class mR extends ae{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let n=new jt;n.setAttribute("position",new Nt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new Ze({fog:!1,toneMapped:!1});this.lightPlane=new nn(n,r),this.add(this.lightPlane),n=new jt,n.setAttribute("position",new Nt([0,0,0,0,0,1],3)),this.targetLine=new nn(n,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Gc.setFromMatrixPosition(this.light.matrixWorld),K2.setFromMatrixPosition(this.light.target.matrixWorld),Vc.subVectors(K2,Gc),this.lightPlane.lookAt(K2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(K2),this.targetLine.scale.z=Vc.length()}}const Q2=new L,Ce=new H4;class gR extends oi{constructor(t){const e=new jt,i=new Ze({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],r=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(p,g){h(p),h(g)}function h(p){n.push(0,0,0),r.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(n.length/3-1)}e.setAttribute("position",new Nt(n,3)),e.setAttribute("color",new Nt(r,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new _t(16755200),c=new _t(16711680),u=new _t(43775),d=new _t(16777215),f=new _t(3355443);this.setColors(l,c,u,d,f)}setColors(t,e,i,n,r){const o=this.geometry.getAttribute("color");o.setXYZ(0,t.r,t.g,t.b),o.setXYZ(1,t.r,t.g,t.b),o.setXYZ(2,t.r,t.g,t.b),o.setXYZ(3,t.r,t.g,t.b),o.setXYZ(4,t.r,t.g,t.b),o.setXYZ(5,t.r,t.g,t.b),o.setXYZ(6,t.r,t.g,t.b),o.setXYZ(7,t.r,t.g,t.b),o.setXYZ(8,t.r,t.g,t.b),o.setXYZ(9,t.r,t.g,t.b),o.setXYZ(10,t.r,t.g,t.b),o.setXYZ(11,t.r,t.g,t.b),o.setXYZ(12,t.r,t.g,t.b),o.setXYZ(13,t.r,t.g,t.b),o.setXYZ(14,t.r,t.g,t.b),o.setXYZ(15,t.r,t.g,t.b),o.setXYZ(16,t.r,t.g,t.b),o.setXYZ(17,t.r,t.g,t.b),o.setXYZ(18,t.r,t.g,t.b),o.setXYZ(19,t.r,t.g,t.b),o.setXYZ(20,t.r,t.g,t.b),o.setXYZ(21,t.r,t.g,t.b),o.setXYZ(22,t.r,t.g,t.b),o.setXYZ(23,t.r,t.g,t.b),o.setXYZ(24,e.r,e.g,e.b),o.setXYZ(25,e.r,e.g,e.b),o.setXYZ(26,e.r,e.g,e.b),o.setXYZ(27,e.r,e.g,e.b),o.setXYZ(28,e.r,e.g,e.b),o.setXYZ(29,e.r,e.g,e.b),o.setXYZ(30,e.r,e.g,e.b),o.setXYZ(31,e.r,e.g,e.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,n.r,n.g,n.b),o.setXYZ(39,n.r,n.g,n.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,n=1;Ce.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ie("c",e,t,Ce,0,0,-1),Ie("t",e,t,Ce,0,0,1),Ie("n1",e,t,Ce,-i,-n,-1),Ie("n2",e,t,Ce,i,-n,-1),Ie("n3",e,t,Ce,-i,n,-1),Ie("n4",e,t,Ce,i,n,-1),Ie("f1",e,t,Ce,-i,-n,1),Ie("f2",e,t,Ce,i,-n,1),Ie("f3",e,t,Ce,-i,n,1),Ie("f4",e,t,Ce,i,n,1),Ie("u1",e,t,Ce,i*.7,n*1.1,-1),Ie("u2",e,t,Ce,-i*.7,n*1.1,-1),Ie("u3",e,t,Ce,0,n*2,-1),Ie("cf1",e,t,Ce,-i,0,1),Ie("cf2",e,t,Ce,i,0,1),Ie("cf3",e,t,Ce,0,-n,1),Ie("cf4",e,t,Ce,0,n,1),Ie("cn1",e,t,Ce,-i,0,-1),Ie("cn2",e,t,Ce,i,0,-1),Ie("cn3",e,t,Ce,0,-n,-1),Ie("cn4",e,t,Ce,0,n,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ie(s,t,e,i,n,r,a){Q2.set(n,r,a).unproject(i);const o=t[s];if(o!==void 0){const h=e.getAttribute("position");for(let l=0,c=o.length;l<c;l++)h.setXYZ(o[l],Q2.x,Q2.y,Q2.z)}}const ta=new zi;class yR extends oi{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(8*3),r=new jt;r.setIndex(new ue(i,1)),r.setAttribute("position",new ue(n,3)),super(r,new Ze({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ta.setFromObject(this.object),ta.isEmpty())return;const e=ta.min,i=ta.max,n=this.geometry.attributes.position,r=n.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xR extends oi{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new jt;r.setIndex(new ue(i,1)),r.setAttribute("position",new Nt(n,3)),super(r,new Ze({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _R extends nn{constructor(t,e=1,i=16776960){const n=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new jt;a.setAttribute("position",new Nt(r,3)),a.computeBoundingSphere(),super(a,new Ze({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new jt;h.setAttribute("position",new Nt(o,3)),h.computeBoundingSphere(),this.add(new Ge(h,new E0({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Wc=new L;let ea,d7;class vR extends ae{constructor(t=new L(0,0,1),e=new L(0,0,0),i=1,n=16776960,r=i*.2,a=r*.2){super(),this.type="ArrowHelper",ea===void 0&&(ea=new jt,ea.setAttribute("position",new Nt([0,0,0,0,1,0],3)),d7=new g5(0,.5,1,5,1),d7.translate(0,-.5,0)),this.position.copy(e),this.line=new nn(ea,new Ze({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ge(d7,new E0({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Wc.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Wc,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class og extends oi{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new jt;n.setAttribute("position",new Nt(e,3)),n.setAttribute("color",new Nt(i,3));const r=new Ze({vertexColors:!0,toneMapped:!1});super(n,r),this.type="AxesHelper"}setColors(t,e,i){const n=new _t,r=this.geometry.attributes.color.array;return n.set(t),n.toArray(r,0),n.toArray(r,3),n.set(e),n.toArray(r,6),n.toArray(r,9),n.set(i),n.toArray(r,12),n.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class MR{constructor(){this.type="ShapePath",this.color=new _t,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new I1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,n){return this.currentPath.quadraticCurveTo(t,e,i,n),this}bezierCurveTo(t,e,i,n,r,a){return this.currentPath.bezierCurveTo(t,e,i,n,r,a),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(y){const _=[];for(let x=0,v=y.length;x<v;x++){const b=y[x],E=new _9;E.curves=b.curves,_.push(E)}return _}function i(y,_){const x=_.length;let v=!1;for(let b=x-1,E=0;E<x;b=E++){let w=_[b],R=_[E],S=R.x-w.x,A=R.y-w.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(w=_[E],S=-S,R=_[b],A=-A),y.y<w.y||y.y>R.y)continue;if(y.y===w.y){if(y.x===w.x)return!0}else{const U=A*(y.x-w.x)-S*(y.y-w.y);if(U===0)return!0;if(U<0)continue;v=!v}}else{if(y.y!==w.y)continue;if(R.x<=y.x&&y.x<=w.x||w.x<=y.x&&y.x<=R.x)return!0}}return v}const n=Ji.isClockWise,r=this.subPaths;if(r.length===0)return[];let a,o,h;const l=[];if(r.length===1)return o=r[0],h=new _9,h.curves=o.curves,l.push(h),l;let c=!n(r[0].getPoints());c=t?!c:c;const u=[],d=[];let f=[],p=0,g;d[p]=void 0,f[p]=[];for(let y=0,_=r.length;y<_;y++)o=r[y],g=o.getPoints(),a=n(g),a=t?!a:a,a?(!c&&d[p]&&p++,d[p]={s:new _9,p:g},d[p].s.curves=o.curves,c&&p++,f[p]=[]):f[p].push({h:o,p:g[0]});if(!d[0])return e(r);if(d.length>1){let y=!1,_=0;for(let x=0,v=d.length;x<v;x++)u[x]=[];for(let x=0,v=d.length;x<v;x++){const b=f[x];for(let E=0;E<b.length;E++){const w=b[E];let R=!0;for(let S=0;S<d.length;S++)i(w.p,d[S].p)&&(x!==S&&_++,R?(R=!1,u[S].push(w)):y=!0);R&&u[x].push(w)}}_>0&&y===!1&&(f=u)}let m;for(let y=0,_=d.length;y<_;y++){h=d[y].s,l.push(h),m=f[y];for(let x=0,v=m.length;x<v;x++)h.holes.push(m[x].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:V1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=V1);var bR=Object.freeze({__proto__:null,ACESFilmicToneMapping:Rp,AddEquation:o9,AddOperation:Ap,AdditiveAnimationBlendMode:n8,AdditiveBlending:x3,AlphaFormat:Np,AlwaysCompare:em,AlwaysDepth:xp,AlwaysStencilFunc:Xp,AmbientLight:co,AmbientLightProbe:BC,AnimationAction:ig,AnimationClip:Ms,AnimationLoader:CC,AnimationMixer:ng,AnimationObjectGroup:tR,AnimationUtils:wC,ArcCurve:Tm,ArrayCamera:Mm,ArrowHelper:vR,Audio:tg,AudioAnalyser:WC,AudioContext:F8,AudioListener:HC,AudioLoader:OC,AxesHelper:og,BackSide:x0,BasicDepthPacking:Wp,BasicShadowMap:qM,Bone:t5,BooleanKeyframeTrack:P9,Box2:oR,Box3:zi,Box3Helper:xR,BoxGeometry:As,BoxHelper:yR,BufferAttribute:ue,BufferGeometry:jt,BufferGeometryLoader:Km,ByteType:Lp,Cache:bs,Camera:H4,CameraHelper:gR,CanvasTexture:jT,CapsuleGeometry:Z4,CatmullRomCurve3:Cm,CineonToneMapping:Cp,CircleGeometry:J4,ClampToEdgeWrapping:We,Clock:O8,Color:_t,ColorKeyframeTrack:I8,ColorManagement:j0,CompressedArrayTexture:XT,CompressedTexture:v8,CompressedTextureLoader:RC,ConeGeometry:K4,CubeCamera:fm,CubeReflectionMapping:ys,CubeRefractionMapping:xs,CubeTexture:q1,CubeTextureLoader:Xm,CubeUVReflectionMapping:c5,CubicBezierCurve:b8,CubicBezierCurve3:Rm,CubicInterpolant:Vm,CullFaceBack:y3,CullFaceFront:np,CullFaceFrontBack:WM,CullFaceNone:ip,Curve:hi,CurvePath:Lm,CustomBlending:rp,CustomToneMapping:Pp,CylinderGeometry:g5,Cylindrical:aR,Data3DTexture:l8,DataArrayTexture:B4,DataTexture:Br,DataTextureLoader:PC,DataUtils:tS,DecrementStencilOp:tb,DecrementWrapStencilOp:ib,DefaultLoadingManager:$m,DepthFormat:cs,DepthStencilFormat:M9,DepthTexture:bm,DirectionalLight:Z1,DirectionalLightHelper:mR,DiscreteInterpolant:Wm,DisplayP3ColorSpace:a8,DodecahedronGeometry:Q4,DoubleSide:K0,DstAlphaFactor:dp,DstColorFactor:pp,DynamicCopyUsage:yb,DynamicDrawUsage:ub,DynamicReadUsage:pb,EdgesGeometry:T8,EllipseCurve:j4,EqualCompare:Zp,EqualDepth:vp,EqualStencilFunc:ab,EquirectangularReflectionMapping:jr,EquirectangularRefractionMapping:E1,Euler:Ti,EventDispatcher:sn,ExtrudeGeometry:eo,FileLoader:ri,Float16BufferAttribute:aS,Float32BufferAttribute:Nt,Float64BufferAttribute:oS,FloatType:ji,Fog:q4,FogExp2:W4,FramebufferTexture:$T,FrontSide:Qi,Frustum:G4,GLBufferAttribute:rR,GLSL1:_b,GLSL3:$3,GreaterCompare:Kp,GreaterDepth:bp,GreaterEqualCompare:tm,GreaterEqualDepth:Mp,GreaterEqualStencilFunc:cb,GreaterStencilFunc:hb,GridHelper:fR,Group:Ci,HalfFloatType:Zr,HemisphereLight:jm,HemisphereLightHelper:dR,HemisphereLightProbe:zC,IcosahedronGeometry:io,ImageBitmapLoader:Qm,ImageLoader:O1,ImageUtils:h8,IncrementStencilOp:QM,IncrementWrapStencilOp:eb,InstancedBufferAttribute:e5,InstancedBufferGeometry:Jm,InstancedInterleavedBuffer:sR,InstancedMesh:y8,Int16BufferAttribute:sS,Int32BufferAttribute:rS,Int8BufferAttribute:eS,IntType:J6,InterleavedBuffer:$1,InterleavedBufferAttribute:_s,Interpolant:_5,InterpolateDiscrete:Jr,InterpolateLinear:b9,InterpolateSmooth:ka,InvertStencilOp:nb,KeepStencilOp:Ha,KeyframeTrack:Ui,LOD:Em,LatheGeometry:X1,Layers:U4,LessCompare:Yp,LessDepth:_p,LessEqualCompare:Jp,LessEqualDepth:a4,LessEqualStencilFunc:ob,LessStencilFunc:rb,Light:Ts,LightProbe:uo,Line:nn,Line3:hR,LineBasicMaterial:Ze,LineCurve:Y4,LineCurve3:Pm,LineDashedMaterial:Hm,LineLoop:x8,LineSegments:oi,LinearEncoding:r8,LinearFilter:Me,LinearInterpolant:L8,LinearMipMapLinearFilter:ZM,LinearMipMapNearestFilter:YM,LinearMipmapLinearFilter:en,LinearMipmapNearestFilter:F4,LinearSRGBColorSpace:Ni,LinearToneMapping:Ep,Loader:n0,LoaderUtils:A9,LoadingManager:N8,LoopOnce:kp,LoopPingPong:Gp,LoopRepeat:Hp,LuminanceAlphaFormat:Fp,LuminanceFormat:Dp,MOUSE:Js,Material:Xe,MaterialLoader:fo,MathUtils:Q0,Matrix3:Kt,Matrix4:Lt,MaxEquation:b3,Mesh:Ge,MeshBasicMaterial:E0,MeshDepthMaterial:d8,MeshDistanceMaterial:f8,MeshLambertMaterial:C8,MeshMatcapMaterial:km,MeshNormalMaterial:Um,MeshPhongMaterial:f1,MeshPhysicalMaterial:Bi,MeshStandardMaterial:x5,MeshToonMaterial:Bm,MinEquation:M3,MirroredRepeatWrapping:Yr,MixOperation:wp,MultiplyBlending:v3,MultiplyOperation:W1,NearestFilter:Re,NearestMipMapLinearFilter:jM,NearestMipMapNearestFilter:XM,NearestMipmapLinearFilter:Or,NearestMipmapNearestFilter:T1,NeverCompare:jp,NeverDepth:yp,NeverStencilFunc:sb,NoBlending:Rn,NoColorSpace:ds,NoToneMapping:Zi,NormalAnimationBlendMode:z4,NormalBlending:y9,NotEqualCompare:Qp,NotEqualDepth:Sp,NotEqualStencilFunc:lb,NumberKeyframeTrack:vs,Object3D:ae,ObjectLoader:DC,ObjectSpaceNormalMap:$p,OctahedronGeometry:j1,OneFactor:lp,OneMinusDstAlphaFactor:fp,OneMinusDstColorFactor:mp,OneMinusSrcAlphaFactor:Z6,OneMinusSrcColorFactor:up,OrthographicCamera:f5,PCFShadowMap:j6,PCFSoftShadowMap:sp,PMREMGenerator:Y3,Path:I1,PerspectiveCamera:He,Plane:is,PlaneGeometry:d5,PlaneHelper:_R,PointLight:z1,PointLightHelper:cR,Points:_8,PointsMaterial:X4,PolarGridHelper:pR,PolyhedronGeometry:Es,PositionalAudio:VC,PropertyBinding:Qt,PropertyMixer:eg,QuadraticBezierCurve:S8,QuadraticBezierCurve3:w8,Quaternion:we,QuaternionKeyframeTrack:In,QuaternionLinearInterpolant:qm,RED_GREEN_RGTC2_Format:W3,RED_RGTC1_Format:Up,REVISION:V1,RGBADepthPacking:qp,RGBAFormat:k0,RGBAIntegerFormat:i8,RGBA_ASTC_10x10_Format:k3,RGBA_ASTC_10x5_Format:z3,RGBA_ASTC_10x6_Format:B3,RGBA_ASTC_10x8_Format:U3,RGBA_ASTC_12x10_Format:H3,RGBA_ASTC_12x12_Format:G3,RGBA_ASTC_4x4_Format:R3,RGBA_ASTC_5x4_Format:P3,RGBA_ASTC_5x5_Format:L3,RGBA_ASTC_6x5_Format:I3,RGBA_ASTC_6x6_Format:N3,RGBA_ASTC_8x5_Format:D3,RGBA_ASTC_8x6_Format:F3,RGBA_ASTC_8x8_Format:O3,RGBA_BPTC_Format:Ua,RGBA_ETC2_EAC_Format:C3,RGBA_PVRTC_2BPPV1_Format:E3,RGBA_PVRTC_4BPPV1_Format:A3,RGBA_S3TC_DXT1_Format:Oa,RGBA_S3TC_DXT3_Format:za,RGBA_S3TC_DXT5_Format:Ba,RGB_ETC1_Format:Bp,RGB_ETC2_Format:T3,RGB_PVRTC_2BPPV1_Format:w3,RGB_PVRTC_4BPPV1_Format:S3,RGB_S3TC_DXT1_Format:Fa,RGFormat:zp,RGIntegerFormat:e8,RawShaderMaterial:zm,Ray:u5,Raycaster:sg,RectAreaLight:Ym,RedFormat:Op,RedIntegerFormat:t8,ReinhardToneMapping:Tp,RepeatWrapping:tn,ReplaceStencilOp:KM,ReverseSubtractEquation:op,RingGeometry:no,SIGNED_RED_GREEN_RGTC2_Format:q3,SIGNED_RED_RGTC1_Format:V3,SRGBColorSpace:Ut,Scene:m8,ShaderChunk:Xt,ShaderLib:Si,ShaderMaterial:Fi,ShadowMaterial:Om,Shape:_9,ShapeGeometry:so,ShapePath:MR,ShapeUtils:Ji,ShortType:Ip,Skeleton:m5,SkeletonHelper:rg,SkinnedMesh:$4,Source:d9,Sphere:ai,SphereGeometry:y5,Spherical:i6,SphericalHarmonics3:Zm,SplineCurve:A8,SpotLight:Y1,SpotLightHelper:lR,Sprite:Am,SpriteMaterial:g8,SrcAlphaFactor:Y6,SrcAlphaSaturateFactor:gp,SrcColorFactor:cp,StaticCopyUsage:gb,StaticDrawUsage:R1,StaticReadUsage:fb,StereoCamera:UC,StreamCopyUsage:xb,StreamDrawUsage:db,StreamReadUsage:mb,StringKeyframeTrack:L9,SubtractEquation:ap,SubtractiveBlending:_3,TOUCH:Ks,TangentSpaceNormalMap:ws,TetrahedronGeometry:ro,Texture:Oe,TextureLoader:lo,TorusGeometry:ao,TorusKnotGeometry:oo,Triangle:f9,TriangleFanDrawMode:o4,TriangleStripDrawMode:s8,TrianglesDrawMode:Vp,TubeGeometry:ho,TwoPassDoubleSide:$M,UVMapping:D4,Uint16BufferAttribute:k4,Uint32BufferAttribute:c8,Uint8BufferAttribute:iS,Uint8ClampedBufferAttribute:nS,Uniform:U8,UniformsGroup:nR,UniformsLib:At,UniformsUtils:dm,UnsignedByteType:Pn,UnsignedInt248Type:ls,UnsignedIntType:Cn,UnsignedShort4444Type:K6,UnsignedShort5551Type:Q6,UnsignedShortType:O4,VSMShadowMap:Wi,Vector2:dt,Vector3:L,Vector4:ce,VectorKeyframeTrack:w9,VideoTexture:qT,WebGL1Renderer:Sm,WebGL3DRenderTarget:Vb,WebGLArrayRenderTarget:Gb,WebGLCoordinateSystem:Yi,WebGLCubeRenderTarget:pm,WebGLMultipleRenderTargets:Wb,WebGLRenderTarget:Di,WebGLRenderer:p8,WebGLUtils:vm,WebGPUCoordinateSystem:P1,WireframeGeometry:Fm,WrapAroundEnding:C1,ZeroCurvatureEnding:c9,ZeroFactor:hp,ZeroSlopeEnding:u9,ZeroStencilOp:JM,_SRGBAFormat:h4,sRGBEncoding:us});const qc={type:"change"},f7={type:"start"},$c={type:"end"};class SR extends sn{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new L,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Js.ROTATE,MIDDLE:Js.DOLLY,RIGHT:Js.PAN},this.touches={ONE:Ks.ROTATE,TWO:Ks.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(D){D.addEventListener("keydown",ht),this._domElementKeyEvents=D},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ht),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(qc),i.update(),r=n.NONE},this.update=function(){const D=new L,ot=new we().setFromUnitVectors(t.up,new L(0,1,0)),mt=ot.clone().invert(),Q=new L,Dt=new we,Ot=new L,zt=2*Math.PI;return function(){const Ct=i.object.position;D.copy(Ct).sub(i.target),D.applyQuaternion(ot),o.setFromVector3(D),i.autoRotate&&r===n.NONE&&S(w()),i.enableDamping?(o.theta+=h.theta*i.dampingFactor,o.phi+=h.phi*i.dampingFactor):(o.theta+=h.theta,o.phi+=h.phi);let kt=i.minAzimuthAngle,ie=i.maxAzimuthAngle;return isFinite(kt)&&isFinite(ie)&&(kt<-Math.PI?kt+=zt:kt>Math.PI&&(kt-=zt),ie<-Math.PI?ie+=zt:ie>Math.PI&&(ie-=zt),kt<=ie?o.theta=Math.max(kt,Math.min(ie,o.theta)):o.theta=o.theta>(kt+ie)/2?Math.max(kt,o.theta):Math.min(ie,o.theta)),o.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=l,o.radius=Math.max(i.minDistance,Math.min(i.maxDistance,o.radius)),i.enableDamping===!0?i.target.addScaledVector(c,i.dampingFactor):i.target.add(c),D.setFromSpherical(o),D.applyQuaternion(mt),Ct.copy(i.target).add(D),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,c.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),c.set(0,0,0)),l=1,u||Q.distanceToSquared(i.object.position)>a||8*(1-Dt.dot(i.object.quaternion))>a||Ot.distanceToSquared(i.target)>0?(i.dispatchEvent(qc),Q.copy(i.object.position),Dt.copy(i.object.quaternion),Ot.copy(i.target),u=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",C),i.domElement.removeEventListener("pointerdown",I),i.domElement.removeEventListener("pointercancel",O),i.domElement.removeEventListener("wheel",J),i.domElement.removeEventListener("pointermove",z),i.domElement.removeEventListener("pointerup",O),i._domElementKeyEvents!==null&&(i._domElementKeyEvents.removeEventListener("keydown",ht),i._domElementKeyEvents=null)};const i=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=n.NONE;const a=1e-6,o=new i6,h=new i6;let l=1;const c=new L;let u=!1;const d=new dt,f=new dt,p=new dt,g=new dt,m=new dt,y=new dt,_=new dt,x=new dt,v=new dt,b=[],E={};function w(){return 2*Math.PI/60/60*i.autoRotateSpeed}function R(){return Math.pow(.95,i.zoomSpeed)}function S(D){h.theta-=D}function A(D){h.phi-=D}const U=function(){const D=new L;return function(mt,Q){D.setFromMatrixColumn(Q,0),D.multiplyScalar(-mt),c.add(D)}}(),B=function(){const D=new L;return function(mt,Q){i.screenSpacePanning===!0?D.setFromMatrixColumn(Q,1):(D.setFromMatrixColumn(Q,0),D.crossVectors(i.object.up,D)),D.multiplyScalar(mt),c.add(D)}}(),F=function(){const D=new L;return function(mt,Q){const Dt=i.domElement;if(i.object.isPerspectiveCamera){const Ot=i.object.position;D.copy(Ot).sub(i.target);let zt=D.length();zt*=Math.tan(i.object.fov/2*Math.PI/180),U(2*mt*zt/Dt.clientHeight,i.object.matrix),B(2*Q*zt/Dt.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(U(mt*(i.object.right-i.object.left)/i.object.zoom/Dt.clientWidth,i.object.matrix),B(Q*(i.object.top-i.object.bottom)/i.object.zoom/Dt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function H(D){i.object.isPerspectiveCamera?l/=D:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*D)),i.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function G(D){i.object.isPerspectiveCamera?l*=D:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/D)),i.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(D){d.set(D.clientX,D.clientY)}function $(D){_.set(D.clientX,D.clientY)}function j(D){g.set(D.clientX,D.clientY)}function rt(D){f.set(D.clientX,D.clientY),p.subVectors(f,d).multiplyScalar(i.rotateSpeed);const ot=i.domElement;S(2*Math.PI*p.x/ot.clientHeight),A(2*Math.PI*p.y/ot.clientHeight),d.copy(f),i.update()}function at(D){x.set(D.clientX,D.clientY),v.subVectors(x,_),v.y>0?H(R()):v.y<0&&G(R()),_.copy(x),i.update()}function V(D){m.set(D.clientX,D.clientY),y.subVectors(m,g).multiplyScalar(i.panSpeed),F(y.x,y.y),g.copy(m),i.update()}function tt(D){D.deltaY<0?G(R()):D.deltaY>0&&H(R()),i.update()}function yt(D){let ot=!1;switch(D.code){case i.keys.UP:D.ctrlKey||D.metaKey||D.shiftKey?A(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,i.keyPanSpeed),ot=!0;break;case i.keys.BOTTOM:D.ctrlKey||D.metaKey||D.shiftKey?A(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(0,-i.keyPanSpeed),ot=!0;break;case i.keys.LEFT:D.ctrlKey||D.metaKey||D.shiftKey?S(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(i.keyPanSpeed,0),ot=!0;break;case i.keys.RIGHT:D.ctrlKey||D.metaKey||D.shiftKey?S(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):F(-i.keyPanSpeed,0),ot=!0;break}ot&&(D.preventDefault(),i.update())}function xt(){if(b.length===1)d.set(b[0].pageX,b[0].pageY);else{const D=.5*(b[0].pageX+b[1].pageX),ot=.5*(b[0].pageY+b[1].pageY);d.set(D,ot)}}function St(){if(b.length===1)g.set(b[0].pageX,b[0].pageY);else{const D=.5*(b[0].pageX+b[1].pageX),ot=.5*(b[0].pageY+b[1].pageY);g.set(D,ot)}}function Et(){const D=b[0].pageX-b[1].pageX,ot=b[0].pageY-b[1].pageY,mt=Math.sqrt(D*D+ot*ot);_.set(0,mt)}function q(){i.enableZoom&&Et(),i.enablePan&&St()}function lt(){i.enableZoom&&Et(),i.enableRotate&&xt()}function pt(D){if(b.length==1)f.set(D.pageX,D.pageY);else{const mt=ft(D),Q=.5*(D.pageX+mt.x),Dt=.5*(D.pageY+mt.y);f.set(Q,Dt)}p.subVectors(f,d).multiplyScalar(i.rotateSpeed);const ot=i.domElement;S(2*Math.PI*p.x/ot.clientHeight),A(2*Math.PI*p.y/ot.clientHeight),d.copy(f)}function vt(D){if(b.length===1)m.set(D.pageX,D.pageY);else{const ot=ft(D),mt=.5*(D.pageX+ot.x),Q=.5*(D.pageY+ot.y);m.set(mt,Q)}y.subVectors(m,g).multiplyScalar(i.panSpeed),F(y.x,y.y),g.copy(m)}function bt(D){const ot=ft(D),mt=D.pageX-ot.x,Q=D.pageY-ot.y,Dt=Math.sqrt(mt*mt+Q*Q);x.set(0,Dt),v.set(0,Math.pow(x.y/_.y,i.zoomSpeed)),H(v.y),_.copy(x)}function M(D){i.enableZoom&&bt(D),i.enablePan&&vt(D)}function P(D){i.enableZoom&&bt(D),i.enableRotate&&pt(D)}function I(D){i.enabled!==!1&&(b.length===0&&(i.domElement.setPointerCapture(D.pointerId),i.domElement.addEventListener("pointermove",z),i.domElement.addEventListener("pointerup",O)),T(D),D.pointerType==="touch"?nt(D):Z(D))}function z(D){i.enabled!==!1&&(D.pointerType==="touch"?wt(D):et(D))}function O(D){W(D),b.length===0&&(i.domElement.releasePointerCapture(D.pointerId),i.domElement.removeEventListener("pointermove",z),i.domElement.removeEventListener("pointerup",O)),i.dispatchEvent($c),r=n.NONE}function Z(D){let ot;switch(D.button){case 0:ot=i.mouseButtons.LEFT;break;case 1:ot=i.mouseButtons.MIDDLE;break;case 2:ot=i.mouseButtons.RIGHT;break;default:ot=-1}switch(ot){case Js.DOLLY:if(i.enableZoom===!1)return;$(D),r=n.DOLLY;break;case Js.ROTATE:if(D.ctrlKey||D.metaKey||D.shiftKey){if(i.enablePan===!1)return;j(D),r=n.PAN}else{if(i.enableRotate===!1)return;Y(D),r=n.ROTATE}break;case Js.PAN:if(D.ctrlKey||D.metaKey||D.shiftKey){if(i.enableRotate===!1)return;Y(D),r=n.ROTATE}else{if(i.enablePan===!1)return;j(D),r=n.PAN}break;default:r=n.NONE}r!==n.NONE&&i.dispatchEvent(f7)}function et(D){switch(r){case n.ROTATE:if(i.enableRotate===!1)return;rt(D);break;case n.DOLLY:if(i.enableZoom===!1)return;at(D);break;case n.PAN:if(i.enablePan===!1)return;V(D);break}}function J(D){i.enabled===!1||i.enableZoom===!1||r!==n.NONE||(D.preventDefault(),i.dispatchEvent(f7),tt(D),i.dispatchEvent($c))}function ht(D){i.enabled===!1||i.enablePan===!1||yt(D)}function nt(D){switch(st(D),b.length){case 1:switch(i.touches.ONE){case Ks.ROTATE:if(i.enableRotate===!1)return;xt(),r=n.TOUCH_ROTATE;break;case Ks.PAN:if(i.enablePan===!1)return;St(),r=n.TOUCH_PAN;break;default:r=n.NONE}break;case 2:switch(i.touches.TWO){case Ks.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;q(),r=n.TOUCH_DOLLY_PAN;break;case Ks.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;lt(),r=n.TOUCH_DOLLY_ROTATE;break;default:r=n.NONE}break;default:r=n.NONE}r!==n.NONE&&i.dispatchEvent(f7)}function wt(D){switch(st(D),r){case n.TOUCH_ROTATE:if(i.enableRotate===!1)return;pt(D),i.update();break;case n.TOUCH_PAN:if(i.enablePan===!1)return;vt(D),i.update();break;case n.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;M(D),i.update();break;case n.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;P(D),i.update();break;default:r=n.NONE}}function C(D){i.enabled!==!1&&D.preventDefault()}function T(D){b.push(D)}function W(D){delete E[D.pointerId];for(let ot=0;ot<b.length;ot++)if(b[ot].pointerId==D.pointerId){b.splice(ot,1);return}}function st(D){let ot=E[D.pointerId];ot===void 0&&(ot=new dt,E[D.pointerId]=ot),ot.set(D.pageX,D.pageY)}function ft(D){const ot=D.pointerId===b[0].pointerId?b[1]:b[0];return E[ot.pointerId]}i.domElement.addEventListener("contextmenu",C),i.domElement.addEventListener("pointerdown",I),i.domElement.addEventListener("pointercancel",O),i.domElement.addEventListener("wheel",J,{passive:!1}),this.update()}}var p1=function(){var s=0,t=document.createElement("div");t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(c){c.preventDefault(),i(++s%t.children.length)},!1);function e(c){return t.appendChild(c.dom),c}function i(c){for(var u=0;u<t.children.length;u++)t.children[u].style.display=u===c?"block":"none";s=c}var n=(performance||Date).now(),r=n,a=0,o=e(new p1.Panel("FPS","#0ff","#002")),h=e(new p1.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new p1.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:t,addPanel:e,showPanel:i,begin:function(){n=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();if(h.update(c-n,200),c>=r+1e3&&(o.update(a*1e3/(c-r),100),r=c,a=0,l)){var u=performance.memory;l.update(u.usedJSHeapSize/1048576,u.jsHeapSizeLimit/1048576)}return c},update:function(){n=this.end()},domElement:t,setMode:i}};p1.Panel=function(s,t,e){var i=1/0,n=0,r=Math.round,a=r(window.devicePixelRatio||1),o=80*a,h=48*a,l=3*a,c=2*a,u=3*a,d=15*a,f=74*a,p=30*a,g=document.createElement("canvas");g.width=o,g.height=h,g.style.cssText="width:80px;height:48px";var m=g.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=e,m.fillRect(0,0,o,h),m.fillStyle=t,m.fillText(s,l,c),m.fillRect(u,d,f,p),m.fillStyle=e,m.globalAlpha=.9,m.fillRect(u,d,f,p),{dom:g,update:function(y,_){i=Math.min(i,y),n=Math.max(n,y),m.fillStyle=e,m.globalAlpha=1,m.fillRect(0,0,o,d),m.fillStyle=t,m.fillText(r(y)+" "+s+" ("+r(i)+"-"+r(n)+")",l,c),m.drawImage(g,u+a,d,f-a,p,u,d,f-a,p),m.fillRect(u+f-a,d,a,p),m.fillStyle=e,m.globalAlpha=.9,m.fillRect(u+f-a,d,a,r((1-y/_)*p))}}};var wR=p1;class AR extends ae{constructor(t=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new dt(.5,.5),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&e.element.parentNode!==null&&e.element.parentNode.removeChild(e.element)})})}copy(t,e){return super.copy(t,e),this.element=t.element.cloneNode(!0),this.center=t.center,this}}const sr=new L,Xc=new Lt,jc=new Lt,Yc=new L,Zc=new L;class ER{constructor(t={}){const e=this;let i,n,r,a;const o={objects:new WeakMap},h=t.element!==void 0?t.element:document.createElement("div");h.style.overflow="hidden",this.domElement=h,this.getSize=function(){return{width:i,height:n}},this.render=function(f,p){f.matrixWorldAutoUpdate===!0&&f.updateMatrixWorld(),p.parent===null&&p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),Xc.copy(p.matrixWorldInverse),jc.multiplyMatrices(p.projectionMatrix,Xc),l(f,f,p),d(f)},this.setSize=function(f,p){i=f,n=p,r=i/2,a=n/2,h.style.width=f+"px",h.style.height=p+"px"};function l(f,p,g){if(f.isCSS2DObject){sr.setFromMatrixPosition(f.matrixWorld),sr.applyMatrix4(jc);const m=f.visible===!0&&sr.z>=-1&&sr.z<=1&&f.layers.test(g.layers)===!0;if(f.element.style.display=m===!0?"":"none",m===!0){f.onBeforeRender(e,p,g);const _=f.element;_.style.transform="translate("+-100*f.center.x+"%,"+-100*f.center.y+"%)translate("+(sr.x*r+r)+"px,"+(-sr.y*a+a)+"px)",_.parentNode!==h&&h.appendChild(_),f.onAfterRender(e,p,g)}const y={distanceToCameraSquared:c(g,f)};o.objects.set(f,y)}for(let m=0,y=f.children.length;m<y;m++)l(f.children[m],p,g)}function c(f,p){return Yc.setFromMatrixPosition(f.matrixWorld),Zc.setFromMatrixPosition(p.matrixWorld),Yc.distanceToSquared(Zc)}function u(f){const p=[];return f.traverse(function(g){g.isCSS2DObject&&p.push(g)}),p}function d(f){const p=u(f).sort(function(m,y){if(m.renderOrder!==y.renderOrder)return y.renderOrder-m.renderOrder;const _=o.objects.get(m).distanceToCameraSquared,x=o.objects.get(y).distanceToCameraSquared;return _-x}),g=p.length;for(let m=0,y=p.length;m<y;m++)p[m].element.style.zIndex=g-m}}}const Jc=new L,TR=new we,Kc=new L;class hg extends ae{constructor(t=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&e.element.parentNode!==null&&e.element.parentNode.removeChild(e.element)})})}copy(t,e){return super.copy(t,e),this.element=t.element.cloneNode(!0),this}}class CR extends hg{constructor(t){super(t),this.isCSS3DSprite=!0,this.rotation2D=0}copy(t,e){return super.copy(t,e),this.rotation2D=t.rotation2D,this}}const Vi=new Lt,RR=new Lt;class PR{constructor(t={}){const e=this;let i,n,r,a;const o={camera:{fov:0,style:""},objects:new WeakMap},h=t.element!==void 0?t.element:document.createElement("div");h.style.overflow="hidden",this.domElement=h;const l=document.createElement("div");l.style.transformOrigin="0 0",l.style.pointerEvents="none",h.appendChild(l);const c=document.createElement("div");c.style.transformStyle="preserve-3d",l.appendChild(c),this.getSize=function(){return{width:i,height:n}},this.render=function(g,m){const y=m.projectionMatrix.elements[5]*a;o.camera.fov!==y&&(l.style.perspective=m.isPerspectiveCamera?y+"px":"",o.camera.fov=y),m.view&&m.view.enabled?(l.style.transform=`translate( ${-m.view.offsetX*(i/m.view.width)}px, ${-m.view.offsetY*(n/m.view.height)}px )`,l.style.transform+=`scale( ${m.view.fullWidth/m.view.width}, ${m.view.fullHeight/m.view.height} )`):l.style.transform="",g.matrixWorldAutoUpdate===!0&&g.updateMatrixWorld(),m.parent===null&&m.matrixWorldAutoUpdate===!0&&m.updateMatrixWorld();let _,x;m.isOrthographicCamera&&(_=-(m.right+m.left)/2,x=(m.top+m.bottom)/2);const v=m.view&&m.view.enabled?m.view.height/m.view.fullHeight:1,E=(m.isOrthographicCamera?`scale( ${v} )scale(`+y+")translate("+u(_)+"px,"+u(x)+"px)"+d(m.matrixWorldInverse):`scale( ${v} )translateZ(`+y+"px)"+d(m.matrixWorldInverse))+"translate("+r+"px,"+a+"px)";o.camera.style!==E&&(c.style.transform=E,o.camera.style=E),p(g,g,m)},this.setSize=function(g,m){i=g,n=m,r=i/2,a=n/2,h.style.width=g+"px",h.style.height=m+"px",l.style.width=g+"px",l.style.height=m+"px",c.style.width=g+"px",c.style.height=m+"px"};function u(g){return Math.abs(g)<1e-10?0:g}function d(g){const m=g.elements;return"matrix3d("+u(m[0])+","+u(-m[1])+","+u(m[2])+","+u(m[3])+","+u(m[4])+","+u(-m[5])+","+u(m[6])+","+u(m[7])+","+u(m[8])+","+u(-m[9])+","+u(m[10])+","+u(m[11])+","+u(m[12])+","+u(-m[13])+","+u(m[14])+","+u(m[15])+")"}function f(g){const m=g.elements;return"translate(-50%,-50%)"+("matrix3d("+u(m[0])+","+u(m[1])+","+u(m[2])+","+u(m[3])+","+u(-m[4])+","+u(-m[5])+","+u(-m[6])+","+u(-m[7])+","+u(m[8])+","+u(m[9])+","+u(m[10])+","+u(m[11])+","+u(m[12])+","+u(m[13])+","+u(m[14])+","+u(m[15])+")")}function p(g,m,y,_){if(g.isCSS3DObject){const x=g.visible===!0&&g.layers.test(y.layers)===!0;if(g.element.style.display=x===!0?"":"none",x===!0){g.onBeforeRender(e,m,y);let v;g.isCSS3DSprite?(Vi.copy(y.matrixWorldInverse),Vi.transpose(),g.rotation2D!==0&&Vi.multiply(RR.makeRotationZ(g.rotation2D)),g.matrixWorld.decompose(Jc,TR,Kc),Vi.setPosition(Jc),Vi.scale(Kc),Vi.elements[3]=0,Vi.elements[7]=0,Vi.elements[11]=0,Vi.elements[15]=1,v=f(Vi)):v=f(g.matrixWorld);const b=g.element,E=o.objects.get(g);if(E===void 0||E.style!==v){b.style.transform=v;const w={style:v};o.objects.set(g,w)}b.parentNode!==c&&c.appendChild(b),g.onAfterRender(e,m,y)}}for(let x=0,v=g.children.length;x<v;x++)p(g.children[x],m,y)}}}function Qc(s,t){if(t===Vp)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),s;if(t===o4||t===s8){let e=s.getIndex();if(e===null){const a=[],o=s.getAttribute("position");if(o!==void 0){for(let h=0;h<o.count;h++)a.push(h);s.setIndex(a),e=s.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),s}const i=e.count-2,n=[];if(t===o4)for(let a=1;a<=i;a++)n.push(e.getX(0)),n.push(e.getX(a)),n.push(e.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(n.push(e.getX(a)),n.push(e.getX(a+1)),n.push(e.getX(a+2))):(n.push(e.getX(a+2)),n.push(e.getX(a+1)),n.push(e.getX(a)));n.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=s.clone();return r.setIndex(n),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),s}class LR extends n0{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new OR(e)}),this.register(function(e){return new WR(e)}),this.register(function(e){return new qR(e)}),this.register(function(e){return new $R(e)}),this.register(function(e){return new BR(e)}),this.register(function(e){return new UR(e)}),this.register(function(e){return new kR(e)}),this.register(function(e){return new HR(e)}),this.register(function(e){return new FR(e)}),this.register(function(e){return new GR(e)}),this.register(function(e){return new zR(e)}),this.register(function(e){return new VR(e)}),this.register(function(e){return new NR(e)}),this.register(function(e){return new XR(e)}),this.register(function(e){return new jR(e)})}load(t,e,i,n){const r=this;let a;this.resourcePath!==""?a=this.resourcePath:this.path!==""?a=this.path:a=A9.extractUrlBase(t),this.manager.itemStart(t);const o=function(l){n?n(l):console.error(l),r.manager.itemError(t),r.manager.itemEnd(t)},h=new ri(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,function(l){try{r.parse(l,a,function(c){e(c),r.manager.itemEnd(t)},o)}catch(c){o(c)}},i,o)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,n){let r;const a={},o={},h=new TextDecoder;if(typeof t=="string")r=JSON.parse(t);else if(t instanceof ArrayBuffer)if(h.decode(new Uint8Array(t,0,4))===lg){try{a[se.KHR_BINARY_GLTF]=new YR(t)}catch(u){n&&n(u);return}r=JSON.parse(a[se.KHR_BINARY_GLTF].content)}else r=JSON.parse(h.decode(t));else r=t;if(r.asset===void 0||r.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new hP(r,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);o[u.name]=u,a[u.name]=!0}if(r.extensionsUsed)for(let c=0;c<r.extensionsUsed.length;++c){const u=r.extensionsUsed[c],d=r.extensionsRequired||[];switch(u){case se.KHR_MATERIALS_UNLIT:a[u]=new DR;break;case se.KHR_DRACO_MESH_COMPRESSION:a[u]=new ZR(r,this.dracoLoader);break;case se.KHR_TEXTURE_TRANSFORM:a[u]=new JR;break;case se.KHR_MESH_QUANTIZATION:a[u]=new KR;break;default:d.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(i,n)}parseAsync(t,e){const i=this;return new Promise(function(n,r){i.parse(t,e,n,r)})}}function IR(){let s={};return{get:function(t){return s[t]},add:function(t,e){s[t]=e},remove:function(t){delete s[t]},removeAll:function(){s={}}}}const se={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class NR{constructor(t){this.parser=t,this.name=se.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,n=e.length;i<n;i++){const r=e[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let n=e.cache.get(i);if(n)return n;const r=e.json,h=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let l;const c=new _t(16777215);h.color!==void 0&&c.fromArray(h.color);const u=h.range!==void 0?h.range:0;switch(h.type){case"directional":l=new Z1(c),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new z1(c),l.distance=u;break;case"spot":l=new Y1(c),l.distance=u,h.spot=h.spot||{},h.spot.innerConeAngle=h.spot.innerConeAngle!==void 0?h.spot.innerConeAngle:0,h.spot.outerConeAngle=h.spot.outerConeAngle!==void 0?h.spot.outerConeAngle:Math.PI/4,l.angle=h.spot.outerConeAngle,l.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return l.position.set(0,0,0),l.decay=2,ns(l,h),h.intensity!==void 0&&(l.intensity=h.intensity),l.name=e.createUniqueName(h.name||"light_"+t),n=Promise.resolve(l),e.cache.add(i,n),n}getDependency(t,e){if(t==="light")return this._loadLight(e)}createNodeAttachment(t){const e=this,i=this.parser,r=i.json.nodes[t],o=(r.extensions&&r.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(h){return i._getNodeRef(e.cache,o,h)})}}class DR{constructor(){this.name=se.KHR_MATERIALS_UNLIT}getMaterialType(){return E0}extendParams(t,e,i){const n=[];t.color=new _t(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}r.baseColorTexture!==void 0&&n.push(i.assignTexture(t,"map",r.baseColorTexture,Ut))}return Promise.all(n)}}class FR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return r!==void 0&&(e.emissiveIntensity=r),Promise.resolve()}}class OR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];if(a.clearcoatFactor!==void 0&&(e.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&r.push(i.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new dt(o,o)}return Promise.all(r)}}class zR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];return a.iridescenceFactor!==void 0&&(e.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&r.push(i.assignTexture(e,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(e.iridescenceIOR=a.iridescenceIor),e.iridescenceThicknessRange===void 0&&(e.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(e.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(e.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(e,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(r)}}class BR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_SHEEN}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new _t(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=n.extensions[this.name];return a.sheenColorFactor!==void 0&&e.sheenColor.fromArray(a.sheenColorFactor),a.sheenRoughnessFactor!==void 0&&(e.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&r.push(i.assignTexture(e,"sheenColorMap",a.sheenColorTexture,Ut)),a.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class UR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];return a.transmissionFactor!==void 0&&(e.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&r.push(i.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class kR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_VOLUME}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];e.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&r.push(i.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return e.attenuationColor=new _t(o[0],o[1],o[2]),Promise.all(r)}}class HR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_IOR}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return e.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class GR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_SPECULAR}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];e.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&r.push(i.assignTexture(e,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return e.specularColor=new _t(o[0],o[1],o[2]),a.specularColorTexture!==void 0&&r.push(i.assignTexture(e,"specularColorMap",a.specularColorTexture,Ut)),Promise.all(r)}}class VR{constructor(t){this.parser=t,this.name=se.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const i=this.parser.json.materials[t];return!i.extensions||!i.extensions[this.name]?null:Bi}extendMaterialParams(t,e){const i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=[],a=n.extensions[this.name];return a.anisotropyStrength!==void 0&&(e.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(e.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&r.push(i.assignTexture(e,"anisotropyMap",a.anisotropyTexture)),Promise.all(r)}}class WR{constructor(t){this.parser=t,this.name=se.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,n=i.textures[t];if(!n.extensions||!n.extensions[this.name])return null;const r=n.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,a)}}class qR{constructor(t){this.parser=t,this.name=se.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,n=i.json,r=n.textures[t];if(!r.extensions||!r.extensions[e])return null;const a=r.extensions[e],o=n.images[a.source];let h=i.textureLoader;if(o.uri){const l=i.options.manager.getHandler(o.uri);l!==null&&(h=l)}return this.detectSupport().then(function(l){if(l)return i.loadTextureImage(t,a.source,h);if(n.extensionsRequired&&n.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class $R{constructor(t){this.parser=t,this.name=se.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,n=i.json,r=n.textures[t];if(!r.extensions||!r.extensions[e])return null;const a=r.extensions[e],o=n.images[a.source];let h=i.textureLoader;if(o.uri){const l=i.options.manager.getHandler(o.uri);l!==null&&(h=l)}return this.detectSupport().then(function(l){if(l)return i.loadTextureImage(t,a.source,h);if(n.extensionsRequired&&n.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(e.height===1)}})),this.isSupported}}class XR{constructor(t){this.name=se.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const n=i.extensions[this.name],r=this.parser.getDependency("buffer",n.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(o){const h=n.byteOffset||0,l=n.byteLength||0,c=n.count,u=n.byteStride,d=new Uint8Array(o,h,l);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(c,u,d,n.mode,n.filter).then(function(f){return f.buffer}):a.ready.then(function(){const f=new ArrayBuffer(c*u);return a.decodeGltfBuffer(new Uint8Array(f),c,u,d,n.mode,n.filter),f})})}else return null}}class jR{constructor(t){this.name=se.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,i=e.nodes[t];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const n=e.meshes[i.mesh];for(const l of n.primitives)if(l.mode!==Y0.TRIANGLES&&l.mode!==Y0.TRIANGLE_STRIP&&l.mode!==Y0.TRIANGLE_FAN&&l.mode!==void 0)return null;const a=i.extensions[this.name].attributes,o=[],h={};for(const l in a)o.push(this.parser.getDependency("accessor",a[l]).then(c=>(h[l]=c,h[l])));return o.length<1?null:(o.push(this.parser.createNodeMesh(t)),Promise.all(o).then(l=>{const c=l.pop(),u=c.isGroup?c.children:[c],d=l[0].count,f=[];for(const p of u){const g=new Lt,m=new L,y=new we,_=new L(1,1,1),x=new y8(p.geometry,p.material,d);for(let v=0;v<d;v++)h.TRANSLATION&&m.fromBufferAttribute(h.TRANSLATION,v),h.ROTATION&&y.fromBufferAttribute(h.ROTATION,v),h.SCALE&&_.fromBufferAttribute(h.SCALE,v),x.setMatrixAt(v,g.compose(m,y,_));for(const v in h)v!=="TRANSLATION"&&v!=="ROTATION"&&v!=="SCALE"&&p.geometry.setAttribute(v,h[v]);ae.prototype.copy.call(x,p),this.parser.assignFinalMaterial(x),f.push(x)}return c.isGroup?(c.clear(),c.add(...f),c):f[0]}))}}const lg="glTF",U5=12,tu={JSON:1313821514,BIN:5130562};class YR{constructor(t){this.name=se.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,U5),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==lg)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-U5,r=new DataView(t,U5);let a=0;for(;a<n;){const o=r.getUint32(a,!0);a+=4;const h=r.getUint32(a,!0);if(a+=4,h===tu.JSON){const l=new Uint8Array(t,U5+a,o);this.content=i.decode(l)}else if(h===tu.BIN){const l=U5+a;this.body=t.slice(l,l+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ZR{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=se.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,n=this.dracoLoader,r=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,o={},h={},l={};for(const c in a){const u=n6[c]||c.toLowerCase();o[u]=a[c]}for(const c in t.attributes){const u=n6[c]||c.toLowerCase();if(a[c]!==void 0){const d=i.accessors[t.attributes[c]],f=Ur[d.componentType];l[u]=f.name,h[u]=d.normalized===!0}}return e.getDependency("bufferView",r).then(function(c){return new Promise(function(u){n.decodeDracoFile(c,function(d){for(const f in d.attributes){const p=d.attributes[f],g=h[f];g!==void 0&&(p.normalized=g)}u(d)},o,l)})})}}class JR{constructor(){this.name=se.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(e.texCoord===void 0||e.texCoord===t.channel)&&e.offset===void 0&&e.rotation===void 0&&e.scale===void 0||(t=t.clone(),e.texCoord!==void 0&&(t.channel=e.texCoord),e.offset!==void 0&&t.offset.fromArray(e.offset),e.rotation!==void 0&&(t.rotation=e.rotation),e.scale!==void 0&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class KR{constructor(){this.name=se.KHR_MESH_QUANTIZATION}}class cg extends _5{constructor(t,e,i,n){super(t,e,i,n)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n*3+n;for(let a=0;a!==n;a++)e[a]=i[r+a];return e}interpolate_(t,e,i,n){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,h=o*2,l=o*3,c=n-e,u=(i-e)/c,d=u*u,f=d*u,p=t*l,g=p-l,m=-2*f+3*d,y=f-d,_=1-m,x=y-d+u;for(let v=0;v!==o;v++){const b=a[g+v+o],E=a[g+v+h]*c,w=a[p+v+o],R=a[p+v]*c;r[v]=_*b+x*E+m*w+y*R}return r}}const QR=new we;class tP extends cg{interpolate_(t,e,i,n){const r=super.interpolate_(t,e,i,n);return QR.fromArray(r).normalize().toArray(r),r}}const Y0={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ur={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},eu={9728:Re,9729:Me,9984:T1,9985:F4,9986:Or,9987:en},iu={33071:We,33648:Yr,10497:tn},p7={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},n6={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Vn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},eP={CUBICSPLINE:void 0,LINEAR:b9,STEP:Jr},m7={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function iP(s){return s.DefaultMaterial===void 0&&(s.DefaultMaterial=new x5({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Qi})),s.DefaultMaterial}function Vs(s,t,e){for(const i in e.extensions)s[i]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=e.extensions[i])}function ns(s,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(s.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function nP(s,t,e){let i=!1,n=!1,r=!1;for(let l=0,c=t.length;l<c;l++){const u=t[l];if(u.POSITION!==void 0&&(i=!0),u.NORMAL!==void 0&&(n=!0),u.COLOR_0!==void 0&&(r=!0),i&&n&&r)break}if(!i&&!n&&!r)return Promise.resolve(s);const a=[],o=[],h=[];for(let l=0,c=t.length;l<c;l++){const u=t[l];if(i){const d=u.POSITION!==void 0?e.getDependency("accessor",u.POSITION):s.attributes.position;a.push(d)}if(n){const d=u.NORMAL!==void 0?e.getDependency("accessor",u.NORMAL):s.attributes.normal;o.push(d)}if(r){const d=u.COLOR_0!==void 0?e.getDependency("accessor",u.COLOR_0):s.attributes.color;h.push(d)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(h)]).then(function(l){const c=l[0],u=l[1],d=l[2];return i&&(s.morphAttributes.position=c),n&&(s.morphAttributes.normal=u),r&&(s.morphAttributes.color=d),s.morphTargetsRelative=!0,s})}function sP(s,t){if(s.updateMorphTargets(),t.weights!==void 0)for(let e=0,i=t.weights.length;e<i;e++)s.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(s.morphTargetInfluences.length===e.length){s.morphTargetDictionary={};for(let i=0,n=e.length;i<n;i++)s.morphTargetDictionary[e[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function rP(s){let t;const e=s.extensions&&s.extensions[se.KHR_DRACO_MESH_COMPRESSION];if(e?t="draco:"+e.bufferView+":"+e.indices+":"+g7(e.attributes):t=s.indices+":"+g7(s.attributes)+":"+s.mode,s.targets!==void 0)for(let i=0,n=s.targets.length;i<n;i++)t+=":"+g7(s.targets[i]);return t}function g7(s){let t="";const e=Object.keys(s).sort();for(let i=0,n=e.length;i<n;i++)t+=e[i]+":"+s[e[i]]+";";return t}function s6(s){switch(s){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function aP(s){return s.search(/\.jpe?g($|\?)/i)>0||s.search(/^data\:image\/jpeg/)===0?"image/jpeg":s.search(/\.webp($|\?)/i)>0||s.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const oP=new Lt;class hP{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new IR,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,n=!1,r=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,n=navigator.userAgent.indexOf("Firefox")>-1,r=n?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||n&&r<98?this.textureLoader=new lo(this.options.manager):this.textureLoader=new Qm(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ri(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,n=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][n.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:n.asset,parser:i,userData:{}};Vs(r,o,n),ns(o,n),Promise.all(i._invokeAll(function(h){return h.afterRoot&&h.afterRoot(o)})).then(function(){t(o)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let n=0,r=e.length;n<r;n++){const a=e[n].joints;for(let o=0,h=a.length;o<h;o++)t[a[o]].isBone=!0}for(let n=0,r=t.length;n<r;n++){const a=t[n];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(t,e){e!==void 0&&(t.refs[e]===void 0&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const n=i.clone(),r=(a,o)=>{const h=this.associations.get(a);h!=null&&this.associations.set(o,h);for(const[l,c]of a.children.entries())r(c,o.children[l])};return r(i,n),n.name+="_instance_"+t.uses[e]++,n}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const n=t(e[i]);if(n)return n}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let n=0;n<e.length;n++){const r=t(e[n]);r&&i.push(r)}return i}getDependency(t,e){const i=t+":"+e;let n=this.cache.get(i);if(!n){switch(t){case"scene":n=this.loadScene(e);break;case"node":n=this._invokeOne(function(r){return r.loadNode&&r.loadNode(e)});break;case"mesh":n=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(e)});break;case"accessor":n=this.loadAccessor(e);break;case"bufferView":n=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(e)});break;case"buffer":n=this.loadBuffer(e);break;case"material":n=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(e)});break;case"texture":n=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(e)});break;case"skin":n=this.loadSkin(e);break;case"animation":n=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(e)});break;case"camera":n=this.loadCamera(e);break;default:if(n=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(t,e)}),!n)throw new Error("Unknown type: "+t);break}this.cache.add(i,n)}return n}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this,n=this.json[t+(t==="mesh"?"es":"s")]||[];e=Promise.all(n.map(function(r,a){return i.getDependency(t,a)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&e.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(e.uri===void 0&&t===0)return Promise.resolve(this.extensions[se.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(r,a){i.load(A9.resolveURL(e.uri,n.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(i){const n=e.byteLength||0,r=e.byteOffset||0;return i.slice(r,r+n)})}loadAccessor(t){const e=this,i=this.json,n=this.json.accessors[t];if(n.bufferView===void 0&&n.sparse===void 0){const a=p7[n.type],o=Ur[n.componentType],h=n.normalized===!0,l=new o(n.count*a);return Promise.resolve(new ue(l,a,h))}const r=[];return n.bufferView!==void 0?r.push(this.getDependency("bufferView",n.bufferView)):r.push(null),n.sparse!==void 0&&(r.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(r).then(function(a){const o=a[0],h=p7[n.type],l=Ur[n.componentType],c=l.BYTES_PER_ELEMENT,u=c*h,d=n.byteOffset||0,f=n.bufferView!==void 0?i.bufferViews[n.bufferView].byteStride:void 0,p=n.normalized===!0;let g,m;if(f&&f!==u){const y=Math.floor(d/f),_="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+y+":"+n.count;let x=e.cache.get(_);x||(g=new l(o,y*f,n.count*f/c),x=new $1(g,f/c),e.cache.add(_,x)),m=new _s(x,h,d%f/c,p)}else o===null?g=new l(n.count*h):g=new l(o,d,n.count*h),m=new ue(g,h,p);if(n.sparse!==void 0){const y=p7.SCALAR,_=Ur[n.sparse.indices.componentType],x=n.sparse.indices.byteOffset||0,v=n.sparse.values.byteOffset||0,b=new _(a[1],x,n.sparse.count*y),E=new l(a[2],v,n.sparse.count*h);o!==null&&(m=new ue(m.array.slice(),m.itemSize,m.normalized));for(let w=0,R=b.length;w<R;w++){const S=b[w];if(m.setX(S,E[w*h]),h>=2&&m.setY(S,E[w*h+1]),h>=3&&m.setZ(S,E[w*h+2]),h>=4&&m.setW(S,E[w*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(t){const e=this.json,i=this.options,r=e.textures[t].source,a=e.images[r];let o=this.textureLoader;if(a.uri){const h=i.manager.getHandler(a.uri);h!==null&&(o=h)}return this.loadTextureImage(t,r,o)}loadTextureImage(t,e,i){const n=this,r=this.json,a=r.textures[t],o=r.images[e],h=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[h])return this.textureCache[h];const l=this.loadImageSource(e,i).then(function(c){c.flipY=!1,c.name=a.name||o.name||"",c.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(c.name=o.uri);const d=(r.samplers||{})[a.sampler]||{};return c.magFilter=eu[d.magFilter]||Me,c.minFilter=eu[d.minFilter]||en,c.wrapS=iu[d.wrapS]||tn,c.wrapT=iu[d.wrapT]||tn,n.associations.set(c,{textures:t}),c}).catch(function(){return null});return this.textureCache[h]=l,l}loadImageSource(t,e){const i=this,n=this.json,r=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(u=>u.clone());const a=n.images[t],o=self.URL||self.webkitURL;let h=a.uri||"",l=!1;if(a.bufferView!==void 0)h=i.getDependency("bufferView",a.bufferView).then(function(u){l=!0;const d=new Blob([u],{type:a.mimeType});return h=o.createObjectURL(d),h});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const c=Promise.resolve(h).then(function(u){return new Promise(function(d,f){let p=d;e.isImageBitmapLoader===!0&&(p=function(g){const m=new Oe(g);m.needsUpdate=!0,d(m)}),e.load(A9.resolveURL(u,r.path),p,void 0,f)})}).then(function(u){return l===!0&&o.revokeObjectURL(h),u.userData.mimeType=a.mimeType||aP(a.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),u});return this.sourceCache[t]=c,c}assignTexture(t,e,i,n){const r=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),r.extensions[se.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[se.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const h=r.associations.get(a);a=r.extensions[se.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),r.associations.set(a,h)}}return n!==void 0&&(a.colorSpace=n),t[e]=a,a})}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const n=e.attributes.tangent===void 0,r=e.attributes.color!==void 0,a=e.attributes.normal===void 0;if(t.isPoints){const o="PointsMaterial:"+i.uuid;let h=this.cache.get(o);h||(h=new X4,Xe.prototype.copy.call(h,i),h.color.copy(i.color),h.map=i.map,h.sizeAttenuation=!1,this.cache.add(o,h)),i=h}else if(t.isLine){const o="LineBasicMaterial:"+i.uuid;let h=this.cache.get(o);h||(h=new Ze,Xe.prototype.copy.call(h,i),h.color.copy(i.color),h.map=i.map,this.cache.add(o,h)),i=h}if(n||r||a){let o="ClonedMaterial:"+i.uuid+":";n&&(o+="derivative-tangents:"),r&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let h=this.cache.get(o);h||(h=i.clone(),r&&(h.vertexColors=!0),a&&(h.flatShading=!0),n&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(o,h),this.associations.set(h,this.associations.get(i))),i=h}t.material=i}getMaterialType(){return x5}loadMaterial(t){const e=this,i=this.json,n=this.extensions,r=i.materials[t];let a;const o={},h=r.extensions||{},l=[];if(h[se.KHR_MATERIALS_UNLIT]){const u=n[se.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),l.push(u.extendParams(o,r,e))}else{const u=r.pbrMetallicRoughness||{};if(o.color=new _t(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){const d=u.baseColorFactor;o.color.fromArray(d),o.opacity=d[3]}u.baseColorTexture!==void 0&&l.push(e.assignTexture(o,"map",u.baseColorTexture,Ut)),o.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,o.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(l.push(e.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),l.push(e.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(t)}),l.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(t,o)})))}r.doubleSided===!0&&(o.side=K0);const c=r.alphaMode||m7.OPAQUE;if(c===m7.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,c===m7.MASK&&(o.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&a!==E0&&(l.push(e.assignTexture(o,"normalMap",r.normalTexture)),o.normalScale=new dt(1,1),r.normalTexture.scale!==void 0)){const u=r.normalTexture.scale;o.normalScale.set(u,u)}return r.occlusionTexture!==void 0&&a!==E0&&(l.push(e.assignTexture(o,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&a!==E0&&(o.emissive=new _t().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&a!==E0&&l.push(e.assignTexture(o,"emissiveMap",r.emissiveTexture,Ut)),Promise.all(l).then(function(){const u=new a(o);return r.name&&(u.name=r.name),ns(u,r),e.associations.set(u,{materials:t}),r.extensions&&Vs(n,u,r),u})}createUniqueName(t){const e=Qt.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,i=this.extensions,n=this.primitiveCache;function r(o){return i[se.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,e).then(function(h){return nu(h,o,e)})}const a=[];for(let o=0,h=t.length;o<h;o++){const l=t[o],c=rP(l),u=n[c];if(u)a.push(u.promise);else{let d;l.extensions&&l.extensions[se.KHR_DRACO_MESH_COMPRESSION]?d=r(l):d=nu(new jt,l,e),n[c]={primitive:l,promise:d},a.push(d)}}return Promise.all(a)}loadMesh(t){const e=this,i=this.json,n=this.extensions,r=i.meshes[t],a=r.primitives,o=[];for(let h=0,l=a.length;h<l;h++){const c=a[h].material===void 0?iP(this.cache):this.getDependency("material",a[h].material);o.push(c)}return o.push(e.loadGeometries(a)),Promise.all(o).then(function(h){const l=h.slice(0,h.length-1),c=h[h.length-1],u=[];for(let f=0,p=c.length;f<p;f++){const g=c[f],m=a[f];let y;const _=l[f];if(m.mode===Y0.TRIANGLES||m.mode===Y0.TRIANGLE_STRIP||m.mode===Y0.TRIANGLE_FAN||m.mode===void 0)y=r.isSkinnedMesh===!0?new $4(g,_):new Ge(g,_),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),m.mode===Y0.TRIANGLE_STRIP?y.geometry=Qc(y.geometry,s8):m.mode===Y0.TRIANGLE_FAN&&(y.geometry=Qc(y.geometry,o4));else if(m.mode===Y0.LINES)y=new oi(g,_);else if(m.mode===Y0.LINE_STRIP)y=new nn(g,_);else if(m.mode===Y0.LINE_LOOP)y=new x8(g,_);else if(m.mode===Y0.POINTS)y=new _8(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(y.geometry.morphAttributes).length>0&&sP(y,r),y.name=e.createUniqueName(r.name||"mesh_"+t),ns(y,r),m.extensions&&Vs(n,y,m),e.assignFinalMaterial(y),u.push(y)}for(let f=0,p=u.length;f<p;f++)e.associations.set(u[f],{meshes:t,primitives:f});if(u.length===1)return r.extensions&&Vs(n,u[0],r),u[0];const d=new Ci;r.extensions&&Vs(n,d,r),e.associations.set(d,{meshes:t});for(let f=0,p=u.length;f<p;f++)d.add(u[f]);return d})}loadCamera(t){let e;const i=this.json.cameras[t],n=i[i.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?e=new He(Q0.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):i.type==="orthographic"&&(e=new f5(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),ns(e,i),Promise.resolve(e)}loadSkin(t){const e=this.json.skins[t],i=[];for(let n=0,r=e.joints.length;n<r;n++)i.push(this._loadNodeShallow(e.joints[n]));return e.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",e.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(n){const r=n.pop(),a=n,o=[],h=[];for(let l=0,c=a.length;l<c;l++){const u=a[l];if(u){o.push(u);const d=new Lt;r!==null&&d.fromArray(r.array,l*16),h.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[l])}return new m5(o,h)})}loadAnimation(t){const e=this.json,i=this,n=e.animations[t],r=n.name?n.name:"animation_"+t,a=[],o=[],h=[],l=[],c=[];for(let u=0,d=n.channels.length;u<d;u++){const f=n.channels[u],p=n.samplers[f.sampler],g=f.target,m=g.node,y=n.parameters!==void 0?n.parameters[p.input]:p.input,_=n.parameters!==void 0?n.parameters[p.output]:p.output;g.node!==void 0&&(a.push(this.getDependency("node",m)),o.push(this.getDependency("accessor",y)),h.push(this.getDependency("accessor",_)),l.push(p),c.push(g))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(h),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],f=u[1],p=u[2],g=u[3],m=u[4],y=[];for(let _=0,x=d.length;_<x;_++){const v=d[_],b=f[_],E=p[_],w=g[_],R=m[_];if(v===void 0)continue;v.updateMatrix&&(v.updateMatrix(),v.matrixAutoUpdate=!0);const S=i._createAnimationTracks(v,b,E,w,R);if(S)for(let A=0;A<S.length;A++)y.push(S[A])}return new Ms(r,void 0,y)})}createNodeMesh(t){const e=this.json,i=this,n=e.nodes[t];return n.mesh===void 0?null:i.getDependency("mesh",n.mesh).then(function(r){const a=i._getNodeRef(i.meshCache,n.mesh,r);return n.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let h=0,l=n.weights.length;h<l;h++)o.morphTargetInfluences[h]=n.weights[h]}),a})}loadNode(t){const e=this.json,i=this,n=e.nodes[t],r=i._loadNodeShallow(t),a=[],o=n.children||[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));const h=n.skin===void 0?Promise.resolve(null):i.getDependency("skin",n.skin);return Promise.all([r,Promise.all(a),h]).then(function(l){const c=l[0],u=l[1],d=l[2];d!==null&&c.traverse(function(f){f.isSkinnedMesh&&f.bind(d,oP)});for(let f=0,p=u.length;f<p;f++)c.add(u[f]);return c})}_loadNodeShallow(t){const e=this.json,i=this.extensions,n=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const r=e.nodes[t],a=r.name?n.createUniqueName(r.name):"",o=[],h=n._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(t)});return h&&o.push(h),r.camera!==void 0&&o.push(n.getDependency("camera",r.camera).then(function(l){return n._getNodeRef(n.cameraCache,r.camera,l)})),n._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(t)}).forEach(function(l){o.push(l)}),this.nodeCache[t]=Promise.all(o).then(function(l){let c;if(r.isBone===!0?c=new t5:l.length>1?c=new Ci:l.length===1?c=l[0]:c=new ae,c!==l[0])for(let u=0,d=l.length;u<d;u++)c.add(l[u]);if(r.name&&(c.userData.name=r.name,c.name=a),ns(c,r),r.extensions&&Vs(i,c,r),r.matrix!==void 0){const u=new Lt;u.fromArray(r.matrix),c.applyMatrix4(u)}else r.translation!==void 0&&c.position.fromArray(r.translation),r.rotation!==void 0&&c.quaternion.fromArray(r.rotation),r.scale!==void 0&&c.scale.fromArray(r.scale);return n.associations.has(c)||n.associations.set(c,{}),n.associations.get(c).nodes=t,c}),this.nodeCache[t]}loadScene(t){const e=this.extensions,i=this.json.scenes[t],n=this,r=new Ci;i.name&&(r.name=n.createUniqueName(i.name)),ns(r,i),i.extensions&&Vs(e,r,i);const a=i.nodes||[],o=[];for(let h=0,l=a.length;h<l;h++)o.push(n.getDependency("node",a[h]));return Promise.all(o).then(function(h){for(let c=0,u=h.length;c<u;c++)r.add(h[c]);const l=c=>{const u=new Map;for(const[d,f]of n.associations)(d instanceof Xe||d instanceof Oe)&&u.set(d,f);return c.traverse(d=>{const f=n.associations.get(d);f!=null&&u.set(d,f)}),u};return n.associations=l(r),r})}_createAnimationTracks(t,e,i,n,r){const a=[],o=t.name?t.name:t.uuid,h=[];Vn[r.path]===Vn.weights?t.traverse(function(d){d.morphTargetInfluences&&h.push(d.name?d.name:d.uuid)}):h.push(o);let l;switch(Vn[r.path]){case Vn.weights:l=vs;break;case Vn.rotation:l=In;break;case Vn.position:case Vn.scale:default:switch(i.itemSize){case 1:l=vs;break;case 2:case 3:l=w9;break}break}const c=n.interpolation!==void 0?eP[n.interpolation]:b9,u=this._getArrayFromAccessor(i);for(let d=0,f=h.length;d<f;d++){const p=new l(h[d]+"."+Vn[r.path],e.array,u,c);c==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(p),a.push(p)}return a}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const i=s6(e.constructor),n=new Float32Array(e.length);for(let r=0,a=e.length;r<a;r++)n[r]=e[r]*i;e=n}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(i){const n=this instanceof In?tP:cg;return new n(this.times,this.values,this.getValueSize()/3,i)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function lP(s,t,e){const i=t.attributes,n=new zi;if(i.POSITION!==void 0){const o=e.json.accessors[i.POSITION],h=o.min,l=o.max;if(h!==void 0&&l!==void 0){if(n.set(new L(h[0],h[1],h[2]),new L(l[0],l[1],l[2])),o.normalized){const c=s6(Ur[o.componentType]);n.min.multiplyScalar(c),n.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=t.targets;if(r!==void 0){const o=new L,h=new L;for(let l=0,c=r.length;l<c;l++){const u=r[l];if(u.POSITION!==void 0){const d=e.json.accessors[u.POSITION],f=d.min,p=d.max;if(f!==void 0&&p!==void 0){if(h.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),h.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),h.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),d.normalized){const g=s6(Ur[d.componentType]);h.multiplyScalar(g)}o.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(o)}s.boundingBox=n;const a=new ai;n.getCenter(a.center),a.radius=n.min.distanceTo(n.max)/2,s.boundingSphere=a}function nu(s,t,e){const i=t.attributes,n=[];function r(a,o){return e.getDependency("accessor",a).then(function(h){s.setAttribute(o,h)})}for(const a in i){const o=n6[a]||a.toLowerCase();o in s.attributes||n.push(r(i[a],o))}if(t.indices!==void 0&&!s.index){const a=e.getDependency("accessor",t.indices).then(function(o){s.setIndex(o)});n.push(a)}return ns(s,t),lP(s,t,e),Promise.all(n).then(function(){return t.targets!==void 0?nP(s,t.targets,e):s})}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var su=function(s){return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))};try{URL.revokeObjectURL(su(""))}catch{su=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var ti=Uint8Array,rs=Uint16Array,r6=Uint32Array,ug=new ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dg=new ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cP=new ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fg=function(s,t){for(var e=new rs(31),i=0;i<31;++i)e[i]=t+=1<<s[i-1];for(var n=new r6(e[30]),i=1;i<30;++i)for(var r=e[i];r<e[i+1];++r)n[r]=r-e[i]<<5|i;return[e,n]},pg=fg(ug,2),mg=pg[0],uP=pg[1];mg[28]=258,uP[258]=28;var dP=fg(dg,0),fP=dP[0],a6=new rs(32768);for(var xe=0;xe<32768;++xe){var Wn=(xe&43690)>>>1|(xe&21845)<<1;Wn=(Wn&52428)>>>2|(Wn&13107)<<2,Wn=(Wn&61680)>>>4|(Wn&3855)<<4,a6[xe]=((Wn&65280)>>>8|(Wn&255)<<8)>>>1}var m1=function(s,t,e){for(var i=s.length,n=0,r=new rs(t);n<i;++n)++r[s[n]-1];var a=new rs(t);for(n=0;n<t;++n)a[n]=a[n-1]+r[n-1]<<1;var o;if(e){o=new rs(1<<t);var h=15-t;for(n=0;n<i;++n)if(s[n])for(var l=n<<4|s[n],c=t-s[n],u=a[s[n]-1]++<<c,d=u|(1<<c)-1;u<=d;++u)o[a6[u]>>>h]=l}else for(o=new rs(i),n=0;n<i;++n)s[n]&&(o[n]=a6[a[s[n]-1]++]>>>15-s[n]);return o},J1=new ti(288);for(var xe=0;xe<144;++xe)J1[xe]=8;for(var xe=144;xe<256;++xe)J1[xe]=9;for(var xe=256;xe<280;++xe)J1[xe]=7;for(var xe=280;xe<288;++xe)J1[xe]=8;var gg=new ti(32);for(var xe=0;xe<32;++xe)gg[xe]=5;var pP=m1(J1,9,1),mP=m1(gg,5,1),y7=function(s){for(var t=s[0],e=1;e<s.length;++e)s[e]>t&&(t=s[e]);return t},fi=function(s,t,e){var i=t/8|0;return(s[i]|s[i+1]<<8)>>(t&7)&e},x7=function(s,t){var e=t/8|0;return(s[e]|s[e+1]<<8|s[e+2]<<16)>>(t&7)},gP=function(s){return(s/8|0)+(s&7&&1)},yP=function(s,t,e){(t==null||t<0)&&(t=0),(e==null||e>s.length)&&(e=s.length);var i=new(s instanceof rs?rs:s instanceof r6?r6:ti)(e-t);return i.set(s.subarray(t,e)),i},xP=function(s,t,e){var i=s.length;if(!i||e&&!e.l&&i<5)return t||new ti(0);var n=!t||e,r=!e||e.i;e||(e={}),t||(t=new ti(i*3));var a=function(Et){var q=t.length;if(Et>q){var lt=new ti(Math.max(q*2,Et));lt.set(t),t=lt}},o=e.f||0,h=e.p||0,l=e.b||0,c=e.l,u=e.d,d=e.m,f=e.n,p=i*8;do{if(!c){e.f=o=fi(s,h,1);var g=fi(s,h+1,3);if(h+=3,g)if(g==1)c=pP,u=mP,d=9,f=5;else if(g==2){var x=fi(s,h,31)+257,v=fi(s,h+10,15)+4,b=x+fi(s,h+5,31)+1;h+=14;for(var E=new ti(b),w=new ti(19),R=0;R<v;++R)w[cP[R]]=fi(s,h+R*3,7);h+=v*3;for(var S=y7(w),A=(1<<S)-1,U=m1(w,S,1),R=0;R<b;){var B=U[fi(s,h,A)];h+=B&15;var m=B>>>4;if(m<16)E[R++]=m;else{var F=0,H=0;for(m==16?(H=3+fi(s,h,3),h+=2,F=E[R-1]):m==17?(H=3+fi(s,h,7),h+=3):m==18&&(H=11+fi(s,h,127),h+=7);H--;)E[R++]=F}}var G=E.subarray(0,x),Y=E.subarray(x);d=y7(G),f=y7(Y),c=m1(G,d,1),u=m1(Y,f,1)}else throw"invalid block type";else{var m=gP(h)+4,y=s[m-4]|s[m-3]<<8,_=m+y;if(_>i){if(r)throw"unexpected EOF";break}n&&a(l+y),t.set(s.subarray(m,_),l),e.b=l+=y,e.p=h=_*8;continue}if(h>p){if(r)throw"unexpected EOF";break}}n&&a(l+131072);for(var $=(1<<d)-1,j=(1<<f)-1,rt=h;;rt=h){var F=c[x7(s,h)&$],at=F>>>4;if(h+=F&15,h>p){if(r)throw"unexpected EOF";break}if(!F)throw"invalid length/literal";if(at<256)t[l++]=at;else if(at==256){rt=h,c=null;break}else{var V=at-254;if(at>264){var R=at-257,tt=ug[R];V=fi(s,h,(1<<tt)-1)+mg[R],h+=tt}var yt=u[x7(s,h)&j],xt=yt>>>4;if(!yt)throw"invalid distance";h+=yt&15;var Y=fP[xt];if(xt>3){var tt=dg[xt];Y+=x7(s,h)&(1<<tt)-1,h+=tt}if(h>p){if(r)throw"unexpected EOF";break}n&&a(l+131072);for(var St=l+V;l<St;l+=4)t[l]=t[l-Y],t[l+1]=t[l+1-Y],t[l+2]=t[l+2-Y],t[l+3]=t[l+3-Y];l=St}}e.l=c,e.p=rt,e.b=l,c&&(o=1,e.m=d,e.d=u,e.n=f)}while(!o);return l==t.length?t:yP(t,0,l)},_P=new ti(0),vP=function(s){if((s[0]&15)!=8||s[0]>>>4>7||(s[0]<<8|s[1])%31)throw"invalid zlib data";if(s[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function MP(s,t){return xP((vP(s),s.subarray(2,-4)),t)}var bP=typeof TextDecoder<"u"&&new TextDecoder,SP=0;try{bP.decode(_P,{stream:!0}),SP=1}catch{}function yg(s,t,e){const i=e.length-s-1;if(t>=e[i])return i-1;if(t<=e[s])return s;let n=s,r=i,a=Math.floor((n+r)/2);for(;t<e[a]||t>=e[a+1];)t<e[a]?r=a:n=a,a=Math.floor((n+r)/2);return a}function wP(s,t,e,i){const n=[],r=[],a=[];n[0]=1;for(let o=1;o<=e;++o){r[o]=t-i[s+1-o],a[o]=i[s+o]-t;let h=0;for(let l=0;l<o;++l){const c=a[l+1],u=r[o-l],d=n[l]/(c+u);n[l]=h+c*d,h=u*d}n[o]=h}return n}function AP(s,t,e,i){const n=yg(s,i,t),r=wP(n,i,s,t),a=new ce(0,0,0,0);for(let o=0;o<=s;++o){const h=e[n-s+o],l=r[o],c=h.w*l;a.x+=h.x*c,a.y+=h.y*c,a.z+=h.z*c,a.w+=h.w*l}return a}function EP(s,t,e,i,n){const r=[];for(let u=0;u<=e;++u)r[u]=0;const a=[];for(let u=0;u<=i;++u)a[u]=r.slice(0);const o=[];for(let u=0;u<=e;++u)o[u]=r.slice(0);o[0][0]=1;const h=r.slice(0),l=r.slice(0);for(let u=1;u<=e;++u){h[u]=t-n[s+1-u],l[u]=n[s+u]-t;let d=0;for(let f=0;f<u;++f){const p=l[f+1],g=h[u-f];o[u][f]=p+g;const m=o[f][u-1]/o[u][f];o[f][u]=d+p*m,d=g*m}o[u][u]=d}for(let u=0;u<=e;++u)a[0][u]=o[u][e];for(let u=0;u<=e;++u){let d=0,f=1;const p=[];for(let g=0;g<=e;++g)p[g]=r.slice(0);p[0][0]=1;for(let g=1;g<=i;++g){let m=0;const y=u-g,_=e-g;u>=g&&(p[f][0]=p[d][0]/o[_+1][y],m=p[f][0]*o[y][_]);const x=y>=-1?1:-y,v=u-1<=_?g-1:e-u;for(let E=x;E<=v;++E)p[f][E]=(p[d][E]-p[d][E-1])/o[_+1][y+E],m+=p[f][E]*o[y+E][_];u<=_&&(p[f][g]=-p[d][g-1]/o[_+1][u],m+=p[f][g]*o[u][_]),a[g][u]=m;const b=d;d=f,f=b}}let c=e;for(let u=1;u<=i;++u){for(let d=0;d<=e;++d)a[u][d]*=c;c*=e-u}return a}function TP(s,t,e,i,n){const r=n<s?n:s,a=[],o=yg(s,i,t),h=EP(o,i,s,r,t),l=[];for(let c=0;c<e.length;++c){const u=e[c].clone(),d=u.w;u.x*=d,u.y*=d,u.z*=d,l[c]=u}for(let c=0;c<=r;++c){const u=l[o-s].clone().multiplyScalar(h[c][0]);for(let d=1;d<=s;++d)u.add(l[o-s+d].clone().multiplyScalar(h[c][d]));a[c]=u}for(let c=r+1;c<=n+1;++c)a[c]=new ce(0,0,0);return a}function CP(s,t){let e=1;for(let n=2;n<=s;++n)e*=n;let i=1;for(let n=2;n<=t;++n)i*=n;for(let n=2;n<=s-t;++n)i*=n;return e/i}function RP(s){const t=s.length,e=[],i=[];for(let r=0;r<t;++r){const a=s[r];e[r]=new L(a.x,a.y,a.z),i[r]=a.w}const n=[];for(let r=0;r<t;++r){const a=e[r].clone();for(let o=1;o<=r;++o)a.sub(n[r-o].clone().multiplyScalar(CP(r,o)*i[o]));n[r]=a.divideScalar(i[0])}return n}function PP(s,t,e,i,n){const r=TP(s,t,e,i,n);return RP(r)}class LP extends hi{constructor(t,e,i,n,r){super(),this.degree=t,this.knots=e,this.controlPoints=[],this.startKnot=n||0,this.endKnot=r||this.knots.length-1;for(let a=0;a<i.length;++a){const o=i[a];this.controlPoints[a]=new ce(o.x,o.y,o.z,o.w)}}getPoint(t,e=new L){const i=e,n=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),r=AP(this.degree,this.knots,this.controlPoints,n);return r.w!==1&&r.divideScalar(r.w),i.set(r.x,r.y,r.z)}getTangent(t,e=new L){const i=e,n=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),r=PP(this.degree,this.knots,this.controlPoints,n,1);return i.copy(r[1]).normalize(),i}}let ee,Ne,M0;class IP extends n0{constructor(t){super(t)}load(t,e,i,n){const r=this,a=r.path===""?A9.extractUrlBase(t):r.path,o=new ri(this.manager);o.setPath(r.path),o.setResponseType("arraybuffer"),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(h){try{e(r.parse(h,a))}catch(l){n?n(l):console.error(l),r.manager.itemError(t)}},i,n)}parse(t,e){if(BP(t))ee=new zP().parse(t);else{const n=Mg(t);if(!UP(n))throw new Error("THREE.FBXLoader: Unknown format.");if(au(n)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+au(n));ee=new OP().parse(n)}const i=new lo(this.manager).setPath(this.resourcePath||e).setCrossOrigin(this.crossOrigin);return new NP(i,this.manager).parse(ee)}}class NP{constructor(t,e){this.textureLoader=t,this.manager=e}parse(){Ne=this.parseConnections();const t=this.parseImages(),e=this.parseTextures(t),i=this.parseMaterials(e),n=this.parseDeformers(),r=new DP().parse(n);return this.parseScene(n,r,i),M0}parseConnections(){const t=new Map;return"Connections"in ee&&ee.Connections.connections.forEach(function(i){const n=i[0],r=i[1],a=i[2];t.has(n)||t.set(n,{parents:[],children:[]});const o={ID:r,relationship:a};t.get(n).parents.push(o),t.has(r)||t.set(r,{parents:[],children:[]});const h={ID:n,relationship:a};t.get(r).children.push(h)}),t}parseImages(){const t={},e={};if("Video"in ee.Objects){const i=ee.Objects.Video;for(const n in i){const r=i[n],a=parseInt(n);if(t[a]=r.RelativeFilename||r.Filename,"Content"in r){const o=r.Content instanceof ArrayBuffer&&r.Content.byteLength>0,h=typeof r.Content=="string"&&r.Content!=="";if(o||h){const l=this.parseImage(i[n]);e[r.RelativeFilename||r.Filename]=l}}}}for(const i in t){const n=t[i];e[n]!==void 0?t[i]=e[n]:t[i]=t[i].split("\\").pop()}return t}parseImage(t){const e=t.Content,i=t.RelativeFilename||t.Filename,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();let r;switch(n){case"bmp":r="image/bmp";break;case"jpg":case"jpeg":r="image/jpeg";break;case"png":r="image/png";break;case"tif":r="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",i),r="image/tga";break;default:console.warn('FBXLoader: Image type "'+n+'" is not supported.');return}if(typeof e=="string")return"data:"+r+";base64,"+e;{const a=new Uint8Array(e);return window.URL.createObjectURL(new Blob([a],{type:r}))}}parseTextures(t){const e=new Map;if("Texture"in ee.Objects){const i=ee.Objects.Texture;for(const n in i){const r=this.parseTexture(i[n],t);e.set(parseInt(n),r)}}return e}parseTexture(t,e){const i=this.loadTexture(t,e);i.ID=t.id,i.name=t.attrName;const n=t.WrapModeU,r=t.WrapModeV,a=n!==void 0?n.value:0,o=r!==void 0?r.value:0;if(i.wrapS=a===0?tn:We,i.wrapT=o===0?tn:We,"Scaling"in t){const h=t.Scaling.value;i.repeat.x=h[0],i.repeat.y=h[1]}if("Translation"in t){const h=t.Translation.value;i.offset.x=h[0],i.offset.y=h[1]}return i}loadTexture(t,e){let i;const n=this.textureLoader.path,r=Ne.get(t.id).children;r!==void 0&&r.length>0&&e[r[0].ID]!==void 0&&(i=e[r[0].ID],(i.indexOf("blob:")===0||i.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let a;const o=t.FileName.slice(-3).toLowerCase();if(o==="tga"){const h=this.manager.getHandler(".tga");h===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",t.RelativeFilename),a=new Oe):(h.setPath(this.textureLoader.path),a=h.load(i))}else o==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",t.RelativeFilename),a=new Oe):a=this.textureLoader.load(i);return this.textureLoader.setPath(n),a}parseMaterials(t){const e=new Map;if("Material"in ee.Objects){const i=ee.Objects.Material;for(const n in i){const r=this.parseMaterial(i[n],t);r!==null&&e.set(parseInt(n),r)}}return e}parseMaterial(t,e){const i=t.id,n=t.attrName;let r=t.ShadingModel;if(typeof r=="object"&&(r=r.value),!Ne.has(i))return null;const a=this.parseParameters(t,e,i);let o;switch(r.toLowerCase()){case"phong":o=new f1;break;case"lambert":o=new C8;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',r),o=new f1;break}return o.setValues(a),o.name=n,o}parseParameters(t,e,i){const n={};t.BumpFactor&&(n.bumpScale=t.BumpFactor.value),t.Diffuse?n.color=new _t().fromArray(t.Diffuse.value).convertSRGBToLinear():t.DiffuseColor&&(t.DiffuseColor.type==="Color"||t.DiffuseColor.type==="ColorRGB")&&(n.color=new _t().fromArray(t.DiffuseColor.value).convertSRGBToLinear()),t.DisplacementFactor&&(n.displacementScale=t.DisplacementFactor.value),t.Emissive?n.emissive=new _t().fromArray(t.Emissive.value).convertSRGBToLinear():t.EmissiveColor&&(t.EmissiveColor.type==="Color"||t.EmissiveColor.type==="ColorRGB")&&(n.emissive=new _t().fromArray(t.EmissiveColor.value).convertSRGBToLinear()),t.EmissiveFactor&&(n.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),t.Opacity&&(n.opacity=parseFloat(t.Opacity.value)),n.opacity<1&&(n.transparent=!0),t.ReflectionFactor&&(n.reflectivity=t.ReflectionFactor.value),t.Shininess&&(n.shininess=t.Shininess.value),t.Specular?n.specular=new _t().fromArray(t.Specular.value).convertSRGBToLinear():t.SpecularColor&&t.SpecularColor.type==="Color"&&(n.specular=new _t().fromArray(t.SpecularColor.value).convertSRGBToLinear());const r=this;return Ne.get(i).children.forEach(function(a){const o=a.relationship;switch(o){case"Bump":n.bumpMap=r.getTexture(e,a.ID);break;case"Maya|TEX_ao_map":n.aoMap=r.getTexture(e,a.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":n.map=r.getTexture(e,a.ID),n.map!==void 0&&(n.map.colorSpace=Ut);break;case"DisplacementColor":n.displacementMap=r.getTexture(e,a.ID);break;case"EmissiveColor":n.emissiveMap=r.getTexture(e,a.ID),n.emissiveMap!==void 0&&(n.emissiveMap.colorSpace=Ut);break;case"NormalMap":case"Maya|TEX_normal_map":n.normalMap=r.getTexture(e,a.ID);break;case"ReflectionColor":n.envMap=r.getTexture(e,a.ID),n.envMap!==void 0&&(n.envMap.mapping=jr,n.envMap.colorSpace=Ut);break;case"SpecularColor":n.specularMap=r.getTexture(e,a.ID),n.specularMap!==void 0&&(n.specularMap.colorSpace=Ut);break;case"TransparentColor":case"TransparencyFactor":n.alphaMap=r.getTexture(e,a.ID),n.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o);break}}),n}getTexture(t,e){return"LayeredTexture"in ee.Objects&&e in ee.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),e=Ne.get(e).children[0].ID),t.get(e)}parseDeformers(){const t={},e={};if("Deformer"in ee.Objects){const i=ee.Objects.Deformer;for(const n in i){const r=i[n],a=Ne.get(parseInt(n));if(r.attrType==="Skin"){const o=this.parseSkeleton(a,i);o.ID=n,a.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=a.parents[0].ID,t[n]=o}else if(r.attrType==="BlendShape"){const o={id:n};o.rawTargets=this.parseMorphTargets(a,i),o.id=n,a.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),e[n]=o}}}return{skeletons:t,morphTargets:e}}parseSkeleton(t,e){const i=[];return t.children.forEach(function(n){const r=e[n.ID];if(r.attrType!=="Cluster")return;const a={ID:n.ID,indices:[],weights:[],transformLink:new Lt().fromArray(r.TransformLink.a)};"Indexes"in r&&(a.indices=r.Indexes.a,a.weights=r.Weights.a),i.push(a)}),{rawBones:i,bones:[]}}parseMorphTargets(t,e){const i=[];for(let n=0;n<t.children.length;n++){const r=t.children[n],a=e[r.ID],o={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if(a.attrType!=="BlendShapeChannel")return;o.geoID=Ne.get(parseInt(r.ID)).children.filter(function(h){return h.relationship===void 0})[0].ID,i.push(o)}return i}parseScene(t,e,i){M0=new Ci;const n=this.parseModels(t.skeletons,e,i),r=ee.Objects.Model,a=this;n.forEach(function(h){const l=r[h.ID];a.setLookAtProperties(h,l),Ne.get(h.ID).parents.forEach(function(u){const d=n.get(u.ID);d!==void 0&&d.add(h)}),h.parent===null&&M0.add(h)}),this.bindSkeleton(t.skeletons,e,n),this.createAmbientLight(),M0.traverse(function(h){if(h.userData.transformData){h.parent&&(h.userData.transformData.parentMatrix=h.parent.matrix,h.userData.transformData.parentMatrixWorld=h.parent.matrixWorld);const l=_g(h.userData.transformData);h.applyMatrix4(l),h.updateWorldMatrix()}});const o=new FP().parse();M0.children.length===1&&M0.children[0].isGroup&&(M0.children[0].animations=o,M0=M0.children[0]),M0.animations=o}parseModels(t,e,i){const n=new Map,r=ee.Objects.Model;for(const a in r){const o=parseInt(a),h=r[a],l=Ne.get(o);let c=this.buildSkeleton(l,t,o,h.attrName);if(!c){switch(h.attrType){case"Camera":c=this.createCamera(l);break;case"Light":c=this.createLight(l);break;case"Mesh":c=this.createMesh(l,e,i);break;case"NurbsCurve":c=this.createCurve(l,e);break;case"LimbNode":case"Root":c=new t5;break;case"Null":default:c=new Ci;break}c.name=h.attrName?Qt.sanitizeNodeName(h.attrName):"",c.ID=o}this.getTransformData(c,h),n.set(o,c)}return n}buildSkeleton(t,e,i,n){let r=null;return t.parents.forEach(function(a){for(const o in e){const h=e[o];h.rawBones.forEach(function(l,c){if(l.ID===a.ID){const u=r;r=new t5,r.matrixWorld.copy(l.transformLink),r.name=n?Qt.sanitizeNodeName(n):"",r.ID=i,h.bones[c]=r,u!==null&&r.add(u)}})}}),r}createCamera(t){let e,i;if(t.children.forEach(function(n){const r=ee.Objects.NodeAttribute[n.ID];r!==void 0&&(i=r)}),i===void 0)e=new ae;else{let n=0;i.CameraProjectionType!==void 0&&i.CameraProjectionType.value===1&&(n=1);let r=1;i.NearPlane!==void 0&&(r=i.NearPlane.value/1e3);let a=1e3;i.FarPlane!==void 0&&(a=i.FarPlane.value/1e3);let o=window.innerWidth,h=window.innerHeight;i.AspectWidth!==void 0&&i.AspectHeight!==void 0&&(o=i.AspectWidth.value,h=i.AspectHeight.value);const l=o/h;let c=45;i.FieldOfView!==void 0&&(c=i.FieldOfView.value);const u=i.FocalLength?i.FocalLength.value:null;switch(n){case 0:e=new He(c,l,r,a),u!==null&&e.setFocalLength(u);break;case 1:e=new f5(-o/2,o/2,h/2,-h/2,r,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+n+"."),e=new ae;break}}return e}createLight(t){let e,i;if(t.children.forEach(function(n){const r=ee.Objects.NodeAttribute[n.ID];r!==void 0&&(i=r)}),i===void 0)e=new ae;else{let n;i.LightType===void 0?n=0:n=i.LightType.value;let r=16777215;i.Color!==void 0&&(r=new _t().fromArray(i.Color.value).convertSRGBToLinear());let a=i.Intensity===void 0?1:i.Intensity.value/100;i.CastLightOnObject!==void 0&&i.CastLightOnObject.value===0&&(a=0);let o=0;i.FarAttenuationEnd!==void 0&&(i.EnableFarAttenuation!==void 0&&i.EnableFarAttenuation.value===0?o=0:o=i.FarAttenuationEnd.value);const h=1;switch(n){case 0:e=new z1(r,a,o,h);break;case 1:e=new Z1(r,a);break;case 2:let l=Math.PI/3;i.InnerAngle!==void 0&&(l=Q0.degToRad(i.InnerAngle.value));let c=0;i.OuterAngle!==void 0&&(c=Q0.degToRad(i.OuterAngle.value),c=Math.max(c,1)),e=new Y1(r,a,o,l,c,h);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),e=new z1(r,a);break}i.CastShadows!==void 0&&i.CastShadows.value===1&&(e.castShadow=!0)}return e}createMesh(t,e,i){let n,r=null,a=null;const o=[];return t.children.forEach(function(h){e.has(h.ID)&&(r=e.get(h.ID)),i.has(h.ID)&&o.push(i.get(h.ID))}),o.length>1?a=o:o.length>0?a=o[0]:(a=new f1({name:n0.DEFAULT_MATERIAL_NAME,color:13421772}),o.push(a)),"color"in r.attributes&&o.forEach(function(h){h.vertexColors=!0}),r.FBX_Deformer?(n=new $4(r,a),n.normalizeSkinWeights()):n=new Ge(r,a),n}createCurve(t,e){const i=t.children.reduce(function(r,a){return e.has(a.ID)&&(r=e.get(a.ID)),r},null),n=new Ze({name:n0.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new nn(i,n)}getTransformData(t,e){const i={};"InheritType"in e&&(i.inheritType=parseInt(e.InheritType.value)),"RotationOrder"in e?i.eulerOrder=vg(e.RotationOrder.value):i.eulerOrder="ZYX","Lcl_Translation"in e&&(i.translation=e.Lcl_Translation.value),"PreRotation"in e&&(i.preRotation=e.PreRotation.value),"Lcl_Rotation"in e&&(i.rotation=e.Lcl_Rotation.value),"PostRotation"in e&&(i.postRotation=e.PostRotation.value),"Lcl_Scaling"in e&&(i.scale=e.Lcl_Scaling.value),"ScalingOffset"in e&&(i.scalingOffset=e.ScalingOffset.value),"ScalingPivot"in e&&(i.scalingPivot=e.ScalingPivot.value),"RotationOffset"in e&&(i.rotationOffset=e.RotationOffset.value),"RotationPivot"in e&&(i.rotationPivot=e.RotationPivot.value),t.userData.transformData=i}setLookAtProperties(t,e){"LookAtProperty"in e&&Ne.get(t.ID).children.forEach(function(n){if(n.relationship==="LookAtProperty"){const r=ee.Objects.Model[n.ID];if("Lcl_Translation"in r){const a=r.Lcl_Translation.value;t.target!==void 0?(t.target.position.fromArray(a),M0.add(t.target)):t.lookAt(new L().fromArray(a))}}})}bindSkeleton(t,e,i){const n=this.parsePoseNodes();for(const r in t){const a=t[r];Ne.get(parseInt(a.ID)).parents.forEach(function(h){if(e.has(h.ID)){const l=h.ID;Ne.get(l).parents.forEach(function(u){i.has(u.ID)&&i.get(u.ID).bind(new m5(a.bones),n[u.ID])})}})}}parsePoseNodes(){const t={};if("Pose"in ee.Objects){const e=ee.Objects.Pose;for(const i in e)if(e[i].attrType==="BindPose"&&e[i].NbPoseNodes>0){const n=e[i].PoseNode;Array.isArray(n)?n.forEach(function(r){t[r.Node]=new Lt().fromArray(r.Matrix.a)}):t[n.Node]=new Lt().fromArray(n.Matrix.a)}}return t}createAmbientLight(){if("GlobalSettings"in ee&&"AmbientColor"in ee.GlobalSettings){const t=ee.GlobalSettings.AmbientColor.value,e=t[0],i=t[1],n=t[2];if(e!==0||i!==0||n!==0){const r=new _t(e,i,n).convertSRGBToLinear();M0.add(new co(r,1))}}}}class DP{constructor(){this.negativeMaterialIndices=!1}parse(t){const e=new Map;if("Geometry"in ee.Objects){const i=ee.Objects.Geometry;for(const n in i){const r=Ne.get(parseInt(n)),a=this.parseGeometry(r,i[n],t);e.set(parseInt(n),a)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),e}parseGeometry(t,e,i){switch(e.attrType){case"Mesh":return this.parseMeshGeometry(t,e,i);case"NurbsCurve":return this.parseNurbsGeometry(e)}}parseMeshGeometry(t,e,i){const n=i.skeletons,r=[],a=t.parents.map(function(u){return ee.Objects.Model[u.ID]});if(a.length===0)return;const o=t.children.reduce(function(u,d){return n[d.ID]!==void 0&&(u=n[d.ID]),u},null);t.children.forEach(function(u){i.morphTargets[u.ID]!==void 0&&r.push(i.morphTargets[u.ID])});const h=a[0],l={};"RotationOrder"in h&&(l.eulerOrder=vg(h.RotationOrder.value)),"InheritType"in h&&(l.inheritType=parseInt(h.InheritType.value)),"GeometricTranslation"in h&&(l.translation=h.GeometricTranslation.value),"GeometricRotation"in h&&(l.rotation=h.GeometricRotation.value),"GeometricScaling"in h&&(l.scale=h.GeometricScaling.value);const c=_g(l);return this.genGeometry(e,o,r,c)}genGeometry(t,e,i,n){const r=new jt;t.attrName&&(r.name=t.attrName);const a=this.parseGeoNode(t,e),o=this.genBuffers(a),h=new Nt(o.vertex,3);if(h.applyMatrix4(n),r.setAttribute("position",h),o.colors.length>0&&r.setAttribute("color",new Nt(o.colors,3)),e&&(r.setAttribute("skinIndex",new k4(o.weightsIndices,4)),r.setAttribute("skinWeight",new Nt(o.vertexWeights,4)),r.FBX_Deformer=e),o.normal.length>0){const l=new Kt().getNormalMatrix(n),c=new Nt(o.normal,3);c.applyNormalMatrix(l),r.setAttribute("normal",c)}if(o.uvs.forEach(function(l,c){const u=c===0?"uv":`uv${c}`;r.setAttribute(u,new Nt(o.uvs[c],2))}),a.material&&a.material.mappingType!=="AllSame"){let l=o.materialIndex[0],c=0;if(o.materialIndex.forEach(function(u,d){u!==l&&(r.addGroup(c,d-c,l),l=u,c=d)}),r.groups.length>0){const u=r.groups[r.groups.length-1],d=u.start+u.count;d!==o.materialIndex.length&&r.addGroup(d,o.materialIndex.length-d,l)}r.groups.length===0&&r.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(r,t,i,n),r}parseGeoNode(t,e){const i={};if(i.vertexPositions=t.Vertices!==void 0?t.Vertices.a:[],i.vertexIndices=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(i.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(i.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(i.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){i.uv=[];let n=0;for(;t.LayerElementUV[n];)t.LayerElementUV[n].UV&&i.uv.push(this.parseUVs(t.LayerElementUV[n])),n++}return i.weightTable={},e!==null&&(i.skeleton=e,e.rawBones.forEach(function(n,r){n.indices.forEach(function(a,o){i.weightTable[a]===void 0&&(i.weightTable[a]=[]),i.weightTable[a].push({id:r,weight:n.weights[o]})})})),i}genBuffers(t){const e={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let i=0,n=0,r=!1,a=[],o=[],h=[],l=[],c=[],u=[];const d=this;return t.vertexIndices.forEach(function(f,p){let g,m=!1;f<0&&(f=f^-1,m=!0);let y=[],_=[];if(a.push(f*3,f*3+1,f*3+2),t.color){const x=ia(p,i,f,t.color);h.push(x[0],x[1],x[2])}if(t.skeleton){if(t.weightTable[f]!==void 0&&t.weightTable[f].forEach(function(x){_.push(x.weight),y.push(x.id)}),_.length>4){r||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),r=!0);const x=[0,0,0,0],v=[0,0,0,0];_.forEach(function(b,E){let w=b,R=y[E];v.forEach(function(S,A,U){if(w>S){U[A]=w,w=S;const B=x[A];x[A]=R,R=B}})}),y=x,_=v}for(;_.length<4;)_.push(0),y.push(0);for(let x=0;x<4;++x)c.push(_[x]),u.push(y[x])}if(t.normal){const x=ia(p,i,f,t.normal);o.push(x[0],x[1],x[2])}t.material&&t.material.mappingType!=="AllSame"&&(g=ia(p,i,f,t.material)[0],g<0&&(d.negativeMaterialIndices=!0,g=0)),t.uv&&t.uv.forEach(function(x,v){const b=ia(p,i,f,x);l[v]===void 0&&(l[v]=[]),l[v].push(b[0]),l[v].push(b[1])}),n++,m&&(n>4&&console.warn("THREE.FBXLoader: Polygons with more than four sides are not supported. Make sure to triangulate the geometry during export."),d.genFace(e,t,a,g,o,h,l,c,u,n),i++,n=0,a=[],o=[],h=[],l=[],c=[],u=[])}),e}genFace(t,e,i,n,r,a,o,h,l,c){for(let u=2;u<c;u++)t.vertex.push(e.vertexPositions[i[0]]),t.vertex.push(e.vertexPositions[i[1]]),t.vertex.push(e.vertexPositions[i[2]]),t.vertex.push(e.vertexPositions[i[(u-1)*3]]),t.vertex.push(e.vertexPositions[i[(u-1)*3+1]]),t.vertex.push(e.vertexPositions[i[(u-1)*3+2]]),t.vertex.push(e.vertexPositions[i[u*3]]),t.vertex.push(e.vertexPositions[i[u*3+1]]),t.vertex.push(e.vertexPositions[i[u*3+2]]),e.skeleton&&(t.vertexWeights.push(h[0]),t.vertexWeights.push(h[1]),t.vertexWeights.push(h[2]),t.vertexWeights.push(h[3]),t.vertexWeights.push(h[(u-1)*4]),t.vertexWeights.push(h[(u-1)*4+1]),t.vertexWeights.push(h[(u-1)*4+2]),t.vertexWeights.push(h[(u-1)*4+3]),t.vertexWeights.push(h[u*4]),t.vertexWeights.push(h[u*4+1]),t.vertexWeights.push(h[u*4+2]),t.vertexWeights.push(h[u*4+3]),t.weightsIndices.push(l[0]),t.weightsIndices.push(l[1]),t.weightsIndices.push(l[2]),t.weightsIndices.push(l[3]),t.weightsIndices.push(l[(u-1)*4]),t.weightsIndices.push(l[(u-1)*4+1]),t.weightsIndices.push(l[(u-1)*4+2]),t.weightsIndices.push(l[(u-1)*4+3]),t.weightsIndices.push(l[u*4]),t.weightsIndices.push(l[u*4+1]),t.weightsIndices.push(l[u*4+2]),t.weightsIndices.push(l[u*4+3])),e.color&&(t.colors.push(a[0]),t.colors.push(a[1]),t.colors.push(a[2]),t.colors.push(a[(u-1)*3]),t.colors.push(a[(u-1)*3+1]),t.colors.push(a[(u-1)*3+2]),t.colors.push(a[u*3]),t.colors.push(a[u*3+1]),t.colors.push(a[u*3+2])),e.material&&e.material.mappingType!=="AllSame"&&(t.materialIndex.push(n),t.materialIndex.push(n),t.materialIndex.push(n)),e.normal&&(t.normal.push(r[0]),t.normal.push(r[1]),t.normal.push(r[2]),t.normal.push(r[(u-1)*3]),t.normal.push(r[(u-1)*3+1]),t.normal.push(r[(u-1)*3+2]),t.normal.push(r[u*3]),t.normal.push(r[u*3+1]),t.normal.push(r[u*3+2])),e.uv&&e.uv.forEach(function(d,f){t.uvs[f]===void 0&&(t.uvs[f]=[]),t.uvs[f].push(o[f][0]),t.uvs[f].push(o[f][1]),t.uvs[f].push(o[f][(u-1)*2]),t.uvs[f].push(o[f][(u-1)*2+1]),t.uvs[f].push(o[f][u*2]),t.uvs[f].push(o[f][u*2+1])})}addMorphTargets(t,e,i,n){if(i.length===0)return;t.morphTargetsRelative=!0,t.morphAttributes.position=[];const r=this;i.forEach(function(a){a.rawTargets.forEach(function(o){const h=ee.Objects.Geometry[o.geoID];h!==void 0&&r.genMorphGeometry(t,e,h,n,o.name)})})}genMorphGeometry(t,e,i,n,r){const a=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],o=i.Vertices!==void 0?i.Vertices.a:[],h=i.Indexes!==void 0?i.Indexes.a:[],l=t.attributes.position.count*3,c=new Float32Array(l);for(let p=0;p<h.length;p++){const g=h[p]*3;c[g]=o[p*3],c[g+1]=o[p*3+1],c[g+2]=o[p*3+2]}const u={vertexIndices:a,vertexPositions:c},d=this.genBuffers(u),f=new Nt(d.vertex,3);f.name=r||i.attrName,f.applyMatrix4(n),t.morphAttributes.position.push(f)}parseNormals(t){const e=t.MappingInformationType,i=t.ReferenceInformationType,n=t.Normals.a;let r=[];return i==="IndexToDirect"&&("NormalIndex"in t?r=t.NormalIndex.a:"NormalsIndex"in t&&(r=t.NormalsIndex.a)),{dataSize:3,buffer:n,indices:r,mappingType:e,referenceType:i}}parseUVs(t){const e=t.MappingInformationType,i=t.ReferenceInformationType,n=t.UV.a;let r=[];return i==="IndexToDirect"&&(r=t.UVIndex.a),{dataSize:2,buffer:n,indices:r,mappingType:e,referenceType:i}}parseVertexColors(t){const e=t.MappingInformationType,i=t.ReferenceInformationType,n=t.Colors.a;let r=[];i==="IndexToDirect"&&(r=t.ColorIndex.a);for(let a=0,o=new _t;a<n.length;a+=4)o.fromArray(n,a).convertSRGBToLinear().toArray(n,a);return{dataSize:4,buffer:n,indices:r,mappingType:e,referenceType:i}}parseMaterialIndices(t){const e=t.MappingInformationType,i=t.ReferenceInformationType;if(e==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};const n=t.Materials.a,r=[];for(let a=0;a<n.length;++a)r.push(a);return{dataSize:1,buffer:n,indices:r,mappingType:e,referenceType:i}}parseNurbsGeometry(t){const e=parseInt(t.Order);if(isNaN(e))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new jt;const i=e-1,n=t.KnotVector.a,r=[],a=t.Points.a;for(let u=0,d=a.length;u<d;u+=4)r.push(new ce().fromArray(a,u));let o,h;if(t.Form==="Closed")r.push(r[0]);else if(t.Form==="Periodic"){o=i,h=n.length-1-o;for(let u=0;u<i;++u)r.push(r[u])}const c=new LP(i,n,r,o,h).getPoints(r.length*12);return new jt().setFromPoints(c)}}class FP{parse(){const t=[],e=this.parseClips();if(e!==void 0)for(const i in e){const n=e[i],r=this.addClip(n);t.push(r)}return t}parseClips(){if(ee.Objects.AnimationCurve===void 0)return;const t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);const e=this.parseAnimationLayers(t);return this.parseAnimStacks(e)}parseAnimationCurveNodes(){const t=ee.Objects.AnimationCurveNode,e=new Map;for(const i in t){const n=t[i];if(n.attrName.match(/S|R|T|DeformPercent/)!==null){const r={id:n.id,attr:n.attrName,curves:{}};e.set(r.id,r)}}return e}parseAnimationCurves(t){const e=ee.Objects.AnimationCurve;for(const i in e){const n={id:e[i].id,times:e[i].KeyTime.a.map(kP),values:e[i].KeyValueFloat.a},r=Ne.get(n.id);if(r!==void 0){const a=r.parents[0].ID,o=r.parents[0].relationship;o.match(/X/)?t.get(a).curves.x=n:o.match(/Y/)?t.get(a).curves.y=n:o.match(/Z/)?t.get(a).curves.z=n:o.match(/DeformPercent/)&&t.has(a)&&(t.get(a).curves.morph=n)}}}parseAnimationLayers(t){const e=ee.Objects.AnimationLayer,i=new Map;for(const n in e){const r=[],a=Ne.get(parseInt(n));a!==void 0&&(a.children.forEach(function(h,l){if(t.has(h.ID)){const c=t.get(h.ID);if(c.curves.x!==void 0||c.curves.y!==void 0||c.curves.z!==void 0){if(r[l]===void 0){const u=Ne.get(h.ID).parents.filter(function(d){return d.relationship!==void 0})[0].ID;if(u!==void 0){const d=ee.Objects.Model[u.toString()];if(d===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",h);return}const f={modelName:d.attrName?Qt.sanitizeNodeName(d.attrName):"",ID:d.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};M0.traverse(function(p){p.ID===d.id&&(f.transform=p.matrix,p.userData.transformData&&(f.eulerOrder=p.userData.transformData.eulerOrder))}),f.transform||(f.transform=new Lt),"PreRotation"in d&&(f.preRotation=d.PreRotation.value),"PostRotation"in d&&(f.postRotation=d.PostRotation.value),r[l]=f}}r[l]&&(r[l][c.attr]=c)}else if(c.curves.morph!==void 0){if(r[l]===void 0){const u=Ne.get(h.ID).parents.filter(function(y){return y.relationship!==void 0})[0].ID,d=Ne.get(u).parents[0].ID,f=Ne.get(d).parents[0].ID,p=Ne.get(f).parents[0].ID,g=ee.Objects.Model[p],m={modelName:g.attrName?Qt.sanitizeNodeName(g.attrName):"",morphName:ee.Objects.Deformer[u].attrName};r[l]=m}r[l][c.attr]=c}}}),i.set(parseInt(n),r))}return i}parseAnimStacks(t){const e=ee.Objects.AnimationStack,i={};for(const n in e){const r=Ne.get(parseInt(n)).children;r.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const a=t.get(r[0].ID);i[n]={name:e[n].attrName,layer:a}}return i}addClip(t){let e=[];const i=this;return t.layer.forEach(function(n){e=e.concat(i.generateTracks(n))}),new Ms(t.name,-1,e)}generateTracks(t){const e=[];let i=new L,n=new we,r=new L;if(t.transform&&t.transform.decompose(i,n,r),i=i.toArray(),n=new Ti().setFromQuaternion(n,t.eulerOrder).toArray(),r=r.toArray(),t.T!==void 0&&Object.keys(t.T.curves).length>0){const a=this.generateVectorTrack(t.modelName,t.T.curves,i,"position");a!==void 0&&e.push(a)}if(t.R!==void 0&&Object.keys(t.R.curves).length>0){const a=this.generateRotationTrack(t.modelName,t.R.curves,n,t.preRotation,t.postRotation,t.eulerOrder);a!==void 0&&e.push(a)}if(t.S!==void 0&&Object.keys(t.S.curves).length>0){const a=this.generateVectorTrack(t.modelName,t.S.curves,r,"scale");a!==void 0&&e.push(a)}if(t.DeformPercent!==void 0){const a=this.generateMorphTrack(t);a!==void 0&&e.push(a)}return e}generateVectorTrack(t,e,i,n){const r=this.getTimesForAllAxes(e),a=this.getKeyframeTrackValues(r,e,i);return new w9(t+"."+n,r,a)}generateRotationTrack(t,e,i,n,r,a){e.x!==void 0&&(this.interpolateRotations(e.x),e.x.values=e.x.values.map(Q0.degToRad)),e.y!==void 0&&(this.interpolateRotations(e.y),e.y.values=e.y.values.map(Q0.degToRad)),e.z!==void 0&&(this.interpolateRotations(e.z),e.z.values=e.z.values.map(Q0.degToRad));const o=this.getTimesForAllAxes(e),h=this.getKeyframeTrackValues(o,e,i);n!==void 0&&(n=n.map(Q0.degToRad),n.push(a),n=new Ti().fromArray(n),n=new we().setFromEuler(n)),r!==void 0&&(r=r.map(Q0.degToRad),r.push(a),r=new Ti().fromArray(r),r=new we().setFromEuler(r).invert());const l=new we,c=new Ti,u=[];for(let d=0;d<h.length;d+=3)c.set(h[d],h[d+1],h[d+2],a),l.setFromEuler(c),n!==void 0&&l.premultiply(n),r!==void 0&&l.multiply(r),l.toArray(u,d/3*4);return new In(t+".quaternion",o,u)}generateMorphTrack(t){const e=t.DeformPercent.curves.morph,i=e.values.map(function(r){return r/100}),n=M0.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new vs(t.modelName+".morphTargetInfluences["+n+"]",e.times,i)}getTimesForAllAxes(t){let e=[];if(t.x!==void 0&&(e=e.concat(t.x.times)),t.y!==void 0&&(e=e.concat(t.y.times)),t.z!==void 0&&(e=e.concat(t.z.times)),e=e.sort(function(i,n){return i-n}),e.length>1){let i=1,n=e[0];for(let r=1;r<e.length;r++){const a=e[r];a!==n&&(e[i]=a,n=a,i++)}e=e.slice(0,i)}return e}getKeyframeTrackValues(t,e,i){const n=i,r=[];let a=-1,o=-1,h=-1;return t.forEach(function(l){if(e.x&&(a=e.x.times.indexOf(l)),e.y&&(o=e.y.times.indexOf(l)),e.z&&(h=e.z.times.indexOf(l)),a!==-1){const c=e.x.values[a];r.push(c),n[0]=c}else r.push(n[0]);if(o!==-1){const c=e.y.values[o];r.push(c),n[1]=c}else r.push(n[1]);if(h!==-1){const c=e.z.values[h];r.push(c),n[2]=c}else r.push(n[2])}),r}interpolateRotations(t){for(let e=1;e<t.values.length;e++){const i=t.values[e-1],n=t.values[e]-i,r=Math.abs(n);if(r>=180){const a=r/180,o=n/a;let h=i+o;const l=t.times[e-1],u=(t.times[e]-l)/a;let d=l+u;const f=[],p=[];for(;d<t.times[e];)f.push(d),d+=u,p.push(h),h+=o;t.times=ou(t.times,e,f),t.values=ou(t.values,e,p)}}}}class OP{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(t){this.nodeStack.push(t),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(t,e){this.currentProp=t,this.currentPropName=e}parse(t){this.currentIndent=0,this.allNodes=new xg,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const e=this,i=t.split(/[\r\n]+/);return i.forEach(function(n,r){const a=n.match(/^[\s\t]*;/),o=n.match(/^[\s\t]*$/);if(a||o)return;const h=n.match("^\\t{"+e.currentIndent+"}(\\w+):(.*){",""),l=n.match("^\\t{"+e.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=n.match("^\\t{"+(e.currentIndent-1)+"}}");h?e.parseNodeBegin(n,h):l?e.parseNodeProperty(n,l,i[++r]):c?e.popStack():n.match(/^[^\s\t}]/)&&e.parseNodePropertyContinued(n)}),this.allNodes}parseNodeBegin(t,e){const i=e[1].trim().replace(/^"/,"").replace(/"$/,""),n=e[2].split(",").map(function(h){return h.trim().replace(/^"/,"").replace(/"$/,"")}),r={name:i},a=this.parseNodeAttr(n),o=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(i,r):i in o?(i==="PoseNode"?o.PoseNode.push(r):o[i].id!==void 0&&(o[i]={},o[i][o[i].id]=o[i]),a.id!==""&&(o[i][a.id]=r)):typeof a.id=="number"?(o[i]={},o[i][a.id]=r):i!=="Properties70"&&(i==="PoseNode"?o[i]=[r]:o[i]=r),typeof a.id=="number"&&(r.id=a.id),a.name!==""&&(r.attrName=a.name),a.type!==""&&(r.attrType=a.type),this.pushStack(r)}parseNodeAttr(t){let e=t[0];t[0]!==""&&(e=parseInt(t[0]),isNaN(e)&&(e=t[0]));let i="",n="";return t.length>1&&(i=t[1].replace(/^(\w+)::/,""),n=t[2]),{id:e,name:i,type:n}}parseNodeProperty(t,e,i){let n=e[1].replace(/^"/,"").replace(/"$/,"").trim(),r=e[2].replace(/^"/,"").replace(/"$/,"").trim();n==="Content"&&r===","&&(r=i.replace(/"/g,"").replace(/,$/,"").trim());const a=this.getCurrentNode();if(a.name==="Properties70"){this.parseNodeSpecialProperty(t,n,r);return}if(n==="C"){const h=r.split(",").slice(1),l=parseInt(h[0]),c=parseInt(h[1]);let u=r.split(",").slice(3);u=u.map(function(d){return d.trim().replace(/^"/,"")}),n="connections",r=[l,c],GP(r,u),a[n]===void 0&&(a[n]=[])}n==="Node"&&(a.id=r),n in a&&Array.isArray(a[n])?a[n].push(r):n!=="a"?a[n]=r:a.a=r,this.setCurrentProp(a,n),n==="a"&&r.slice(-1)!==","&&(a.a=v7(r))}parseNodePropertyContinued(t){const e=this.getCurrentNode();e.a+=t,t.slice(-1)!==","&&(e.a=v7(e.a))}parseNodeSpecialProperty(t,e,i){const n=i.split('",').map(function(c){return c.trim().replace(/^\"/,"").replace(/\s/,"_")}),r=n[0],a=n[1],o=n[2],h=n[3];let l=n[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":l=parseFloat(l);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":l=v7(l);break}this.getPrevNode()[r]={type:a,type2:o,flag:h,value:l},this.setCurrentProp(this.getPrevNode(),r)}}class zP{parse(t){const e=new ru(t);e.skip(23);const i=e.getUint32();if(i<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+i);const n=new xg;for(;!this.endOfContent(e);){const r=this.parseNode(e,i);r!==null&&n.add(r.name,r)}return n}endOfContent(t){return t.size()%16===0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()}parseNode(t,e){const i={},n=e>=7500?t.getUint64():t.getUint32(),r=e>=7500?t.getUint64():t.getUint32();e>=7500?t.getUint64():t.getUint32();const a=t.getUint8(),o=t.getString(a);if(n===0)return null;const h=[];for(let d=0;d<r;d++)h.push(this.parseProperty(t));const l=h.length>0?h[0]:"",c=h.length>1?h[1]:"",u=h.length>2?h[2]:"";for(i.singleProperty=r===1&&t.getOffset()===n;n>t.getOffset();){const d=this.parseNode(t,e);d!==null&&this.parseSubNode(o,i,d)}return i.propertyList=h,typeof l=="number"&&(i.id=l),c!==""&&(i.attrName=c),u!==""&&(i.attrType=u),o!==""&&(i.name=o),i}parseSubNode(t,e,i){if(i.singleProperty===!0){const n=i.propertyList[0];Array.isArray(n)?(e[i.name]=i,i.a=n):e[i.name]=n}else if(t==="Connections"&&i.name==="C"){const n=[];i.propertyList.forEach(function(r,a){a!==0&&n.push(r)}),e.connections===void 0&&(e.connections=[]),e.connections.push(n)}else if(i.name==="Properties70")Object.keys(i).forEach(function(r){e[r]=i[r]});else if(t==="Properties70"&&i.name==="P"){let n=i.propertyList[0],r=i.propertyList[1];const a=i.propertyList[2],o=i.propertyList[3];let h;n.indexOf("Lcl ")===0&&(n=n.replace("Lcl ","Lcl_")),r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),r==="Color"||r==="ColorRGB"||r==="Vector"||r==="Vector3D"||r.indexOf("Lcl_")===0?h=[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:h=i.propertyList[4],e[n]={type:r,type2:a,flag:o,value:h}}else e[i.name]===void 0?typeof i.id=="number"?(e[i.name]={},e[i.name][i.id]=i):e[i.name]=i:i.name==="PoseNode"?(Array.isArray(e[i.name])||(e[i.name]=[e[i.name]]),e[i.name].push(i)):e[i.name][i.id]===void 0&&(e[i.name][i.id]=i)}parseProperty(t){const e=t.getString(1);let i;switch(e){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":return i=t.getUint32(),t.getArrayBuffer(i);case"S":return i=t.getUint32(),t.getString(i);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const n=t.getUint32(),r=t.getUint32(),a=t.getUint32();if(r===0)switch(e){case"b":case"c":return t.getBooleanArray(n);case"d":return t.getFloat64Array(n);case"f":return t.getFloat32Array(n);case"i":return t.getInt32Array(n);case"l":return t.getInt64Array(n)}const o=MP(new Uint8Array(t.getArrayBuffer(a))),h=new ru(o.buffer);switch(e){case"b":case"c":return h.getBooleanArray(n);case"d":return h.getFloat64Array(n);case"f":return h.getFloat32Array(n);case"i":return h.getInt32Array(n);case"l":return h.getInt64Array(n)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+e)}}}class ru{constructor(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(t){this.offset+=t}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(t){const e=[];for(let i=0;i<t;i++)e.push(this.getBoolean());return e}getUint8(){const t=this.dv.getUint8(this.offset);return this.offset+=1,t}getInt16(){const t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}getInt32(){const t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}getInt32Array(t){const e=[];for(let i=0;i<t;i++)e.push(this.getInt32());return e}getUint32(){const t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}getInt64(){let t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),e&2147483648?(e=~e&4294967295,t=~t&4294967295,t===4294967295&&(e=e+1&4294967295),t=t+1&4294967295,-(e*4294967296+t)):e*4294967296+t}getInt64Array(t){const e=[];for(let i=0;i<t;i++)e.push(this.getInt64());return e}getUint64(){let t,e;return this.littleEndian?(t=this.getUint32(),e=this.getUint32()):(e=this.getUint32(),t=this.getUint32()),e*4294967296+t}getFloat32(){const t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}getFloat32Array(t){const e=[];for(let i=0;i<t;i++)e.push(this.getFloat32());return e}getFloat64(){const t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}getFloat64Array(t){const e=[];for(let i=0;i<t;i++)e.push(this.getFloat64());return e}getArrayBuffer(t){const e=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}getString(t){const e=this.offset;let i=new Uint8Array(this.dv.buffer,e,t);this.skip(t);const n=i.indexOf(0);return n>=0&&(i=new Uint8Array(this.dv.buffer,e,n)),this._textDecoder.decode(i)}}class xg{add(t,e){this[t]=e}}function BP(s){const t="Kaydara FBX Binary  \0";return s.byteLength>=t.length&&t===Mg(s,0,t.length)}function UP(s){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let e=0;function i(n){const r=s[n-1];return s=s.slice(e+n),e++,r}for(let n=0;n<t.length;++n)if(i(1)===t[n])return!1;return!0}function au(s){const t=/FBXVersion: (\d+)/,e=s.match(t);if(e)return parseInt(e[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function kP(s){return s/46186158e3}const HP=[];function ia(s,t,e,i){let n;switch(i.mappingType){case"ByPolygonVertex":n=s;break;case"ByPolygon":n=t;break;case"ByVertice":n=e;break;case"AllSame":n=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}i.referenceType==="IndexToDirect"&&(n=i.indices[n]);const r=n*i.dataSize,a=r+i.dataSize;return VP(HP,i.buffer,r,a)}const _7=new Ti,rr=new L;function _g(s){const t=new Lt,e=new Lt,i=new Lt,n=new Lt,r=new Lt,a=new Lt,o=new Lt,h=new Lt,l=new Lt,c=new Lt,u=new Lt,d=new Lt,f=s.inheritType?s.inheritType:0;if(s.translation&&t.setPosition(rr.fromArray(s.translation)),s.preRotation){const A=s.preRotation.map(Q0.degToRad);A.push(s.eulerOrder||Ti.DEFAULT_ORDER),e.makeRotationFromEuler(_7.fromArray(A))}if(s.rotation){const A=s.rotation.map(Q0.degToRad);A.push(s.eulerOrder||Ti.DEFAULT_ORDER),i.makeRotationFromEuler(_7.fromArray(A))}if(s.postRotation){const A=s.postRotation.map(Q0.degToRad);A.push(s.eulerOrder||Ti.DEFAULT_ORDER),n.makeRotationFromEuler(_7.fromArray(A)),n.invert()}s.scale&&r.scale(rr.fromArray(s.scale)),s.scalingOffset&&o.setPosition(rr.fromArray(s.scalingOffset)),s.scalingPivot&&a.setPosition(rr.fromArray(s.scalingPivot)),s.rotationOffset&&h.setPosition(rr.fromArray(s.rotationOffset)),s.rotationPivot&&l.setPosition(rr.fromArray(s.rotationPivot)),s.parentMatrixWorld&&(u.copy(s.parentMatrix),c.copy(s.parentMatrixWorld));const p=e.clone().multiply(i).multiply(n),g=new Lt;g.extractRotation(c);const m=new Lt;m.copyPosition(c);const y=m.clone().invert().multiply(c),_=g.clone().invert().multiply(y),x=r,v=new Lt;if(f===0)v.copy(g).multiply(p).multiply(_).multiply(x);else if(f===1)v.copy(g).multiply(_).multiply(p).multiply(x);else{const U=new Lt().scale(new L().setFromMatrixScale(u)).clone().invert(),B=_.clone().multiply(U);v.copy(g).multiply(p).multiply(B).multiply(x)}const b=l.clone().invert(),E=a.clone().invert();let w=t.clone().multiply(h).multiply(l).multiply(e).multiply(i).multiply(n).multiply(b).multiply(o).multiply(a).multiply(r).multiply(E);const R=new Lt().copyPosition(w),S=c.clone().multiply(R);return d.copyPosition(S),w=d.clone().multiply(v),w.premultiply(c.invert()),w}function vg(s){s=s||0;const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return s===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[s]}function v7(s){return s.split(",").map(function(e){return parseFloat(e)})}function Mg(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=s.byteLength),new TextDecoder().decode(new Uint8Array(s,t,e))}function GP(s,t){for(let e=0,i=s.length,n=t.length;e<n;e++,i++)s[i]=t[e]}function VP(s,t,e,i){for(let n=e,r=0;n<i;n++,r++)s[r]=t[n];return s}function ou(s,t,e){return s.slice(0,t).concat(e).concat(s.slice(t))}var WP=function(){function s(t){h5(this,s),this.init(),this.setAnimationModel(t)}return l5(s,[{key:"init",value:function(){this.animationArray=[],this.name=null}},{key:"getSkeleton",value:function(e){this.skeleton=new rg(e),e.add(this.skeleton),this.skeleton.visible=!1}},{key:"getAnimationList",value:function(e){if(e){for(var i=[],n=0;n<e.animations.length;n++)i[n]=e.animations[n].name;return i}else return this.animationNameArray}},{key:"setAnimationModel",value:function(e){this.getSkeleton(e.scene),this.mixer=new ng(e.scene),this.animation=e.animations,this.animationNameArray=this.getAnimationList(e)}},{key:"setAnimationByName",value:function(e){var i=Ms.findByName(this.animation,e),n;if(i)return n=this.mixer.clipAction(i),n.name=e,n;console.warn("当前名称的动画未找到")}},{key:"update",value:function(e){this.mixer&&this.mixer.update(e)}}]),s}(),qP=function(){function s(){h5(this,s),this._init()}return l5(s,[{key:"_init",value:function(){this.animationArray=[]}},{key:"addAnimation",value:function(e,i){var n=new WP(e);if(i)n.name=i;else{var r="animation".concat(this.animationArray.length);n.name=r}return this.animationArray.push(n),n}},{key:"update",value:function(e){for(var i=0,n=this.animationArray.length;i<n;i++)this.animationArray[i].update(e)}}]),s}(),$P=`
 
████████╗██╗    ██╗██╗███╗   ██╗███████╗██████╗  █████╗  ██████╗███████╗
╚══██╔══╝██║    ██║██║████╗  ██║██╔════╝██╔══██╗██╔══██╗██╔════╝██╔════╝
   ██║   ██║ █╗ ██║██║██╔██╗ ██║███████╗██████╔╝███████║██║     █████╗  
   ██║   ██║███╗██║██║██║╚██╗██║╚════██║██╔═══╝ ██╔══██║██║     ██╔══╝  
   ██║   ╚███╔███╔╝██║██║ ╚████║███████║██║     ██║  ██║╚██████╗███████╗
   ╚═╝    ╚══╝╚══╝ ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝     ╚═╝  ╚═╝ ╚═════╝╚══════╝
                                                                        

 `,hu,Ws=function(){var t=navigator.userAgent;return hu=/mobile/i.test(t),hu},o6={},XP={get exports(){return o6},set exports(s){o6=s}};(function(s,t){(function(){function e(c){return Math.sqrt(c.x*c.x+c.y*c.y)}function i(c,u){return c.x*u.x+c.y*u.y}function n(c,u){var d=e(c)*e(u);if(d===0)return 0;var f=i(c,u)/d;return f>1&&(f=1),Math.acos(f)}function r(c,u){return c.x*u.y-u.x*c.y}function a(c,u){var d=n(c,u);return r(c,u)>0&&(d*=-1),d*180/Math.PI}var o=function(c){this.handlers=[],this.el=c};o.prototype.add=function(c){this.handlers.push(c)},o.prototype.del=function(c){c||(this.handlers=[]);for(var u=this.handlers.length;u>=0;u--)this.handlers[u]===c&&this.handlers.splice(u,1)},o.prototype.dispatch=function(){for(var c=0,u=this.handlers.length;c<u;c++){var d=this.handlers[c];typeof d=="function"&&d.apply(this.el,arguments)}};function h(c,u){var d=new o(c);return d.add(u),d}var l=function(c,u){this.element=typeof c=="string"?document.querySelector(c):c,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var d=function(){};this.rotate=h(this.element,u.rotate||d),this.touchStart=h(this.element,u.touchStart||d),this.multipointStart=h(this.element,u.multipointStart||d),this.multipointEnd=h(this.element,u.multipointEnd||d),this.pinch=h(this.element,u.pinch||d),this.swipe=h(this.element,u.swipe||d),this.tap=h(this.element,u.tap||d),this.doubleTap=h(this.element,u.doubleTap||d),this.longTap=h(this.element,u.longTap||d),this.singleTap=h(this.element,u.singleTap||d),this.pressMove=h(this.element,u.pressMove||d),this.twoFingerPressMove=h(this.element,u.twoFingerPressMove||d),this.touchMove=h(this.element,u.touchMove||d),this.touchEnd=h(this.element,u.touchEnd||d),this.touchCancel=h(this.element,u.touchCancel||d),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};l.prototype={start:function(c){if(c.touches){this.now=Date.now(),this.x1=c.touches[0].pageX,this.y1=c.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(c,this.element),this.preTapPosition.x!==null&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var u=this.preV,d=c.touches.length;if(d>1){this._cancelLongTap(),this._cancelSingleTap();var f={x:c.touches[1].pageX-this.x1,y:c.touches[1].pageY-this.y1};u.x=f.x,u.y=f.y,this.pinchStartLen=e(u),this.multipointStart.dispatch(c,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(c,this.element),this._preventTap=!0}.bind(this),750)}},move:function(c){if(c.touches){var u=this.preV,d=c.touches.length,f=c.touches[0].pageX,p=c.touches[0].pageY;if(this.isDoubleTap=!1,d>1){var g=c.touches[1].pageX,m=c.touches[1].pageY,y={x:c.touches[1].pageX-f,y:c.touches[1].pageY-p};u.x!==null&&(this.pinchStartLen>0&&(c.zoom=e(y)/this.pinchStartLen,this.pinch.dispatch(c,this.element)),c.angle=a(y,u),this.rotate.dispatch(c,this.element)),u.x=y.x,u.y=y.y,this.x2!==null&&this.sx2!==null?(c.deltaX=(f-this.x2+g-this.sx2)/2,c.deltaY=(p-this.y2+m-this.sy2)/2):(c.deltaX=0,c.deltaY=0),this.twoFingerPressMove.dispatch(c,this.element),this.sx2=g,this.sy2=m}else{if(this.x2!==null){c.deltaX=f-this.x2,c.deltaY=p-this.y2;var _=Math.abs(this.x1-this.x2),x=Math.abs(this.y1-this.y2);(_>10||x>10)&&(this._preventTap=!0)}else c.deltaX=0,c.deltaY=0;this.pressMove.dispatch(c,this.element)}this.touchMove.dispatch(c,this.element),this._cancelLongTap(),this.x2=f,this.y2=p,d>1&&c.preventDefault()}},end:function(c){if(c.changedTouches){this._cancelLongTap();var u=this;c.touches.length<2&&(this.multipointEnd.dispatch(c,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(c.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){u.swipe.dispatch(c,u.element)},0)):(this.tapTimeout=setTimeout(function(){u._preventTap||u.tap.dispatch(c,u.element),u.isDoubleTap&&(u.doubleTap.dispatch(c,u.element),u.isDoubleTap=!1)},0),u.isDoubleTap||(u.singleTapTimeout=setTimeout(function(){u.singleTap.dispatch(c,u.element)},250))),this.touchEnd.dispatch(c,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(c){this.cancelAll(),this.touchCancel.dispatch(c,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(c,u,d,f){return Math.abs(c-u)>=Math.abs(d-f)?c-u>0?"Left":"Right":d-f>0?"Up":"Down"},on:function(c,u){this[c]&&this[c].add(u)},off:function(c,u){this[c]&&this[c].del(u)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}},s.exports=l})()})(XP);var jP=o6,pi=function(t,e,i){var n=e.indexOf(t);n>-1?(e.splice(n,1),typeof i=="function"&&i({state:"success",message:"delete success"})):typeof i=="function"&&(console.warn("delete fail,no delete object in Array"),i({state:"fail",message:"no delete object in Array"}))},YP=["click","down","up","move","doubleClick"],lu,_e,ZP=function(){function s(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;h5(this,s),t?lu=t:console.warn("未定义相机,请检查代码,或者联系作者"),e&&(_e=e),this._initTHREE(),this._initTouch(),this._initEventSystem(),this._initEventListener()}return l5(s,[{key:"_initTHREE",value:function(){this.raycaster=new sg,this.pointer=new dt,this.insertArray=[]}},{key:"_initTouch",value:function(){this.screenTouch=new jP(_e,{touchStart:function(i){},touchMove:function(i){},touchEnd:function(i){},touchCancel:function(i){},multipointStart:function(i){},multipointEnd:function(i){},tap:function(i){},doubleTap:function(i){},longTap:function(i){},singleTap:function(i){},rotate:function(i){},pinch:function(i){},pressMove:function(i){},swipe:function(i){}})}},{key:"_initEventSystem",value:function(){this._initEventArray()}},{key:"setInsectArray",value:function(e){Array.isArray(e)?this.insertArray=e:console.error("设置对象不是数组请检查")}},{key:"setInsectObject",value:function(e){this.insertArray.push(e)}},{key:"removeInsectObject",value:function(e){pi(e,this.insertArray)}},{key:"onTouch",value:function(e){var i=_e.offsetWidth?_e.offsetWidth:window.innerWidth,n=_e.offsetHeight?_e.offsetHeight:window.innerHeight;this.pointer.x=e.changedTouches[0].pageX/i*2-1,this.pointer.y=-(e.changedTouches[0].pageY/n)*2+1,this.updateRayCasterEvent()}},{key:"onMouse",value:function(e){var i=_e.offsetWidth?_e.offsetWidth:window.innerWidth,n=_e.offsetHeight?_e.offsetHeight:window.innerHeight,r=_e.getBoundingClientRect().left,a=_e.getBoundingClientRect().top;this.pointer.x=(e.clientX-r)/i*2-1,this.pointer.y=-((e.clientY-a)/n)*2+1,this.updateRayCasterEvent()}},{key:"updateRayCasterEvent",value:function(){this.raycaster.setFromCamera(this.pointer,lu),this.intersects=this.raycaster.intersectObjects(this.insertArray)}},{key:"_initEventArray",value:function(){this.clickArray=[],this.downArray=[],this.upArray=[],this.moveArray=[],this.doubleClickArray=[]}},{key:"_initEventListener",value:function(){var e=this,i=function(p){e.onTouch(p),e.clickArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},n=function(p){e.onMouse(p),e.clickArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},r=function(p){e.onTouch(p),e.downArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},a=function(p){e.onMouse(p),e.downArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},o=function(p){e.onTouch(p),e.upArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},h=function(p){e.onMouse(p),e.upArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},l=function(p){e.onTouch(p),e.moveArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},c=function(p){e.onMouse(p),e.moveArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},u=function(p){e.onTouch(p),e.doubleClickArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})},d=function(p){e.onMouse(p),e.doubleClickArray.forEach(function(g){typeof g=="function"&&g(e.intersects)})};this.enableEvent=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;p?f=="click"?Ws()?e.screenTouch.on("tap",i,!1):_e.addEventListener("click",n,!1):f=="down"?Ws()?e.screenTouch.on("touchStart",r,!1):_e.addEventListener("mousedown",a,!1):f=="up"?Ws()?e.screenTouch.on("touchEnd",o,!1):_e.addEventListener("mouseup",h,!1):f=="move"?Ws()?e.screenTouch.on("touchMove",l,!1):_e.addEventListener("mousemove",c,!1):f=="doubleClick"&&(Ws()?e.screenTouch.on("doubleTap",u,!1):_e.addEventListener("dblclick",d,!1)):f=="click"?(e.screenTouch.off("tap",i,!1),_e.removeEventListener("click",n,!1)):f=="down"?(e.screenTouch.off("touchStart",r,!1),_e.removeEventListener("mousedown",a,!1)):f=="up"?(e.screenTouch.off("touchEnd",o,!1),_e.removeEventListener("mouseup",h,!1)):f=="move"?(e.screenTouch.off("touchMove",l,!1),_e.removeEventListener("mousemove",c,!1)):f=="doubleClick"?(e.screenTouch.off("doubleTap",u,!1),_e.removeEventListener("dblclick",d,!1)):YP.forEach(function(g){e.enableEvent(g,!1)})}}},{key:"destroy",value:function(){this.screenTouch.destroy(),this.enableEvent("all",!1)}},{key:"addTouchEventListener",value:function(e,i){e=="click"?this.clickArray.push(i):e=="down"?this.downArray.push(i):e=="up"?this.upArray.push(i):e=="move"?this.moveArray.push(i):e=="doubleClick"?this.doubleClickArray.push(i):this.screenTouch.on(e,i,!1)}},{key:"removeTouchEventListener",value:function(e,i){e=="click"?pi(i,this.clickArray):e=="down"?pi(i,this.downArray):e=="up"?pi(i,this.upArray):e=="move"?pi(i,this.moveArray):e=="doubleClick"?pi(i,this.doubleClickArray):this.screenTouch.off(e,i,!1)}},{key:"addMouseEventListener",value:function(e,i){e=="click"?this.clickArray.push(i):e=="down"?this.downArray.push(i):e=="up"?this.upArray.push(i):e=="move"?this.moveArray.push(i):e=="doubleClick"?this.doubleClickArray.push(i):_e.addEventListener(e,i,!1)}},{key:"removeMouseEventListener",value:function(e,i){e=="click"?pi(i,this.clickArray):e=="down"?pi(i,this.downArray):e=="up"?pi(i,this.upArray):e=="move"?pi(i,this.moveArray):e=="doubleClick"?pi(i,this.doubleClickArray):_e.removeEventListener(e,i,!1)}},{key:"addEventListener",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"click",i=arguments.length>1?arguments[1]:void 0;Ws()?this.addTouchEventListener(e,i):this.addMouseEventListener(e,i)}},{key:"removeEventListener",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"click",i=arguments.length>1?arguments[1]:void 0;Ws()?this.removeTouchEventListener(e,i):this.removeMouseEventListener(e,i)}}]),s}(),JP=function(t,e){var i=new T8(t);return e||(e=new Ze({color:"red",transparent:!0,opacity:.4,depthWrite:!1,side:K0})),new oi(i,e)},KP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"plane",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{width:10,height:10,depth:10,widthSegments:15,heightSegments:15,depthSegment:15,radius:10},i;return t=="plane"?i=new d5(e.width,e.height,e.widthSegments,e.heightSegments):t=="cube"?i=new As(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegment):t=="sphere"&&(i=new y5(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)),i},QP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",e=arguments.length>1?arguments[1]:void 0,i;return t=="all"?i=new co(e.color,e.intensity):t=="direct"?i=new Z1(e.color,e.intensity):t=="spot"?i=new Y1(e.color,e.intensity):console.warn("您输入的灯光类型暂未支持，请联系作者添加新的格式",t),i},cu=function(t,e,i){t.indexOf(".gl")>-1?new LR().load(t,function(n){typeof e=="function"&&e(n)},function(n){typeof i=="function"&&i(n)}):t.indexOf(".fbx")>-1||t.indexOf(".FBX")>-1?new IP().load(t,function(n){typeof e=="function"&&e(n)},function(n){typeof i=="function"&&i(n)}):console.warn("当前模型的格式暂未支持,请联系作者添加新的格式",t)},tL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"texture",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n;return t=="texture"?n=new lo().load(e,function(r){typeof i=="function"&&i(r)}):t=="cube"?n=new Xm().setPath(e).load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"],function(r){typeof i=="function"&&i(r)}):console.warn("当前图片格式不支持,请联系作者",e),n},uu=[],eL=function(){function s(){h5(this,s),this._init()}return l5(s,[{key:"_init",value:function(){this.type="MaterialStore",this.name="模型材质管理器",this._materialArray=[]}},{key:"collectMaterial",value:function(e){this._materialArray.push(e)}},{key:"replaceMaterial",value:function(e,i){if(e){var n=uu.find(function(a){return a.oldID==e.uuid}),r;return n?r=this._materialArray.find(function(a){return a.uuid==n.newID}):(r=this.setMaterial(i),Object.assign(r,e),uu.push({oldID:e.uuid,newID:r.uuid})),r}else{console.warn("material is null,replace is wrong");return}}},{key:"setMaterial",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"standard",i=arguments.length>1?arguments[1]:void 0,n;return e=="standard"?n=new x5(i):e=="physical"?n=new Bi(i):e=="basic"?n=new E0(i):e=="shader"?n=new Fi(i):e=="lineBasic"?n=new Ze(i):console.warn("当前材质的类型暂未支持,请联系作者添加新的格式",e),n&&this.collectMaterial(n),n}},{key:"setMaterialInheritance",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"standard",n=arguments.length>2?arguments[2]:void 0;if(Array.isArray(e.material))for(var r=0;r<e.material.length;r++){var a=this.replaceMaterial(e.material[r],i);typeof n=="function"&&n(a),e.material[r]=a}else{var o=this.replaceMaterial(e.material,i);Object.assign(o,e.material),typeof n=="function"&&n(o),e.material=o}}},{key:"CreateUV2",value:function(e){e.setAttribute("uv2",new ue(e.attributes.uv.array,2))}}]),s}(),iL=function(){function s(t){var e=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"2d";h5(this,s),this.getTjs=function(){return t},this.type=i,this.setRenderer(i);var n=function(o,h){e.setResize(o,h)},r=function(o,h,l){e.update(h,l)};this.getTjs()._resizeEventArray.push(n),this.getTjs().updateEvent(r),this.getTjs().resizeUpdate()}return l5(s,[{key:"setRenderer",value:function(e){e=="2d"?this.cssRenderer=new ER:e=="3d"&&(this.cssRenderer=new PR),this.cssRenderer&&(this.cssRenderer.domElement.style.position="absolute",this.cssRenderer.domElement.style.top="0px",this.cssRenderer.domElement.style.pointerEvents="none",this.getTjs().container.appendChild(this.cssRenderer.domElement))}},{key:"setResize",value:function(e,i){this.cssRenderer.setSize(e,i)}},{key:"update",value:function(e,i){this.cssRenderer&&this.cssRenderer.render(e,i)}},{key:"addCSSObject",value:function(e){var i;return this.type=="2d"?i=new AR(e):this.type=="3d"&&(i=new hg(e)),i}},{key:"addCSSSprite",value:function(e){var i;return this.type=="3d"?i=new CR(e):console.warn("此对象只适用于css3d,当前不生效"),i}}]),s}(),nL=function(){function s(t){h5(this,s),GM(this,"_updateEventArray",[]),this._initVersion(),this._init(),this._initPlugin(),this.getContainer(t),this._initWebScene()}return l5(s,[{key:"_initVersion",value:function(){console.log($P),this.version="v2.0.0",this.THREEVersion=V1}},{key:"_init",value:function(){this.container=null,this.scene=null,this.camera=null,this.control=null,this.renderer=null,this.state=null,this.renderID=null,this.stopRender=!1,this.stopUpdate=!1}},{key:"_initPlugin",value:function(){var e=[];this._addPlugin=function(i,n){e.push(i),typeof n=="function"&&n()},this._removePlugin=function(i,n){for(var r,a=0;a<e.length;a++)e[a]===i&&(r=a);e.splice(r,1),r!=null&&typeof n=="function"&&n()},this.getPluginStore=function(){return e},this.getPluginByType=function(i){for(var n=0;n<e.length;n++)if(e[n].pluginType==i)return e[n]}}},{key:"isDiv",value:function(e){return e instanceof HTMLDivElement}},{key:"isCanvas",value:function(e){return e instanceof HTMLCanvasElement}},{key:"getContainer",value:function(e){if(typeof e=="string"){var i=document.getElementById(e);i?this.container=i:console.warn("没有找到对应的dom。请检查你的divID")}else this.isDiv(e)?this.container=e:console.warn("你所传入的对象不是domID也不是")}},{key:"_initWebScene",value:function(){this.initOther(),this.initScene(),this.initCamera(),this.initRender(),this.initControl(),this.initEvent(),this.initMaterialStore(),this.initAnimationStore(),this.animate(),this.initDefault()}},{key:"initScene",value:function(){this.scene=new m8}},{key:"initCamera",value:function(){this.camera=new He(45,this.container.offsetWidth/this.container.offsetHeight,.1,1e3)}},{key:"initRender",value:function(){this.renderer=new p8({antialias:!0,alpha:!0}),this.renderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement)}},{key:"initControl",value:function(){this.control=new SR(this.camera,this.renderer.domElement)}},{key:"initOther",value:function(){this.clock=new O8,this.THREE=bR}},{key:"initAnimationStore",value:function(){this.animationStore=new qP}},{key:"animate",value:function(){this.renderID=requestAnimationFrame(this.animate.bind(this)),this.stopUpdate||this.renderUpdate()}},{key:"renderUpdate",value:function(){var e=this;this.state&&this.state.update(),this.renderer.clear(),this.stopRender||this.renderer.render(this.scene,this.camera);var i=this.clock.getDelta();this.animationStore.update(i),this.control.update(),i&&(this.update&&this.update(i),this._updateEventArray.length>0&&this._updateEventArray.forEach(function(n){typeof n=="function"&&n(i,e.scene,e.camera)}))}},{key:"updateEvent",value:function(e){typeof e=="function"?this._updateEventArray.push(e):console.error("type !=== function,请检查更新函数的代码")}},{key:"removeUpdateEvent",value:function(e){for(var i,n=0;n<this._updateEventArray.length;n++)this._updateEventArray[n]==e&&(i=n);this._updateEventArray.splice(i,1)}},{key:"initEvent",value:function(){var e=this;this.mouseClick=new ZP(this.camera,this.renderer.domElement),this._resizeEventArray=[],this._pushResizeEvent=function(n,r){typeof n=="function"&&(e._resizeEventArray.push(n),typeof r=="function"&&r())},this._removeResizeEvent=function(n,r){for(var a,o=0;o<e._resizeEventArray.length;o++)e._resizeEventArray[o]===n&&(a=o);a&&(e._resizeEventArray.splice(a,1),typeof r=="function"&&r(a))};var i=function(){e.renderer.setSize(e.container.offsetWidth,e.container.offsetHeight),e._resizeEventArray.length>0&&e._resizeEventArray.forEach(function(r){typeof r=="function"&&r(e.container.offsetWidth,e.container.offsetHeight)}),e.camera.aspect=e.container.offsetWidth/e.container.offsetHeight,e.camera.updateProjectionMatrix()};this.addResizeEvent=function(){window.addEventListener("resize",i,!1),i()},this.removeResizeEvent=function(){window.removeEventListener("resize",i,!1)},this.resizeUpdate=function(){i()}}},{key:"initMaterialStore",value:function(){this.materialStore=new eL}},{key:"destroy",value:function(){cancelAnimationFrame(this.renderID),this.scene.traverse(function(e){e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e=null}),this.scene.clear(),this.container.removeChild(this.renderer.domElement),this.removeStats(),this.removeResizeEvent(),this.renderer.clear(),this.renderer.dispose(),this.renderer.forceContextLoss(),this._init(),this.mouseClick.destroy(),this.getPluginStore().forEach(function(e){e.destroy()})}},{key:"initLight",value:function(){this.ambientLight=this.addLight("all",{color:16777215,intensity:.5}),this.scene.add(this.ambientLight)}},{key:"addLight",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{color:16777215,intensity:1};return QP(e,i)}},{key:"initDefault",value:function(){this.camera.position.set(40,40,40),this.camera.lookAt(0,0,0),this.addResizeEvent(),this.initLight(),this.showStats(),this.enableBackGroundAlpha(!1)}},{key:"enableBackGroundAlpha",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;e?this.scene.background=null:this.scene.background=this.setColor(0)}},{key:"enableCache",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;bs.enabled=e}},{key:"showStats",value:function(){this.state=new wR,this.state.dom.style.position="absolute",this.container.appendChild(this.state.dom)}},{key:"removeStats",value:function(){this.state&&(this.container.removeChild(this.state.dom),this.state=null)}},{key:"addAxes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;this.axesHelper||(this.axesHelper=new og(e),this.scene.add(this.axesHelper))}},{key:"removeAxes",value:function(){this.axesHelper&&(this.scene.remove(this.axesHelper),this.axesHelper=null)}},{key:"loadModel",value:function(e,i,n){cu(e,i,n)}},{key:"loadModelAsync",value:function(e,i,n){return new Promise(function(r){cu(e,function(a){typeof i=="function"&&i(a),r(a)},n)})}},{key:"loadTexture",value:function(e,i,n){return tL(e,i,n)}},{key:"setMaterial",value:function(e,i){return this.materialStore.setMaterial(e,i)}},{key:"segmentGeometry",value:function(e,i){return JP(e,i)}},{key:"setGeometry",value:function(e,i){return KP(e,i)}},{key:"setMesh",value:function(e,i){return new Ge(e,i)}},{key:"materialInheritance",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"standard",n=arguments.length>2?arguments[2]:void 0;this.materialStore.setMaterialInheritance(e,i,n)}},{key:"uv2",value:function(e){this.materialStore.CreateUV2(e)}},{key:"setColor",value:function(e){return new _t(e)}},{key:"addRayCasterEvent",value:function(e,i){this.mouseClick.enableEvent(e,!0),typeof i=="function"&&this.mouseClick.addEventListener(e,i)}},{key:"removeRayCasterEvent",value:function(e){this.mouseClick.enableEvent(e,!1)}},{key:"setRayCasterEvent",value:function(e,i){this.mouseClick.addEventListener(e,i)}},{key:"cannelSetRayCasterEvent",value:function(e,i){this.mouseClick.removeEventListener(e,i)}},{key:"setClickObject",value:function(e){Array.isArray(e)?this.mouseClick.setInsectArray(e):this.mouseClick.setInsectObject(e)}},{key:"removeClickObject",value:function(e){this.mouseClick.removeInsectObject(e)}},{key:"useCSSRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"2d";this.cssRenderer=new iL(this,e)}},{key:"CSSObject",value:function(e){if(this.cssRenderer)return this.cssRenderer.addCSSObject(e);console.error("css对象不可用")}},{key:"CSSSprite",value:function(e){if(this.cssRenderer)return this.cssRenderer.addCSSSprite(e);console.error("css对象不可用")}},{key:"setVector",value:function(e){if(e.length==2)return new dt(e[0],e[1]);if(e.length==3)return new L(e[0],e[1],e[2]);if(e.length==4)return new ce(e[0],e[1],e[2],e[3]);console.error("no Vector type")}}]),s}();function sL(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function du(s,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,oL(i.key),i)}}function rL(s,t,e){return t&&du(s.prototype,t),e&&du(s,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function aL(s,t){if(typeof s!="object"||s===null)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var i=e.call(s,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function oL(s){var t=aL(s,"string");return typeof t=="symbol"?t:String(t)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const bg="154",h6=0,hL=1,fu=2,l6=0,pu=1,lL=2,cL=100,uL=204,dL=205,fL=3,pL=0,mL=0,gL=1,yL=2,xL=3,_L=4,Sg=300,mu=1e3,na=1001,gu=1002,wg=1006,vL=1008,ML=1009,bL=1015,e9=1016,SL=1023,wL=3e3,qa=3001,AL=3200,EL=3201,$a="",U0="srgb",k8="srgb-linear",Ag="display-p3",M7=7680,TL=519,yu=35044,t1=2e3,xu=2001;let K1=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const n=this._listeners[t];if(n!==void 0){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const n=i.slice(0);for(let r=0,a=n.length;r<a;r++)n[r].call(this,t);t.target=null}}};const o0=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function Q1(){const s=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(o0[s&255]+o0[s>>8&255]+o0[s>>16&255]+o0[s>>24&255]+"-"+o0[t&255]+o0[t>>8&255]+"-"+o0[t>>16&15|64]+o0[t>>24&255]+"-"+o0[e&63|128]+o0[e>>8&255]+"-"+o0[e>>16&255]+o0[e>>24&255]+o0[i&255]+o0[i>>8&255]+o0[i>>16&255]+o0[i>>24&255]).toLowerCase()}function w0(s,t,e){return Math.max(t,Math.min(e,s))}function CL(s,t){return(s%t+t)%t}function b7(s,t,e){return(1-e)*s+e*t}function sa(s,t){switch(t.constructor){case Float32Array:return s;case Uint32Array:return s/4294967295;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int32Array:return Math.max(s/2147483647,-1);case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function I0(s,t){switch(t.constructor){case Float32Array:return s;case Uint32Array:return Math.round(s*4294967295);case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int32Array:return Math.round(s*2147483647);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}let be=class Eg{constructor(t=0,e=0){Eg.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(w0(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},v5=class Tg{constructor(t,e,i,n,r,a,o,h,l){Tg.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,n,r,a,o,h,l)}set(t,e,i,n,r,a,o,h,l){const c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=r,c[5]=h,c[6]=i,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[3],h=i[6],l=i[1],c=i[4],u=i[7],d=i[2],f=i[5],p=i[8],g=n[0],m=n[3],y=n[6],_=n[1],x=n[4],v=n[7],b=n[2],E=n[5],w=n[8];return r[0]=a*g+o*_+h*b,r[3]=a*m+o*x+h*E,r[6]=a*y+o*v+h*w,r[1]=l*g+c*_+u*b,r[4]=l*m+c*x+u*E,r[7]=l*y+c*v+u*w,r[2]=d*g+f*_+p*b,r[5]=d*m+f*x+p*E,r[8]=d*y+f*v+p*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8];return e*a*c-e*o*l-i*r*c+i*o*h+n*r*l-n*a*h}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],u=c*a-o*l,d=o*h-c*r,f=l*r-a*h,p=e*u+i*d+n*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return t[0]=u*g,t[1]=(n*l-c*i)*g,t[2]=(o*i-n*a)*g,t[3]=d*g,t[4]=(c*e-n*h)*g,t[5]=(n*r-o*e)*g,t[6]=f*g,t[7]=(i*h-l*e)*g,t[8]=(a*e-i*r)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,r,a,o){const h=Math.cos(r),l=Math.sin(r);return this.set(i*h,i*l,-i*(h*a+l*o)+a+t,-n*l,n*h,-n*(-l*a+h*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(S7.makeScale(t,e)),this}rotate(t){return this.premultiply(S7.makeRotation(-t)),this}translate(t,e){return this.premultiply(S7.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}};const S7=new v5;function RL(s){for(let t=s.length-1;t>=0;--t)if(s[t]>=65535)return!0;return!1}function _u(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}const vu={};function Xa(s){s in vu||(vu[s]=!0,console.warn(s))}function kr(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function w7(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}const PL=new v5().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LL=new v5().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function IL(s){return s.convertSRGBToLinear().applyMatrix3(LL)}function NL(s){return s.applyMatrix3(PL).convertLinearToSRGB()}const DL={[k8]:s=>s,[U0]:s=>s.convertSRGBToLinear(),[Ag]:IL},FL={[k8]:s=>s,[U0]:s=>s.convertLinearToSRGB(),[Ag]:NL},mi={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(s){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!s},get workingColorSpace(){return k8},set workingColorSpace(s){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(s,t,e){if(this.enabled===!1||t===e||!t||!e)return s;const i=DL[t],n=FL[e];if(i===void 0||n===void 0)throw new Error(`Unsupported color space conversion, "${t}" to "${e}".`);return n(i(s))},fromWorkingColorSpace:function(s,t){return this.convert(s,this.workingColorSpace,t)},toWorkingColorSpace:function(s,t){return this.convert(s,t,this.workingColorSpace)}};let ar,OL=class{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{ar===void 0&&(ar=_u("canvas")),ar.width=t.width,ar.height=t.height;const i=ar.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=ar}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=_u("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const n=i.getImageData(0,0,t.width,t.height),r=n.data;for(let a=0;a<r.length;a++)r[a]=kr(r[a]/255)*255;return i.putImageData(n,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(kr(e[i]/255)*255):e[i]=kr(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}},zL=0,Cg=class{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zL++}),this.uuid=Q1(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let a=0,o=n.length;a<o;a++)n[a].isDataTexture?r.push(A7(n[a].image)):r.push(A7(n[a]))}else r=A7(n);i.url=r}return e||(t.images[this.uuid]=i),i}};function A7(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?OL.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let BL=0,po=class ja extends K1{constructor(t=ja.DEFAULT_IMAGE,e=ja.DEFAULT_MAPPING,i=na,n=na,r=wg,a=vL,o=SL,h=ML,l=ja.DEFAULT_ANISOTROPY,c=$a){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:BL++}),this.uuid=Q1(),this.name="",this.source=new Cg(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=h,this.offset=new be(0,0),this.repeat=new be(1,1),this.center=new be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new v5,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(Xa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===qa?U0:$a),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Sg)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case mu:t.x=t.x-Math.floor(t.x);break;case na:t.x=t.x<0?0:1;break;case gu:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case mu:t.y=t.y-Math.floor(t.y);break;case na:t.y=t.y<0?0:1;break;case gu:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Xa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===U0?qa:wL}set encoding(t){Xa("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===qa?U0:$a}};po.DEFAULT_IMAGE=null;po.DEFAULT_MAPPING=Sg;po.DEFAULT_ANISOTROPY=1;class c4{constructor(t=0,e=0,i=0,n=1){c4.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=n}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,n,r;const h=t.elements,l=h[0],c=h[4],u=h[8],d=h[1],f=h[5],p=h[9],g=h[2],m=h[6],y=h[10];if(Math.abs(c-d)<.01&&Math.abs(u-g)<.01&&Math.abs(p-m)<.01){if(Math.abs(c+d)<.1&&Math.abs(u+g)<.1&&Math.abs(p+m)<.1&&Math.abs(l+f+y-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const x=(l+1)/2,v=(f+1)/2,b=(y+1)/2,E=(c+d)/4,w=(u+g)/4,R=(p+m)/4;return x>v&&x>b?x<.01?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(x),n=E/i,r=w/i):v>b?v<.01?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(v),i=E/n,r=R/n):b<.01?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(b),i=w/r,n=R/r),this.set(i,n,r,e),this}let _=Math.sqrt((m-p)*(m-p)+(u-g)*(u-g)+(d-c)*(d-c));return Math.abs(_)<.001&&(_=1),this.x=(m-p)/_,this.y=(u-g)/_,this.z=(d-c)/_,this.w=Math.acos((l+f+y-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Qn extends K1{constructor(t=1,e=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new c4(0,0,t,e),this.scissorTest=!1,this.viewport=new c4(0,0,t,e);const n={width:t,height:e,depth:1};i.encoding!==void 0&&(Xa("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===qa?U0:$a),this.texture=new po(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:wg,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Cg(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}let t2=class{constructor(t=0,e=0,i=0,n=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=n}static slerpFlat(t,e,i,n,r,a,o){let h=i[n+0],l=i[n+1],c=i[n+2],u=i[n+3];const d=r[a+0],f=r[a+1],p=r[a+2],g=r[a+3];if(o===0){t[e+0]=h,t[e+1]=l,t[e+2]=c,t[e+3]=u;return}if(o===1){t[e+0]=d,t[e+1]=f,t[e+2]=p,t[e+3]=g;return}if(u!==g||h!==d||l!==f||c!==p){let m=1-o;const y=h*d+l*f+c*p+u*g,_=y>=0?1:-1,x=1-y*y;if(x>Number.EPSILON){const b=Math.sqrt(x),E=Math.atan2(b,y*_);m=Math.sin(m*E)/b,o=Math.sin(o*E)/b}const v=o*_;if(h=h*m+d*v,l=l*m+f*v,c=c*m+p*v,u=u*m+g*v,m===1-o){const b=1/Math.sqrt(h*h+l*l+c*c+u*u);h*=b,l*=b,c*=b,u*=b}}t[e]=h,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,n,r,a){const o=i[n],h=i[n+1],l=i[n+2],c=i[n+3],u=r[a],d=r[a+1],f=r[a+2],p=r[a+3];return t[e]=o*p+c*u+h*f-l*d,t[e+1]=h*p+c*d+l*u-o*f,t[e+2]=l*p+c*f+o*d-h*u,t[e+3]=c*p-o*u-h*d-l*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,n=t._y,r=t._z,a=t._order,o=Math.cos,h=Math.sin,l=o(i/2),c=o(n/2),u=o(r/2),d=h(i/2),f=h(n/2),p=h(r/2);switch(a){case"XYZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"YXZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"ZXY":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"ZYX":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"YZX":this._x=d*c*u+l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u-d*f*p;break;case"XZY":this._x=d*c*u-l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],r=e[8],a=e[1],o=e[5],h=e[9],l=e[2],c=e[6],u=e[10],d=i+o+u;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-h)*f,this._y=(r-l)*f,this._z=(a-n)*f}else if(i>o&&i>u){const f=2*Math.sqrt(1+i-o-u);this._w=(c-h)/f,this._x=.25*f,this._y=(n+a)/f,this._z=(r+l)/f}else if(o>u){const f=2*Math.sqrt(1+o-i-u);this._w=(r-l)/f,this._x=(n+a)/f,this._y=.25*f,this._z=(h+c)/f}else{const f=2*Math.sqrt(1+u-i-o);this._w=(a-n)/f,this._x=(r+l)/f,this._y=(h+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(w0(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,h=e._y,l=e._z,c=e._w;return this._x=i*c+a*o+n*l-r*h,this._y=n*c+a*h+r*o-i*l,this._z=r*c+a*l+i*h-n*o,this._w=a*c-i*o-n*h-r*l,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,n=this._y,r=this._z,a=this._w;let o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;const h=1-o*o;if(h<=Number.EPSILON){const f=1-e;return this._w=f*a+e*this._w,this._x=f*i+e*this._x,this._y=f*n+e*this._y,this._z=f*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(h),c=Math.atan2(l,o),u=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l;return this._w=a*u+this._w*d,this._x=i*u+this._x*d,this._y=n*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(n),i*Math.sin(r),i*Math.cos(r),e*Math.sin(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},gt=class Rg{constructor(t=0,e=0,i=0){Rg.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Mu.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Mu.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,h=t.w,l=h*e+a*n-o*i,c=h*i+o*e-r*n,u=h*n+r*i-a*e,d=-r*e-a*i-o*n;return this.x=l*h+d*-r+c*-o-u*-a,this.y=c*h+d*-a+u*-r-l*-o,this.z=u*h+d*-o+l*-a-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,h=e.z;return this.x=n*h-r*o,this.y=r*a-i*h,this.z=i*o-n*a,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return E7.copy(this).projectOnVector(t),this.sub(E7)}reflect(t){return this.sub(E7.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(w0(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const E7=new gt,Mu=new t2;let e2=class{constructor(t=new gt(1/0,1/0,1/0),e=new gt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(mn.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(mn.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=mn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){if(t.updateWorldMatrix(!1,!1),t.boundingBox!==void 0)t.boundingBox===null&&t.computeBoundingBox(),or.copy(t.boundingBox),or.applyMatrix4(t.matrixWorld),this.union(or);else{const n=t.geometry;if(n!==void 0)if(e&&n.attributes!==void 0&&n.attributes.position!==void 0){const r=n.attributes.position;for(let a=0,o=r.count;a<o;a++)mn.fromBufferAttribute(r,a).applyMatrix4(t.matrixWorld),this.expandByPoint(mn)}else n.boundingBox===null&&n.computeBoundingBox(),or.copy(n.boundingBox),or.applyMatrix4(t.matrixWorld),this.union(or)}const i=t.children;for(let n=0,r=i.length;n<r;n++)this.expandByObject(i[n],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,mn),mn.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(k5),ra.subVectors(this.max,k5),hr.subVectors(t.a,k5),lr.subVectors(t.b,k5),cr.subVectors(t.c,k5),qn.subVectors(lr,hr),$n.subVectors(cr,lr),qs.subVectors(hr,cr);let e=[0,-qn.z,qn.y,0,-$n.z,$n.y,0,-qs.z,qs.y,qn.z,0,-qn.x,$n.z,0,-$n.x,qs.z,0,-qs.x,-qn.y,qn.x,0,-$n.y,$n.x,0,-qs.y,qs.x,0];return!T7(e,hr,lr,cr,ra)||(e=[1,0,0,0,1,0,0,0,1],!T7(e,hr,lr,cr,ra))?!1:(aa.crossVectors(qn,$n),e=[aa.x,aa.y,aa.z],T7(e,hr,lr,cr,ra))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,mn).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(mn).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(pn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),pn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),pn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),pn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),pn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),pn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),pn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),pn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(pn),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};const pn=[new gt,new gt,new gt,new gt,new gt,new gt,new gt,new gt],mn=new gt,or=new e2,hr=new gt,lr=new gt,cr=new gt,qn=new gt,$n=new gt,qs=new gt,k5=new gt,ra=new gt,aa=new gt,$s=new gt;function T7(s,t,e,i,n){for(let r=0,a=s.length-3;r<=a;r+=3){$s.fromArray(s,r);const o=n.x*Math.abs($s.x)+n.y*Math.abs($s.y)+n.z*Math.abs($s.z),h=t.dot($s),l=e.dot($s),c=i.dot($s);if(Math.max(-Math.max(h,l,c),Math.min(h,l,c))>o)return!1}return!0}const UL=new e2,H5=new gt,C7=new gt;let Pg=class{constructor(t=new gt,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):UL.setFromPoints(t).getCenter(i);let n=0;for(let r=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;H5.subVectors(t,this.center);const e=H5.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),n=(i-this.radius)*.5;this.center.addScaledVector(H5,n/i),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(C7.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(H5.copy(t.center).add(C7)),this.expandByPoint(H5.copy(t.center).sub(C7))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}};const gn=new gt,R7=new gt,oa=new gt,Xn=new gt,P7=new gt,ha=new gt,L7=new gt;class kL{constructor(t=new gt,e=new gt(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,gn)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=gn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(gn.copy(this.origin).addScaledVector(this.direction,e),gn.distanceToSquared(t))}distanceSqToSegment(t,e,i,n){R7.copy(t).add(e).multiplyScalar(.5),oa.copy(e).sub(t).normalize(),Xn.copy(this.origin).sub(R7);const r=t.distanceTo(e)*.5,a=-this.direction.dot(oa),o=Xn.dot(this.direction),h=-Xn.dot(oa),l=Xn.lengthSq(),c=Math.abs(1-a*a);let u,d,f,p;if(c>0)if(u=a*h-o,d=a*o-h,p=r*c,u>=0)if(d>=-p)if(d<=p){const g=1/c;u*=g,d*=g,f=u*(u+a*d+2*o)+d*(a*u+d+2*h)+l}else d=r,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*h)+l;else d=-r,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*h)+l;else d<=-p?(u=Math.max(0,-(-a*r+o)),d=u>0?-r:Math.min(Math.max(-r,-h),r),f=-u*u+d*(d+2*h)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-h),r),f=d*(d+2*h)+l):(u=Math.max(0,-(a*r+o)),d=u>0?r:Math.min(Math.max(-r,-h),r),f=-u*u+d*(d+2*h)+l);else d=a>0?-r:r,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*h)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,u),n&&n.copy(R7).addScaledVector(oa,d),f}intersectSphere(t,e){gn.subVectors(t.center,this.origin);const i=gn.dot(this.direction),n=gn.dot(gn)-i*i,r=t.radius*t.radius;if(n>r)return null;const a=Math.sqrt(r-n),o=i-a,h=i+a;return h<0?null:o<0?this.at(h,e):this.at(o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,n,r,a,o,h;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(i=(t.min.x-d.x)*l,n=(t.max.x-d.x)*l):(i=(t.max.x-d.x)*l,n=(t.min.x-d.x)*l),c>=0?(r=(t.min.y-d.y)*c,a=(t.max.y-d.y)*c):(r=(t.max.y-d.y)*c,a=(t.min.y-d.y)*c),i>a||r>n||((r>i||isNaN(i))&&(i=r),(a<n||isNaN(n))&&(n=a),u>=0?(o=(t.min.z-d.z)*u,h=(t.max.z-d.z)*u):(o=(t.max.z-d.z)*u,h=(t.min.z-d.z)*u),i>h||o>n)||((o>i||i!==i)&&(i=o),(h<n||n!==n)&&(n=h),n<0)?null:this.at(i>=0?i:n,e)}intersectsBox(t){return this.intersectBox(t,gn)!==null}intersectTriangle(t,e,i,n,r){P7.subVectors(e,t),ha.subVectors(i,t),L7.crossVectors(P7,ha);let a=this.direction.dot(L7),o;if(a>0){if(n)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Xn.subVectors(this.origin,t);const h=o*this.direction.dot(ha.crossVectors(Xn,ha));if(h<0)return null;const l=o*this.direction.dot(P7.cross(Xn));if(l<0||h+l>a)return null;const c=-o*Xn.dot(L7);return c<0?null:this.at(c/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}let si=class c6{constructor(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m){c6.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m)}set(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=i,y[12]=n,y[1]=r,y[5]=a,y[9]=o,y[13]=h,y[2]=l,y[6]=c,y[10]=u,y[14]=d,y[3]=f,y[7]=p,y[11]=g,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new c6().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,n=1/ur.setFromMatrixColumn(t,0).length(),r=1/ur.setFromMatrixColumn(t,1).length(),a=1/ur.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),h=Math.cos(n),l=Math.sin(n),c=Math.cos(r),u=Math.sin(r);if(t.order==="XYZ"){const d=a*c,f=a*u,p=o*c,g=o*u;e[0]=h*c,e[4]=-h*u,e[8]=l,e[1]=f+p*l,e[5]=d-g*l,e[9]=-o*h,e[2]=g-d*l,e[6]=p+f*l,e[10]=a*h}else if(t.order==="YXZ"){const d=h*c,f=h*u,p=l*c,g=l*u;e[0]=d+g*o,e[4]=p*o-f,e[8]=a*l,e[1]=a*u,e[5]=a*c,e[9]=-o,e[2]=f*o-p,e[6]=g+d*o,e[10]=a*h}else if(t.order==="ZXY"){const d=h*c,f=h*u,p=l*c,g=l*u;e[0]=d-g*o,e[4]=-a*u,e[8]=p+f*o,e[1]=f+p*o,e[5]=a*c,e[9]=g-d*o,e[2]=-a*l,e[6]=o,e[10]=a*h}else if(t.order==="ZYX"){const d=a*c,f=a*u,p=o*c,g=o*u;e[0]=h*c,e[4]=p*l-f,e[8]=d*l+g,e[1]=h*u,e[5]=g*l+d,e[9]=f*l-p,e[2]=-l,e[6]=o*h,e[10]=a*h}else if(t.order==="YZX"){const d=a*h,f=a*l,p=o*h,g=o*l;e[0]=h*c,e[4]=g-d*u,e[8]=p*u+f,e[1]=u,e[5]=a*c,e[9]=-o*c,e[2]=-l*c,e[6]=f*u+p,e[10]=d-g*u}else if(t.order==="XZY"){const d=a*h,f=a*l,p=o*h,g=o*l;e[0]=h*c,e[4]=-u,e[8]=l*c,e[1]=d*u+g,e[5]=a*c,e[9]=f*u-p,e[2]=p*u-f,e[6]=o*c,e[10]=g*u+d}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(HL,t,GL)}lookAt(t,e,i){const n=this.elements;return N0.subVectors(t,e),N0.lengthSq()===0&&(N0.z=1),N0.normalize(),jn.crossVectors(i,N0),jn.lengthSq()===0&&(Math.abs(i.z)===1?N0.x+=1e-4:N0.z+=1e-4,N0.normalize(),jn.crossVectors(i,N0)),jn.normalize(),la.crossVectors(N0,jn),n[0]=jn.x,n[4]=la.x,n[8]=N0.x,n[1]=jn.y,n[5]=la.y,n[9]=N0.y,n[2]=jn.z,n[6]=la.z,n[10]=N0.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],h=i[8],l=i[12],c=i[1],u=i[5],d=i[9],f=i[13],p=i[2],g=i[6],m=i[10],y=i[14],_=i[3],x=i[7],v=i[11],b=i[15],E=n[0],w=n[4],R=n[8],S=n[12],A=n[1],U=n[5],B=n[9],F=n[13],H=n[2],G=n[6],Y=n[10],$=n[14],j=n[3],rt=n[7],at=n[11],V=n[15];return r[0]=a*E+o*A+h*H+l*j,r[4]=a*w+o*U+h*G+l*rt,r[8]=a*R+o*B+h*Y+l*at,r[12]=a*S+o*F+h*$+l*V,r[1]=c*E+u*A+d*H+f*j,r[5]=c*w+u*U+d*G+f*rt,r[9]=c*R+u*B+d*Y+f*at,r[13]=c*S+u*F+d*$+f*V,r[2]=p*E+g*A+m*H+y*j,r[6]=p*w+g*U+m*G+y*rt,r[10]=p*R+g*B+m*Y+y*at,r[14]=p*S+g*F+m*$+y*V,r[3]=_*E+x*A+v*H+b*j,r[7]=_*w+x*U+v*G+b*rt,r[11]=_*R+x*B+v*Y+b*at,r[15]=_*S+x*F+v*$+b*V,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],h=t[9],l=t[13],c=t[2],u=t[6],d=t[10],f=t[14],p=t[3],g=t[7],m=t[11],y=t[15];return p*(+r*h*u-n*l*u-r*o*d+i*l*d+n*o*f-i*h*f)+g*(+e*h*f-e*l*d+r*a*d-n*a*f+n*l*c-r*h*c)+m*(+e*l*u-e*o*f-r*a*u+i*a*f+r*o*c-i*l*c)+y*(-n*o*c-e*h*u+e*o*d+n*a*u-i*a*d+i*h*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],_=u*m*l-g*d*l+g*h*f-o*m*f-u*h*y+o*d*y,x=p*d*l-c*m*l-p*h*f+a*m*f+c*h*y-a*d*y,v=c*g*l-p*u*l+p*o*f-a*g*f-c*o*y+a*u*y,b=p*u*h-c*g*h-p*o*d+a*g*d+c*o*m-a*u*m,E=e*_+i*x+n*v+r*b;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/E;return t[0]=_*w,t[1]=(g*d*r-u*m*r-g*n*f+i*m*f+u*n*y-i*d*y)*w,t[2]=(o*m*r-g*h*r+g*n*l-i*m*l-o*n*y+i*h*y)*w,t[3]=(u*h*r-o*d*r-u*n*l+i*d*l+o*n*f-i*h*f)*w,t[4]=x*w,t[5]=(c*m*r-p*d*r+p*n*f-e*m*f-c*n*y+e*d*y)*w,t[6]=(p*h*r-a*m*r-p*n*l+e*m*l+a*n*y-e*h*y)*w,t[7]=(a*d*r-c*h*r+c*n*l-e*d*l-a*n*f+e*h*f)*w,t[8]=v*w,t[9]=(p*u*r-c*g*r-p*i*f+e*g*f+c*i*y-e*u*y)*w,t[10]=(a*g*r-p*o*r+p*i*l-e*g*l-a*i*y+e*o*y)*w,t[11]=(c*o*r-a*u*r-c*i*l+e*u*l+a*i*f-e*o*f)*w,t[12]=b*w,t[13]=(c*g*n-p*u*n+p*i*d-e*g*d-c*i*m+e*u*m)*w,t[14]=(p*o*n-a*g*n-p*i*h+e*g*h+a*i*m-e*o*m)*w,t[15]=(a*u*n-c*o*n+c*i*h-e*u*h-a*i*d+e*o*d)*w,this}scale(t){const e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,h=t.z,l=r*a,c=r*o;return this.set(l*a+i,l*o-n*h,l*h+n*o,0,l*o+n*h,c*o+i,c*h-n*a,0,l*h-n*o,c*h+n*a,r*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,n,r,a){return this.set(1,i,r,0,t,1,a,0,e,n,1,0,0,0,0,1),this}compose(t,e,i){const n=this.elements,r=e._x,a=e._y,o=e._z,h=e._w,l=r+r,c=a+a,u=o+o,d=r*l,f=r*c,p=r*u,g=a*c,m=a*u,y=o*u,_=h*l,x=h*c,v=h*u,b=i.x,E=i.y,w=i.z;return n[0]=(1-(g+y))*b,n[1]=(f+v)*b,n[2]=(p-x)*b,n[3]=0,n[4]=(f-v)*E,n[5]=(1-(d+y))*E,n[6]=(m+_)*E,n[7]=0,n[8]=(p+x)*w,n[9]=(m-_)*w,n[10]=(1-(d+g))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,i){const n=this.elements;let r=ur.set(n[0],n[1],n[2]).length();const a=ur.set(n[4],n[5],n[6]).length(),o=ur.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],gi.copy(this);const l=1/r,c=1/a,u=1/o;return gi.elements[0]*=l,gi.elements[1]*=l,gi.elements[2]*=l,gi.elements[4]*=c,gi.elements[5]*=c,gi.elements[6]*=c,gi.elements[8]*=u,gi.elements[9]*=u,gi.elements[10]*=u,e.setFromRotationMatrix(gi),i.x=r,i.y=a,i.z=o,this}makePerspective(t,e,i,n,r,a,o=t1){const h=this.elements,l=2*r/(e-t),c=2*r/(i-n),u=(e+t)/(e-t),d=(i+n)/(i-n);let f,p;if(o===t1)f=-(a+r)/(a-r),p=-2*a*r/(a-r);else if(o===xu)f=-a/(a-r),p=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return h[0]=l,h[4]=0,h[8]=u,h[12]=0,h[1]=0,h[5]=c,h[9]=d,h[13]=0,h[2]=0,h[6]=0,h[10]=f,h[14]=p,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,n,r,a,o=t1){const h=this.elements,l=1/(e-t),c=1/(i-n),u=1/(a-r),d=(e+t)*l,f=(i+n)*c;let p,g;if(o===t1)p=(a+r)*u,g=-2*u;else if(o===xu)p=r*u,g=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return h[0]=2*l,h[4]=0,h[8]=0,h[12]=-d,h[1]=0,h[5]=2*c,h[9]=0,h[13]=-f,h[2]=0,h[6]=0,h[10]=g,h[14]=-p,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}};const ur=new gt,gi=new si,HL=new gt(0,0,0),GL=new gt(1,1,1),jn=new gt,la=new gt,N0=new gt,bu=new si,Su=new t2;let Lg=class Ig{constructor(t=0,e=0,i=0,n=Ig.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,n=this._order){return this._x=t,this._y=e,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const n=t.elements,r=n[0],a=n[4],o=n[8],h=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10];switch(e){case"XYZ":this._y=Math.asin(w0(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-w0(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(h,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(w0(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-w0(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(w0(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-w0(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return bu.makeRotationFromQuaternion(t),this.setFromRotationMatrix(bu,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Su.setFromEuler(this),this.setFromQuaternion(Su,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};Lg.DEFAULT_ORDER="XYZ";let VL=class{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}},WL=0;const wu=new gt,dr=new t2,yn=new si,ca=new gt,G5=new gt,qL=new gt,$L=new t2,Au=new gt(1,0,0),Eu=new gt(0,1,0),Tu=new gt(0,0,1),XL={type:"added"},Cu={type:"removed"};let M5=class Ya extends K1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:WL++}),this.uuid=Q1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ya.DEFAULT_UP.clone();const t=new gt,e=new Lg,i=new t2,n=new gt(1,1,1);function r(){i.setFromEuler(e,!1)}function a(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new si},normalMatrix:{value:new v5}}),this.matrix=new si,this.matrixWorld=new si,this.matrixAutoUpdate=Ya.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ya.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new VL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return dr.setFromAxisAngle(t,e),this.quaternion.multiply(dr),this}rotateOnWorldAxis(t,e){return dr.setFromAxisAngle(t,e),this.quaternion.premultiply(dr),this}rotateX(t){return this.rotateOnAxis(Au,t)}rotateY(t){return this.rotateOnAxis(Eu,t)}rotateZ(t){return this.rotateOnAxis(Tu,t)}translateOnAxis(t,e){return wu.copy(t).applyQuaternion(this.quaternion),this.position.add(wu.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Au,t)}translateY(t){return this.translateOnAxis(Eu,t)}translateZ(t){return this.translateOnAxis(Tu,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(yn.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?ca.copy(t):ca.set(t,e,i);const n=this.parent;this.updateWorldMatrix(!0,!1),G5.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yn.lookAt(G5,ca,this.up):yn.lookAt(ca,G5,this.up),this.quaternion.setFromRotationMatrix(yn),n&&(yn.extractRotation(n.matrixWorld),dr.setFromRotationMatrix(yn),this.quaternion.premultiply(dr.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(XL)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Cu)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Cu)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),yn.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),yn.multiply(t.parent.matrixWorld)),t.applyMatrix4(yn),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const a=this.children[i].getObjectByProperty(t,e);if(a!==void 0)return a}}getObjectsByProperty(t,e){let i=[];this[t]===e&&i.push(this);for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectsByProperty(t,e);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(G5,t,qL),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(G5,$L,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++){const r=e[i];(r.matrixWorldAutoUpdate===!0||t===!0)&&r.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const n=this.children;for(let r=0,a=n.length;r<a;r++){const o=n[r];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(o,h){return o[h.uuid]===void 0&&(o[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const h=o.shapes;if(Array.isArray(h))for(let l=0,c=h.length;l<c;l++){const u=h[l];r(t.shapes,u)}else r(t.shapes,h)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let h=0,l=this.material.length;h<l;h++)o.push(r(t.materials,this.material[h]));n.material=o}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(let o=0;o<this.children.length;o++)n.children.push(this.children[o].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let o=0;o<this.animations.length;o++){const h=this.animations[o];n.animations.push(r(t.animations,h))}}if(e){const o=a(t.geometries),h=a(t.materials),l=a(t.textures),c=a(t.images),u=a(t.shapes),d=a(t.skeletons),f=a(t.animations),p=a(t.nodes);o.length>0&&(i.geometries=o),h.length>0&&(i.materials=h),l.length>0&&(i.textures=l),c.length>0&&(i.images=c),u.length>0&&(i.shapes=u),d.length>0&&(i.skeletons=d),f.length>0&&(i.animations=f),p.length>0&&(i.nodes=p)}return i.object=n,i;function a(o){const h=[];for(const l in o){const c=o[l];delete c.metadata,h.push(c)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const n=t.children[i];this.add(n.clone())}return this}};M5.DEFAULT_UP=new gt(0,1,0);M5.DEFAULT_MATRIX_AUTO_UPDATE=!0;M5.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yi=new gt,xn=new gt,I7=new gt,_n=new gt,fr=new gt,pr=new gt,Ru=new gt,N7=new gt,D7=new gt,F7=new gt;let ua=!1;class wi{constructor(t=new gt,e=new gt,i=new gt){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,n){n.subVectors(i,e),yi.subVectors(t,e),n.cross(yi);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(t,e,i,n,r){yi.subVectors(n,e),xn.subVectors(i,e),I7.subVectors(t,e);const a=yi.dot(yi),o=yi.dot(xn),h=yi.dot(I7),l=xn.dot(xn),c=xn.dot(I7),u=a*l-o*o;if(u===0)return r.set(-2,-1,-1);const d=1/u,f=(l*h-o*c)*d,p=(a*c-o*h)*d;return r.set(1-f-p,p,f)}static containsPoint(t,e,i,n){return this.getBarycoord(t,e,i,n,_n),_n.x>=0&&_n.y>=0&&_n.x+_n.y<=1}static getUV(t,e,i,n,r,a,o,h){return ua===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ua=!0),this.getInterpolation(t,e,i,n,r,a,o,h)}static getInterpolation(t,e,i,n,r,a,o,h){return this.getBarycoord(t,e,i,n,_n),h.setScalar(0),h.addScaledVector(r,_n.x),h.addScaledVector(a,_n.y),h.addScaledVector(o,_n.z),h}static isFrontFacing(t,e,i,n){return yi.subVectors(i,e),xn.subVectors(t,e),yi.cross(xn).dot(n)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this}setFromAttributeAndIndices(t,e,i,n){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return yi.subVectors(this.c,this.b),xn.subVectors(this.a,this.b),yi.cross(xn).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return wi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return wi.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,n,r){return ua===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ua=!0),wi.getInterpolation(t,this.a,this.b,this.c,e,i,n,r)}getInterpolation(t,e,i,n,r){return wi.getInterpolation(t,this.a,this.b,this.c,e,i,n,r)}containsPoint(t){return wi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return wi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,n=this.b,r=this.c;let a,o;fr.subVectors(n,i),pr.subVectors(r,i),N7.subVectors(t,i);const h=fr.dot(N7),l=pr.dot(N7);if(h<=0&&l<=0)return e.copy(i);D7.subVectors(t,n);const c=fr.dot(D7),u=pr.dot(D7);if(c>=0&&u<=c)return e.copy(n);const d=h*u-c*l;if(d<=0&&h>=0&&c<=0)return a=h/(h-c),e.copy(i).addScaledVector(fr,a);F7.subVectors(t,r);const f=fr.dot(F7),p=pr.dot(F7);if(p>=0&&f<=p)return e.copy(r);const g=f*l-h*p;if(g<=0&&l>=0&&p<=0)return o=l/(l-p),e.copy(i).addScaledVector(pr,o);const m=c*p-f*u;if(m<=0&&u-c>=0&&f-p>=0)return Ru.subVectors(r,n),o=(u-c)/(u-c+(f-p)),e.copy(n).addScaledVector(Ru,o);const y=1/(m+g+d);return a=g*y,o=d*y,e.copy(i).addScaledVector(fr,a).addScaledVector(pr,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let jL=0,H8=class extends K1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:jL++}),this.uuid=Q1(),this.name="",this.type="Material",this.blending=pu,this.side=h6,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=uL,this.blendDst=dL,this.blendEquation=cL,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=fL,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=TL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=M7,this.stencilZFail=M7,this.stencilZPass=M7,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const n=this[e];if(n===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==pu&&(i.blending=this.blending),this.side!==h6&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(r){const a=[];for(const o in r){const h=r[o];delete h.metadata,a.push(h)}return a}if(e){const r=n(t.textures),a=n(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const n=e.length;i=new Array(n);for(let r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}};const Ng={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xi={h:0,s:0,l:0},da={h:0,s:0,l:0};function O7(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*6*(2/3-e):s}let Tn=class{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const n=t;n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=U0){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,mi.toWorkingColorSpace(this,e),this}setRGB(t,e,i,n=mi.workingColorSpace){return this.r=t,this.g=e,this.b=i,mi.toWorkingColorSpace(this,n),this}setHSL(t,e,i,n=mi.workingColorSpace){if(t=CL(t,1),e=w0(e,0,1),i=w0(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,a=2*i-r;this.r=O7(a,r,t+1/3),this.g=O7(a,r,t),this.b=O7(a,r,t-1/3)}return mi.toWorkingColorSpace(this,n),this}setStyle(t,e=U0){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const a=n[1],o=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=n[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(a===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=U0){const i=Ng[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=kr(t.r),this.g=kr(t.g),this.b=kr(t.b),this}copyLinearToSRGB(t){return this.r=w7(t.r),this.g=w7(t.g),this.b=w7(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=U0){return mi.fromWorkingColorSpace(h0.copy(this),t),Math.round(w0(h0.r*255,0,255))*65536+Math.round(w0(h0.g*255,0,255))*256+Math.round(w0(h0.b*255,0,255))}getHexString(t=U0){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=mi.workingColorSpace){mi.fromWorkingColorSpace(h0.copy(this),e);const i=h0.r,n=h0.g,r=h0.b,a=Math.max(i,n,r),o=Math.min(i,n,r);let h,l;const c=(o+a)/2;if(o===a)h=0,l=0;else{const u=a-o;switch(l=c<=.5?u/(a+o):u/(2-a-o),a){case i:h=(n-r)/u+(n<r?6:0);break;case n:h=(r-i)/u+2;break;case r:h=(i-n)/u+4;break}h/=6}return t.h=h,t.s=l,t.l=c,t}getRGB(t,e=mi.workingColorSpace){return mi.fromWorkingColorSpace(h0.copy(this),e),t.r=h0.r,t.g=h0.g,t.b=h0.b,t}getStyle(t=U0){mi.fromWorkingColorSpace(h0.copy(this),t);const e=h0.r,i=h0.g,n=h0.b;return t!==U0?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(n*255)})`}offsetHSL(t,e,i){return this.getHSL(xi),xi.h+=t,xi.s+=e,xi.l+=i,this.setHSL(xi.h,xi.s,xi.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(xi),t.getHSL(da);const i=b7(xi.h,da.h,e),n=b7(xi.s,da.s,e),r=b7(xi.l,da.l,e);return this.setHSL(i,n,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,n=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*n,this.g=r[1]*e+r[4]*i+r[7]*n,this.b=r[2]*e+r[5]*i+r[8]*n,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const h0=new Tn;Tn.NAMES=Ng;class YL extends H8{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pL,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Ue=new gt,fa=new be;let Hr=class{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=yu,this.updateRange={offset:0,count:-1},this.gpuType=bL,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)fa.fromBufferAttribute(this,e),fa.applyMatrix3(t),this.setXY(e,fa.x,fa.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Ue.fromBufferAttribute(this,e),Ue.applyMatrix3(t),this.setXYZ(e,Ue.x,Ue.y,Ue.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Ue.fromBufferAttribute(this,e),Ue.applyMatrix4(t),this.setXYZ(e,Ue.x,Ue.y,Ue.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Ue.fromBufferAttribute(this,e),Ue.applyNormalMatrix(t),this.setXYZ(e,Ue.x,Ue.y,Ue.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Ue.fromBufferAttribute(this,e),Ue.transformDirection(t),this.setXYZ(e,Ue.x,Ue.y,Ue.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=sa(e,this.array)),e}setX(t,e){return this.normalized&&(e=I0(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=sa(e,this.array)),e}setY(t,e){return this.normalized&&(e=I0(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=sa(e,this.array)),e}setZ(t,e){return this.normalized&&(e=I0(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=sa(e,this.array)),e}setW(t,e){return this.normalized&&(e=I0(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=I0(e,this.array),i=I0(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,n){return t*=this.itemSize,this.normalized&&(e=I0(e,this.array),i=I0(i,this.array),n=I0(n,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this}setXYZW(t,e,i,n,r){return t*=this.itemSize,this.normalized&&(e=I0(e,this.array),i=I0(i,this.array),n=I0(n,this.array),r=I0(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==yu&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}},ZL=class extends Hr{constructor(t,e,i){super(new Uint16Array(t),e,i)}},JL=class extends Hr{constructor(t,e,i){super(new Uint32Array(t),e,i)}},G8=class extends Hr{constructor(t,e,i){super(new Float32Array(t),e,i)}},KL=0;const $0=new si,z7=new M5,mr=new gt,D0=new e2,V5=new e2,t0=new gt;let Dg=class Fg extends K1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:KL++}),this.uuid=Q1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(RL(t)?JL:ZL)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new v5().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(t),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return $0.makeRotationFromQuaternion(t),this.applyMatrix4($0),this}rotateX(t){return $0.makeRotationX(t),this.applyMatrix4($0),this}rotateY(t){return $0.makeRotationY(t),this.applyMatrix4($0),this}rotateZ(t){return $0.makeRotationZ(t),this.applyMatrix4($0),this}translate(t,e,i){return $0.makeTranslation(t,e,i),this.applyMatrix4($0),this}scale(t,e,i){return $0.makeScale(t,e,i),this.applyMatrix4($0),this}lookAt(t){return z7.lookAt(t),z7.updateMatrix(),this.applyMatrix4(z7.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mr).negate(),this.translate(mr.x,mr.y,mr.z),this}setFromPoints(t){const e=[];for(let i=0,n=t.length;i<n;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new G8(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new e2);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new gt(-1/0,-1/0,-1/0),new gt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,n=e.length;i<n;i++){const r=e[i];D0.setFromBufferAttribute(r),this.morphTargetsRelative?(t0.addVectors(this.boundingBox.min,D0.min),this.boundingBox.expandByPoint(t0),t0.addVectors(this.boundingBox.max,D0.max),this.boundingBox.expandByPoint(t0)):(this.boundingBox.expandByPoint(D0.min),this.boundingBox.expandByPoint(D0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pg);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new gt,1/0);return}if(t){const i=this.boundingSphere.center;if(D0.setFromBufferAttribute(t),e)for(let r=0,a=e.length;r<a;r++){const o=e[r];V5.setFromBufferAttribute(o),this.morphTargetsRelative?(t0.addVectors(D0.min,V5.min),D0.expandByPoint(t0),t0.addVectors(D0.max,V5.max),D0.expandByPoint(t0)):(D0.expandByPoint(V5.min),D0.expandByPoint(V5.max))}D0.getCenter(i);let n=0;for(let r=0,a=t.count;r<a;r++)t0.fromBufferAttribute(t,r),n=Math.max(n,i.distanceToSquared(t0));if(e)for(let r=0,a=e.length;r<a;r++){const o=e[r],h=this.morphTargetsRelative;for(let l=0,c=o.count;l<c;l++)t0.fromBufferAttribute(o,l),h&&(mr.fromBufferAttribute(t,l),t0.add(mr)),n=Math.max(n,i.distanceToSquared(t0))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.array,n=e.position.array,r=e.normal.array,a=e.uv.array,o=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hr(new Float32Array(4*o),4));const h=this.getAttribute("tangent").array,l=[],c=[];for(let A=0;A<o;A++)l[A]=new gt,c[A]=new gt;const u=new gt,d=new gt,f=new gt,p=new be,g=new be,m=new be,y=new gt,_=new gt;function x(A,U,B){u.fromArray(n,A*3),d.fromArray(n,U*3),f.fromArray(n,B*3),p.fromArray(a,A*2),g.fromArray(a,U*2),m.fromArray(a,B*2),d.sub(u),f.sub(u),g.sub(p),m.sub(p);const F=1/(g.x*m.y-m.x*g.y);isFinite(F)&&(y.copy(d).multiplyScalar(m.y).addScaledVector(f,-g.y).multiplyScalar(F),_.copy(f).multiplyScalar(g.x).addScaledVector(d,-m.x).multiplyScalar(F),l[A].add(y),l[U].add(y),l[B].add(y),c[A].add(_),c[U].add(_),c[B].add(_))}let v=this.groups;v.length===0&&(v=[{start:0,count:i.length}]);for(let A=0,U=v.length;A<U;++A){const B=v[A],F=B.start,H=B.count;for(let G=F,Y=F+H;G<Y;G+=3)x(i[G+0],i[G+1],i[G+2])}const b=new gt,E=new gt,w=new gt,R=new gt;function S(A){w.fromArray(r,A*3),R.copy(w);const U=l[A];b.copy(U),b.sub(w.multiplyScalar(w.dot(U))).normalize(),E.crossVectors(R,U);const F=E.dot(c[A])<0?-1:1;h[A*4]=b.x,h[A*4+1]=b.y,h[A*4+2]=b.z,h[A*4+3]=F}for(let A=0,U=v.length;A<U;++A){const B=v[A],F=B.start,H=B.count;for(let G=F,Y=F+H;G<Y;G+=3)S(i[G+0]),S(i[G+1]),S(i[G+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Hr(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let d=0,f=i.count;d<f;d++)i.setXYZ(d,0,0,0);const n=new gt,r=new gt,a=new gt,o=new gt,h=new gt,l=new gt,c=new gt,u=new gt;if(t)for(let d=0,f=t.count;d<f;d+=3){const p=t.getX(d+0),g=t.getX(d+1),m=t.getX(d+2);n.fromBufferAttribute(e,p),r.fromBufferAttribute(e,g),a.fromBufferAttribute(e,m),c.subVectors(a,r),u.subVectors(n,r),c.cross(u),o.fromBufferAttribute(i,p),h.fromBufferAttribute(i,g),l.fromBufferAttribute(i,m),o.add(c),h.add(c),l.add(c),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(g,h.x,h.y,h.z),i.setXYZ(m,l.x,l.y,l.z)}else for(let d=0,f=e.count;d<f;d+=3)n.fromBufferAttribute(e,d+0),r.fromBufferAttribute(e,d+1),a.fromBufferAttribute(e,d+2),c.subVectors(a,r),u.subVectors(n,r),c.cross(u),i.setXYZ(d+0,c.x,c.y,c.z),i.setXYZ(d+1,c.x,c.y,c.z),i.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)t0.fromBufferAttribute(t,e),t0.normalize(),t.setXYZ(e,t0.x,t0.y,t0.z)}toNonIndexed(){function t(o,h){const l=o.array,c=o.itemSize,u=o.normalized,d=new l.constructor(h.length*c);let f=0,p=0;for(let g=0,m=h.length;g<m;g++){o.isInterleavedBufferAttribute?f=h[g]*o.data.stride+o.offset:f=h[g]*c;for(let y=0;y<c;y++)d[p++]=l[f++]}return new Hr(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Fg,i=this.index.array,n=this.attributes;for(const o in n){const h=n[o],l=t(h,i);e.setAttribute(o,l)}const r=this.morphAttributes;for(const o in r){const h=[],l=r[o];for(let c=0,u=l.length;c<u;c++){const d=l[c],f=t(d,i);h.push(f)}e.morphAttributes[o]=h}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,h=a.length;o<h;o++){const l=a[o];e.addGroup(l.start,l.count,l.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const l in h)h[l]!==void 0&&(t[l]=h[l]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const l=i[h];t.data.attributes[h]=l.toJSON(t.data)}const n={};let r=!1;for(const h in this.morphAttributes){const l=this.morphAttributes[h],c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u];c.push(f.toJSON(t.data))}c.length>0&&(n[h]=c,r=!0)}r&&(t.data.morphAttributes=n,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const n=t.attributes;for(const l in n){const c=n[l];this.setAttribute(l,c.clone(e))}const r=t.morphAttributes;for(const l in r){const c=[],u=r[l];for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone(e));this.morphAttributes[l]=c}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];this.addGroup(u.start,u.count,u.materialIndex)}const o=t.boundingBox;o!==null&&(this.boundingBox=o.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}};const Pu=new si,Xs=new kL,pa=new Pg,Lu=new gt,gr=new gt,yr=new gt,xr=new gt,B7=new gt,ma=new gt,ga=new be,ya=new be,xa=new be,Iu=new gt,Nu=new gt,Du=new gt,_a=new gt,va=new gt;class QL extends M5{constructor(t=new Dg,e=new YL){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const n=e[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=n.length;r<a;r++){const o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}getVertexPosition(t,e){const i=this.geometry,n=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;e.fromBufferAttribute(n,t);const o=this.morphTargetInfluences;if(r&&o){ma.set(0,0,0);for(let h=0,l=r.length;h<l;h++){const c=o[h],u=r[h];c!==0&&(B7.fromBufferAttribute(u,t),a?ma.addScaledVector(B7,c):ma.addScaledVector(B7.sub(e),c))}e.add(ma)}return e}raycast(t,e){const i=this.geometry,n=this.material,r=this.matrixWorld;n!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),pa.copy(i.boundingSphere),pa.applyMatrix4(r),Xs.copy(t.ray).recast(t.near),!(pa.containsPoint(Xs.origin)===!1&&(Xs.intersectSphere(pa,Lu)===null||Xs.origin.distanceToSquared(Lu)>(t.far-t.near)**2))&&(Pu.copy(r).invert(),Xs.copy(t.ray).applyMatrix4(Pu),!(i.boundingBox!==null&&Xs.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Xs)))}_computeIntersections(t,e,i){let n;const r=this.geometry,a=this.material,o=r.index,h=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,f=r.drawRange;if(o!==null)if(Array.isArray(a))for(let p=0,g=d.length;p<g;p++){const m=d[p],y=a[m.materialIndex],_=Math.max(m.start,f.start),x=Math.min(o.count,Math.min(m.start+m.count,f.start+f.count));for(let v=_,b=x;v<b;v+=3){const E=o.getX(v),w=o.getX(v+1),R=o.getX(v+2);n=Ma(this,y,t,i,l,c,u,E,w,R),n&&(n.faceIndex=Math.floor(v/3),n.face.materialIndex=m.materialIndex,e.push(n))}}else{const p=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);for(let m=p,y=g;m<y;m+=3){const _=o.getX(m),x=o.getX(m+1),v=o.getX(m+2);n=Ma(this,a,t,i,l,c,u,_,x,v),n&&(n.faceIndex=Math.floor(m/3),e.push(n))}}else if(h!==void 0)if(Array.isArray(a))for(let p=0,g=d.length;p<g;p++){const m=d[p],y=a[m.materialIndex],_=Math.max(m.start,f.start),x=Math.min(h.count,Math.min(m.start+m.count,f.start+f.count));for(let v=_,b=x;v<b;v+=3){const E=v,w=v+1,R=v+2;n=Ma(this,y,t,i,l,c,u,E,w,R),n&&(n.faceIndex=Math.floor(v/3),n.face.materialIndex=m.materialIndex,e.push(n))}}else{const p=Math.max(0,f.start),g=Math.min(h.count,f.start+f.count);for(let m=p,y=g;m<y;m+=3){const _=m,x=m+1,v=m+2;n=Ma(this,a,t,i,l,c,u,_,x,v),n&&(n.faceIndex=Math.floor(m/3),e.push(n))}}}}function tI(s,t,e,i,n,r,a,o){let h;if(t.side===hL?h=i.intersectTriangle(a,r,n,!0,o):h=i.intersectTriangle(n,r,a,t.side===h6,o),h===null)return null;va.copy(o),va.applyMatrix4(s.matrixWorld);const l=e.ray.origin.distanceTo(va);return l<e.near||l>e.far?null:{distance:l,point:va.clone(),object:s}}function Ma(s,t,e,i,n,r,a,o,h,l){s.getVertexPosition(o,gr),s.getVertexPosition(h,yr),s.getVertexPosition(l,xr);const c=tI(s,t,e,i,gr,yr,xr,_a);if(c){n&&(ga.fromBufferAttribute(n,o),ya.fromBufferAttribute(n,h),xa.fromBufferAttribute(n,l),c.uv=wi.getInterpolation(_a,gr,yr,xr,ga,ya,xa,new be)),r&&(ga.fromBufferAttribute(r,o),ya.fromBufferAttribute(r,h),xa.fromBufferAttribute(r,l),c.uv1=wi.getInterpolation(_a,gr,yr,xr,ga,ya,xa,new be),c.uv2=c.uv1),a&&(Iu.fromBufferAttribute(a,o),Nu.fromBufferAttribute(a,h),Du.fromBufferAttribute(a,l),c.normal=wi.getInterpolation(_a,gr,yr,xr,Iu,Nu,Du,new gt),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const u={a:o,b:h,c:l,normal:new gt,materialIndex:0};wi.getNormal(gr,yr,xr,u.normal),c.face=u}return c}function V8(s){const t={};for(const e in s){t[e]={};for(const i in s[e]){const n=s[e][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=n.clone():Array.isArray(n)?t[e][i]=n.slice():t[e][i]=n}}return t}function eI(s){const t={};for(let e=0;e<s.length;e++){const i=V8(s[e]);for(const n in i)t[n]=i[n]}return t}function iI(s){const t=[];for(let e=0;e<s.length;e++)t.push(s[e].clone());return t}const W8={clone:V8,merge:eI};var nI=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,sI=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let ss=class extends H8{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nI,this.fragmentShader=sI,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=V8(t.uniforms),this.uniformsGroups=iI(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const a=this.uniforms[n].value;a&&a.isTexture?e.uniforms[n]={type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?e.uniforms[n]={type:"c",value:a.getHex()}:a&&a.isVector2?e.uniforms[n]={type:"v2",value:a.toArray()}:a&&a.isVector3?e.uniforms[n]={type:"v3",value:a.toArray()}:a&&a.isVector4?e.uniforms[n]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?e.uniforms[n]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?e.uniforms[n]={type:"m4",value:a.toArray()}:e.uniforms[n]={value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}};class rI extends M5{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new si,this.projectionMatrix=new si,this.projectionMatrixInverse=new si,this.coordinateSystem=t1}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class aI extends rI{constructor(t=-1,e=1,i=1,n=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,n,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=i-t,a=i+t,o=n+e,h=n-e;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,a=r+l*this.view.width,o-=c*this.view.offsetY,h=o-c*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class oI extends H8{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=AL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class hI{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Fu(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Fu();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Fu(){return(typeof performance>"u"?Date:performance).now()}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bg);const Og={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class b5{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const lI=new aI(-1,1,1,-1,0,1),q8=new Dg;q8.setAttribute("position",new G8([-1,3,0,-1,-1,0,3,-1,0],3));q8.setAttribute("uv",new G8([0,2,0,0,2,0],2));class $8{constructor(t){this._mesh=new QL(q8,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,lI)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class zg extends b5{constructor(t,e){super(),this.textureID=e!==void 0?e:"tDiffuse",t instanceof ss?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=W8.clone(t.uniforms),this.material=new ss({name:t.name!==void 0?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new $8(this.material)}render(t,e,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Ou extends b5{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,i){const n=t.getContext(),r=t.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);let a,o;this.inverse?(a=0,o=1):(a=1,o=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),r.buffers.stencil.setFunc(n.ALWAYS,a,4294967295),r.buffers.stencil.setClear(o),r.buffers.stencil.setLocked(!0),t.setRenderTarget(i),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(n.EQUAL,1,4294967295),r.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),r.buffers.stencil.setLocked(!0)}}class cI extends b5{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class uI{constructor(t,e){if(this.renderer=t,this._pixelRatio=t.getPixelRatio(),e===void 0){const i=t.getSize(new be);this._width=i.width,this._height=i.height,e=new Qn(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:e9}),e.texture.name="EffectComposer.rt1"}else this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new zg(Og),this.copyPass.material.blending=l6,this.clock=new hI}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);e!==-1&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){t===void 0&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let i=!1;for(let n=0,r=this.passes.length;n<r;n++){const a=this.passes[n];if(a.enabled!==!1){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),a.render(this.renderer,this.writeBuffer,this.readBuffer,t,i),a.needsSwap){if(i){const o=this.renderer.getContext(),h=this.renderer.state.buffers.stencil;h.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),h.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}Ou!==void 0&&(a instanceof Ou?i=!0:a instanceof cI&&(i=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(t===void 0){const e=this.renderer.getSize(new be);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const i=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(i,n),this.renderTarget2.setSize(i,n);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(i,n)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class dI extends b5{constructor(t,e,i,n,r){super(),this.scene=t,this.camera=e,this.overrideMaterial=i,this.clearColor=n,this.clearAlpha=r!==void 0?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Tn}render(t,e,i){const n=t.autoClear;t.autoClear=!1;let r,a;this.overrideMaterial!==void 0&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(t.getClearColor(this._oldClearColor),r=t.getClearAlpha(),t.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:i),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor&&t.setClearColor(this._oldClearColor,r),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=a),t.autoClear=n}}class as extends b5{constructor(t,e,i,n){super(),this.renderScene=e,this.renderCamera=i,this.selectedObjects=n!==void 0?n:[],this.visibleEdgeColor=new Tn(1,1,1),this.hiddenEdgeColor=new Tn(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,this._visibilityCache=new Map,this.resolution=t!==void 0?new be(t.x,t.y):new be(256,256);const r=Math.round(this.resolution.x/this.downSampleRatio),a=Math.round(this.resolution.y/this.downSampleRatio);this.renderTargetMaskBuffer=new Qn(this.resolution.x,this.resolution.y),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new oI,this.depthMaterial.side=fu,this.depthMaterial.depthPacking=EL,this.depthMaterial.blending=l6,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=fu,this.prepareMaskMaterial.fragmentShader=c(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new Qn(this.resolution.x,this.resolution.y,{type:e9}),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new Qn(r,a,{type:e9}),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new Qn(r,a,{type:e9}),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new Qn(Math.round(r/2),Math.round(a/2),{type:e9}),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new Qn(r,a,{type:e9}),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new Qn(Math.round(r/2),Math.round(a/2),{type:e9}),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;const o=4,h=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(o),this.separableBlurMaterial1.uniforms.texSize.value.set(r,a),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(h),this.separableBlurMaterial2.uniforms.texSize.value.set(Math.round(r/2),Math.round(a/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=h,this.overlayMaterial=this.getOverlayMaterial();const l=Og;this.copyUniforms=W8.clone(l.uniforms),this.materialCopy=new ss({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:l6,depthTest:!1,depthWrite:!1}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Tn,this.oldClearAlpha=1,this.fsQuad=new $8(null),this.tempPulseColor1=new Tn,this.tempPulseColor2=new Tn,this.textureMatrix=new si;function c(u,d){const f=d.isPerspectiveCamera?"perspective":"orthographic";return u.replace(/DEPTH_TO_VIEW_Z/g,f+"DepthToViewZ")}}dispose(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose(),this.depthMaterial.dispose(),this.prepareMaskMaterial.dispose(),this.edgeDetectionMaterial.dispose(),this.separableBlurMaterial1.dispose(),this.separableBlurMaterial2.dispose(),this.overlayMaterial.dispose(),this.materialCopy.dispose(),this.fsQuad.dispose()}setSize(t,e){this.renderTargetMaskBuffer.setSize(t,e),this.renderTargetDepthBuffer.setSize(t,e);let i=Math.round(t/this.downSampleRatio),n=Math.round(e/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(i,n),this.renderTargetBlurBuffer1.setSize(i,n),this.renderTargetEdgeBuffer1.setSize(i,n),this.separableBlurMaterial1.uniforms.texSize.value.set(i,n),i=Math.round(i/2),n=Math.round(n/2),this.renderTargetBlurBuffer2.setSize(i,n),this.renderTargetEdgeBuffer2.setSize(i,n),this.separableBlurMaterial2.uniforms.texSize.value.set(i,n)}changeVisibilityOfSelectedObjects(t){const e=this._visibilityCache;function i(n){n.isMesh&&(t===!0?n.visible=e.get(n):(e.set(n,n.visible),n.visible=t))}for(let n=0;n<this.selectedObjects.length;n++)this.selectedObjects[n].traverse(i)}changeVisibilityOfNonSelectedObjects(t){const e=this._visibilityCache,i=[];function n(a){a.isMesh&&i.push(a)}for(let a=0;a<this.selectedObjects.length;a++)this.selectedObjects[a].traverse(n);function r(a){if(a.isMesh||a.isSprite){let o=!1;for(let h=0;h<i.length;h++)if(i[h].id===a.id){o=!0;break}if(o===!1){const h=a.visible;(t===!1||e.get(a)===!0)&&(a.visible=t),e.set(a,h)}}else(a.isPoints||a.isLine)&&(t===!0?a.visible=e.get(a):(e.set(a,a.visible),a.visible=t))}this.renderScene.traverse(r)}updateTextureMatrix(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)}render(t,e,i,n,r){if(this.selectedObjects.length>0){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const a=t.autoClear;t.autoClear=!1,r&&t.state.buffers.stencil.setTest(!1),t.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);const o=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,t.setRenderTarget(this.renderTargetDepthBuffer),t.clear(),t.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this._visibilityCache.clear(),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,t.setRenderTarget(this.renderTargetMaskBuffer),t.clear(),t.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this._visibilityCache.clear(),this.renderScene.background=o,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,t.setRenderTarget(this.renderTargetMaskDownSampleBuffer),t.clear(),this.fsQuad.render(t),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){const h=.625+Math.cos(performance.now()*.01/this.pulsePeriod)*.75/2;this.tempPulseColor1.multiplyScalar(h),this.tempPulseColor2.multiplyScalar(h)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,t.setRenderTarget(this.renderTargetEdgeBuffer1),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=as.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,t.setRenderTarget(this.renderTargetBlurBuffer1),t.clear(),this.fsQuad.render(t),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=as.BlurDirectionY,t.setRenderTarget(this.renderTargetEdgeBuffer1),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=as.BlurDirectionX,t.setRenderTarget(this.renderTargetBlurBuffer2),t.clear(),this.fsQuad.render(t),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=as.BlurDirectionY,t.setRenderTarget(this.renderTargetEdgeBuffer2),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,r&&t.state.buffers.stencil.setTest(!0),t.setRenderTarget(i),this.fsQuad.render(t),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=a}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=i.texture,t.setRenderTarget(null),this.fsQuad.render(t))}getPrepareMaskMaterial(){return new ss({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new be(.5,.5)},textureMatrix:{value:null}},vertexShader:`#include <morphtarget_pars_vertex>
				#include <skinning_pars_vertex>

				varying vec4 projTexCoord;
				varying vec4 vPosition;
				uniform mat4 textureMatrix;

				void main() {

					#include <skinbase_vertex>
					#include <begin_vertex>
					#include <morphtarget_vertex>
					#include <skinning_vertex>
					#include <project_vertex>

					vPosition = mvPosition;

					vec4 worldPosition = vec4( transformed, 1.0 );

					#ifdef USE_INSTANCING

						worldPosition = instanceMatrix * worldPosition;

					#endif
					
					worldPosition = modelMatrix * worldPosition;

					projTexCoord = textureMatrix * worldPosition;

				}`,fragmentShader:`#include <packing>
				varying vec4 vPosition;
				varying vec4 projTexCoord;
				uniform sampler2D depthTexture;
				uniform vec2 cameraNearFar;

				void main() {

					float depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));
					float viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );
					float depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;
					gl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);

				}`})}getEdgeDetectionMaterial(){return new ss({uniforms:{maskTexture:{value:null},texSize:{value:new be(.5,.5)},visibleEdgeColor:{value:new gt(1,1,1)},hiddenEdgeColor:{value:new gt(1,1,1)}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform vec2 texSize;
				uniform vec3 visibleEdgeColor;
				uniform vec3 hiddenEdgeColor;

				void main() {
					vec2 invSize = 1.0 / texSize;
					vec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);
					vec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);
					vec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);
					vec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);
					vec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);
					float diff1 = (c1.r - c2.r)*0.5;
					float diff2 = (c3.r - c4.r)*0.5;
					float d = length( vec2(diff1, diff2) );
					float a1 = min(c1.g, c2.g);
					float a2 = min(c3.g, c4.g);
					float visibilityFactor = min(a1, a2);
					vec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;
					gl_FragColor = vec4(edgeColor, 1.0) * vec4(d);
				}`})}getSeperableBlurMaterial(t){return new ss({defines:{MAX_RADIUS:t},uniforms:{colorTexture:{value:null},texSize:{value:new be(.5,.5)},direction:{value:new be(.5,.5)},kernelRadius:{value:1}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;
				uniform float kernelRadius;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}

				void main() {
					vec2 invSize = 1.0 / texSize;
					float sigma = kernelRadius/2.0;
					float weightSum = gaussianPdf(0.0, sigma);
					vec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;
					vec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);
					vec2 uvOffset = delta;
					for( int i = 1; i <= MAX_RADIUS; i ++ ) {
						float x = kernelRadius * float(i) / float(MAX_RADIUS);
						float w = gaussianPdf(x, sigma);
						vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);
						vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);
						diffuseSum += ((sample1 + sample2) * w);
						weightSum += (2.0 * w);
						uvOffset += delta;
					}
					gl_FragColor = diffuseSum/weightSum;
				}`})}getOverlayMaterial(){return new ss({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:`varying vec2 vUv;

				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;

				uniform sampler2D maskTexture;
				uniform sampler2D edgeTexture1;
				uniform sampler2D edgeTexture2;
				uniform sampler2D patternTexture;
				uniform float edgeStrength;
				uniform float edgeGlow;
				uniform bool usePatternTexture;

				void main() {
					vec4 edgeValue1 = texture2D(edgeTexture1, vUv);
					vec4 edgeValue2 = texture2D(edgeTexture2, vUv);
					vec4 maskColor = texture2D(maskTexture, vUv);
					vec4 patternColor = texture2D(patternTexture, 6.0 * vUv);
					float visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;
					vec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;
					vec4 finalColor = edgeStrength * maskColor.r * edgeValue;
					if(usePatternTexture)
						finalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);
					gl_FragColor = finalColor;
				}`,blending:lL,depthTest:!1,depthWrite:!1,transparent:!0})}}as.BlurDirectionX=new be(1,0);as.BlurDirectionY=new be(0,1);const fI={uniforms:{tDiffuse:{value:null},resolution:{value:new be(1/1024,1/512)}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
	precision highp float;

	uniform sampler2D tDiffuse;

	uniform vec2 resolution;

	varying vec2 vUv;

	// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)

	//----------------------------------------------------------------------------------
	// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag
	// SDK Version: v3.00
	// Email:       gameworks@nvidia.com
	// Site:        http://developer.nvidia.com/
	//
	// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.
	//
	// Redistribution and use in source and binary forms, with or without
	// modification, are permitted provided that the following conditions
	// are met:
	//  * Redistributions of source code must retain the above copyright
	//    notice, this list of conditions and the following disclaimer.
	//  * Redistributions in binary form must reproduce the above copyright
	//    notice, this list of conditions and the following disclaimer in the
	//    documentation and/or other materials provided with the distribution.
	//  * Neither the name of NVIDIA CORPORATION nor the names of its
	//    contributors may be used to endorse or promote products derived
	//    from this software without specific prior written permission.
	//
	// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY
	// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
	// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
	// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
	// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
	// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
	// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
	// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
	// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
	// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	//
	//----------------------------------------------------------------------------------

	#ifndef FXAA_DISCARD
			//
			// Only valid for PC OpenGL currently.
			// Probably will not work when FXAA_GREEN_AS_LUMA = 1.
			//
			// 1 = Use discard on pixels which don't need AA.
			//     For APIs which enable concurrent TEX+ROP from same surface.
			// 0 = Return unchanged color on pixels which don't need AA.
			//
			#define FXAA_DISCARD 0
	#endif

	/*--------------------------------------------------------------------------*/
	#define FxaaTexTop(t, p) texture2D(t, p, -100.0)
	#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), -100.0)
	/*--------------------------------------------------------------------------*/

	#define NUM_SAMPLES 5

	// assumes colors have premultipliedAlpha, so that the calculated color contrast is scaled by alpha
	float contrast( vec4 a, vec4 b ) {
			vec4 diff = abs( a - b );
			return max( max( max( diff.r, diff.g ), diff.b ), diff.a );
	}

	/*============================================================================

									FXAA3 QUALITY - PC

	============================================================================*/

	/*--------------------------------------------------------------------------*/
	vec4 FxaaPixelShader(
			vec2 posM,
			sampler2D tex,
			vec2 fxaaQualityRcpFrame,
			float fxaaQualityEdgeThreshold,
			float fxaaQualityinvEdgeThreshold
	) {
			vec4 rgbaM = FxaaTexTop(tex, posM);
			vec4 rgbaS = FxaaTexOff(tex, posM, vec2( 0.0, 1.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaE = FxaaTexOff(tex, posM, vec2( 1.0, 0.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaN = FxaaTexOff(tex, posM, vec2( 0.0,-1.0), fxaaQualityRcpFrame.xy);
			vec4 rgbaW = FxaaTexOff(tex, posM, vec2(-1.0, 0.0), fxaaQualityRcpFrame.xy);
			// . S .
			// W M E
			// . N .

			bool earlyExit = max( max( max(
					contrast( rgbaM, rgbaN ),
					contrast( rgbaM, rgbaS ) ),
					contrast( rgbaM, rgbaE ) ),
					contrast( rgbaM, rgbaW ) )
					< fxaaQualityEdgeThreshold;
			// . 0 .
			// 0 0 0
			// . 0 .

			#if (FXAA_DISCARD == 1)
					if(earlyExit) FxaaDiscard;
			#else
					if(earlyExit) return rgbaM;
			#endif

			float contrastN = contrast( rgbaM, rgbaN );
			float contrastS = contrast( rgbaM, rgbaS );
			float contrastE = contrast( rgbaM, rgbaE );
			float contrastW = contrast( rgbaM, rgbaW );

			float relativeVContrast = ( contrastN + contrastS ) - ( contrastE + contrastW );
			relativeVContrast *= fxaaQualityinvEdgeThreshold;

			bool horzSpan = relativeVContrast > 0.;
			// . 1 .
			// 0 0 0
			// . 1 .

			// 45 deg edge detection and corners of objects, aka V/H contrast is too similar
			if( abs( relativeVContrast ) < .3 ) {
					// locate the edge
					vec2 dirToEdge;
					dirToEdge.x = contrastE > contrastW ? 1. : -1.;
					dirToEdge.y = contrastS > contrastN ? 1. : -1.;
					// . 2 .      . 1 .
					// 1 0 2  ~=  0 0 1
					// . 1 .      . 0 .

					// tap 2 pixels and see which ones are "outside" the edge, to
					// determine if the edge is vertical or horizontal

					vec4 rgbaAlongH = FxaaTexOff(tex, posM, vec2( dirToEdge.x, -dirToEdge.y ), fxaaQualityRcpFrame.xy);
					float matchAlongH = contrast( rgbaM, rgbaAlongH );
					// . 1 .
					// 0 0 1
					// . 0 H

					vec4 rgbaAlongV = FxaaTexOff(tex, posM, vec2( -dirToEdge.x, dirToEdge.y ), fxaaQualityRcpFrame.xy);
					float matchAlongV = contrast( rgbaM, rgbaAlongV );
					// V 1 .
					// 0 0 1
					// . 0 .

					relativeVContrast = matchAlongV - matchAlongH;
					relativeVContrast *= fxaaQualityinvEdgeThreshold;

					if( abs( relativeVContrast ) < .3 ) { // 45 deg edge
							// 1 1 .
							// 0 0 1
							// . 0 1

							// do a simple blur
							return mix(
									rgbaM,
									(rgbaN + rgbaS + rgbaE + rgbaW) * .25,
									.4
							);
					}

					horzSpan = relativeVContrast > 0.;
			}

			if(!horzSpan) rgbaN = rgbaW;
			if(!horzSpan) rgbaS = rgbaE;
			// . 0 .      1
			// 1 0 1  ->  0
			// . 0 .      1

			bool pairN = contrast( rgbaM, rgbaN ) > contrast( rgbaM, rgbaS );
			if(!pairN) rgbaN = rgbaS;

			vec2 offNP;
			offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;
			offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;

			bool doneN = false;
			bool doneP = false;

			float nDist = 0.;
			float pDist = 0.;

			vec2 posN = posM;
			vec2 posP = posM;

			int iterationsUsed = 0;
			int iterationsUsedN = 0;
			int iterationsUsedP = 0;
			for( int i = 0; i < NUM_SAMPLES; i++ ) {
					iterationsUsed = i;

					float increment = float(i + 1);

					if(!doneN) {
							nDist += increment;
							posN = posM + offNP * nDist;
							vec4 rgbaEndN = FxaaTexTop(tex, posN.xy);
							doneN = contrast( rgbaEndN, rgbaM ) > contrast( rgbaEndN, rgbaN );
							iterationsUsedN = i;
					}

					if(!doneP) {
							pDist += increment;
							posP = posM - offNP * pDist;
							vec4 rgbaEndP = FxaaTexTop(tex, posP.xy);
							doneP = contrast( rgbaEndP, rgbaM ) > contrast( rgbaEndP, rgbaN );
							iterationsUsedP = i;
					}

					if(doneN || doneP) break;
			}


			if ( !doneP && !doneN ) return rgbaM; // failed to find end of edge

			float dist = min(
					doneN ? float( iterationsUsedN ) / float( NUM_SAMPLES - 1 ) : 1.,
					doneP ? float( iterationsUsedP ) / float( NUM_SAMPLES - 1 ) : 1.
			);

			// hacky way of reduces blurriness of mostly diagonal edges
			// but reduces AA quality
			dist = pow(dist, .5);

			dist = 1. - dist;

			return mix(
					rgbaM,
					rgbaN,
					dist * .5
			);
	}

	void main() {
			const float edgeDetectionQuality = .2;
			const float invEdgeDetectionQuality = 1. / edgeDetectionQuality;

			gl_FragColor = FxaaPixelShader(
					vUv,
					tDiffuse,
					resolution,
					edgeDetectionQuality, // [0,1] contrast needed, otherwise early discard
					invEdgeDetectionQuality
			);

	}
	`},pI={uniforms:{tDiffuse:{value:null},toneMappingExposure:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;

		#include <tonemapping_pars_fragment>

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );

			// tone mapping

			#ifdef LINEAR_TONE_MAPPING

				gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );

			#elif defined( REINHARD_TONE_MAPPING )

				gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );

			#elif defined( CINEON_TONE_MAPPING )

				gl_FragColor.rgb = OptimizedCineonToneMapping( gl_FragColor.rgb );

			#elif defined( ACES_FILMIC_TONE_MAPPING )

				gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );

			#endif

			// color space

			gl_FragColor = LinearTosRGB( gl_FragColor );

		}`};class mI extends b5{constructor(t=mL,e=1){super(),this.toneMapping=t,this.toneMappingExposure=e;const i=pI;this.uniforms=W8.clone(i.uniforms),this.material=new ss({uniforms:this.uniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader}),t===gL?this.material.defines.LINEAR_TONE_MAPPING="":t===yL?this.material.defines.REINHARD_TONE_MAPPING="":t===xL?this.material.defines.CINEON_TONE_MAPPING="":t===_L&&(this.material.defines.ACES_FILMIC_TONE_MAPPING=""),this.fsQuad=new $8(this.material)}render(t,e,i){this.uniforms.tDiffuse.value=i.texture,this.uniforms.toneMappingExposure.value=this.toneMappingExposure,this.renderToScreen===!0?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}var gI=function(){function s(t){sL(this,s),this.initAttribute(),this.initEnv(t),this.initPassList(t),this.changeScene(t)}return rL(s,[{key:"initAttribute",value:function(){this.passList=[],this.innerPassList={}}},{key:"initEnv",value:function(e){this.type="ComposerPassPlugin",this.composer=new uI(e.renderer)}},{key:"changeScene",value:function(e){var i=this;e.stopRender=!0,e._addPlugin(this);var n=function(o,h){i.composer.setSize(o,h),i.innerPassList.effectFXAA.uniforms.resolution.value.set(1/o,1/h),i.innerPassList.outlinePass.resolution=e.setVector([o,h])};e._pushResizeEvent(n);var r=function(){i.composer.render()};e.updateEvent(r),this.use=function(a){var o=i.innerPassList[a];o&&(i.composer.addPass(o),i.passList.push(o),n(e.container.offsetWidth,e.container.offsetHeight))},this.destroy=function(){e._removeResizeEvent(n),e._removePlugin(i)}}},{key:"initPassList",value:function(e){this.innerPassList.renderPass=new dI(e.scene,e.camera),this.innerPassList.outlinePass=new as(e.setVector([window.innerWidth,window.innerHeight]),e.scene,e.camera),this.innerPassList.outputPass=new mI,this.innerPassList.effectFXAA=new zg(fI)}},{key:"getComposerList",value:function(){var e=[];for(var i in this.innerPassList)e.push(i);return e}}]),s}();const yI=`!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";
/**
	 * @license
	 * Copyright 2010-2023 Three.js Authors
	 * SPDX-License-Identifier: MIT
	 */const t=1001,s=3001,i="srgb",e=2e3;class a{addEventListener(t,s){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(s)&&i[t].push(s)}hasEventListener(t,s){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(s)}removeEventListener(t,s){if(void 0===this._listeners)return;const i=this._listeners[t];if(void 0!==i){const t=i.indexOf(s);-1!==t&&i.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const s=this._listeners[t.type];if(void 0!==s){t.target=this;const i=s.slice(0);for(let s=0,e=i.length;s<e;s++)i[s].call(this,t);t.target=null}}}const r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function h(){const t=4294967295*Math.random()|0,s=4294967295*Math.random()|0,i=4294967295*Math.random()|0,e=4294967295*Math.random()|0;return(r[255&t]+r[t>>8&255]+r[t>>16&255]+r[t>>24&255]+"-"+r[255&s]+r[s>>8&255]+"-"+r[s>>16&15|64]+r[s>>24&255]+"-"+r[63&i|128]+r[i>>8&255]+"-"+r[i>>16&255]+r[i>>24&255]+r[255&e]+r[e>>8&255]+r[e>>16&255]+r[e>>24&255]).toLowerCase()}function n(t,s,i){return Math.max(s,Math.min(i,t))}function o(t,s){switch(s.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function u(t,s){switch(s.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}class l{constructor(t=0,s=0){l.prototype.isVector2=!0,this.x=t,this.y=s}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,s){return this.x=t,this.y=s,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,s){switch(t){case 0:this.x=s;break;case 1:this.y=s;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,s){return this.x=t.x+s.x,this.y=t.y+s.y,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,s){return this.x=t.x-s.x,this.y=t.y-s.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const s=this.x,i=this.y,e=t.elements;return this.x=e[0]*s+e[3]*i+e[6],this.y=e[1]*s+e[4]*i+e[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,s){return this.x=Math.max(t.x,Math.min(s.x,this.x)),this.y=Math.max(t.y,Math.min(s.y,this.y)),this}clampScalar(t,s){return this.x=Math.max(t,Math.min(s,this.x)),this.y=Math.max(t,Math.min(s,this.y)),this}clampLength(t,s){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(s,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const s=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===s)return Math.PI/2;const i=this.dot(t)/s;return Math.acos(n(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const s=this.x-t.x,i=this.y-t.y;return s*s+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,s){return this.x+=(t.x-this.x)*s,this.y+=(t.y-this.y)*s,this}lerpVectors(t,s,i){return this.x=t.x+(s.x-t.x)*i,this.y=t.y+(s.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,s=0){return this.x=t[s],this.y=t[s+1],this}toArray(t=[],s=0){return t[s]=this.x,t[s+1]=this.y,t}fromBufferAttribute(t,s){return this.x=t.getX(s),this.y=t.getY(s),this}rotateAround(t,s){const i=Math.cos(s),e=Math.sin(s),a=this.x-t.x,r=this.y-t.y;return this.x=a*i-r*e+t.x,this.y=a*e+r*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class c{constructor(t,s,i,e,a,r,h,n,o){c.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,s,i,e,a,r,h,n,o)}set(t,s,i,e,a,r,h,n,o){const u=this.elements;return u[0]=t,u[1]=e,u[2]=h,u[3]=s,u[4]=a,u[5]=n,u[6]=i,u[7]=r,u[8]=o,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const s=this.elements,i=t.elements;return s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5],s[6]=i[6],s[7]=i[7],s[8]=i[8],this}extractBasis(t,s,i){return t.setFromMatrix3Column(this,0),s.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const s=t.elements;return this.set(s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,s){const i=t.elements,e=s.elements,a=this.elements,r=i[0],h=i[3],n=i[6],o=i[1],u=i[4],l=i[7],c=i[2],m=i[5],d=i[8],p=e[0],y=e[3],x=e[6],f=e[1],M=e[4],g=e[7],_=e[2],v=e[5],b=e[8];return a[0]=r*p+h*f+n*_,a[3]=r*y+h*M+n*v,a[6]=r*x+h*g+n*b,a[1]=o*p+u*f+l*_,a[4]=o*y+u*M+l*v,a[7]=o*x+u*g+l*b,a[2]=c*p+m*f+d*_,a[5]=c*y+m*M+d*v,a[8]=c*x+m*g+d*b,this}multiplyScalar(t){const s=this.elements;return s[0]*=t,s[3]*=t,s[6]*=t,s[1]*=t,s[4]*=t,s[7]*=t,s[2]*=t,s[5]*=t,s[8]*=t,this}determinant(){const t=this.elements,s=t[0],i=t[1],e=t[2],a=t[3],r=t[4],h=t[5],n=t[6],o=t[7],u=t[8];return s*r*u-s*h*o-i*a*u+i*h*n+e*a*o-e*r*n}invert(){const t=this.elements,s=t[0],i=t[1],e=t[2],a=t[3],r=t[4],h=t[5],n=t[6],o=t[7],u=t[8],l=u*r-h*o,c=h*n-u*a,m=o*a-r*n,d=s*l+i*c+e*m;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return t[0]=l*p,t[1]=(e*o-u*i)*p,t[2]=(h*i-e*r)*p,t[3]=c*p,t[4]=(u*s-e*n)*p,t[5]=(e*a-h*s)*p,t[6]=m*p,t[7]=(i*n-o*s)*p,t[8]=(r*s-i*a)*p,this}transpose(){let t;const s=this.elements;return t=s[1],s[1]=s[3],s[3]=t,t=s[2],s[2]=s[6],s[6]=t,t=s[5],s[5]=s[7],s[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const s=this.elements;return t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8],this}setUvTransform(t,s,i,e,a,r,h){const n=Math.cos(a),o=Math.sin(a);return this.set(i*n,i*o,-i*(n*r+o*h)+r+t,-e*o,e*n,-e*(-o*r+n*h)+h+s,0,0,1),this}scale(t,s){return this.premultiply(m.makeScale(t,s)),this}rotate(t){return this.premultiply(m.makeRotation(-t)),this}translate(t,s){return this.premultiply(m.makeTranslation(t,s)),this}makeTranslation(t,s){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,s,0,0,1),this}makeRotation(t){const s=Math.cos(t),i=Math.sin(t);return this.set(s,-i,0,i,s,0,0,0,1),this}makeScale(t,s){return this.set(t,0,0,0,s,0,0,0,1),this}equals(t){const s=this.elements,i=t.elements;for(let t=0;t<9;t++)if(s[t]!==i[t])return!1;return!0}fromArray(t,s=0){for(let i=0;i<9;i++)this.elements[i]=t[i+s];return this}toArray(t=[],s=0){const i=this.elements;return t[s]=i[0],t[s+1]=i[1],t[s+2]=i[2],t[s+3]=i[3],t[s+4]=i[4],t[s+5]=i[5],t[s+6]=i[6],t[s+7]=i[7],t[s+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const m=new c;function d(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const p={};function y(t){t in p||(p[t]=!0,console.warn(t))}function x(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}let f;class M{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let s;if(t instanceof HTMLCanvasElement)s=t;else{void 0===f&&(f=d("canvas")),f.width=t.width,f.height=t.height;const i=f.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),s=f}return s.width>2048||s.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),s.toDataURL("image/jpeg",.6)):s.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const s=d("canvas");s.width=t.width,s.height=t.height;const i=s.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const e=i.getImageData(0,0,t.width,t.height),a=e.data;for(let t=0;t<a.length;t++)a[t]=255*x(a[t]/255);return i.putImageData(e,0,0),s}if(t.data){const s=t.data.slice(0);for(let t=0;t<s.length;t++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[t]=Math.floor(255*x(s[t]/255)):s[t]=x(s[t]);return{data:s,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let g=0;class _{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:g++}),this.uuid=h(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const s=void 0===t||"string"==typeof t;if(!s&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},e=this.data;if(null!==e){let t;if(Array.isArray(e)){t=[];for(let s=0,i=e.length;s<i;s++)e[s].isDataTexture?t.push(v(e[s].image)):t.push(v(e[s]))}else t=v(e);i.url=t}return s||(t.images[this.uuid]=i),i}}function v(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?M.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let b=0;class w extends a{constructor(t=w.DEFAULT_IMAGE,e=w.DEFAULT_MAPPING,a=1001,r=1001,n=1006,o=1008,u=1023,m=1009,d=w.DEFAULT_ANISOTROPY,p=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:b++}),this.uuid=h(),this.name="",this.source=new _(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=a,this.wrapT=r,this.magFilter=n,this.minFilter=o,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=m,this.offset=new l(0,0),this.repeat=new l(1,1),this.center=new l(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new c,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof p?this.colorSpace=p:(y("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=p===s?i:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const s=void 0===t||"string"==typeof t;if(!s&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),s||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(s){if(300!==this.mapping)return s;if(s.applyMatrix3(this.matrix),s.x<0||s.x>1)switch(this.wrapS){case 1e3:s.x=s.x-Math.floor(s.x);break;case t:s.x=s.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(s.x)%2)?s.x=Math.ceil(s.x)-s.x:s.x=s.x-Math.floor(s.x)}if(s.y<0||s.y>1)switch(this.wrapT){case 1e3:s.y=s.y-Math.floor(s.y);break;case t:s.y=s.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(s.y)%2)?s.y=Math.ceil(s.y)-s.y:s.y=s.y-Math.floor(s.y)}return this.flipY&&(s.y=1-s.y),s}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return y("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===i?s:3e3}set encoding(t){y("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===s?i:""}}w.DEFAULT_IMAGE=null,w.DEFAULT_MAPPING=300,w.DEFAULT_ANISOTROPY=1;class A{constructor(t=0,s=0,i=0,e=1){this.isQuaternion=!0,this._x=t,this._y=s,this._z=i,this._w=e}static slerpFlat(t,s,i,e,a,r,h){let n=i[e+0],o=i[e+1],u=i[e+2],l=i[e+3];const c=a[r+0],m=a[r+1],d=a[r+2],p=a[r+3];if(0===h)return t[s+0]=n,t[s+1]=o,t[s+2]=u,void(t[s+3]=l);if(1===h)return t[s+0]=c,t[s+1]=m,t[s+2]=d,void(t[s+3]=p);if(l!==p||n!==c||o!==m||u!==d){let t=1-h;const s=n*c+o*m+u*d+l*p,i=s>=0?1:-1,e=1-s*s;if(e>Number.EPSILON){const a=Math.sqrt(e),r=Math.atan2(a,s*i);t=Math.sin(t*r)/a,h=Math.sin(h*r)/a}const a=h*i;if(n=n*t+c*a,o=o*t+m*a,u=u*t+d*a,l=l*t+p*a,t===1-h){const t=1/Math.sqrt(n*n+o*o+u*u+l*l);n*=t,o*=t,u*=t,l*=t}}t[s]=n,t[s+1]=o,t[s+2]=u,t[s+3]=l}static multiplyQuaternionsFlat(t,s,i,e,a,r){const h=i[e],n=i[e+1],o=i[e+2],u=i[e+3],l=a[r],c=a[r+1],m=a[r+2],d=a[r+3];return t[s]=h*d+u*l+n*m-o*c,t[s+1]=n*d+u*c+o*l-h*m,t[s+2]=o*d+u*m+h*c-n*l,t[s+3]=u*d-h*l-n*c-o*m,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,s,i,e){return this._x=t,this._y=s,this._z=i,this._w=e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,s){const i=t._x,e=t._y,a=t._z,r=t._order,h=Math.cos,n=Math.sin,o=h(i/2),u=h(e/2),l=h(a/2),c=n(i/2),m=n(e/2),d=n(a/2);switch(r){case"XYZ":this._x=c*u*l+o*m*d,this._y=o*m*l-c*u*d,this._z=o*u*d+c*m*l,this._w=o*u*l-c*m*d;break;case"YXZ":this._x=c*u*l+o*m*d,this._y=o*m*l-c*u*d,this._z=o*u*d-c*m*l,this._w=o*u*l+c*m*d;break;case"ZXY":this._x=c*u*l-o*m*d,this._y=o*m*l+c*u*d,this._z=o*u*d+c*m*l,this._w=o*u*l-c*m*d;break;case"ZYX":this._x=c*u*l-o*m*d,this._y=o*m*l+c*u*d,this._z=o*u*d-c*m*l,this._w=o*u*l+c*m*d;break;case"YZX":this._x=c*u*l+o*m*d,this._y=o*m*l+c*u*d,this._z=o*u*d-c*m*l,this._w=o*u*l-c*m*d;break;case"XZY":this._x=c*u*l-o*m*d,this._y=o*m*l-c*u*d,this._z=o*u*d+c*m*l,this._w=o*u*l+c*m*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+r)}return!1!==s&&this._onChangeCallback(),this}setFromAxisAngle(t,s){const i=s/2,e=Math.sin(i);return this._x=t.x*e,this._y=t.y*e,this._z=t.z*e,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const s=t.elements,i=s[0],e=s[4],a=s[8],r=s[1],h=s[5],n=s[9],o=s[2],u=s[6],l=s[10],c=i+h+l;if(c>0){const t=.5/Math.sqrt(c+1);this._w=.25/t,this._x=(u-n)*t,this._y=(a-o)*t,this._z=(r-e)*t}else if(i>h&&i>l){const t=2*Math.sqrt(1+i-h-l);this._w=(u-n)/t,this._x=.25*t,this._y=(e+r)/t,this._z=(a+o)/t}else if(h>l){const t=2*Math.sqrt(1+h-i-l);this._w=(a-o)/t,this._x=(e+r)/t,this._y=.25*t,this._z=(n+u)/t}else{const t=2*Math.sqrt(1+l-i-h);this._w=(r-e)/t,this._x=(a+o)/t,this._y=(n+u)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,s){let i=t.dot(s)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*s.z-t.z*s.y,this._y=t.z*s.x-t.x*s.z,this._z=t.x*s.y-t.y*s.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(n(this.dot(t),-1,1)))}rotateTowards(t,s){const i=this.angleTo(t);if(0===i)return this;const e=Math.min(1,s/i);return this.slerp(t,e),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,s){const i=t._x,e=t._y,a=t._z,r=t._w,h=s._x,n=s._y,o=s._z,u=s._w;return this._x=i*u+r*h+e*o-a*n,this._y=e*u+r*n+a*h-i*o,this._z=a*u+r*o+i*n-e*h,this._w=r*u-i*h-e*n-a*o,this._onChangeCallback(),this}slerp(t,s){if(0===s)return this;if(1===s)return this.copy(t);const i=this._x,e=this._y,a=this._z,r=this._w;let h=r*t._w+i*t._x+e*t._y+a*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=r,this._x=i,this._y=e,this._z=a,this;const n=1-h*h;if(n<=Number.EPSILON){const t=1-s;return this._w=t*r+s*this._w,this._x=t*i+s*this._x,this._y=t*e+s*this._y,this._z=t*a+s*this._z,this.normalize(),this._onChangeCallback(),this}const o=Math.sqrt(n),u=Math.atan2(o,h),l=Math.sin((1-s)*u)/o,c=Math.sin(s*u)/o;return this._w=r*l+this._w*c,this._x=i*l+this._x*c,this._y=e*l+this._y*c,this._z=a*l+this._z*c,this._onChangeCallback(),this}slerpQuaternions(t,s,i){return this.copy(t).slerp(s,i)}random(){const t=Math.random(),s=Math.sqrt(1-t),i=Math.sqrt(t),e=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(s*Math.cos(e),i*Math.sin(a),i*Math.cos(a),s*Math.sin(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,s=0){return this._x=t[s],this._y=t[s+1],this._z=t[s+2],this._w=t[s+3],this._onChangeCallback(),this}toArray(t=[],s=0){return t[s]=this._x,t[s+1]=this._y,t[s+2]=this._z,t[s+3]=this._w,t}fromBufferAttribute(t,s){return this._x=t.getX(s),this._y=t.getY(s),this._z=t.getZ(s),this._w=t.getW(s),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class S{constructor(t=0,s=0,i=0){S.prototype.isVector3=!0,this.x=t,this.y=s,this.z=i}set(t,s,i){return void 0===i&&(i=this.z),this.x=t,this.y=s,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,s){switch(t){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,s){return this.x=t.x+s.x,this.y=t.y+s.y,this.z=t.z+s.z,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,s){return this.x=t.x-s.x,this.y=t.y-s.y,this.z=t.z-s.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,s){return this.x=t.x*s.x,this.y=t.y*s.y,this.z=t.z*s.z,this}applyEuler(t){return this.applyQuaternion(C.setFromEuler(t))}applyAxisAngle(t,s){return this.applyQuaternion(C.setFromAxisAngle(t,s))}applyMatrix3(t){const s=this.x,i=this.y,e=this.z,a=t.elements;return this.x=a[0]*s+a[3]*i+a[6]*e,this.y=a[1]*s+a[4]*i+a[7]*e,this.z=a[2]*s+a[5]*i+a[8]*e,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const s=this.x,i=this.y,e=this.z,a=t.elements,r=1/(a[3]*s+a[7]*i+a[11]*e+a[15]);return this.x=(a[0]*s+a[4]*i+a[8]*e+a[12])*r,this.y=(a[1]*s+a[5]*i+a[9]*e+a[13])*r,this.z=(a[2]*s+a[6]*i+a[10]*e+a[14])*r,this}applyQuaternion(t){const s=this.x,i=this.y,e=this.z,a=t.x,r=t.y,h=t.z,n=t.w,o=n*s+r*e-h*i,u=n*i+h*s-a*e,l=n*e+a*i-r*s,c=-a*s-r*i-h*e;return this.x=o*n+c*-a+u*-h-l*-r,this.y=u*n+c*-r+l*-a-o*-h,this.z=l*n+c*-h+o*-r-u*-a,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const s=this.x,i=this.y,e=this.z,a=t.elements;return this.x=a[0]*s+a[4]*i+a[8]*e,this.y=a[1]*s+a[5]*i+a[9]*e,this.z=a[2]*s+a[6]*i+a[10]*e,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,s){return this.x=Math.max(t.x,Math.min(s.x,this.x)),this.y=Math.max(t.y,Math.min(s.y,this.y)),this.z=Math.max(t.z,Math.min(s.z,this.z)),this}clampScalar(t,s){return this.x=Math.max(t,Math.min(s,this.x)),this.y=Math.max(t,Math.min(s,this.y)),this.z=Math.max(t,Math.min(s,this.z)),this}clampLength(t,s){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(s,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,s){return this.x+=(t.x-this.x)*s,this.y+=(t.y-this.y)*s,this.z+=(t.z-this.z)*s,this}lerpVectors(t,s,i){return this.x=t.x+(s.x-t.x)*i,this.y=t.y+(s.y-t.y)*i,this.z=t.z+(s.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,s){const i=t.x,e=t.y,a=t.z,r=s.x,h=s.y,n=s.z;return this.x=e*n-a*h,this.y=a*r-i*n,this.z=i*h-e*r,this}projectOnVector(t){const s=t.lengthSq();if(0===s)return this.set(0,0,0);const i=t.dot(this)/s;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return z.copy(this).projectOnVector(t),this.sub(z)}reflect(t){return this.sub(z.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const s=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===s)return Math.PI/2;const i=this.dot(t)/s;return Math.acos(n(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const s=this.x-t.x,i=this.y-t.y,e=this.z-t.z;return s*s+i*i+e*e}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,s,i){const e=Math.sin(s)*t;return this.x=e*Math.sin(i),this.y=Math.cos(s)*t,this.z=e*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,s,i){return this.x=t*Math.sin(s),this.y=i,this.z=t*Math.cos(s),this}setFromMatrixPosition(t){const s=t.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this}setFromMatrixScale(t){const s=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),e=this.setFromMatrixColumn(t,2).length();return this.x=s,this.y=i,this.z=e,this}setFromMatrixColumn(t,s){return this.fromArray(t.elements,4*s)}setFromMatrix3Column(t,s){return this.fromArray(t.elements,3*s)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,s=0){return this.x=t[s],this.y=t[s+1],this.z=t[s+2],this}toArray(t=[],s=0){return t[s]=this.x,t[s+1]=this.y,t[s+2]=this.z,t}fromBufferAttribute(t,s){return this.x=t.getX(s),this.y=t.getY(s),this.z=t.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),s=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(s),this.y=i*Math.sin(s),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const z=new S,C=new A;class N{constructor(t=new S(1/0,1/0,1/0),s=new S(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=s}set(t,s){return this.min.copy(t),this.max.copy(s),this}setFromArray(t){this.makeEmpty();for(let s=0,i=t.length;s<i;s+=3)this.expandByPoint(P.fromArray(t,s));return this}setFromBufferAttribute(t){this.makeEmpty();for(let s=0,i=t.count;s<i;s++)this.expandByPoint(P.fromBufferAttribute(t,s));return this}setFromPoints(t){this.makeEmpty();for(let s=0,i=t.length;s<i;s++)this.expandByPoint(t[s]);return this}setFromCenterAndSize(t,s){const i=P.copy(s).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,s=!1){return this.makeEmpty(),this.expandByObject(t,s)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,s=!1){if(t.updateWorldMatrix(!1,!1),void 0!==t.boundingBox)null===t.boundingBox&&t.computeBoundingBox(),k.copy(t.boundingBox),k.applyMatrix4(t.matrixWorld),this.union(k);else{const i=t.geometry;if(void 0!==i)if(s&&void 0!==i.attributes&&void 0!==i.attributes.position){const s=i.attributes.position;for(let i=0,e=s.count;i<e;i++)P.fromBufferAttribute(s,i).applyMatrix4(t.matrixWorld),this.expandByPoint(P)}else null===i.boundingBox&&i.computeBoundingBox(),k.copy(i.boundingBox),k.applyMatrix4(t.matrixWorld),this.union(k)}const i=t.children;for(let t=0,e=i.length;t<e;t++)this.expandByObject(i[t],s);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,s){return s.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,P),P.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let s,i;return t.normal.x>0?(s=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(s=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(s+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(s+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(s+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(s+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),s<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(L),F.subVectors(this.max,L),O.subVectors(t.a,L),T.subVectors(t.b,L),R.subVectors(t.c,L),q.subVectors(T,O),B.subVectors(R,T),I.subVectors(O,R);let s=[0,-q.z,q.y,0,-B.z,B.y,0,-I.z,I.y,q.z,0,-q.x,B.z,0,-B.x,I.z,0,-I.x,-q.y,q.x,0,-B.y,B.x,0,-I.y,I.x,0];return!!D(s,O,T,R,F)&&(s=[1,0,0,0,1,0,0,0,1],!!D(s,O,T,R,F)&&(j.crossVectors(q,B),s=[j.x,j.y,j.z],D(s,O,T,R,F)))}clampPoint(t,s){return s.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,P).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(P).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(E[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),E[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),E[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),E[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),E[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),E[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),E[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),E[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(E)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const E=[new S,new S,new S,new S,new S,new S,new S,new S],P=new S,k=new N,O=new S,T=new S,R=new S,q=new S,B=new S,I=new S,L=new S,F=new S,j=new S,U=new S;function D(t,s,i,e,a){for(let r=0,h=t.length-3;r<=h;r+=3){U.fromArray(t,r);const h=a.x*Math.abs(U.x)+a.y*Math.abs(U.y)+a.z*Math.abs(U.z),n=s.dot(U),o=i.dot(U),u=e.dot(U);if(Math.max(-Math.max(n,o,u),Math.min(n,o,u))>h)return!1}return!0}const G=new N,J=new S,W=new S;class V{constructor(t=new S,s=-1){this.center=t,this.radius=s}set(t,s){return this.center.copy(t),this.radius=s,this}setFromPoints(t,s){const i=this.center;void 0!==s?i.copy(s):G.setFromPoints(t).getCenter(i);let e=0;for(let s=0,a=t.length;s<a;s++)e=Math.max(e,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(e),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const s=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=s*s}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,s){const i=this.center.distanceToSquared(t);return s.copy(t),i>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;J.subVectors(t,this.center);const s=J.lengthSq();if(s>this.radius*this.radius){const t=Math.sqrt(s),i=.5*(t-this.radius);this.center.addScaledVector(J,i/t),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(W.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(J.copy(t.center).add(W)),this.expandByPoint(J.copy(t.center).sub(W))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}class X{constructor(t,s,i,e,a,r,h,n,o,u,l,c,m,d,p,y){X.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,s,i,e,a,r,h,n,o,u,l,c,m,d,p,y)}set(t,s,i,e,a,r,h,n,o,u,l,c,m,d,p,y){const x=this.elements;return x[0]=t,x[4]=s,x[8]=i,x[12]=e,x[1]=a,x[5]=r,x[9]=h,x[13]=n,x[2]=o,x[6]=u,x[10]=l,x[14]=c,x[3]=m,x[7]=d,x[11]=p,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new X).fromArray(this.elements)}copy(t){const s=this.elements,i=t.elements;return s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5],s[6]=i[6],s[7]=i[7],s[8]=i[8],s[9]=i[9],s[10]=i[10],s[11]=i[11],s[12]=i[12],s[13]=i[13],s[14]=i[14],s[15]=i[15],this}copyPosition(t){const s=this.elements,i=t.elements;return s[12]=i[12],s[13]=i[13],s[14]=i[14],this}setFromMatrix3(t){const s=t.elements;return this.set(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1),this}extractBasis(t,s,i){return t.setFromMatrixColumn(this,0),s.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,s,i){return this.set(t.x,s.x,i.x,0,t.y,s.y,i.y,0,t.z,s.z,i.z,0,0,0,0,1),this}extractRotation(t){const s=this.elements,i=t.elements,e=1/Z.setFromMatrixColumn(t,0).length(),a=1/Z.setFromMatrixColumn(t,1).length(),r=1/Z.setFromMatrixColumn(t,2).length();return s[0]=i[0]*e,s[1]=i[1]*e,s[2]=i[2]*e,s[3]=0,s[4]=i[4]*a,s[5]=i[5]*a,s[6]=i[6]*a,s[7]=0,s[8]=i[8]*r,s[9]=i[9]*r,s[10]=i[10]*r,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromEuler(t){const s=this.elements,i=t.x,e=t.y,a=t.z,r=Math.cos(i),h=Math.sin(i),n=Math.cos(e),o=Math.sin(e),u=Math.cos(a),l=Math.sin(a);if("XYZ"===t.order){const t=r*u,i=r*l,e=h*u,a=h*l;s[0]=n*u,s[4]=-n*l,s[8]=o,s[1]=i+e*o,s[5]=t-a*o,s[9]=-h*n,s[2]=a-t*o,s[6]=e+i*o,s[10]=r*n}else if("YXZ"===t.order){const t=n*u,i=n*l,e=o*u,a=o*l;s[0]=t+a*h,s[4]=e*h-i,s[8]=r*o,s[1]=r*l,s[5]=r*u,s[9]=-h,s[2]=i*h-e,s[6]=a+t*h,s[10]=r*n}else if("ZXY"===t.order){const t=n*u,i=n*l,e=o*u,a=o*l;s[0]=t-a*h,s[4]=-r*l,s[8]=e+i*h,s[1]=i+e*h,s[5]=r*u,s[9]=a-t*h,s[2]=-r*o,s[6]=h,s[10]=r*n}else if("ZYX"===t.order){const t=r*u,i=r*l,e=h*u,a=h*l;s[0]=n*u,s[4]=e*o-i,s[8]=t*o+a,s[1]=n*l,s[5]=a*o+t,s[9]=i*o-e,s[2]=-o,s[6]=h*n,s[10]=r*n}else if("YZX"===t.order){const t=r*n,i=r*o,e=h*n,a=h*o;s[0]=n*u,s[4]=a-t*l,s[8]=e*l+i,s[1]=l,s[5]=r*u,s[9]=-h*u,s[2]=-o*u,s[6]=i*l+e,s[10]=t-a*l}else if("XZY"===t.order){const t=r*n,i=r*o,e=h*n,a=h*o;s[0]=n*u,s[4]=-l,s[8]=o*u,s[1]=t*l+a,s[5]=r*u,s[9]=i*l-e,s[2]=e*l-i,s[6]=h*u,s[10]=a*l+t}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Q,t,H)}lookAt(t,s,i){const e=this.elements;return tt.subVectors(t,s),0===tt.lengthSq()&&(tt.z=1),tt.normalize(),K.crossVectors(i,tt),0===K.lengthSq()&&(1===Math.abs(i.z)?tt.x+=1e-4:tt.z+=1e-4,tt.normalize(),K.crossVectors(i,tt)),K.normalize(),$.crossVectors(tt,K),e[0]=K.x,e[4]=$.x,e[8]=tt.x,e[1]=K.y,e[5]=$.y,e[9]=tt.y,e[2]=K.z,e[6]=$.z,e[10]=tt.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,s){const i=t.elements,e=s.elements,a=this.elements,r=i[0],h=i[4],n=i[8],o=i[12],u=i[1],l=i[5],c=i[9],m=i[13],d=i[2],p=i[6],y=i[10],x=i[14],f=i[3],M=i[7],g=i[11],_=i[15],v=e[0],b=e[4],w=e[8],A=e[12],S=e[1],z=e[5],C=e[9],N=e[13],E=e[2],P=e[6],k=e[10],O=e[14],T=e[3],R=e[7],q=e[11],B=e[15];return a[0]=r*v+h*S+n*E+o*T,a[4]=r*b+h*z+n*P+o*R,a[8]=r*w+h*C+n*k+o*q,a[12]=r*A+h*N+n*O+o*B,a[1]=u*v+l*S+c*E+m*T,a[5]=u*b+l*z+c*P+m*R,a[9]=u*w+l*C+c*k+m*q,a[13]=u*A+l*N+c*O+m*B,a[2]=d*v+p*S+y*E+x*T,a[6]=d*b+p*z+y*P+x*R,a[10]=d*w+p*C+y*k+x*q,a[14]=d*A+p*N+y*O+x*B,a[3]=f*v+M*S+g*E+_*T,a[7]=f*b+M*z+g*P+_*R,a[11]=f*w+M*C+g*k+_*q,a[15]=f*A+M*N+g*O+_*B,this}multiplyScalar(t){const s=this.elements;return s[0]*=t,s[4]*=t,s[8]*=t,s[12]*=t,s[1]*=t,s[5]*=t,s[9]*=t,s[13]*=t,s[2]*=t,s[6]*=t,s[10]*=t,s[14]*=t,s[3]*=t,s[7]*=t,s[11]*=t,s[15]*=t,this}determinant(){const t=this.elements,s=t[0],i=t[4],e=t[8],a=t[12],r=t[1],h=t[5],n=t[9],o=t[13],u=t[2],l=t[6],c=t[10],m=t[14];return t[3]*(+a*n*l-e*o*l-a*h*c+i*o*c+e*h*m-i*n*m)+t[7]*(+s*n*m-s*o*c+a*r*c-e*r*m+e*o*u-a*n*u)+t[11]*(+s*o*l-s*h*m-a*r*l+i*r*m+a*h*u-i*o*u)+t[15]*(-e*h*u-s*n*l+s*h*c+e*r*l-i*r*c+i*n*u)}transpose(){const t=this.elements;let s;return s=t[1],t[1]=t[4],t[4]=s,s=t[2],t[2]=t[8],t[8]=s,s=t[6],t[6]=t[9],t[9]=s,s=t[3],t[3]=t[12],t[12]=s,s=t[7],t[7]=t[13],t[13]=s,s=t[11],t[11]=t[14],t[14]=s,this}setPosition(t,s,i){const e=this.elements;return t.isVector3?(e[12]=t.x,e[13]=t.y,e[14]=t.z):(e[12]=t,e[13]=s,e[14]=i),this}invert(){const t=this.elements,s=t[0],i=t[1],e=t[2],a=t[3],r=t[4],h=t[5],n=t[6],o=t[7],u=t[8],l=t[9],c=t[10],m=t[11],d=t[12],p=t[13],y=t[14],x=t[15],f=l*y*o-p*c*o+p*n*m-h*y*m-l*n*x+h*c*x,M=d*c*o-u*y*o-d*n*m+r*y*m+u*n*x-r*c*x,g=u*p*o-d*l*o+d*h*m-r*p*m-u*h*x+r*l*x,_=d*l*n-u*p*n-d*h*c+r*p*c+u*h*y-r*l*y,v=s*f+i*M+e*g+a*_;if(0===v)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/v;return t[0]=f*b,t[1]=(p*c*a-l*y*a-p*e*m+i*y*m+l*e*x-i*c*x)*b,t[2]=(h*y*a-p*n*a+p*e*o-i*y*o-h*e*x+i*n*x)*b,t[3]=(l*n*a-h*c*a-l*e*o+i*c*o+h*e*m-i*n*m)*b,t[4]=M*b,t[5]=(u*y*a-d*c*a+d*e*m-s*y*m-u*e*x+s*c*x)*b,t[6]=(d*n*a-r*y*a-d*e*o+s*y*o+r*e*x-s*n*x)*b,t[7]=(r*c*a-u*n*a+u*e*o-s*c*o-r*e*m+s*n*m)*b,t[8]=g*b,t[9]=(d*l*a-u*p*a-d*i*m+s*p*m+u*i*x-s*l*x)*b,t[10]=(r*p*a-d*h*a+d*i*o-s*p*o-r*i*x+s*h*x)*b,t[11]=(u*h*a-r*l*a-u*i*o+s*l*o+r*i*m-s*h*m)*b,t[12]=_*b,t[13]=(u*p*e-d*l*e+d*i*c-s*p*c-u*i*y+s*l*y)*b,t[14]=(d*h*e-r*p*e-d*i*n+s*p*n+r*i*y-s*h*y)*b,t[15]=(r*l*e-u*h*e+u*i*n-s*l*n-r*i*c+s*h*c)*b,this}scale(t){const s=this.elements,i=t.x,e=t.y,a=t.z;return s[0]*=i,s[4]*=e,s[8]*=a,s[1]*=i,s[5]*=e,s[9]*=a,s[2]*=i,s[6]*=e,s[10]*=a,s[3]*=i,s[7]*=e,s[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,s=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],e=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(s,i,e))}makeTranslation(t,s,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,s,0,0,1,i,0,0,0,1),this}makeRotationX(t){const s=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,s,-i,0,0,i,s,0,0,0,0,1),this}makeRotationY(t){const s=Math.cos(t),i=Math.sin(t);return this.set(s,0,i,0,0,1,0,0,-i,0,s,0,0,0,0,1),this}makeRotationZ(t){const s=Math.cos(t),i=Math.sin(t);return this.set(s,-i,0,0,i,s,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,s){const i=Math.cos(s),e=Math.sin(s),a=1-i,r=t.x,h=t.y,n=t.z,o=a*r,u=a*h;return this.set(o*r+i,o*h-e*n,o*n+e*h,0,o*h+e*n,u*h+i,u*n-e*r,0,o*n-e*h,u*n+e*r,a*n*n+i,0,0,0,0,1),this}makeScale(t,s,i){return this.set(t,0,0,0,0,s,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,s,i,e,a,r){return this.set(1,i,a,0,t,1,r,0,s,e,1,0,0,0,0,1),this}compose(t,s,i){const e=this.elements,a=s._x,r=s._y,h=s._z,n=s._w,o=a+a,u=r+r,l=h+h,c=a*o,m=a*u,d=a*l,p=r*u,y=r*l,x=h*l,f=n*o,M=n*u,g=n*l,_=i.x,v=i.y,b=i.z;return e[0]=(1-(p+x))*_,e[1]=(m+g)*_,e[2]=(d-M)*_,e[3]=0,e[4]=(m-g)*v,e[5]=(1-(c+x))*v,e[6]=(y+f)*v,e[7]=0,e[8]=(d+M)*b,e[9]=(y-f)*b,e[10]=(1-(c+p))*b,e[11]=0,e[12]=t.x,e[13]=t.y,e[14]=t.z,e[15]=1,this}decompose(t,s,i){const e=this.elements;let a=Z.set(e[0],e[1],e[2]).length();const r=Z.set(e[4],e[5],e[6]).length(),h=Z.set(e[8],e[9],e[10]).length();this.determinant()<0&&(a=-a),t.x=e[12],t.y=e[13],t.z=e[14],Y.copy(this);const n=1/a,o=1/r,u=1/h;return Y.elements[0]*=n,Y.elements[1]*=n,Y.elements[2]*=n,Y.elements[4]*=o,Y.elements[5]*=o,Y.elements[6]*=o,Y.elements[8]*=u,Y.elements[9]*=u,Y.elements[10]*=u,s.setFromRotationMatrix(Y),i.x=a,i.y=r,i.z=h,this}makePerspective(t,s,i,a,r,h,n=2e3){const o=this.elements,u=2*r/(s-t),l=2*r/(i-a),c=(s+t)/(s-t),m=(i+a)/(i-a);let d,p;if(n===e)d=-(h+r)/(h-r),p=-2*h*r/(h-r);else{if(2001!==n)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+n);d=-h/(h-r),p=-h*r/(h-r)}return o[0]=u,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=m,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,s,i,a,r,h,n=2e3){const o=this.elements,u=1/(s-t),l=1/(i-a),c=1/(h-r),m=(s+t)*u,d=(i+a)*l;let p,y;if(n===e)p=(h+r)*c,y=-2*c;else{if(2001!==n)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+n);p=r*c,y=-1*c}return o[0]=2*u,o[4]=0,o[8]=0,o[12]=-m,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=y,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const s=this.elements,i=t.elements;for(let t=0;t<16;t++)if(s[t]!==i[t])return!1;return!0}fromArray(t,s=0){for(let i=0;i<16;i++)this.elements[i]=t[i+s];return this}toArray(t=[],s=0){const i=this.elements;return t[s]=i[0],t[s+1]=i[1],t[s+2]=i[2],t[s+3]=i[3],t[s+4]=i[4],t[s+5]=i[5],t[s+6]=i[6],t[s+7]=i[7],t[s+8]=i[8],t[s+9]=i[9],t[s+10]=i[10],t[s+11]=i[11],t[s+12]=i[12],t[s+13]=i[13],t[s+14]=i[14],t[s+15]=i[15],t}}const Z=new S,Y=new X,Q=new S(0,0,0),H=new S(1,1,1),K=new S,$=new S,tt=new S,st=new X,it=new A;class et{constructor(t=0,s=0,i=0,e=et.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=s,this._z=i,this._order=e}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,s,i,e=this._order){return this._x=t,this._y=s,this._z=i,this._order=e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,s=this._order,i=!0){const e=t.elements,a=e[0],r=e[4],h=e[8],o=e[1],u=e[5],l=e[9],c=e[2],m=e[6],d=e[10];switch(s){case"XYZ":this._y=Math.asin(n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-r,a)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(h,d),this._z=Math.atan2(o,u)):(this._y=Math.atan2(-c,a),this._z=0);break;case"ZXY":this._x=Math.asin(n(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-r,u)):(this._y=0,this._z=Math.atan2(o,a));break;case"ZYX":this._y=Math.asin(-n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(m,d),this._z=Math.atan2(o,a)):(this._x=0,this._z=Math.atan2(-r,u));break;case"YZX":this._z=Math.asin(n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(h,d));break;case"XZY":this._z=Math.asin(-n(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,s,i){return st.makeRotationFromQuaternion(t),this.setFromRotationMatrix(st,s,i)}setFromVector3(t,s=this._order){return this.set(t.x,t.y,t.z,s)}reorder(t){return it.setFromEuler(this),this.setFromQuaternion(it,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],s=0){return t[s]=this._x,t[s+1]=this._y,t[s+2]=this._z,t[s+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}et.DEFAULT_ORDER="XYZ";class at{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let rt=0;const ht=new S,nt=new A,ot=new X,ut=new S,lt=new S,ct=new S,mt=new A,dt=new S(1,0,0),pt=new S(0,1,0),yt=new S(0,0,1),xt={type:"added"},ft={type:"removed"};class Mt extends a{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rt++}),this.uuid=h(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mt.DEFAULT_UP.clone();const t=new S,s=new et,i=new A,e=new S(1,1,1);s._onChange((function(){i.setFromEuler(s,!1)})),i._onChange((function(){s.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:e},modelViewMatrix:{value:new X},normalMatrix:{value:new c}}),this.matrix=new X,this.matrixWorld=new X,this.matrixAutoUpdate=Mt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Mt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new at,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,s){this.quaternion.setFromAxisAngle(t,s)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,s){return nt.setFromAxisAngle(t,s),this.quaternion.multiply(nt),this}rotateOnWorldAxis(t,s){return nt.setFromAxisAngle(t,s),this.quaternion.premultiply(nt),this}rotateX(t){return this.rotateOnAxis(dt,t)}rotateY(t){return this.rotateOnAxis(pt,t)}rotateZ(t){return this.rotateOnAxis(yt,t)}translateOnAxis(t,s){return ht.copy(t).applyQuaternion(this.quaternion),this.position.add(ht.multiplyScalar(s)),this}translateX(t){return this.translateOnAxis(dt,t)}translateY(t){return this.translateOnAxis(pt,t)}translateZ(t){return this.translateOnAxis(yt,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ot.copy(this.matrixWorld).invert())}lookAt(t,s,i){t.isVector3?ut.copy(t):ut.set(t,s,i);const e=this.parent;this.updateWorldMatrix(!0,!1),lt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ot.lookAt(lt,ut,this.up):ot.lookAt(ut,lt,this.up),this.quaternion.setFromRotationMatrix(ot),e&&(ot.extractRotation(e.matrixWorld),nt.setFromRotationMatrix(ot),this.quaternion.premultiply(nt.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(xt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const s=this.children.indexOf(t);return-1!==s&&(t.parent=null,this.children.splice(s,1),t.dispatchEvent(ft)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const s=this.children[t];s.parent=null,s.dispatchEvent(ft)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),ot.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ot.multiply(t.parent.matrixWorld)),t.applyMatrix4(ot),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,s){if(this[t]===s)return this;for(let i=0,e=this.children.length;i<e;i++){const e=this.children[i].getObjectByProperty(t,s);if(void 0!==e)return e}}getObjectsByProperty(t,s){let i=[];this[t]===s&&i.push(this);for(let e=0,a=this.children.length;e<a;e++){const a=this.children[e].getObjectsByProperty(t,s);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lt,t,ct),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lt,mt,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return t.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(t){t(this);const s=this.children;for(let i=0,e=s.length;i<e;i++)s[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const s=this.children;for(let i=0,e=s.length;i<e;i++)s[i].traverseVisible(t)}traverseAncestors(t){const s=this.parent;null!==s&&(t(s),s.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const s=this.children;for(let i=0,e=s.length;i<e;i++){const e=s[i];!0!==e.matrixWorldAutoUpdate&&!0!==t||e.updateMatrixWorld(t)}}updateWorldMatrix(t,s){const i=this.parent;if(!0===t&&null!==i&&!0===i.matrixWorldAutoUpdate&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===s){const t=this.children;for(let s=0,i=t.length;s<i;s++){const i=t[s];!0===i.matrixWorldAutoUpdate&&i.updateWorldMatrix(!1,!0)}}}toJSON(t){const s=void 0===t||"string"==typeof t,i={};s&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const e={};function a(s,i){return void 0===s[i.uuid]&&(s[i.uuid]=i.toJSON(t)),i.uuid}if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),!0===this.castShadow&&(e.castShadow=!0),!0===this.receiveShadow&&(e.receiveShadow=!0),!1===this.visible&&(e.visible=!1),!1===this.frustumCulled&&(e.frustumCulled=!1),0!==this.renderOrder&&(e.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(e.userData=this.userData),e.layers=this.layers.mask,e.matrix=this.matrix.toArray(),e.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(e.matrixAutoUpdate=!1),this.isInstancedMesh&&(e.type="InstancedMesh",e.count=this.count,e.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(e.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?e.background=this.background.toJSON():this.background.isTexture&&(e.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(e.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){e.geometry=a(t.geometries,this.geometry);const s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){const i=s.shapes;if(Array.isArray(i))for(let s=0,e=i.length;s<e;s++){const e=i[s];a(t.shapes,e)}else a(t.shapes,i)}}if(this.isSkinnedMesh&&(e.bindMode=this.bindMode,e.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(t.skeletons,this.skeleton),e.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const s=[];for(let i=0,e=this.material.length;i<e;i++)s.push(a(t.materials,this.material[i]));e.material=s}else e.material=a(t.materials,this.material);if(this.children.length>0){e.children=[];for(let s=0;s<this.children.length;s++)e.children.push(this.children[s].toJSON(t).object)}if(this.animations.length>0){e.animations=[];for(let s=0;s<this.animations.length;s++){const i=this.animations[s];e.animations.push(a(t.animations,i))}}if(s){const s=r(t.geometries),e=r(t.materials),a=r(t.textures),h=r(t.images),n=r(t.shapes),o=r(t.skeletons),u=r(t.animations),l=r(t.nodes);s.length>0&&(i.geometries=s),e.length>0&&(i.materials=e),a.length>0&&(i.textures=a),h.length>0&&(i.images=h),n.length>0&&(i.shapes=n),o.length>0&&(i.skeletons=o),u.length>0&&(i.animations=u),l.length>0&&(i.nodes=l)}return i.object=e,i;function r(t){const s=[];for(const i in t){const e=t[i];delete e.metadata,s.push(e)}return s}}clone(t){return(new this.constructor).copy(this,t)}copy(t,s=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===s)for(let s=0;s<t.children.length;s++){const i=t.children[s];this.add(i.clone())}return this}}Mt.DEFAULT_UP=new S(0,1,0),Mt.DEFAULT_MATRIX_AUTO_UPDATE=!0,Mt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gt=new S,_t=new l;class vt{constructor(t,s,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=s,this.count=void 0!==t?t.length/s:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=1015,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,s,i){t*=this.itemSize,i*=s.itemSize;for(let e=0,a=this.itemSize;e<a;e++)this.array[t+e]=s.array[i+e];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let s=0,i=this.count;s<i;s++)_t.fromBufferAttribute(this,s),_t.applyMatrix3(t),this.setXY(s,_t.x,_t.y);else if(3===this.itemSize)for(let s=0,i=this.count;s<i;s++)gt.fromBufferAttribute(this,s),gt.applyMatrix3(t),this.setXYZ(s,gt.x,gt.y,gt.z);return this}applyMatrix4(t){for(let s=0,i=this.count;s<i;s++)gt.fromBufferAttribute(this,s),gt.applyMatrix4(t),this.setXYZ(s,gt.x,gt.y,gt.z);return this}applyNormalMatrix(t){for(let s=0,i=this.count;s<i;s++)gt.fromBufferAttribute(this,s),gt.applyNormalMatrix(t),this.setXYZ(s,gt.x,gt.y,gt.z);return this}transformDirection(t){for(let s=0,i=this.count;s<i;s++)gt.fromBufferAttribute(this,s),gt.transformDirection(t),this.setXYZ(s,gt.x,gt.y,gt.z);return this}set(t,s=0){return this.array.set(t,s),this}getX(t){let s=this.array[t*this.itemSize];return this.normalized&&(s=o(s,this.array)),s}setX(t,s){return this.normalized&&(s=u(s,this.array)),this.array[t*this.itemSize]=s,this}getY(t){let s=this.array[t*this.itemSize+1];return this.normalized&&(s=o(s,this.array)),s}setY(t,s){return this.normalized&&(s=u(s,this.array)),this.array[t*this.itemSize+1]=s,this}getZ(t){let s=this.array[t*this.itemSize+2];return this.normalized&&(s=o(s,this.array)),s}setZ(t,s){return this.normalized&&(s=u(s,this.array)),this.array[t*this.itemSize+2]=s,this}getW(t){let s=this.array[t*this.itemSize+3];return this.normalized&&(s=o(s,this.array)),s}setW(t,s){return this.normalized&&(s=u(s,this.array)),this.array[t*this.itemSize+3]=s,this}setXY(t,s,i){return t*=this.itemSize,this.normalized&&(s=u(s,this.array),i=u(i,this.array)),this.array[t+0]=s,this.array[t+1]=i,this}setXYZ(t,s,i,e){return t*=this.itemSize,this.normalized&&(s=u(s,this.array),i=u(i,this.array),e=u(e,this.array)),this.array[t+0]=s,this.array[t+1]=i,this.array[t+2]=e,this}setXYZW(t,s,i,e,a){return t*=this.itemSize,this.normalized&&(s=u(s,this.array),i=u(i,this.array),e=u(e,this.array),a=u(a,this.array)),this.array[t+0]=s,this.array[t+1]=i,this.array[t+2]=e,this.array[t+3]=a,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}class bt extends vt{constructor(t,s,i){super(new Uint16Array(t),s,i)}}class wt extends vt{constructor(t,s,i){super(new Uint32Array(t),s,i)}}class At extends vt{constructor(t,s,i){super(new Float32Array(t),s,i)}}let St=0;const zt=new X,Ct=new Mt,Nt=new S,Et=new N,Pt=new N,kt=new S;class Ot extends a{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:St++}),this.uuid=h(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(function(t){for(let s=t.length-1;s>=0;--s)if(t[s]>=65535)return!0;return!1}(t)?wt:bt)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,s){return this.attributes[t]=s,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,s,i=0){this.groups.push({start:t,count:s,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,s){this.drawRange.start=t,this.drawRange.count=s}applyMatrix4(t){const s=this.attributes.position;void 0!==s&&(s.applyMatrix4(t),s.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new c).getNormalMatrix(t);i.applyNormalMatrix(s),i.needsUpdate=!0}const e=this.attributes.tangent;return void 0!==e&&(e.transformDirection(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return zt.makeRotationFromQuaternion(t),this.applyMatrix4(zt),this}rotateX(t){return zt.makeRotationX(t),this.applyMatrix4(zt),this}rotateY(t){return zt.makeRotationY(t),this.applyMatrix4(zt),this}rotateZ(t){return zt.makeRotationZ(t),this.applyMatrix4(zt),this}translate(t,s,i){return zt.makeTranslation(t,s,i),this.applyMatrix4(zt),this}scale(t,s,i){return zt.makeScale(t,s,i),this.applyMatrix4(zt),this}lookAt(t){return Ct.lookAt(t),Ct.updateMatrix(),this.applyMatrix4(Ct.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nt).negate(),this.translate(Nt.x,Nt.y,Nt.z),this}setFromPoints(t){const s=[];for(let i=0,e=t.length;i<e;i++){const e=t[i];s.push(e.x,e.y,e.z||0)}return this.setAttribute("position",new At(s,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new N);const t=this.attributes.position,s=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new S(-1/0,-1/0,-1/0),new S(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),s)for(let t=0,i=s.length;t<i;t++){const i=s[t];Et.setFromBufferAttribute(i),this.morphTargetsRelative?(kt.addVectors(this.boundingBox.min,Et.min),this.boundingBox.expandByPoint(kt),kt.addVectors(this.boundingBox.max,Et.max),this.boundingBox.expandByPoint(kt)):(this.boundingBox.expandByPoint(Et.min),this.boundingBox.expandByPoint(Et.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new V);const t=this.attributes.position,s=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new S,1/0);if(t){const i=this.boundingSphere.center;if(Et.setFromBufferAttribute(t),s)for(let t=0,i=s.length;t<i;t++){const i=s[t];Pt.setFromBufferAttribute(i),this.morphTargetsRelative?(kt.addVectors(Et.min,Pt.min),Et.expandByPoint(kt),kt.addVectors(Et.max,Pt.max),Et.expandByPoint(kt)):(Et.expandByPoint(Pt.min),Et.expandByPoint(Pt.max))}Et.getCenter(i);let e=0;for(let s=0,a=t.count;s<a;s++)kt.fromBufferAttribute(t,s),e=Math.max(e,i.distanceToSquared(kt));if(s)for(let a=0,r=s.length;a<r;a++){const r=s[a],h=this.morphTargetsRelative;for(let s=0,a=r.count;s<a;s++)kt.fromBufferAttribute(r,s),h&&(Nt.fromBufferAttribute(t,s),kt.add(Nt)),e=Math.max(e,i.distanceToSquared(kt))}this.boundingSphere.radius=Math.sqrt(e),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,s=this.attributes;if(null===t||void 0===s.position||void 0===s.normal||void 0===s.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,e=s.position.array,a=s.normal.array,r=s.uv.array,h=e.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new vt(new Float32Array(4*h),4));const n=this.getAttribute("tangent").array,o=[],u=[];for(let t=0;t<h;t++)o[t]=new S,u[t]=new S;const c=new S,m=new S,d=new S,p=new l,y=new l,x=new l,f=new S,M=new S;function g(t,s,i){c.fromArray(e,3*t),m.fromArray(e,3*s),d.fromArray(e,3*i),p.fromArray(r,2*t),y.fromArray(r,2*s),x.fromArray(r,2*i),m.sub(c),d.sub(c),y.sub(p),x.sub(p);const a=1/(y.x*x.y-x.x*y.y);isFinite(a)&&(f.copy(m).multiplyScalar(x.y).addScaledVector(d,-y.y).multiplyScalar(a),M.copy(d).multiplyScalar(y.x).addScaledVector(m,-x.x).multiplyScalar(a),o[t].add(f),o[s].add(f),o[i].add(f),u[t].add(M),u[s].add(M),u[i].add(M))}let _=this.groups;0===_.length&&(_=[{start:0,count:i.length}]);for(let t=0,s=_.length;t<s;++t){const s=_[t],e=s.start;for(let t=e,a=e+s.count;t<a;t+=3)g(i[t+0],i[t+1],i[t+2])}const v=new S,b=new S,w=new S,A=new S;function z(t){w.fromArray(a,3*t),A.copy(w);const s=o[t];v.copy(s),v.sub(w.multiplyScalar(w.dot(s))).normalize(),b.crossVectors(A,s);const i=b.dot(u[t])<0?-1:1;n[4*t]=v.x,n[4*t+1]=v.y,n[4*t+2]=v.z,n[4*t+3]=i}for(let t=0,s=_.length;t<s;++t){const s=_[t],e=s.start;for(let t=e,a=e+s.count;t<a;t+=3)z(i[t+0]),z(i[t+1]),z(i[t+2])}}computeVertexNormals(){const t=this.index,s=this.getAttribute("position");if(void 0!==s){let i=this.getAttribute("normal");if(void 0===i)i=new vt(new Float32Array(3*s.count),3),this.setAttribute("normal",i);else for(let t=0,s=i.count;t<s;t++)i.setXYZ(t,0,0,0);const e=new S,a=new S,r=new S,h=new S,n=new S,o=new S,u=new S,l=new S;if(t)for(let c=0,m=t.count;c<m;c+=3){const m=t.getX(c+0),d=t.getX(c+1),p=t.getX(c+2);e.fromBufferAttribute(s,m),a.fromBufferAttribute(s,d),r.fromBufferAttribute(s,p),u.subVectors(r,a),l.subVectors(e,a),u.cross(l),h.fromBufferAttribute(i,m),n.fromBufferAttribute(i,d),o.fromBufferAttribute(i,p),h.add(u),n.add(u),o.add(u),i.setXYZ(m,h.x,h.y,h.z),i.setXYZ(d,n.x,n.y,n.z),i.setXYZ(p,o.x,o.y,o.z)}else for(let t=0,h=s.count;t<h;t+=3)e.fromBufferAttribute(s,t+0),a.fromBufferAttribute(s,t+1),r.fromBufferAttribute(s,t+2),u.subVectors(r,a),l.subVectors(e,a),u.cross(l),i.setXYZ(t+0,u.x,u.y,u.z),i.setXYZ(t+1,u.x,u.y,u.z),i.setXYZ(t+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let s=0,i=t.count;s<i;s++)kt.fromBufferAttribute(t,s),kt.normalize(),t.setXYZ(s,kt.x,kt.y,kt.z)}toNonIndexed(){function t(t,s){const i=t.array,e=t.itemSize,a=t.normalized,r=new i.constructor(s.length*e);let h=0,n=0;for(let a=0,o=s.length;a<o;a++){h=t.isInterleavedBufferAttribute?s[a]*t.data.stride+t.offset:s[a]*e;for(let t=0;t<e;t++)r[n++]=i[h++]}return new vt(r,e,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const s=new Ot,i=this.index.array,e=this.attributes;for(const a in e){const r=t(e[a],i);s.setAttribute(a,r)}const a=this.morphAttributes;for(const e in a){const r=[],h=a[e];for(let s=0,e=h.length;s<e;s++){const e=t(h[s],i);r.push(e)}s.morphAttributes[e]=r}s.morphTargetsRelative=this.morphTargetsRelative;const r=this.groups;for(let t=0,i=r.length;t<i;t++){const i=r[t];s.addGroup(i.start,i.count,i.materialIndex)}return s}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const s=this.parameters;for(const i in s)void 0!==s[i]&&(t[i]=s[i]);return t}t.data={attributes:{}};const s=this.index;null!==s&&(t.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)});const i=this.attributes;for(const s in i){const e=i[s];t.data.attributes[s]=e.toJSON(t.data)}const e={};let a=!1;for(const s in this.morphAttributes){const i=this.morphAttributes[s],r=[];for(let s=0,e=i.length;s<e;s++){const e=i[s];r.push(e.toJSON(t.data))}r.length>0&&(e[s]=r,a=!0)}a&&(t.data.morphAttributes=e,t.data.morphTargetsRelative=this.morphTargetsRelative);const r=this.groups;r.length>0&&(t.data.groups=JSON.parse(JSON.stringify(r)));const h=this.boundingSphere;return null!==h&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const s={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(s));const e=t.attributes;for(const t in e){const i=e[t];this.setAttribute(t,i.clone(s))}const a=t.morphAttributes;for(const t in a){const i=[],e=a[t];for(let t=0,a=e.length;t<a;t++)i.push(e[t].clone(s));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;const r=t.groups;for(let t=0,s=r.length;t<s;t++){const s=r[t];this.addGroup(s.start,s.count,s.materialIndex)}const h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());const n=t.boundingSphere;return null!==n&&(this.boundingSphere=n.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Tt{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,s){const i=this.getUtoTmapping(t);return this.getPoint(i,s)}getPoints(t=5){const s=[];for(let i=0;i<=t;i++)s.push(this.getPoint(i/t));return s}getSpacedPoints(t=5){const s=[];for(let i=0;i<=t;i++)s.push(this.getPointAt(i/t));return s}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const s=[];let i,e=this.getPoint(0),a=0;s.push(0);for(let r=1;r<=t;r++)i=this.getPoint(r/t),a+=i.distanceTo(e),s.push(a),e=i;return this.cacheArcLengths=s,s}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,s){const i=this.getLengths();let e=0;const a=i.length;let r;r=s||t*i[a-1];let h,n=0,o=a-1;for(;n<=o;)if(e=Math.floor(n+(o-n)/2),h=i[e]-r,h<0)n=e+1;else{if(!(h>0)){o=e;break}o=e-1}if(e=o,i[e]===r)return e/(a-1);const u=i[e];return(e+(r-u)/(i[e+1]-u))/(a-1)}getTangent(t,s){const i=1e-4;let e=t-i,a=t+i;e<0&&(e=0),a>1&&(a=1);const r=this.getPoint(e),h=this.getPoint(a),n=s||(r.isVector2?new l:new S);return n.copy(h).sub(r).normalize(),n}getTangentAt(t,s){const i=this.getUtoTmapping(t);return this.getTangent(i,s)}computeFrenetFrames(t,s){const i=new S,e=[],a=[],r=[],h=new S,o=new X;for(let s=0;s<=t;s++){const i=s/t;e[s]=this.getTangentAt(i,new S)}a[0]=new S,r[0]=new S;let u=Number.MAX_VALUE;const l=Math.abs(e[0].x),c=Math.abs(e[0].y),m=Math.abs(e[0].z);l<=u&&(u=l,i.set(1,0,0)),c<=u&&(u=c,i.set(0,1,0)),m<=u&&i.set(0,0,1),h.crossVectors(e[0],i).normalize(),a[0].crossVectors(e[0],h),r[0].crossVectors(e[0],a[0]);for(let s=1;s<=t;s++){if(a[s]=a[s-1].clone(),r[s]=r[s-1].clone(),h.crossVectors(e[s-1],e[s]),h.length()>Number.EPSILON){h.normalize();const t=Math.acos(n(e[s-1].dot(e[s]),-1,1));a[s].applyMatrix4(o.makeRotationAxis(h,t))}r[s].crossVectors(e[s],a[s])}if(!0===s){let s=Math.acos(n(a[0].dot(a[t]),-1,1));s/=t,e[0].dot(h.crossVectors(a[0],a[t]))>0&&(s=-s);for(let i=1;i<=t;i++)a[i].applyMatrix4(o.makeRotationAxis(e[i],s*i)),r[i].crossVectors(e[i],a[i])}return{tangents:e,normals:a,binormals:r}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Rt extends Tt{constructor(t=0,s=0,i=1,e=1,a=0,r=2*Math.PI,h=!1,n=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=s,this.xRadius=i,this.yRadius=e,this.aStartAngle=a,this.aEndAngle=r,this.aClockwise=h,this.aRotation=n}getPoint(t,s){const i=s||new l,e=2*Math.PI;let a=this.aEndAngle-this.aStartAngle;const r=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=e;for(;a>e;)a-=e;a<Number.EPSILON&&(a=r?0:e),!0!==this.aClockwise||r||(a===e?a=-e:a-=e);const h=this.aStartAngle+t*a;let n=this.aX+this.xRadius*Math.cos(h),o=this.aY+this.yRadius*Math.sin(h);if(0!==this.aRotation){const t=Math.cos(this.aRotation),s=Math.sin(this.aRotation),i=n-this.aX,e=o-this.aY;n=i*t-e*s+this.aX,o=i*s+e*t+this.aY}return i.set(n,o)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}function qt(){let t=0,s=0,i=0,e=0;function a(a,r,h,n){t=a,s=h,i=-3*a+3*r-2*h-n,e=2*a-2*r+h+n}return{initCatmullRom:function(t,s,i,e,r){a(s,i,r*(i-t),r*(e-s))},initNonuniformCatmullRom:function(t,s,i,e,r,h,n){let o=(s-t)/r-(i-t)/(r+h)+(i-s)/h,u=(i-s)/h-(e-s)/(h+n)+(e-i)/n;o*=h,u*=h,a(s,i,o,u)},calc:function(a){const r=a*a;return t+s*a+i*r+e*(r*a)}}}const Bt=new S,It=new qt,Lt=new qt,Ft=new qt;function jt(t,s,i,e,a){const r=.5*(e-s),h=.5*(a-i),n=t*t;return(2*i-2*e+r+h)*(t*n)+(-3*i+3*e-2*r-h)*n+r*t+i}function Ut(t,s,i,e){return function(t,s){const i=1-t;return i*i*s}(t,s)+function(t,s){return 2*(1-t)*t*s}(t,i)+function(t,s){return t*t*s}(t,e)}function Dt(t,s,i,e,a){return function(t,s){const i=1-t;return i*i*i*s}(t,s)+function(t,s){const i=1-t;return 3*i*i*t*s}(t,i)+function(t,s){return 3*(1-t)*t*t*s}(t,e)+function(t,s){return t*t*t*s}(t,a)}class Gt extends Tt{constructor(t=new l,s=new l,i=new l,e=new l){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=s,this.v2=i,this.v3=e}getPoint(t,s=new l){const i=s,e=this.v0,a=this.v1,r=this.v2,h=this.v3;return i.set(Dt(t,e.x,a.x,r.x,h.x),Dt(t,e.y,a.y,r.y,h.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Jt extends Tt{constructor(t=new l,s=new l){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=s}getPoint(t,s=new l){const i=s;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,s){return this.getPoint(t,s)}getTangent(t,s=new l){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,s){return this.getTangent(t,s)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Wt extends Tt{constructor(t=new l,s=new l,i=new l){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=s,this.v2=i}getPoint(t,s=new l){const i=s,e=this.v0,a=this.v1,r=this.v2;return i.set(Ut(t,e.x,a.x,r.x),Ut(t,e.y,a.y,r.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Vt extends Tt{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,s=new l){const i=s,e=this.points,a=(e.length-1)*t,r=Math.floor(a),h=a-r,n=e[0===r?r:r-1],o=e[r],u=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2];return i.set(jt(h,n.x,o.x,u.x,c.x),jt(h,n.y,o.y,u.y,c.y)),i}copy(t){super.copy(t),this.points=[];for(let s=0,i=t.points.length;s<i;s++){const i=t.points[s];this.points.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let s=0,i=this.points.length;s<i;s++){const i=this.points[s];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let s=0,i=t.points.length;s<i;s++){const i=t.points[s];this.points.push((new l).fromArray(i))}return this}}var Xt=Object.freeze({__proto__:null,ArcCurve:class extends Rt{constructor(t,s,i,e,a,r){super(t,s,i,i,e,a,r),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends Tt{constructor(t=[],s=!1,i="centripetal",e=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=s,this.curveType=i,this.tension=e}getPoint(t,s=new S){const i=s,e=this.points,a=e.length,r=(a-(this.closed?0:1))*t;let h,n,o=Math.floor(r),u=r-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:0===u&&o===a-1&&(o=a-2,u=1),this.closed||o>0?h=e[(o-1)%a]:(Bt.subVectors(e[0],e[1]).add(e[0]),h=Bt);const l=e[o%a],c=e[(o+1)%a];if(this.closed||o+2<a?n=e[(o+2)%a]:(Bt.subVectors(e[a-1],e[a-2]).add(e[a-1]),n=Bt),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let s=Math.pow(h.distanceToSquared(l),t),i=Math.pow(l.distanceToSquared(c),t),e=Math.pow(c.distanceToSquared(n),t);i<1e-4&&(i=1),s<1e-4&&(s=i),e<1e-4&&(e=i),It.initNonuniformCatmullRom(h.x,l.x,c.x,n.x,s,i,e),Lt.initNonuniformCatmullRom(h.y,l.y,c.y,n.y,s,i,e),Ft.initNonuniformCatmullRom(h.z,l.z,c.z,n.z,s,i,e)}else"catmullrom"===this.curveType&&(It.initCatmullRom(h.x,l.x,c.x,n.x,this.tension),Lt.initCatmullRom(h.y,l.y,c.y,n.y,this.tension),Ft.initCatmullRom(h.z,l.z,c.z,n.z,this.tension));return i.set(It.calc(u),Lt.calc(u),Ft.calc(u)),i}copy(t){super.copy(t),this.points=[];for(let s=0,i=t.points.length;s<i;s++){const i=t.points[s];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let s=0,i=this.points.length;s<i;s++){const i=this.points[s];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let s=0,i=t.points.length;s<i;s++){const i=t.points[s];this.points.push((new S).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},CubicBezierCurve:Gt,CubicBezierCurve3:class extends Tt{constructor(t=new S,s=new S,i=new S,e=new S){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=s,this.v2=i,this.v3=e}getPoint(t,s=new S){const i=s,e=this.v0,a=this.v1,r=this.v2,h=this.v3;return i.set(Dt(t,e.x,a.x,r.x,h.x),Dt(t,e.y,a.y,r.y,h.y),Dt(t,e.z,a.z,r.z,h.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}},EllipseCurve:Rt,LineCurve:Jt,LineCurve3:class extends Tt{constructor(t=new S,s=new S){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=s}getPoint(t,s=new S){const i=s;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,s){return this.getPoint(t,s)}getTangent(t,s=new S){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,s){return this.getTangent(t,s)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:Wt,QuadraticBezierCurve3:class extends Tt{constructor(t=new S,s=new S,i=new S){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=s,this.v2=i}getPoint(t,s=new S){const i=s,e=this.v0,a=this.v1,r=this.v2;return i.set(Ut(t,e.x,a.x,r.x),Ut(t,e.y,a.y,r.y),Ut(t,e.z,a.z,r.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},SplineCurve:Vt});class Zt extends Tt{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),s=this.curves[this.curves.length-1].getPoint(1);t.equals(s)||this.curves.push(new Jt(s,t))}getPoint(t,s){const i=t*this.getLength(),e=this.getCurveLengths();let a=0;for(;a<e.length;){if(e[a]>=i){const t=e[a]-i,r=this.curves[a],h=r.getLength(),n=0===h?0:1-t/h;return r.getPointAt(n,s)}a++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let s=0;for(let i=0,e=this.curves.length;i<e;i++)s+=this.curves[i].getLength(),t.push(s);return this.cacheLengths=t,t}getSpacedPoints(t=40){const s=[];for(let i=0;i<=t;i++)s.push(this.getPoint(i/t));return this.autoClose&&s.push(s[0]),s}getPoints(t=12){const s=[];let i;for(let e=0,a=this.curves;e<a.length;e++){const r=a[e],h=r.isEllipseCurve?2*t:r.isLineCurve||r.isLineCurve3?1:r.isSplineCurve?t*r.points.length:t,n=r.getPoints(h);for(let t=0;t<n.length;t++){const e=n[t];i&&i.equals(e)||(s.push(e),i=e)}}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s}copy(t){super.copy(t),this.curves=[];for(let s=0,i=t.curves.length;s<i;s++){const i=t.curves[s];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let s=0,i=this.curves.length;s<i;s++){const i=this.curves[s];t.curves.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let s=0,i=t.curves.length;s<i;s++){const i=t.curves[s];this.curves.push((new Xt[i.type]).fromJSON(i))}return this}}class Yt extends Zt{constructor(t){super(),this.type="Path",this.currentPoint=new l,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let s=1,i=t.length;s<i;s++)this.lineTo(t[s].x,t[s].y);return this}moveTo(t,s){return this.currentPoint.set(t,s),this}lineTo(t,s){const i=new Jt(this.currentPoint.clone(),new l(t,s));return this.curves.push(i),this.currentPoint.set(t,s),this}quadraticCurveTo(t,s,i,e){const a=new Wt(this.currentPoint.clone(),new l(t,s),new l(i,e));return this.curves.push(a),this.currentPoint.set(i,e),this}bezierCurveTo(t,s,i,e,a,r){const h=new Gt(this.currentPoint.clone(),new l(t,s),new l(i,e),new l(a,r));return this.curves.push(h),this.currentPoint.set(a,r),this}splineThru(t){const s=[this.currentPoint.clone()].concat(t),i=new Vt(s);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,s,i,e,a,r){const h=this.currentPoint.x,n=this.currentPoint.y;return this.absarc(t+h,s+n,i,e,a,r),this}absarc(t,s,i,e,a,r){return this.absellipse(t,s,i,i,e,a,r),this}ellipse(t,s,i,e,a,r,h,n){const o=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(t+o,s+u,i,e,a,r,h,n),this}absellipse(t,s,i,e,a,r,h,n){const o=new Rt(t,s,i,e,a,r,h,n);if(this.curves.length>0){const t=o.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(o);const u=o.getPoint(1);return this.currentPoint.copy(u),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Qt extends Yt{constructor(t){super(t),this.uuid=h(),this.type="Shape",this.holes=[]}getPointsHoles(t){const s=[];for(let i=0,e=this.holes.length;i<e;i++)s[i]=this.holes[i].getPoints(t);return s}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let s=0,i=t.holes.length;s<i;s++){const i=t.holes[s];this.holes.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let s=0,i=this.holes.length;s<i;s++){const i=this.holes[s];t.holes.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let s=0,i=t.holes.length;s<i;s++){const i=t.holes[s];this.holes.push((new Yt).fromJSON(i))}return this}}const Ht=function(t,s,i=2){const e=s&&s.length,a=e?s[0]*i:t.length;let r=Kt(t,0,a,i,!0);const h=[];if(!r||r.next===r.prev)return h;let n,o,u,l,c,m,d;if(e&&(r=function(t,s,i,e){const a=[];let r,h,n,o,u;for(r=0,h=s.length;r<h;r++)n=s[r]*e,o=r<h-1?s[r+1]*e:t.length,u=Kt(t,n,o,e,!1),u===u.next&&(u.steiner=!0),a.push(us(u));for(a.sort(rs),r=0;r<a.length;r++)i=hs(a[r],i);return i}(t,s,r,i)),t.length>80*i){n=u=t[0],o=l=t[1];for(let s=i;s<a;s+=i)c=t[s],m=t[s+1],c<n&&(n=c),m<o&&(o=m),c>u&&(u=c),m>l&&(l=m);d=Math.max(u-n,l-o),d=0!==d?32767/d:0}return ts(r,h,i,n,o,d,0),h};function Kt(t,s,i,e,a){let r,h;if(a===function(t,s,i,e){let a=0;for(let r=s,h=i-e;r<i;r+=e)a+=(t[h]-t[r])*(t[r+1]+t[h+1]),h=r;return a}(t,s,i,e)>0)for(r=s;r<i;r+=e)h=gs(r,t[r],t[r+1],h);else for(r=i-e;r>=s;r-=e)h=gs(r,t[r],t[r+1],h);return h&&ds(h,h.next)&&(_s(h),h=h.next),h}function $t(t,s){if(!t)return t;s||(s=t);let i,e=t;do{if(i=!1,e.steiner||!ds(e,e.next)&&0!==ms(e.prev,e,e.next))e=e.next;else{if(_s(e),e=s=e.prev,e===e.next)break;i=!0}}while(i||e!==s);return s}function ts(t,s,i,e,a,r,h){if(!t)return;!h&&r&&function(t,s,i,e){let a=t;do{0===a.z&&(a.z=os(a.x,a.y,s,i,e)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==t);a.prevZ.nextZ=null,a.prevZ=null,function(t){let s,i,e,a,r,h,n,o,u=1;do{for(i=t,t=null,r=null,h=0;i;){for(h++,e=i,n=0,s=0;s<u&&(n++,e=e.nextZ,e);s++);for(o=u;n>0||o>0&&e;)0!==n&&(0===o||!e||i.z<=e.z)?(a=i,i=i.nextZ,n--):(a=e,e=e.nextZ,o--),r?r.nextZ=a:t=a,a.prevZ=r,r=a;i=e}r.nextZ=null,u*=2}while(h>1)}(a)}(t,e,a,r);let n,o,u=t;for(;t.prev!==t.next;)if(n=t.prev,o=t.next,r?is(t,e,a,r):ss(t))s.push(n.i/i|0),s.push(t.i/i|0),s.push(o.i/i|0),_s(t),t=o.next,u=o.next;else if((t=o)===u){h?1===h?ts(t=es($t(t),s,i),s,i,e,a,r,2):2===h&&as(t,s,i,e,a,r):ts($t(t),s,i,e,a,r,1);break}}function ss(t){const s=t.prev,i=t,e=t.next;if(ms(s,i,e)>=0)return!1;const a=s.x,r=i.x,h=e.x,n=s.y,o=i.y,u=e.y,l=a<r?a<h?a:h:r<h?r:h,c=n<o?n<u?n:u:o<u?o:u,m=a>r?a>h?a:h:r>h?r:h,d=n>o?n>u?n:u:o>u?o:u;let p=e.next;for(;p!==s;){if(p.x>=l&&p.x<=m&&p.y>=c&&p.y<=d&&ls(a,n,r,o,h,u,p.x,p.y)&&ms(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function is(t,s,i,e){const a=t.prev,r=t,h=t.next;if(ms(a,r,h)>=0)return!1;const n=a.x,o=r.x,u=h.x,l=a.y,c=r.y,m=h.y,d=n<o?n<u?n:u:o<u?o:u,p=l<c?l<m?l:m:c<m?c:m,y=n>o?n>u?n:u:o>u?o:u,x=l>c?l>m?l:m:c>m?c:m,f=os(d,p,s,i,e),M=os(y,x,s,i,e);let g=t.prevZ,_=t.nextZ;for(;g&&g.z>=f&&_&&_.z<=M;){if(g.x>=d&&g.x<=y&&g.y>=p&&g.y<=x&&g!==a&&g!==h&&ls(n,l,o,c,u,m,g.x,g.y)&&ms(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,_.x>=d&&_.x<=y&&_.y>=p&&_.y<=x&&_!==a&&_!==h&&ls(n,l,o,c,u,m,_.x,_.y)&&ms(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;g&&g.z>=f;){if(g.x>=d&&g.x<=y&&g.y>=p&&g.y<=x&&g!==a&&g!==h&&ls(n,l,o,c,u,m,g.x,g.y)&&ms(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;_&&_.z<=M;){if(_.x>=d&&_.x<=y&&_.y>=p&&_.y<=x&&_!==a&&_!==h&&ls(n,l,o,c,u,m,_.x,_.y)&&ms(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function es(t,s,i){let e=t;do{const a=e.prev,r=e.next.next;!ds(a,r)&&ps(a,e,e.next,r)&&fs(a,r)&&fs(r,a)&&(s.push(a.i/i|0),s.push(e.i/i|0),s.push(r.i/i|0),_s(e),_s(e.next),e=t=r),e=e.next}while(e!==t);return $t(e)}function as(t,s,i,e,a,r){let h=t;do{let t=h.next.next;for(;t!==h.prev;){if(h.i!==t.i&&cs(h,t)){let n=Ms(h,t);return h=$t(h,h.next),n=$t(n,n.next),ts(h,s,i,e,a,r,0),void ts(n,s,i,e,a,r,0)}t=t.next}h=h.next}while(h!==t)}function rs(t,s){return t.x-s.x}function hs(t,s){const i=function(t,s){let i,e=s,a=-1/0;const r=t.x,h=t.y;do{if(h<=e.y&&h>=e.next.y&&e.next.y!==e.y){const t=e.x+(h-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(t<=r&&t>a&&(a=t,i=e.x<e.next.x?e:e.next,t===r))return i}e=e.next}while(e!==s);if(!i)return null;const n=i,o=i.x,u=i.y;let l,c=1/0;e=i;do{r>=e.x&&e.x>=o&&r!==e.x&&ls(h<u?r:a,h,o,u,h<u?a:r,h,e.x,e.y)&&(l=Math.abs(h-e.y)/(r-e.x),fs(e,t)&&(l<c||l===c&&(e.x>i.x||e.x===i.x&&ns(i,e)))&&(i=e,c=l)),e=e.next}while(e!==n);return i}(t,s);if(!i)return s;const e=Ms(i,t);return $t(e,e.next),$t(i,i.next)}function ns(t,s){return ms(t.prev,t,s.prev)<0&&ms(s.next,t,t.next)<0}function os(t,s,i,e,a){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*a|0)|t<<8))|t<<4))|t<<2))|t<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-e)*a|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function us(t){let s=t,i=t;do{(s.x<i.x||s.x===i.x&&s.y<i.y)&&(i=s),s=s.next}while(s!==t);return i}function ls(t,s,i,e,a,r,h,n){return(a-h)*(s-n)>=(t-h)*(r-n)&&(t-h)*(e-n)>=(i-h)*(s-n)&&(i-h)*(r-n)>=(a-h)*(e-n)}function cs(t,s){return t.next.i!==s.i&&t.prev.i!==s.i&&!function(t,s){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==s.i&&i.next.i!==s.i&&ps(i,i.next,t,s))return!0;i=i.next}while(i!==t);return!1}(t,s)&&(fs(t,s)&&fs(s,t)&&function(t,s){let i=t,e=!1;const a=(t.x+s.x)/2,r=(t.y+s.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&a<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(e=!e),i=i.next}while(i!==t);return e}(t,s)&&(ms(t.prev,t,s.prev)||ms(t,s.prev,s))||ds(t,s)&&ms(t.prev,t,t.next)>0&&ms(s.prev,s,s.next)>0)}function ms(t,s,i){return(s.y-t.y)*(i.x-s.x)-(s.x-t.x)*(i.y-s.y)}function ds(t,s){return t.x===s.x&&t.y===s.y}function ps(t,s,i,e){const a=xs(ms(t,s,i)),r=xs(ms(t,s,e)),h=xs(ms(i,e,t)),n=xs(ms(i,e,s));return a!==r&&h!==n||(!(0!==a||!ys(t,i,s))||(!(0!==r||!ys(t,e,s))||(!(0!==h||!ys(i,t,e))||!(0!==n||!ys(i,s,e)))))}function ys(t,s,i){return s.x<=Math.max(t.x,i.x)&&s.x>=Math.min(t.x,i.x)&&s.y<=Math.max(t.y,i.y)&&s.y>=Math.min(t.y,i.y)}function xs(t){return t>0?1:t<0?-1:0}function fs(t,s){return ms(t.prev,t,t.next)<0?ms(t,s,t.next)>=0&&ms(t,t.prev,s)>=0:ms(t,s,t.prev)<0||ms(t,t.next,s)<0}function Ms(t,s){const i=new vs(t.i,t.x,t.y),e=new vs(s.i,s.x,s.y),a=t.next,r=s.prev;return t.next=s,s.prev=t,i.next=a,a.prev=i,e.next=i,i.prev=e,r.next=e,e.prev=r,e}function gs(t,s,i,e){const a=new vs(t,s,i);return e?(a.next=e.next,a.prev=e,e.next.prev=a,e.next=a):(a.prev=a,a.next=a),a}function _s(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function vs(t,s,i){this.i=t,this.x=s,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class bs{static area(t){const s=t.length;let i=0;for(let e=s-1,a=0;a<s;e=a++)i+=t[e].x*t[a].y-t[a].x*t[e].y;return.5*i}static isClockWise(t){return bs.area(t)<0}static triangulateShape(t,s){const i=[],e=[],a=[];ws(t),As(i,t);let r=t.length;s.forEach(ws);for(let t=0;t<s.length;t++)e.push(r),r+=s[t].length,As(i,s[t]);const h=Ht(i,e);for(let t=0;t<h.length;t+=3)a.push(h.slice(t,t+3));return a}}function ws(t){const s=t.length;s>2&&t[s-1].equals(t[0])&&t.pop()}function As(t,s){for(let i=0;i<s.length;i++)t.push(s[i].x),t.push(s[i].y)}class Ss extends Ot{constructor(t=new Qt([new l(.5,.5),new l(-.5,.5),new l(-.5,-.5),new l(.5,-.5)]),s={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:s},t=Array.isArray(t)?t:[t];const i=this,e=[],a=[];for(let s=0,i=t.length;s<i;s++){r(t[s])}function r(t){const r=[],h=void 0!==s.curveSegments?s.curveSegments:12,n=void 0!==s.steps?s.steps:1,o=void 0!==s.depth?s.depth:1;let u=void 0===s.bevelEnabled||s.bevelEnabled,c=void 0!==s.bevelThickness?s.bevelThickness:.2,m=void 0!==s.bevelSize?s.bevelSize:c-.1,d=void 0!==s.bevelOffset?s.bevelOffset:0,p=void 0!==s.bevelSegments?s.bevelSegments:3;const y=s.extrudePath,x=void 0!==s.UVGenerator?s.UVGenerator:zs;let f,M,g,_,v,b=!1;y&&(f=y.getSpacedPoints(n),b=!0,u=!1,M=y.computeFrenetFrames(n,!1),g=new S,_=new S,v=new S),u||(p=0,c=0,m=0,d=0);const w=t.extractPoints(h);let A=w.shape;const z=w.holes;if(!bs.isClockWise(A)){A=A.reverse();for(let t=0,s=z.length;t<s;t++){const s=z[t];bs.isClockWise(s)&&(z[t]=s.reverse())}}const C=bs.triangulateShape(A,z),N=A;for(let t=0,s=z.length;t<s;t++){const s=z[t];A=A.concat(s)}function E(t,s,i){return s||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().addScaledVector(s,i)}const P=A.length,k=C.length;function O(t,s,i){let e,a,r;const h=t.x-s.x,n=t.y-s.y,o=i.x-t.x,u=i.y-t.y,c=h*h+n*n,m=h*u-n*o;if(Math.abs(m)>Number.EPSILON){const m=Math.sqrt(c),d=Math.sqrt(o*o+u*u),p=s.x-n/m,y=s.y+h/m,x=((i.x-u/d-p)*u-(i.y+o/d-y)*o)/(h*u-n*o);e=p+h*x-t.x,a=y+n*x-t.y;const f=e*e+a*a;if(f<=2)return new l(e,a);r=Math.sqrt(f/2)}else{let t=!1;h>Number.EPSILON?o>Number.EPSILON&&(t=!0):h<-Number.EPSILON?o<-Number.EPSILON&&(t=!0):Math.sign(n)===Math.sign(u)&&(t=!0),t?(e=-n,a=h,r=Math.sqrt(c)):(e=h,a=n,r=Math.sqrt(c/2))}return new l(e/r,a/r)}const T=[];for(let t=0,s=N.length,i=s-1,e=t+1;t<s;t++,i++,e++)i===s&&(i=0),e===s&&(e=0),T[t]=O(N[t],N[i],N[e]);const R=[];let q,B=T.concat();for(let t=0,s=z.length;t<s;t++){const s=z[t];q=[];for(let t=0,i=s.length,e=i-1,a=t+1;t<i;t++,e++,a++)e===i&&(e=0),a===i&&(a=0),q[t]=O(s[t],s[e],s[a]);R.push(q),B=B.concat(q)}for(let t=0;t<p;t++){const s=t/p,i=c*Math.cos(s*Math.PI/2),e=m*Math.sin(s*Math.PI/2)+d;for(let t=0,s=N.length;t<s;t++){const s=E(N[t],T[t],e);F(s.x,s.y,-i)}for(let t=0,s=z.length;t<s;t++){const s=z[t];q=R[t];for(let t=0,a=s.length;t<a;t++){const a=E(s[t],q[t],e);F(a.x,a.y,-i)}}}const I=m+d;for(let t=0;t<P;t++){const s=u?E(A[t],B[t],I):A[t];b?(_.copy(M.normals[0]).multiplyScalar(s.x),g.copy(M.binormals[0]).multiplyScalar(s.y),v.copy(f[0]).add(_).add(g),F(v.x,v.y,v.z)):F(s.x,s.y,0)}for(let t=1;t<=n;t++)for(let s=0;s<P;s++){const i=u?E(A[s],B[s],I):A[s];b?(_.copy(M.normals[t]).multiplyScalar(i.x),g.copy(M.binormals[t]).multiplyScalar(i.y),v.copy(f[t]).add(_).add(g),F(v.x,v.y,v.z)):F(i.x,i.y,o/n*t)}for(let t=p-1;t>=0;t--){const s=t/p,i=c*Math.cos(s*Math.PI/2),e=m*Math.sin(s*Math.PI/2)+d;for(let t=0,s=N.length;t<s;t++){const s=E(N[t],T[t],e);F(s.x,s.y,o+i)}for(let t=0,s=z.length;t<s;t++){const s=z[t];q=R[t];for(let t=0,a=s.length;t<a;t++){const a=E(s[t],q[t],e);b?F(a.x,a.y+f[n-1].y,f[n-1].x+i):F(a.x,a.y,o+i)}}}function L(t,s){let i=t.length;for(;--i>=0;){const e=i;let a=i-1;a<0&&(a=t.length-1);for(let t=0,i=n+2*p;t<i;t++){const i=P*t,r=P*(t+1);U(s+e+i,s+a+i,s+a+r,s+e+r)}}}function F(t,s,i){r.push(t),r.push(s),r.push(i)}function j(t,s,a){D(t),D(s),D(a);const r=e.length/3,h=x.generateTopUV(i,e,r-3,r-2,r-1);G(h[0]),G(h[1]),G(h[2])}function U(t,s,a,r){D(t),D(s),D(r),D(s),D(a),D(r);const h=e.length/3,n=x.generateSideWallUV(i,e,h-6,h-3,h-2,h-1);G(n[0]),G(n[1]),G(n[3]),G(n[1]),G(n[2]),G(n[3])}function D(t){e.push(r[3*t+0]),e.push(r[3*t+1]),e.push(r[3*t+2])}function G(t){a.push(t.x),a.push(t.y)}!function(){const t=e.length/3;if(u){let t=0,s=P*t;for(let t=0;t<k;t++){const i=C[t];j(i[2]+s,i[1]+s,i[0]+s)}t=n+2*p,s=P*t;for(let t=0;t<k;t++){const i=C[t];j(i[0]+s,i[1]+s,i[2]+s)}}else{for(let t=0;t<k;t++){const s=C[t];j(s[2],s[1],s[0])}for(let t=0;t<k;t++){const s=C[t];j(s[0]+P*n,s[1]+P*n,s[2]+P*n)}}i.addGroup(t,e.length/3-t,0)}(),function(){const t=e.length/3;let s=0;L(N,s),s+=N.length;for(let t=0,i=z.length;t<i;t++){const i=z[t];L(i,s),s+=i.length}i.addGroup(t,e.length/3-t,1)}()}this.setAttribute("position",new At(e,3)),this.setAttribute("uv",new At(a,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function(t,s,i){if(i.shapes=[],Array.isArray(t))for(let s=0,e=t.length;s<e;s++){const e=t[s];i.shapes.push(e.uuid)}else i.shapes.push(t.uuid);i.options=Object.assign({},s),void 0!==s.extrudePath&&(i.options.extrudePath=s.extrudePath.toJSON());return i}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,s){const i=[];for(let e=0,a=t.shapes.length;e<a;e++){const a=s[t.shapes[e]];i.push(a)}const e=t.options.extrudePath;return void 0!==e&&(t.options.extrudePath=(new Xt[e.type]).fromJSON(e)),new Ss(i,t.options)}}const zs={generateTopUV:function(t,s,i,e,a){const r=s[3*i],h=s[3*i+1],n=s[3*e],o=s[3*e+1],u=s[3*a],c=s[3*a+1];return[new l(r,h),new l(n,o),new l(u,c)]},generateSideWallUV:function(t,s,i,e,a,r){const h=s[3*i],n=s[3*i+1],o=s[3*i+2],u=s[3*e],c=s[3*e+1],m=s[3*e+2],d=s[3*a],p=s[3*a+1],y=s[3*a+2],x=s[3*r],f=s[3*r+1],M=s[3*r+2];return Math.abs(n-c)<Math.abs(h-u)?[new l(h,1-o),new l(u,1-m),new l(d,1-y),new l(x,1-M)]:[new l(n,1-o),new l(c,1-m),new l(p,1-y),new l(f,1-M)]}};const Cs=new l;class Ns{constructor(t=new l(1/0,1/0),s=new l(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=s}set(t,s){return this.min.copy(t),this.max.copy(s),this}setFromPoints(t){this.makeEmpty();for(let s=0,i=t.length;s<i;s++)this.expandByPoint(t[s]);return this}setFromCenterAndSize(t,s){const i=Cs.copy(s).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,s){return s.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,s){return s.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Cs).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"154"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="154");var Es=1,Ps=2,ks=3,Os=4,Ts=5,Rs=6378137,qs=6356752.314,Bs=.0066943799901413165,Is=484813681109536e-20,Ls=Math.PI/2,Fs=.16666666666666666,js=.04722222222222222,Us=.022156084656084655,Ds=1e-10,Gs=.017453292519943295,Js=57.29577951308232,Ws=Math.PI/4,Vs=2*Math.PI,Xs=3.14159265359,Zs={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Ys={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Qs=/[\\s_\\-\\/\\(\\)]/g;function Hs(t,s){if(t[s])return t[s];for(var i,e=Object.keys(t),a=s.toLowerCase().replace(Qs,""),r=-1;++r<e.length;)if((i=e[r]).toLowerCase().replace(Qs,"")===a)return t[i]}function Ks(t){var s,i,e,a={},r=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,s){var i=s.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),h={proj:"projName",datum:"datumCode",rf:function(t){a.rf=parseFloat(t)},lat_0:function(t){a.lat0=t*Gs},lat_1:function(t){a.lat1=t*Gs},lat_2:function(t){a.lat2=t*Gs},lat_ts:function(t){a.lat_ts=t*Gs},lon_0:function(t){a.long0=t*Gs},lon_1:function(t){a.long1=t*Gs},lon_2:function(t){a.long2=t*Gs},alpha:function(t){a.alpha=parseFloat(t)*Gs},gamma:function(t){a.rectified_grid_angle=parseFloat(t)},lonc:function(t){a.longc=t*Gs},x_0:function(t){a.x0=parseFloat(t)},y_0:function(t){a.y0=parseFloat(t)},k_0:function(t){a.k0=parseFloat(t)},k:function(t){a.k0=parseFloat(t)},a:function(t){a.a=parseFloat(t)},b:function(t){a.b=parseFloat(t)},r_a:function(){a.R_A=!0},zone:function(t){a.zone=parseInt(t,10)},south:function(){a.utmSouth=!0},towgs84:function(t){a.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){a.to_meter=parseFloat(t)},units:function(t){a.units=t;var s=Hs(Ys,t);s&&(a.to_meter=s.to_meter)},from_greenwich:function(t){a.from_greenwich=t*Gs},pm:function(t){var s=Hs(Zs,t);a.from_greenwich=(s||parseFloat(t))*Gs},nadgrids:function(t){"@null"===t?a.datumCode="none":a.nadgrids=t},axis:function(t){var s="ewnsud";3===t.length&&-1!==s.indexOf(t.substr(0,1))&&-1!==s.indexOf(t.substr(1,1))&&-1!==s.indexOf(t.substr(2,1))&&(a.axis=t)},approx:function(){a.approx=!0}};for(s in r)i=r[s],s in h?"function"==typeof(e=h[s])?e(i):a[e]=i:a[s]=i;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a}var $s=1,ti=/\\s/,si=/[A-Za-z]/,ii=/[A-Za-z84_]/,ei=/[,\\]]/,ai=/[\\d\\.E\\-\\+]/;function ri(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=$s}function hi(t,s,i){Array.isArray(s)&&(i.unshift(s),s=null);var e=s?{}:t,a=i.reduce((function(t,s){return ni(s,t),t}),e);s&&(t[s]=a)}function ni(t,s){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(s[i]={},void ni(t[0],s[i])):void(s[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in s||(s[i]=[]),void s[i].push(t);var e;switch(Array.isArray(i)||(s[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return s[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&ni(t[2],s[i]));case"SPHEROID":case"ELLIPSOID":return s[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&ni(t[3],s[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void hi(s,i,t);default:for(e=-1;++e<t.length;)if(!Array.isArray(t[e]))return ni(t,s[i]);return hi(s,i,t)}}else s[i]=t;else s[i]=!0}else s[t]=!0}ri.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;ti.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case $s:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},ri.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(ei.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \\""+t+'" in afterquote yet, index '+this.place)},ri.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=$s)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=$s,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},ri.prototype.number=function(t){if(!ai.test(t)){if(ei.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \\""+t+'" in number yet, index '+this.place)}this.word+=t},ri.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},ri.prototype.keyword=function(t){if(ii.test(t))this.word+=t;else{if("["===t){var s=[];return s.push(this.word),this.level++,null===this.root?this.root=s:this.currentObject.push(s),this.stack.push(this.currentObject),this.currentObject=s,void(this.state=$s)}if(!ei.test(t))throw new Error("havn't handled \\""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},ri.prototype.neutral=function(t){if(si.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(ai.test(t))return this.word=t,void(this.state=3);if(!ei.test(t))throw new Error("havn't handled \\""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},ri.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var oi=.017453292519943295;function ui(t){return t*oi}function li(t){var s=new ri(t).output(),i=s.shift(),e=s.shift();s.unshift(["name",e]),s.unshift(["type",i]);var a={};return ni(s,a),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var s="",i=0,e=t.AXIS.length;i<e;++i){var a=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==a[0].indexOf("north")||("y"===a[0]||"lat"===a[0])&&"north"===a[1]?s+="n":-1!==a[0].indexOf("south")||("y"===a[0]||"lat"===a[0])&&"south"===a[1]?s+="s":-1!==a[0].indexOf("east")||("x"===a[0]||"lon"===a[0])&&"east"===a[1]?s+="e":-1===a[0].indexOf("west")&&("x"!==a[0]&&"lon"!==a[0]||"west"!==a[1])||(s+="w")}2===s.length&&(s+="u"),3===s.length&&(t.axis=s)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var r=t.GEOGCS;function h(s){return s*(t.to_meter||1)}"GEOGCS"===t.type&&(r=t),r&&(r.DATUM?t.datumCode=r.DATUM.name.toLowerCase():t.datumCode=r.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(t.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=r.DATUM.SPHEROID.a,t.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(t.datum_params=r.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ui],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ui],["x0","false_easting",h],["y0","false_northing",h],["long0","central_meridian",ui],["lat0","latitude_of_origin",ui],["lat0","standard_parallel_1",ui],["lat1","standard_parallel_1",ui],["lat2","standard_parallel_2",ui],["azimuth","Azimuth"],["alpha","azimuth",ui],["srsCode","name"]].forEach((function(s){return function(t,s){var i=s[0],e=s[1];!(i in t)&&e in t&&(t[i]=t[e],3===s.length&&(t[i]=s[2](t[i])))}(t,s)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=ui(t.lat0>0?90:-90)):(t.lat0=ui(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(a),a}function ci(t){var s=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?ci[t]=Ks(arguments[1]):ci[t]=li(arguments[1]):ci[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?ci.apply(s,t):ci(t)}));if("string"==typeof t){if(t in ci)return ci[t]}else"EPSG"in t?ci["EPSG:"+t.EPSG]=t:"ESRI"in t?ci["ESRI:"+t.ESRI]=t:"IAU2000"in t?ci["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(ci);var mi=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var di=["3857","900913","3785","102113"];function pi(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in ci}(t))return ci[t];if(function(t){return mi.some((function(s){return t.indexOf(s)>-1}))}(t)){var s=li(t);if(function(t){var s=Hs(t,"authority");if(s){var i=Hs(s,"epsg");return i&&di.indexOf(i)>-1}}(s))return ci["EPSG:3857"];var i=function(t){var s=Hs(t,"extension");if(s)return Hs(s,"proj4")}(s);return i?Ks(i):s}return function(t){return"+"===t[0]}(t)?Ks(t):void 0}function yi(t,s){var i,e;if(t=t||{},!s)return t;for(e in s)void 0!==(i=s[e])&&(t[e]=i);return t}function xi(t,s,i){var e=t*s;return i/Math.sqrt(1-e*e)}function fi(t){return t<0?-1:1}function Mi(t){return Math.abs(t)<=Xs?t:t-fi(t)*Vs}function gi(t,s,i){var e=t*i,a=.5*t;return e=Math.pow((1-e)/(1+e),a),Math.tan(.5*(Ls-s))/e}function _i(t,s){for(var i,e,a=.5*t,r=Ls-2*Math.atan(s),h=0;h<=15;h++)if(i=t*Math.sin(r),r+=e=Ls-2*Math.atan(s*Math.pow((1-i)/(1+i),a))-r,Math.abs(e)<=1e-10)return r;return-9999}function vi(t){return t}var bi=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=xi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var s,i,e=t.x,a=t.y;if(a*Js>90&&a*Js<-90&&e*Js>180&&e*Js<-180)return null;if(Math.abs(Math.abs(a)-Ls)<=Ds)return null;if(this.sphere)s=this.x0+this.a*this.k0*Mi(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Ws+.5*a));else{var r=Math.sin(a),h=gi(this.e,a,r);s=this.x0+this.a*this.k0*Mi(e-this.long0),i=this.y0-this.a*this.k0*Math.log(h)}return t.x=s,t.y=i,t},inverse:function(t){var s,i,e=t.x-this.x0,a=t.y-this.y0;if(this.sphere)i=Ls-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var r=Math.exp(-a/(this.a*this.k0));if(-9999===(i=_i(this.e,r)))return null}return s=Mi(this.long0+e/(this.a*this.k0)),t.x=s,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:vi,inverse:vi,names:["longlat","identity"]}],wi={},Ai=[];function Si(t,s){var i=Ai.length;return t.names?(Ai[i]=t,t.names.forEach((function(t){wi[t.toLowerCase()]=i})),this):(console.log(s),!0)}var zi={start:function(){bi.forEach(Si)},add:Si,get:function(t){if(!t)return!1;var s=t.toLowerCase();return void 0!==wi[s]&&Ai[wi[s]]?Ai[wi[s]]:void 0}},Ci={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Ni=Ci.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ci.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Ei={};Ei.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Ei.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Ei.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Ei.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Ei.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Ei.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Ei.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Ei.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Ei.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Ei.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Ei.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Ei.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Ei.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Ei.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Ei.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Ei.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Ei.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Pi={};function ki(t){if(0===t.length)return null;var s="@"===t[0];return s&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!s,grid:null,isNull:!0}:{name:t,mandatory:!s,grid:Pi[t]||null,isNull:!1}}function Oi(t){return t/3600*Math.PI/180}function Ti(t,s,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(s,i)))}function Ri(t){return t.map((function(t){return[Oi(t.longitudeShift),Oi(t.latitudeShift)]}))}function qi(t,s,i){return{name:Ti(t,s+8,s+16).trim(),parent:Ti(t,s+24,s+24+8).trim(),lowerLatitude:t.getFloat64(s+72,i),upperLatitude:t.getFloat64(s+88,i),lowerLongitude:t.getFloat64(s+104,i),upperLongitude:t.getFloat64(s+120,i),latitudeInterval:t.getFloat64(s+136,i),longitudeInterval:t.getFloat64(s+152,i),gridNodeCount:t.getInt32(s+168,i)}}function Bi(t,s,i,e){for(var a=s+176,r=[],h=0;h<i.gridNodeCount;h++){var n={latitudeShift:t.getFloat32(a+16*h,e),longitudeShift:t.getFloat32(a+16*h+4,e),latitudeAccuracy:t.getFloat32(a+16*h+8,e),longitudeAccuracy:t.getFloat32(a+16*h+12,e)};r.push(n)}return r}function Ii(t,s){if(!(this instanceof Ii))return new Ii(t);s=s||function(t){if(t)throw t};var i=pi(t);if("object"==typeof i){var e=Ii.projections.get(i.projName);if(e){if(i.datumCode&&"none"!==i.datumCode){var a=Hs(Ei,i.datumCode);a&&(i.datum_params=i.datum_params||(a.towgs84?a.towgs84.split(","):null),i.ellps=a.ellipse,i.datumName=a.datumName?a.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var r,h,n,o,u,l,c,m=function(t,s,i,e,a){if(!t){var r=Hs(Ci,e);r||(r=Ni),t=r.a,s=r.b,i=r.rf}return i&&!s&&(s=(1-1/i)*t),(0===i||Math.abs(t-s)<Ds)&&(a=!0,s=t),{a:t,b:s,rf:i,sphere:a}}(i.a,i.b,i.rf,i.ellps,i.sphere),d=(r=m.a,h=m.b,m.rf,n=i.R_A,l=((o=r*r)-(u=h*h))/o,c=0,n?(o=(r*=1-l*(Fs+l*(js+l*Us)))*r,l=0):c=Math.sqrt(l),{es:l,e:c,ep2:(o-u)/u}),p=function(t){return void 0===t?null:t.split(",").map(ki)}(i.nadgrids),y=i.datum||function(t,s,i,e,a,r,h){var n={};return n.datum_type=void 0===t||"none"===t?Ts:Os,s&&(n.datum_params=s.map(parseFloat),0===n.datum_params[0]&&0===n.datum_params[1]&&0===n.datum_params[2]||(n.datum_type=Es),n.datum_params.length>3&&(0===n.datum_params[3]&&0===n.datum_params[4]&&0===n.datum_params[5]&&0===n.datum_params[6]||(n.datum_type=Ps,n.datum_params[3]*=Is,n.datum_params[4]*=Is,n.datum_params[5]*=Is,n.datum_params[6]=n.datum_params[6]/1e6+1))),h&&(n.datum_type=ks,n.grids=h),n.a=i,n.b=e,n.es=a,n.ep2=r,n}(i.datumCode,i.datum_params,m.a,m.b,d.es,d.ep2,p);yi(this,i),yi(this,e),this.a=m.a,this.b=m.b,this.rf=m.rf,this.sphere=m.sphere,this.es=d.es,this.e=d.e,this.ep2=d.ep2,this.datum=y,this.init(),s(null,this)}else s(t)}else s(t)}function Li(t,s,i){var e,a,r,h,n=t.x,o=t.y,u=t.z?t.z:0;if(o<-Ls&&o>-1.001*Ls)o=-Ls;else if(o>Ls&&o<1.001*Ls)o=Ls;else{if(o<-Ls)return{x:-1/0,y:-1/0,z:t.z};if(o>Ls)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),a=Math.sin(o),h=Math.cos(o),r=a*a,{x:((e=i/Math.sqrt(1-s*r))+u)*h*Math.cos(n),y:(e+u)*h*Math.sin(n),z:(e*(1-s)+u)*a}}function Fi(t,s,i,e){var a,r,h,n,o,u,l,c,m,d,p,y,x,f,M,g=1e-12,_=t.x,v=t.y,b=t.z?t.z:0;if(a=Math.sqrt(_*_+v*v),r=Math.sqrt(_*_+v*v+b*b),a/i<g){if(f=0,r/i<g)return Ls,M=-e,{x:t.x,y:t.y,z:t.z}}else f=Math.atan2(v,_);h=b/r,c=(n=a/r)*(1-s)*(o=1/Math.sqrt(1-s*(2-s)*n*n)),m=h*o,x=0;do{x++,u=s*(l=i/Math.sqrt(1-s*m*m))/(l+(M=a*c+b*m-l*(1-s*m*m))),y=(p=h*(o=1/Math.sqrt(1-u*(2-u)*n*n)))*c-(d=n*(1-u)*o)*m,c=d,m=p}while(y*y>1e-24&&x<30);return{x:f,y:Math.atan(p/Math.abs(d)),z:M}}function ji(t){return t===Es||t===Ps}function Ui(t,s,i){if(function(t,s){return t.datum_type===s.datum_type&&!(t.a!==s.a||Math.abs(t.es-s.es)>5e-11)&&(t.datum_type===Es?t.datum_params[0]===s.datum_params[0]&&t.datum_params[1]===s.datum_params[1]&&t.datum_params[2]===s.datum_params[2]:t.datum_type!==Ps||t.datum_params[0]===s.datum_params[0]&&t.datum_params[1]===s.datum_params[1]&&t.datum_params[2]===s.datum_params[2]&&t.datum_params[3]===s.datum_params[3]&&t.datum_params[4]===s.datum_params[4]&&t.datum_params[5]===s.datum_params[5]&&t.datum_params[6]===s.datum_params[6])}(t,s))return i;if(t.datum_type===Ts||s.datum_type===Ts)return i;var e=t.a,a=t.es;if(t.datum_type===ks){if(0!==Di(t,!1,i))return;e=Rs,a=Bs}var r=s.a,h=s.b,n=s.es;if(s.datum_type===ks&&(r=Rs,h=qs,n=Bs),a===n&&e===r&&!ji(t.datum_type)&&!ji(s.datum_type))return i;if((i=Li(i,a,e),ji(t.datum_type)&&(i=function(t,s,i){if(s===Es)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(s===Ps){var e=i[0],a=i[1],r=i[2],h=i[3],n=i[4],o=i[5],u=i[6];return{x:u*(t.x-o*t.y+n*t.z)+e,y:u*(o*t.x+t.y-h*t.z)+a,z:u*(-n*t.x+h*t.y+t.z)+r}}}(i,t.datum_type,t.datum_params)),ji(s.datum_type)&&(i=function(t,s,i){if(s===Es)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(s===Ps){var e=i[0],a=i[1],r=i[2],h=i[3],n=i[4],o=i[5],u=i[6],l=(t.x-e)/u,c=(t.y-a)/u,m=(t.z-r)/u;return{x:l+o*c-n*m,y:-o*l+c+h*m,z:n*l-h*c+m}}}(i,s.datum_type,s.datum_params)),i=Fi(i,n,r,h),s.datum_type===ks)&&0!==Di(s,!0,i))return;return i}function Di(t,s,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var e={x:-i.x,y:i.y},a={x:Number.NaN,y:Number.NaN},r=[],h=0;h<t.grids.length;h++){var n=t.grids[h];if(r.push(n.name),n.isNull){a=e;break}if(n.mandatory,null!==n.grid){var o=n.grid.subgrids[0],u=(Math.abs(o.del[1])+Math.abs(o.del[0]))/1e4,l=o.ll[0]-u,c=o.ll[1]-u,m=o.ll[0]+(o.lim[0]-1)*o.del[0]+u,d=o.ll[1]+(o.lim[1]-1)*o.del[1]+u;if(!(c>e.y||l>e.x||d<e.y||m<e.x||(a=Gi(e,s,o),isNaN(a.x))))break}else if(n.mandatory)return console.log("Unable to find mandatory grid '"+n.name+"'"),-1}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*Js+" "+e.y*Js+" tried: '"+r+"'"),-1):(i.x=-a.x,i.y=a.y,0)}function Gi(t,s,i){var e={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return e;var a={x:t.x,y:t.y};a.x-=i.ll[0],a.y-=i.ll[1],a.x=Mi(a.x-Math.PI)+Math.PI;var r=Ji(a,i);if(s){if(isNaN(r.x))return e;r.x=a.x-r.x,r.y=a.y-r.y;var h,n,o=9;do{if(n=Ji(r,i),isNaN(n.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}h={x:a.x-(n.x+r.x),y:a.y-(n.y+r.y)},r.x+=h.x,r.y+=h.y}while(o--&&Math.abs(h.x)>1e-12&&Math.abs(h.y)>1e-12);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=Mi(r.x+i.ll[0]),e.y=r.y+i.ll[1]}else isNaN(r.x)||(e.x=t.x+r.x,e.y=t.y+r.y);return e}function Ji(t,s){var i,e={x:t.x/s.del[0],y:t.y/s.del[1]},a=Math.floor(e.x),r=Math.floor(e.y),h=e.x-1*a,n=e.y-1*r,o={x:Number.NaN,y:Number.NaN};if(a<0||a>=s.lim[0])return o;if(r<0||r>=s.lim[1])return o;i=r*s.lim[0]+a;var u=s.cvs[i][0],l=s.cvs[i][1];i++;var c=s.cvs[i][0],m=s.cvs[i][1];i+=s.lim[0];var d=s.cvs[i][0],p=s.cvs[i][1];i--;var y=s.cvs[i][0],x=s.cvs[i][1],f=h*n,M=h*(1-n),g=(1-h)*(1-n),_=(1-h)*n;return o.x=g*u+M*c+_*y+f*d,o.y=g*l+M*m+_*x+f*p,o}function Wi(t,s,i){var e,a,r,h=i.x,n=i.y,o=i.z||0,u={};for(r=0;r<3;r++)if(!s||2!==r||void 0!==i.z)switch(0===r?(e=h,a=-1!=="ew".indexOf(t.axis[r])?"x":"y"):1===r?(e=n,a=-1!=="ns".indexOf(t.axis[r])?"y":"x"):(e=o,a="z"),t.axis[r]){case"e":case"n":u[a]=e;break;case"w":case"s":u[a]=-e;break;case"u":void 0!==i[a]&&(u.z=e);break;case"d":void 0!==i[a]&&(u.z=-e);break;default:return null}return u}function Vi(t){var s={x:t[0],y:t[1]};return t.length>2&&(s.z=t[2]),t.length>3&&(s.m=t[3]),s}function Xi(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Zi(t,s,i,e){var a,r=void 0!==(i=Array.isArray(i)?Vi(i):{x:i.x,y:i.y,z:i.z,m:i.m}).z;if(function(t){Xi(t.x),Xi(t.y)}(i),t.datum&&s.datum&&function(t,s){return(t.datum.datum_type===Es||t.datum.datum_type===Ps||t.datum.datum_type===ks)&&"WGS84"!==s.datumCode||(s.datum.datum_type===Es||s.datum.datum_type===Ps||s.datum.datum_type===ks)&&"WGS84"!==t.datumCode}(t,s)&&(i=Zi(t,a=new Ii("WGS84"),i,e),t=a),e&&"enu"!==t.axis&&(i=Wi(t,!1,i)),"longlat"===t.projName)i={x:i.x*Gs,y:i.y*Gs,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),!(i=t.inverse(i)))return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=Ui(t.datum,s.datum,i))return s.from_greenwich&&(i={x:i.x-s.from_greenwich,y:i.y,z:i.z||0}),"longlat"===s.projName?i={x:i.x*Js,y:i.y*Js,z:i.z||0}:(i=s.forward(i),s.to_meter&&(i={x:i.x/s.to_meter,y:i.y/s.to_meter,z:i.z||0})),e&&"enu"!==s.axis?Wi(s,!0,i):(r||delete i.z,i)}Ii.projections=zi,Ii.projections.start();var Yi=Ii("WGS84");function Qi(t,s,i,e){var a,r,h;return Array.isArray(i)?(a=Zi(t,s,i,e)||{x:NaN,y:NaN},i.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==s.name&&"geocent"===s.name?"number"==typeof a.z?[a.x,a.y,a.z].concat(i.splice(3)):[a.x,a.y,i[2]].concat(i.splice(3)):[a.x,a.y].concat(i.splice(2)):[a.x,a.y]):(r=Zi(t,s,i,e),2===(h=Object.keys(i)).length||h.forEach((function(e){if(void 0!==t.name&&"geocent"===t.name||void 0!==s.name&&"geocent"===s.name){if("x"===e||"y"===e||"z"===e)return}else if("x"===e||"y"===e)return;r[e]=i[e]})),r)}function Hi(t){return t instanceof Ii?t:t.oProj?t.oProj:Ii(t)}function Ki(t,s,i){t=Hi(t);var e,a=!1;return void 0===s?(s=t,t=Yi,a=!0):(void 0!==s.x||Array.isArray(s))&&(i=s,s=t,t=Yi,a=!0),s=Hi(s),i?Qi(t,s,i):(e={forward:function(i,e){return Qi(t,s,i,e)},inverse:function(i,e){return Qi(s,t,i,e)}},a&&(e.oProj=s),e)}var $i=6,te="AJSAJS",se="AFAFAF",ie=65,ee=73,ae=79,re=86,he=90,ne={forward:oe,inverse:function(t){var s=me(ye(t.toUpperCase()));if(s.lat&&s.lon)return[s.lon,s.lat,s.lon,s.lat];return[s.left,s.bottom,s.right,s.top]},toPoint:ue};function oe(t,s){return s=s||5,function(t,s){var i="00000"+t.easting,e="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,p=t.northing,y=t.zoneNumber,x=pe(y),f=Math.floor(d/1e5),M=Math.floor(p/1e5)%20,a=f,r=M,h=x,n=h-1,o=te.charCodeAt(n),u=se.charCodeAt(n),l=o+a-1,c=u+r,m=!1,l>he&&(l=l-he+ie-1,m=!0),(l===ee||o<ee&&l>ee||(l>ee||o<ee)&&m)&&l++,(l===ae||o<ae&&l>ae||(l>ae||o<ae)&&m)&&++l===ee&&l++,l>he&&(l=l-he+ie-1),c>re?(c=c-re+ie-1,m=!0):m=!1,(c===ee||u<ee&&c>ee||(c>ee||u<ee)&&m)&&c++,(c===ae||u<ae&&c>ae||(c>ae||u<ae)&&m)&&++c===ee&&c++,c>re&&(c=c-re+ie-1),String.fromCharCode(l)+String.fromCharCode(c))+i.substr(i.length-5,s)+e.substr(e.length-5,s);var a,r,h,n,o,u,l,c,m;var d,p,y,x,f,M}(function(t){var s,i,e,a,r,h,n,o,u=t.lat,l=t.lon,c=6378137,m=.00669438,d=.9996,p=le(u),y=le(l);o=Math.floor((l+180)/6)+1,180===l&&(o=60);u>=56&&u<64&&l>=3&&l<12&&(o=32);u>=72&&u<84&&(l>=0&&l<9?o=31:l>=9&&l<21?o=33:l>=21&&l<33?o=35:l>=33&&l<42&&(o=37));n=le(6*(o-1)-180+3),s=m/(1-m),i=c/Math.sqrt(1-m*Math.sin(p)*Math.sin(p)),e=Math.tan(p)*Math.tan(p),a=s*Math.cos(p)*Math.cos(p),r=Math.cos(p)*(y-n),h=c*((1-m/4-3*m*m/64-5*m*m*m/256)*p-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*p)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*p)-35*m*m*m/3072*Math.sin(6*p));var x=d*i*(r+(1-e+a)*r*r*r/6+(5-18*e+e*e+72*a-58*s)*r*r*r*r*r/120)+5e5,f=d*(h+i*Math.tan(p)*(r*r/2+(5-e+9*a+4*a*a)*r*r*r*r/24+(61-58*e+e*e+600*a-330*s)*r*r*r*r*r*r/720));u<0&&(f+=1e7);return{northing:Math.round(f),easting:Math.round(x),zoneNumber:o,zoneLetter:de(u)}}({lat:t[1],lon:t[0]}),s)}function ue(t){var s=me(ye(t.toUpperCase()));return s.lat&&s.lon?[s.lon,s.lat]:[(s.left+s.right)/2,(s.top+s.bottom)/2]}function le(t){return t*(Math.PI/180)}function ce(t){return t/Math.PI*180}function me(t){var s=t.northing,i=t.easting,e=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var r,h,n,o,u,l,c,m,d,p=.9996,y=6378137,x=.00669438,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),M=i-5e5,g=s;e<"N"&&(g-=1e7),c=6*(a-1)-180+3,r=.006739496752268451,d=(m=g/p/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*m)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*m)+151*f*f*f/96*Math.sin(6*m),h=y/Math.sqrt(1-x*Math.sin(d)*Math.sin(d)),n=Math.tan(d)*Math.tan(d),o=r*Math.cos(d)*Math.cos(d),u=.99330562*y/Math.pow(1-x*Math.sin(d)*Math.sin(d),1.5),l=M/(h*p);var _=d-h*Math.tan(d)/u*(l*l/2-(5+3*n+10*o-4*o*o-9*r)*l*l*l*l/24+(61+90*n+298*o+45*n*n-1.6983531815716497-3*o*o)*l*l*l*l*l*l/720);_=ce(_);var v,b=(l-(1+2*n+o)*l*l*l/6+(5-2*o+28*n-3*o*o+8*r+24*n*n)*l*l*l*l*l/120)/Math.cos(d);if(b=c+ce(b),t.accuracy){var w=me({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});v={top:w.lat,right:w.lon,bottom:_,left:b}}else v={lat:_,lon:b};return v}function de(t){var s="Z";return 84>=t&&t>=72?s="X":72>t&&t>=64?s="W":64>t&&t>=56?s="V":56>t&&t>=48?s="U":48>t&&t>=40?s="T":40>t&&t>=32?s="S":32>t&&t>=24?s="R":24>t&&t>=16?s="Q":16>t&&t>=8?s="P":8>t&&t>=0?s="N":0>t&&t>=-8?s="M":-8>t&&t>=-16?s="L":-16>t&&t>=-24?s="K":-24>t&&t>=-32?s="J":-32>t&&t>=-40?s="H":-40>t&&t>=-48?s="G":-48>t&&t>=-56?s="F":-56>t&&t>=-64?s="E":-64>t&&t>=-72?s="D":-72>t&&t>=-80&&(s="C"),s}function pe(t){var s=t%$i;return 0===s&&(s=$i),s}function ye(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var s,i=t.length,e=null,a="",r=0;!/[A-Z]/.test(s=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;a+=s,r++}var h=parseInt(a,10);if(0===r||r+3>i)throw"MGRSPoint bad conversion from: "+t;var n=t.charAt(r++);if(n<="A"||"B"===n||"Y"===n||n>="Z"||"I"===n||"O"===n)throw"MGRSPoint zone letter "+n+" not handled: "+t;e=t.substring(r,r+=2);for(var o=pe(h),u=function(t,s){var i=te.charCodeAt(s-1),e=1e5,a=!1;for(;i!==t.charCodeAt(0);){if(++i===ee&&i++,i===ae&&i++,i>he){if(a)throw"Bad character: "+t;i=ie,a=!0}e+=1e5}return e}(e.charAt(0),o),l=function(t,s){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=se.charCodeAt(s-1),e=0,a=!1;for(;i!==t.charCodeAt(0);){if(++i===ee&&i++,i===ae&&i++,i>re){if(a)throw"Bad character: "+t;i=ie,a=!0}e+=1e5}return e}(e.charAt(1),o);l<xe(n);)l+=2e6;var c=i-r;if(c%2!=0)throw"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters"+t;var m,d,p,y=c/2,x=0,f=0;return y>0&&(m=1e5/Math.pow(10,y),d=t.substring(r,r+y),x=parseFloat(d)*m,p=t.substring(r+y),f=parseFloat(p)*m),{easting:x+u,northing:f+l,zoneLetter:n,zoneNumber:h,accuracy:m}}function xe(t){var s;switch(t){case"C":s=11e5;break;case"D":s=2e6;break;case"E":s=28e5;break;case"F":s=37e5;break;case"G":s=46e5;break;case"H":s=55e5;break;case"J":s=64e5;break;case"K":s=73e5;break;case"L":s=82e5;break;case"M":s=91e5;break;case"N":s=0;break;case"P":s=8e5;break;case"Q":s=17e5;break;case"R":s=26e5;break;case"S":s=35e5;break;case"T":s=44e5;break;case"U":s=53e5;break;case"V":s=62e5;break;case"W":s=7e6;break;case"X":s=79e5;break;default:s=-1}if(s>=0)return s;throw"Invalid zone letter: "+t}function fe(t,s,i){if(!(this instanceof fe))return new fe(t,s,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===s){var e=t.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=t,this.y=s,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}fe.fromMGRS=function(t){return new fe(ue(t))},fe.prototype.toMGRS=function(t){return oe([this.x,this.y],t)};var Me=1,ge=.25,_e=.046875,ve=.01953125,be=.01068115234375,we=.75,Ae=.46875,Se=.013020833333333334,ze=.007120768229166667,Ce=.3645833333333333,Ne=.005696614583333333,Ee=.3076171875;function Pe(t){var s=[];s[0]=Me-t*(ge+t*(_e+t*(ve+t*be))),s[1]=t*(we-t*(_e+t*(ve+t*be)));var i=t*t;return s[2]=i*(Ae-t*(Se+t*ze)),i*=t,s[3]=i*(Ce-t*Ne),s[4]=i*t*Ee,s}function ke(t,s,i,e){return i*=s,s*=s,e[0]*t-i*(e[1]+s*(e[2]+s*(e[3]+s*e[4])))}var Oe=20;function Te(t,s,i){for(var e=1/(1-s),a=t,r=Oe;r;--r){var h=Math.sin(a),n=1-s*h*h;if(a-=n=(ke(a,h,Math.cos(a),i)-t)*(n*Math.sqrt(n))*e,Math.abs(n)<Ds)return a}return a}var Re={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Pe(this.es),this.ml0=ke(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var s,i,e,a=t.x,r=t.y,h=Mi(a-this.long0),n=Math.sin(r),o=Math.cos(r);if(this.es){var u=o*h,l=Math.pow(u,2),c=this.ep2*Math.pow(o,2),m=Math.pow(c,2),d=Math.abs(o)>Ds?Math.tan(r):0,p=Math.pow(d,2),y=Math.pow(p,2);s=1-this.es*Math.pow(n,2),u/=Math.sqrt(s);var x=ke(r,n,o,this.en);i=this.a*(this.k0*u*(1+l/6*(1-p+c+l/20*(5-18*p+y+14*c-58*p*c+l/42*(61+179*y-y*p-479*p)))))+this.x0,e=this.a*(this.k0*(x-this.ml0+n*h*u/2*(1+l/12*(5-p+9*c+4*m+l/30*(61+y-58*p+270*c-330*p*c+l/56*(1385+543*y-y*p-3111*p))))))+this.y0}else{var f=o*Math.sin(h);if(Math.abs(Math.abs(f)-1)<Ds)return 93;if(i=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,e=o*Math.cos(h)/Math.sqrt(1-Math.pow(f,2)),(f=Math.abs(e))>=1){if(f-1>Ds)return 93;e=0}else e=Math.acos(e);r<0&&(e=-e),e=this.a*this.k0*(e-this.lat0)+this.y0}return t.x=i,t.y=e,t},inverse:function(t){var s,i,e,a,r=(t.x-this.x0)*(1/this.a),h=(t.y-this.y0)*(1/this.a);if(this.es)if(i=Te(s=this.ml0+h/this.k0,this.es,this.en),Math.abs(i)<Ls){var n=Math.sin(i),o=Math.cos(i),u=Math.abs(o)>Ds?Math.tan(i):0,l=this.ep2*Math.pow(o,2),c=Math.pow(l,2),m=Math.pow(u,2),d=Math.pow(m,2);s=1-this.es*Math.pow(n,2);var p=r*Math.sqrt(s)/this.k0,y=Math.pow(p,2);e=i-(s*=u)*y/(1-this.es)*.5*(1-y/12*(5+3*m-9*l*m+l-4*c-y/30*(61+90*m-252*l*m+45*d+46*l-y/56*(1385+3633*m+4095*d+1574*d*m)))),a=Mi(this.long0+p*(1-y/6*(1+2*m+l-y/20*(5+28*m+24*d+8*l*m+6*l-y/42*(61+662*m+1320*d+720*d*m))))/o)}else e=Ls*fi(h),a=0;else{var x=Math.exp(r/this.k0),f=.5*(x-1/x),M=this.lat0+h/this.k0,g=Math.cos(M);s=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(f,2))),e=Math.asin(s),h<0&&(e=-e),a=0===f&&0===g?0:Mi(Math.atan2(f,g)+this.long0)}return t.x=a,t.y=e,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function qe(t){var s=Math.exp(t);return s=(s-1/s)/2}function Be(t,s){t=Math.abs(t),s=Math.abs(s);var i=Math.max(t,s),e=Math.min(t,s)/(i||1);return i*Math.sqrt(1+Math.pow(e,2))}function Ie(t){var s=Math.abs(t);return s=function(t){var s=1+t,i=s-1;return 0===i?t:t*Math.log(s)/i}(s*(1+s/(Be(1,s)+1))),t<0?-s:s}function Le(t,s){for(var i,e=2*Math.cos(2*s),a=t.length-1,r=t[a],h=0;--a>=0;)i=e*r-h+t[a],h=r,r=i;return s+i*Math.sin(2*s)}function Fe(t,s,i){for(var e,a,r=Math.sin(s),h=Math.cos(s),n=qe(i),o=function(t){var s=Math.exp(t);return(s+1/s)/2}(i),u=2*h*o,l=-2*r*n,c=t.length-1,m=t[c],d=0,p=0,y=0;--c>=0;)e=p,a=d,m=u*(p=m)-e-l*(d=y)+t[c],y=l*p-a+u*d;return[(u=r*o)*m-(l=h*n)*y,u*y+l*m]}var je={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Re.init.apply(this),this.forward=Re.forward,this.inverse=Re.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),s=t/(2-t),i=s;this.cgb[0]=s*(2+s*(-2/3+s*(s*(116/45+s*(26/45+s*(-2854/675)))-2))),this.cbg[0]=s*(s*(2/3+s*(4/3+s*(-82/45+s*(32/45+s*(4642/4725)))))-2),i*=s,this.cgb[1]=i*(7/3+s*(s*(-227/45+s*(2704/315+s*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+s*(-16/15+s*(-13/9+s*(904/315+s*(-1522/945))))),i*=s,this.cgb[2]=i*(56/15+s*(-136/35+s*(-1262/105+s*(73814/2835)))),this.cbg[2]=i*(-26/15+s*(34/21+s*(1.6+s*(-12686/2835)))),i*=s,this.cgb[3]=i*(4279/630+s*(-332/35+s*(-399572/14175))),this.cbg[3]=i*(1237/630+s*(s*(-24832/14175)-2.4)),i*=s,this.cgb[4]=i*(4174/315+s*(-144838/6237)),this.cbg[4]=i*(-734/315+s*(109598/31185)),i*=s,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(s,2),this.Qn=this.k0/(1+s)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=s*(s*(2/3+s*(-37/96+s*(1/360+s*(81/512+s*(-96199/604800)))))-.5),this.gtu[0]=s*(.5+s*(-2/3+s*(5/16+s*(41/180+s*(-127/288+s*(7891/37800)))))),this.utg[1]=i*(-1/48+s*(-1/15+s*(437/1440+s*(-46/105+s*(1118711/3870720))))),this.gtu[1]=i*(13/48+s*(s*(557/1440+s*(281/630+s*(-1983433/1935360)))-.6)),i*=s,this.utg[2]=i*(-17/480+s*(37/840+s*(209/4480+s*(-5569/90720)))),this.gtu[2]=i*(61/240+s*(-103/140+s*(15061/26880+s*(167603/181440)))),i*=s,this.utg[3]=i*(-4397/161280+s*(11/504+s*(830251/7257600))),this.gtu[3]=i*(49561/161280+s*(-179/168+s*(6601661/7257600))),i*=s,this.utg[4]=i*(-4583/161280+s*(108847/3991680)),this.gtu[4]=i*(34729/80640+s*(-3418889/1995840)),i*=s,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var e=Le(this.cbg,this.lat0);this.Zb=-this.Qn*(e+function(t,s){for(var i,e=2*Math.cos(s),a=t.length-1,r=t[a],h=0;--a>=0;)i=e*r-h+t[a],h=r,r=i;return Math.sin(s)*i}(this.gtu,2*e))},forward:function(t){var s=Mi(t.x-this.long0),i=t.y;i=Le(this.cbg,i);var e=Math.sin(i),a=Math.cos(i),r=Math.sin(s),h=Math.cos(s);i=Math.atan2(e,h*a),s=Math.atan2(r*a,Be(e,a*h)),s=Ie(Math.tan(s));var n,o,u=Fe(this.gtu,2*i,2*s);return i+=u[0],s+=u[1],Math.abs(s)<=2.623395162778?(n=this.a*(this.Qn*s)+this.x0,o=this.a*(this.Qn*i+this.Zb)+this.y0):(n=1/0,o=1/0),t.x=n,t.y=o,t},inverse:function(t){var s,i,e=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(a=(a-this.Zb)/this.Qn,e/=this.Qn,Math.abs(e)<=2.623395162778){var r=Fe(this.utg,2*a,2*e);a+=r[0],e+=r[1],e=Math.atan(qe(e));var h=Math.sin(a),n=Math.cos(a),o=Math.sin(e),u=Math.cos(e);a=Math.atan2(h*u,Be(o,u*n)),s=Mi((e=Math.atan2(o,u*n))+this.long0),i=Le(this.cgb,a)}else s=1/0,i=1/0;return t.x=s,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]};var Ue={init:function(){var t=function(t,s){if(void 0===t){if((t=Math.floor(30*(Mi(s)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Gs,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,je.init.apply(this),this.forward=je.forward,this.inverse=je.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function De(t,s){return Math.pow((1-t)/(1+t),s)}var Ge={init:function(){var t=Math.sin(this.lat0),s=Math.cos(this.lat0);s*=s,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*s*s/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ws)/(Math.pow(Math.tan(.5*this.lat0+Ws),this.C)*De(this.e*t,this.ratexp))},forward:function(t){var s=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+Ws),this.C)*De(this.e*Math.sin(i),this.ratexp))-Ls,t.x=this.C*s,t},inverse:function(t){for(var s=t.x/this.C,i=t.y,e=Math.pow(Math.tan(.5*i+Ws)/this.K,1/this.C),a=20;a>0&&(i=2*Math.atan(e*De(this.e*Math.sin(t.y),-.5*this.e))-Ls,!(Math.abs(i-t.y)<1e-14));--a)t.y=i;return a?(t.x=s,t.y=i,t):null},names:["gauss"]};var Je={init:function(){Ge.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var s,i,e,a;return t.x=Mi(t.x-this.long0),Ge.forward.apply(this,[t]),s=Math.sin(t.y),i=Math.cos(t.y),e=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*s+this.cosc0*i*e),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*s-this.sinc0*i*e),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var s,i,e,a,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(r,this.R2);s=Math.sin(h),i=Math.cos(h),a=Math.asin(i*this.sinc0+t.y*s*this.cosc0/r),e=Math.atan2(t.x*s,r*this.cosc0*i-t.y*this.sinc0*s)}else a=this.phic0,e=0;return t.x=e,t.y=a,Ge.inverse.apply(this,[t]),t.x=Mi(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var We={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Ds&&(this.k0=.5*(1+fi(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Ds&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Ds&&(this.k0=.5*this.cons*xi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/gi(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=xi(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Ls,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var s,i,e,a,r,h,n=t.x,o=t.y,u=Math.sin(o),l=Math.cos(o),c=Mi(n-this.long0);return Math.abs(Math.abs(n-this.long0)-Math.PI)<=Ds&&Math.abs(o+this.lat0)<=Ds?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*u+this.coslat0*l*Math.cos(c)),t.x=this.a*s*l*Math.sin(c)+this.x0,t.y=this.a*s*(this.coslat0*u-this.sinlat0*l*Math.cos(c))+this.y0,t):(i=2*Math.atan(this.ssfn_(o,u,this.e))-Ls,a=Math.cos(i),e=Math.sin(i),Math.abs(this.coslat0)<=Ds?(r=gi(this.e,o*this.con,this.con*u),h=2*this.a*this.k0*r/this.cons,t.x=this.x0+h*Math.sin(n-this.long0),t.y=this.y0-this.con*h*Math.cos(n-this.long0),t):(Math.abs(this.sinlat0)<Ds?(s=2*this.a*this.k0/(1+a*Math.cos(c)),t.y=s*e):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*e+this.cosX0*a*Math.cos(c))),t.y=s*(this.cosX0*e-this.sinX0*a*Math.cos(c))+this.y0),t.x=s*a*Math.sin(c)+this.x0,t))},inverse:function(t){var s,i,e,a,r;t.x-=this.x0,t.y-=this.y0;var h=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var n=2*Math.atan(h/(2*this.a*this.k0));return s=this.long0,i=this.lat0,h<=Ds?(t.x=s,t.y=i,t):(i=Math.asin(Math.cos(n)*this.sinlat0+t.y*Math.sin(n)*this.coslat0/h),s=Math.abs(this.coslat0)<Ds?this.lat0>0?Mi(this.long0+Math.atan2(t.x,-1*t.y)):Mi(this.long0+Math.atan2(t.x,t.y)):Mi(this.long0+Math.atan2(t.x*Math.sin(n),h*this.coslat0*Math.cos(n)-t.y*this.sinlat0*Math.sin(n))),t.x=s,t.y=i,t)}if(Math.abs(this.coslat0)<=Ds){if(h<=Ds)return i=this.lat0,s=this.long0,t.x=s,t.y=i,t;t.x*=this.con,t.y*=this.con,e=h*this.cons/(2*this.a*this.k0),i=this.con*_i(this.e,e),s=this.con*Mi(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(h*this.cosX0/(2*this.a*this.k0*this.ms1)),s=this.long0,h<=Ds?r=this.X0:(r=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/h),s=Mi(this.long0+Math.atan2(t.x*Math.sin(a),h*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*_i(this.e,Math.tan(.5*(Ls+r)));return t.x=s,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,s,i){return s*=i,Math.tan(.5*(Ls+t))*Math.pow((1-s)/(1+s),.5*i)}};var Ve={init:function(){var t=this.lat0;this.lambda0=this.long0;var s=Math.sin(t),i=this.a,e=1/this.rf,a=2*e-Math.pow(e,2),r=this.e=Math.sqrt(a);this.R=this.k0*i*Math.sqrt(1-a)/(1-a*Math.pow(s,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(s/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),n=Math.log(Math.tan(Math.PI/4+t/2)),o=Math.log((1+r*s)/(1-r*s));this.K=h-this.alpha*n+this.alpha*r/2*o},forward:function(t){var s=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),e=-this.alpha*(s+i)+this.K,a=2*(Math.atan(Math.exp(e))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),h=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(r))),n=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(n))/(1-Math.sin(n)))+this.y0,t.x=this.R*h+this.x0,t},inverse:function(t){for(var s=t.x-this.x0,i=t.y-this.y0,e=s/this.R,a=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(e)),h=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(a))),n=this.lambda0+h/this.alpha,o=0,u=r,l=-1e3,c=0;Math.abs(u-l)>1e-7;){if(++c>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),l=u,u=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=n,t.y=u,t},names:["somerc"]},Xe=1e-7;var Ze={init:function(){var t,s,i,e,a,r,h,n,o,u,l,c,m,d=0,p=0,y=0,x=0,f=0,M=0,g=0;this.no_off=(m="object"==typeof(c=this).PROJECTION?Object.keys(c.PROJECTION)[0]:c.PROJECTION,"no_uoff"in c||"no_off"in c||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(m)),this.no_rot="no_rot"in this;var _=!1;"alpha"in this&&(_=!0);var v=!1;if("rectified_grid_angle"in this&&(v=!0),_&&(g=this.alpha),v&&(d=this.rectified_grid_angle*Gs),_||v)p=this.longc;else if(y=this.long1,f=this.lat1,x=this.long2,M=this.lat2,Math.abs(f-M)<=Xe||(t=Math.abs(f))<=Xe||Math.abs(t-Ls)<=Xe||Math.abs(Math.abs(this.lat0)-Ls)<=Xe||Math.abs(Math.abs(M)-Ls)<=Xe)throw new Error;var b=1-this.es;s=Math.sqrt(b),Math.abs(this.lat0)>Ds?(n=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*n*n,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*s/t,(a=(e=this.B*s/(i*Math.sqrt(t)))*e-1)<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=e,this.E*=Math.pow(gi(this.e,this.lat0,n),this.B)):(this.B=1/s,this.A=this.k0,this.E=e=a=1),_||v?(_?(l=Math.asin(Math.sin(g)/e),v||(d=g)):(l=d,g=Math.asin(e*Math.sin(l))),this.lam0=p-Math.asin(.5*(a-1/a)*Math.tan(l))/this.B):(r=Math.pow(gi(this.e,f,Math.sin(f)),this.B),h=Math.pow(gi(this.e,M,Math.sin(M)),this.B),a=this.E/r,o=(h-r)/(h+r),u=((u=this.E*this.E)-h*r)/(u+h*r),(t=y-x)<-Math.pi?x-=Vs:t>Math.pi&&(x+=Vs),this.lam0=Mi(.5*(y+x)-Math.atan(u*Math.tan(.5*this.B*(y-x))/o)/this.B),l=Math.atan(2*Math.sin(this.B*Mi(y-this.lam0))/(a-1/a)),d=g=Math.asin(e*Math.sin(l))),this.singam=Math.sin(l),this.cosgam=Math.cos(l),this.sinrot=Math.sin(d),this.cosrot=Math.cos(d),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(g))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*l,this.v_pole_n=this.ArB*Math.log(Math.tan(Ws-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ws+a))},forward:function(t){var s,i,e,a,r,h,n,o,u={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Ls)>Ds){if(s=.5*((r=this.E/Math.pow(gi(this.e,t.y,Math.sin(t.y)),this.B))-(h=1/r)),i=.5*(r+h),a=Math.sin(this.B*t.x),e=(s*this.singam-a*this.cosgam)/i,Math.abs(Math.abs(e)-1)<Ds)throw new Error;o=.5*this.ArB*Math.log((1-e)/(1+e)),h=Math.cos(this.B*t.x),n=Math.abs(h)<Xe?this.A*t.x:this.ArB*Math.atan2(s*this.cosgam+a*this.singam,h)}else o=t.y>0?this.v_pole_n:this.v_pole_s,n=this.ArB*t.y;return this.no_rot?(u.x=n,u.y=o):(n-=this.u_0,u.x=o*this.cosrot+n*this.sinrot,u.y=n*this.cosrot-o*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(t){var s,i,e,a,r,h,n,o={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,s=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,s=t.y*this.cosrot+t.x*this.sinrot+this.u_0),a=.5*((e=Math.exp(-this.BrA*i))-1/e),r=.5*(e+1/e),n=((h=Math.sin(this.BrA*s))*this.cosgam+a*this.singam)/r,Math.abs(Math.abs(n)-1)<Ds)o.x=0,o.y=n<0?-Ls:Ls;else{if(o.y=this.E/Math.sqrt((1+n)/(1-n)),o.y=_i(this.e,Math.pow(o.y,1/this.B)),o.y===1/0)throw new Error;o.x=-this.rB*Math.atan2(a*this.cosgam-h*this.singam,Math.cos(this.BrA*s))}return o.x+=this.lam0,o},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var Ye={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Ds)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var s=Math.sin(this.lat1),i=Math.cos(this.lat1),e=xi(this.e,s,i),a=gi(this.e,this.lat1,s),r=Math.sin(this.lat2),h=Math.cos(this.lat2),n=xi(this.e,r,h),o=gi(this.e,this.lat2,r),u=gi(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Ds?this.ns=Math.log(e/n)/Math.log(a/o):this.ns=s,isNaN(this.ns)&&(this.ns=s),this.f0=e/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var s=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=Ds&&(i=fi(i)*(Ls-2*Ds));var e,a,r=Math.abs(Math.abs(i)-Ls);if(r>Ds)e=gi(this.e,i,Math.sin(i)),a=this.a*this.f0*Math.pow(e,this.ns);else{if((r=i*this.ns)<=0)return null;a=0}var h=this.ns*Mi(s-this.long0);return t.x=this.k0*(a*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(h))+this.y0,t},inverse:function(t){var s,i,e,a,r,h=(t.x-this.x0)/this.k0,n=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(s=Math.sqrt(h*h+n*n),i=1):(s=-Math.sqrt(h*h+n*n),i=-1);var o=0;if(0!==s&&(o=Math.atan2(i*h,i*n)),0!==s||this.ns>0){if(i=1/this.ns,e=Math.pow(s/(this.a*this.f0),i),-9999===(a=_i(this.e,e)))return null}else a=-Ls;return r=Mi(o/this.ns+this.long0),t.x=r,t.y=a,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var Qe={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var s,i,e,a,r,h,n,o=t.x,u=t.y,l=Mi(o-this.long0);return s=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/s)-this.s45),e=-l*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(e)),r=Math.asin(Math.cos(i)*Math.sin(e)/Math.cos(a)),h=this.n*r,n=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=n*Math.cos(h)/1,t.x=n*Math.sin(h)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var s,i,e,a,r,h,n,o=t.x;t.x=t.y,t.y=o,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x)/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),s=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(a)),i=Math.asin(Math.cos(e)*Math.sin(a)/Math.cos(s)),t.x=this.long0-i/this.alfa,h=s,n=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(s/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-t.y)<1e-10&&(n=1),h=t.y,u+=1}while(0===n&&u<15);return u>=15?null:t},names:["Krovak","krovak"]};function He(t,s,i,e,a){return t*a-s*Math.sin(2*a)+i*Math.sin(4*a)-e*Math.sin(6*a)}function Ke(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function $e(t){return.375*t*(1+.25*t*(1+.46875*t))}function ta(t){return.05859375*t*t*(1+.75*t)}function sa(t){return t*t*t*(35/3072)}function ia(t,s,i){var e=s*i;return t/Math.sqrt(1-e*e)}function ea(t){return Math.abs(t)<Ls?t:t-fi(t)*Math.PI}function aa(t,s,i,e,a){var r,h;r=t/s;for(var n=0;n<15;n++)if(r+=h=(t-(s*r-i*Math.sin(2*r)+e*Math.sin(4*r)-a*Math.sin(6*r)))/(s-2*i*Math.cos(2*r)+4*e*Math.cos(4*r)-6*a*Math.cos(6*r)),Math.abs(h)<=1e-10)return r;return NaN}var ra={init:function(){this.sphere||(this.e0=Ke(this.es),this.e1=$e(this.es),this.e2=ta(this.es),this.e3=sa(this.es),this.ml0=this.a*He(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var s,i,e=t.x,a=t.y;if(e=Mi(e-this.long0),this.sphere)s=this.a*Math.asin(Math.cos(a)*Math.sin(e)),i=this.a*(Math.atan2(Math.tan(a),Math.cos(e))-this.lat0);else{var r=Math.sin(a),h=Math.cos(a),n=ia(this.a,this.e,r),o=Math.tan(a)*Math.tan(a),u=e*Math.cos(a),l=u*u,c=this.es*h*h/(1-this.es);s=n*u*(1-l*o*(1/6-(8-o+8*c)*l/120)),i=this.a*He(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+n*r/h*l*(.5+(5-o+6*c)*l/24)}return t.x=s+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var s,i,e=t.x/this.a,a=t.y/this.a;if(this.sphere){var r=a+this.lat0;s=Math.asin(Math.sin(r)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(r))}else{var h=aa(this.ml0/this.a+a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-Ls)<=Ds)return t.x=this.long0,t.y=Ls,a<0&&(t.y*=-1),t;var n=ia(this.a,this.e,Math.sin(h)),o=n*n*n/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(h),2),l=e*this.a/n,c=l*l;s=h-n*Math.tan(h)/o*l*l*(.5-(1+3*u)*l*l/24),i=l*(1-c*(u/3+(1+3*u)*u*c/15))/Math.cos(h)}return t.x=Mi(i+this.long0),t.y=ea(s),t},names:["Cassini","Cassini_Soldner","cass"]};function ha(t,s){var i;return t>1e-7?(1-t*t)*(s/(1-(i=t*s)*i)-.5/t*Math.log((1-i)/(1+i))):2*s}var na=.3333333333333333,oa=.17222222222222222,ua=.10257936507936508,la=.06388888888888888,ca=.0664021164021164,ma=.016415012942191543;var da={init:function(){var t,s=Math.abs(this.lat0);if(Math.abs(s-Ls)<Ds?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(s)<Ds?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ha(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var s,i=[];return i[0]=t*na,s=t*t,i[0]+=s*oa,i[1]=s*la,s*=t,i[0]+=s*ua,i[1]+=s*ca,i[2]=s*ma,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ha(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var s,i,e,a,r,h,n,o,u,l,c=t.x,m=t.y;if(c=Mi(c-this.long0),this.sphere){if(r=Math.sin(m),l=Math.cos(m),e=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+l*e:1+this.sinph0*r+this.cosph0*l*e)<=Ds)return null;s=(i=Math.sqrt(2/i))*l*Math.sin(c),i*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*l*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(m+this.lat0)<Ds)return null;i=Ws-.5*m,s=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(c),i*=e}}else{switch(n=0,o=0,u=0,e=Math.cos(c),a=Math.sin(c),r=Math.sin(m),h=ha(this.e,r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(n=h/this.qp,o=Math.sqrt(1-n*n)),this.mode){case this.OBLIQ:u=1+this.sinb1*n+this.cosb1*o*e;break;case this.EQUIT:u=1+o*e;break;case this.N_POLE:u=Ls+m,h=this.qp-h;break;case this.S_POLE:u=m-Ls,h=this.qp+h}if(Math.abs(u)<Ds)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),i=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*n-this.sinb1*o*e):(u=Math.sqrt(2/(1+o*e)))*n*this.ymf,s=this.xmf*u*o*a;break;case this.N_POLE:case this.S_POLE:h>=0?(s=(u=Math.sqrt(h))*a,i=e*(this.mode===this.S_POLE?u:-u)):s=i=0}}return t.x=this.a*s+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var s,i,e,a,r,h,n,o,u,l,c=t.x/this.a,m=t.y/this.a;if(this.sphere){var d,p=0,y=0;if((i=.5*(d=Math.sqrt(c*c+m*m)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(y=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=Ds?0:Math.asin(m*y/d),c*=y,m=p*d;break;case this.OBLIQ:i=Math.abs(d)<=Ds?this.lat0:Math.asin(p*this.sinph0+m*y*this.cosph0/d),c*=y*this.cosph0,m=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:m=-m,i=Ls-i;break;case this.S_POLE:i-=Ls}s=0!==m||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,m):0}else{if(n=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,m*=this.dd,(h=Math.sqrt(c*c+m*m))<Ds)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*h/this.rq),e=Math.cos(a),c*=a=Math.sin(a),this.mode===this.OBLIQ?(n=e*this.sinb1+m*a*this.cosb1/h,r=this.qp*n,m=h*this.cosb1*e-m*this.sinb1*a):(n=m*a/h,r=this.qp*n,m=h*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(m=-m),!(r=c*c+m*m))return t.x=this.long0,t.y=this.lat0,t;n=1-r/this.qp,this.mode===this.S_POLE&&(n=-n)}s=Math.atan2(c,m),o=Math.asin(n),u=this.apa,l=o+o,i=o+u[0]*Math.sin(l)+u[1]*Math.sin(l+l)+u[2]*Math.sin(l+l+l)}return t.x=Mi(this.long0+s),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function pa(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}var ya={init:function(){Math.abs(this.lat1+this.lat2)<Ds||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=xi(this.e3,this.sin_po,this.cos_po),this.qs1=ha(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=xi(this.e3,this.sin_po,this.cos_po),this.qs2=ha(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ha(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Ds?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var s=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var e=ha(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,r=this.ns0*Mi(s-this.long0),h=a*Math.sin(r)+this.x0,n=this.rh-a*Math.cos(r)+this.y0;return t.x=h,t.y=n,t},inverse:function(t){var s,i,e,a,r,h;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(s=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(s=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1),a=0,0!==s&&(a=Math.atan2(e*t.x,e*t.y)),e=s*this.ns0/this.a,this.sphere?h=Math.asin((this.c-e*e)/(2*this.ns0)):(i=(this.c-e*e)/this.ns0,h=this.phi1z(this.e3,i)),r=Mi(a/this.ns0+this.long0),t.x=r,t.y=h,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,s){var i,e,a,r,h=pa(.5*s);if(t<Ds)return h;for(var n=t*t,o=1;o<=25;o++)if(h+=r=.5*(a=1-(e=t*(i=Math.sin(h)))*e)*a/Math.cos(h)*(s/(1-n)-i/a+.5/t*Math.log((1-e)/(1+e))),Math.abs(r)<=1e-7)return h;return null}};var xa={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var s,i,e,a,r,h,n,o=t.x,u=t.y;return e=Mi(o-this.long0),s=Math.sin(u),i=Math.cos(u),a=Math.cos(e),1,(r=this.sin_p14*s+this.cos_p14*i*a)>0||Math.abs(r)<=Ds?(h=this.x0+1*this.a*i*Math.sin(e)/r,n=this.y0+1*this.a*(this.cos_p14*s-this.sin_p14*i*a)/r):(h=this.x0+this.infinity_dist*i*Math.sin(e),n=this.y0+this.infinity_dist*(this.cos_p14*s-this.sin_p14*i*a)),t.x=h,t.y=n,t},inverse:function(t){var s,i,e,a,r,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(s=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(s,this.rc),i=Math.sin(a),h=pa((e=Math.cos(a))*this.sin_p14+t.y*i*this.cos_p14/s),r=Math.atan2(t.x*i,s*this.cos_p14*e-t.y*this.sin_p14*i),r=Mi(this.long0+r)):(h=this.phic0,r=0),t.x=r,t.y=h,t},names:["gnom"]};var fa={init:function(){this.sphere||(this.k0=xi(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var s,i,e=t.x,a=t.y,r=Mi(e-this.long0);if(this.sphere)s=this.x0+this.a*r*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var h=ha(this.e,Math.sin(a));s=this.x0+this.a*this.k0*r,i=this.y0+this.a*h*.5/this.k0}return t.x=s,t.y=i,t},inverse:function(t){var s,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(s=Mi(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,s){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(s)-i)<1e-6)return s<0?-1*Ls:Ls;for(var e,a,r,h,n=Math.asin(.5*s),o=0;o<30;o++)if(a=Math.sin(n),r=Math.cos(n),h=t*a,n+=e=Math.pow(1-h*h,2)/(2*r)*(s/(1-t*t)-a/(1-h*h)+.5/t*Math.log((1-h)/(1+h))),Math.abs(e)<=1e-10)return n;return NaN}(this.e,2*t.y*this.k0/this.a),s=Mi(this.long0+t.x/(this.a*this.k0))),t.x=s,t.y=i,t},names:["cea"]};var Ma={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var s=t.x,i=t.y,e=Mi(s-this.long0),a=ea(i-this.lat0);return t.x=this.x0+this.a*e*this.rc,t.y=this.y0+this.a*a,t},inverse:function(t){var s=t.x,i=t.y;return t.x=Mi(this.long0+(s-this.x0)/(this.a*this.rc)),t.y=ea(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var ga={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ke(this.es),this.e1=$e(this.es),this.e2=ta(this.es),this.e3=sa(this.es),this.ml0=this.a*He(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var s,i,e,a=t.x,r=t.y,h=Mi(a-this.long0);if(e=h*Math.sin(r),this.sphere)Math.abs(r)<=Ds?(s=this.a*h,i=-1*this.a*this.lat0):(s=this.a*Math.sin(e)/Math.tan(r),i=this.a*(ea(r-this.lat0)+(1-Math.cos(e))/Math.tan(r)));else if(Math.abs(r)<=Ds)s=this.a*h,i=-1*this.ml0;else{var n=ia(this.a,this.e,Math.sin(r))/Math.tan(r);s=n*Math.sin(e),i=this.a*He(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+n*(1-Math.cos(e))}return t.x=s+this.x0,t.y=i+this.y0,t},inverse:function(t){var s,i,e,a,r,h,n,o,u;if(e=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=Ds)s=Mi(e/this.a+this.long0),i=0;else{var l;for(h=this.lat0+a/this.a,n=e*e/this.a/this.a+h*h,o=h,r=20;r;--r)if(o+=u=-1*(h*(o*(l=Math.tan(o))+1)-o-.5*(o*o+n)*l)/((o-h)/l-1),Math.abs(u)<=Ds){i=o;break}s=Mi(this.long0+Math.asin(e*Math.tan(o)/this.a)/Math.sin(i))}else if(Math.abs(a+this.ml0)<=Ds)i=0,s=Mi(this.long0+e/this.a);else{var c,m,d,p,y;for(h=(this.ml0+a)/this.a,n=e*e/this.a/this.a+h*h,o=h,r=20;r;--r)if(y=this.e*Math.sin(o),c=Math.sqrt(1-y*y)*Math.tan(o),m=this.a*He(this.e0,this.e1,this.e2,this.e3,o),d=this.e0-2*this.e1*Math.cos(2*o)+4*this.e2*Math.cos(4*o)-6*this.e3*Math.cos(6*o),o-=u=(h*(c*(p=m/this.a)+1)-p-.5*c*(p*p+n))/(this.es*Math.sin(2*o)*(p*p+n-2*h*p)/(4*c)+(h-p)*(c*d-2/Math.sin(2*o))-d),Math.abs(u)<=Ds){i=o;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),s=Mi(this.long0+Math.asin(e*c/this.a)/Math.sin(i))}return t.x=s,t.y=i,t},names:["Polyconic","poly"]};var _a={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var s,i=t.x,e=t.y-this.lat0,a=i-this.long0,r=e/Is*1e-5,h=a,n=1,o=0;for(s=1;s<=10;s++)n*=r,o+=this.A[s]*n;var u,l=o,c=h,m=1,d=0,p=0,y=0;for(s=1;s<=6;s++)u=d*l+m*c,m=m*l-d*c,d=u,p=p+this.B_re[s]*m-this.B_im[s]*d,y=y+this.B_im[s]*m+this.B_re[s]*d;return t.x=y*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var s,i,e=t.x,a=t.y,r=e-this.x0,h=(a-this.y0)/this.a,n=r/this.a,o=1,u=0,l=0,c=0;for(s=1;s<=6;s++)i=u*h+o*n,o=o*h-u*n,u=i,l=l+this.C_re[s]*o-this.C_im[s]*u,c=c+this.C_im[s]*o+this.C_re[s]*u;for(var m=0;m<this.iterations;m++){var d,p=l,y=c,x=h,f=n;for(s=2;s<=6;s++)d=y*l+p*c,p=p*l-y*c,y=d,x+=(s-1)*(this.B_re[s]*p-this.B_im[s]*y),f+=(s-1)*(this.B_im[s]*p+this.B_re[s]*y);p=1,y=0;var M=this.B_re[1],g=this.B_im[1];for(s=2;s<=6;s++)d=y*l+p*c,p=p*l-y*c,y=d,M+=s*(this.B_re[s]*p-this.B_im[s]*y),g+=s*(this.B_im[s]*p+this.B_re[s]*y);var _=M*M+g*g;l=(x*M+f*g)/_,c=(f*M-x*g)/_}var v=l,b=c,w=1,A=0;for(s=1;s<=9;s++)w*=v,A+=this.D[s]*w;var S=this.lat0+A*Is*1e5,z=this.long0+b;return t.x=z,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]};var va={init:function(){},forward:function(t){var s=t.x,i=t.y,e=Mi(s-this.long0),a=this.x0+this.a*e,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=a,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var s=Mi(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=s,t.y=i,t},names:["Miller_Cylindrical","mill"]};var ba={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Pe(this.es)},forward:function(t){var s,i,e=t.x,a=t.y;if(e=Mi(e-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(a),h=20;h;--h){var n=(this.m*a+Math.sin(a)-r)/(this.m+Math.cos(a));if(a-=n,Math.abs(n)<Ds)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;s=this.a*this.C_x*e*(this.m+Math.cos(a)),i=this.a*this.C_y*a}else{var o=Math.sin(a),u=Math.cos(a);i=this.a*ke(a,o,u,this.en),s=this.a*e*u/Math.sqrt(1-this.es*o*o)}return t.x=s,t.y=i,t},inverse:function(t){var s,i,e;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,s=t.y/this.a,this.sphere?(s/=this.C_y,i/=this.C_x*(this.m+Math.cos(s)),this.m?s=pa((this.m*s+Math.sin(s))/this.n):1!==this.n&&(s=pa(Math.sin(s)/this.n)),i=Mi(i+this.long0),s=ea(s)):(s=Te(t.y/this.a,this.es,this.en),(e=Math.abs(s))<Ls?(e=Math.sin(s),i=Mi(this.long0+t.x*Math.sqrt(1-this.es*e*e)/(this.a*Math.cos(s)))):e-Ds<Ls&&(i=this.long0)),t.x=i,t.y=s,t},names:["Sinusoidal","sinu"]};var wa={init:function(){},forward:function(t){for(var s=t.x,i=t.y,e=Mi(s-this.long0),a=i,r=Math.PI*Math.sin(i);;){var h=-(a+Math.sin(a)-r)/(1+Math.cos(a));if(a+=h,Math.abs(h)<Ds)break}a/=2,Math.PI/2-Math.abs(i)<Ds&&(e=0);var n=.900316316158*this.a*e*Math.cos(a)+this.x0,o=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=n,t.y=o,t},inverse:function(t){var s,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),s=Math.asin(i);var e=Mi(this.long0+t.x/(.900316316158*this.a*Math.cos(s)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),i=(2*s+Math.sin(2*s))/Math.PI,Math.abs(i)>1&&(i=1);var a=Math.asin(i);return t.x=e,t.y=a,t},names:["Mollweide","moll"]};var Aa={init:function(){Math.abs(this.lat1+this.lat2)<Ds||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ke(this.es),this.e1=$e(this.es),this.e2=ta(this.es),this.e3=sa(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=xi(this.e,this.sinphi,this.cosphi),this.ml1=He(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Ds?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=xi(this.e,this.sinphi,this.cosphi),this.ml2=He(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=He(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var s,i=t.x,e=t.y;if(this.sphere)s=this.a*(this.g-e);else{var a=He(this.e0,this.e1,this.e2,this.e3,e);s=this.a*(this.g-a)}var r=this.ns*Mi(i-this.long0),h=this.x0+s*Math.sin(r),n=this.y0+this.rh-s*Math.cos(r);return t.x=h,t.y=n,t},inverse:function(t){var s,i,e,a;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),s=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),s=-1);var r=0;return 0!==i&&(r=Math.atan2(s*t.x,s*t.y)),this.sphere?(a=Mi(this.long0+r/this.ns),e=ea(this.g-i/this.a),t.x=a,t.y=e,t):(e=aa(this.g-i/this.a,this.e0,this.e1,this.e2,this.e3),a=Mi(this.long0+r/this.ns),t.x=a,t.y=e,t)},names:["Equidistant_Conic","eqdc"]};var Sa={init:function(){this.R=this.a},forward:function(t){var s,i,e=t.x,a=t.y,r=Mi(e-this.long0);Math.abs(a)<=Ds&&(s=this.x0+this.R*r,i=this.y0);var h=pa(2*Math.abs(a/Math.PI));(Math.abs(r)<=Ds||Math.abs(Math.abs(a)-Ls)<=Ds)&&(s=this.x0,i=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*h):this.y0+Math.PI*this.R*-Math.tan(.5*h));var n=.5*Math.abs(Math.PI/r-r/Math.PI),o=n*n,u=Math.sin(h),l=Math.cos(h),c=l/(u+l-1),m=c*c,d=c*(2/u-1),p=d*d,y=Math.PI*this.R*(n*(c-p)+Math.sqrt(o*(c-p)*(c-p)-(p+o)*(m-p)))/(p+o);r<0&&(y=-y),s=this.x0+y;var x=o+c;return y=Math.PI*this.R*(d*x-n*Math.sqrt((p+o)*(o+1)-x*x))/(p+o),i=a>=0?this.y0+y:this.y0-y,t.x=s,t.y=i,t},inverse:function(t){var s,i,e,a,r,h,n,o,u,l,c,m;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,r=(e=t.x/c)*e+(a=t.y/c)*a,c=3*(a*a/(o=-2*(h=-Math.abs(a)*(1+r))+1+2*a*a+r*r)+(2*(n=h-2*a*a+e*e)*n*n/o/o/o-9*h*n/o/o)/27)/(u=(h-n*n/3/o)/o)/(l=2*Math.sqrt(-u/3)),Math.abs(c)>1&&(c=c>=0?1:-1),m=Math.acos(c)/3,i=t.y>=0?(-l*Math.cos(m+Math.PI/3)-n/3/o)*Math.PI:-(-l*Math.cos(m+Math.PI/3)-n/3/o)*Math.PI,s=Math.abs(e)<Ds?this.long0:Mi(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(e*e-a*a)+r*r))/2/e),t.x=s,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var za={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var s,i,e,a,r,h,n,o,u,l,c,m,d,p,y,x,f,M,g,_,v,b,w=t.x,A=t.y,S=Math.sin(t.y),z=Math.cos(t.y),C=Mi(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Ds?(t.x=this.x0+this.a*(Ls-A)*Math.sin(C),t.y=this.y0-this.a*(Ls-A)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=Ds?(t.x=this.x0+this.a*(Ls+A)*Math.sin(C),t.y=this.y0+this.a*(Ls+A)*Math.cos(C),t):(M=this.sin_p12*S+this.cos_p12*z*Math.cos(C),f=(x=Math.acos(M))?x/Math.sin(x):1,t.x=this.x0+this.a*f*z*Math.sin(C),t.y=this.y0+this.a*f*(this.cos_p12*S-this.sin_p12*z*Math.cos(C)),t):(s=Ke(this.es),i=$e(this.es),e=ta(this.es),a=sa(this.es),Math.abs(this.sin_p12-1)<=Ds?(r=this.a*He(s,i,e,a,Ls),h=this.a*He(s,i,e,a,A),t.x=this.x0+(r-h)*Math.sin(C),t.y=this.y0-(r-h)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=Ds?(r=this.a*He(s,i,e,a,Ls),h=this.a*He(s,i,e,a,A),t.x=this.x0+(r+h)*Math.sin(C),t.y=this.y0+(r+h)*Math.cos(C),t):(n=S/z,o=ia(this.a,this.e,this.sin_p12),u=ia(this.a,this.e,S),l=Math.atan((1-this.es)*n+this.es*o*this.sin_p12/(u*z)),g=0===(c=Math.atan2(Math.sin(C),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(C)))?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(c)-Math.PI)<=Ds?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(C)*Math.cos(l)/Math.sin(c)),m=this.e*this.sin_p12/Math.sqrt(1-this.es),x=o*g*(1-(_=g*g)*(y=(d=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es))*d)*(1-y)/6+(v=_*g)/8*(p=m*d)*(1-2*y)+(b=v*g)/120*(y*(4-7*y)-3*m*m*(1-7*y))-b*g/48*p),t.x=this.x0+x*Math.sin(c),t.y=this.y0+x*Math.cos(c),t))},inverse:function(t){var s,i,e,a,r,h,n,o,u,l,c,m,d,p,y,x,f,M,g,_,v,b,w;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((s=Math.sqrt(t.x*t.x+t.y*t.y))>2*Ls*this.a)return;return i=s/this.a,e=Math.sin(i),a=Math.cos(i),r=this.long0,Math.abs(s)<=Ds?h=this.lat0:(h=pa(a*this.sin_p12+t.y*e*this.cos_p12/s),n=Math.abs(this.lat0)-Ls,r=Math.abs(n)<=Ds?this.lat0>=0?Mi(this.long0+Math.atan2(t.x,-t.y)):Mi(this.long0-Math.atan2(-t.x,t.y)):Mi(this.long0+Math.atan2(t.x*e,s*this.cos_p12*a-t.y*this.sin_p12*e))),t.x=r,t.y=h,t}return o=Ke(this.es),u=$e(this.es),l=ta(this.es),c=sa(this.es),Math.abs(this.sin_p12-1)<=Ds?(h=aa(((m=this.a*He(o,u,l,c,Ls))-(s=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,o,u,l,c),r=Mi(this.long0+Math.atan2(t.x,-1*t.y)),t.x=r,t.y=h,t):Math.abs(this.sin_p12+1)<=Ds?(m=this.a*He(o,u,l,c,Ls),h=aa(((s=Math.sqrt(t.x*t.x+t.y*t.y))-m)/this.a,o,u,l,c),r=Mi(this.long0+Math.atan2(t.x,t.y)),t.x=r,t.y=h,t):(s=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),d=ia(this.a,this.e,this.sin_p12),x=Math.cos(y),M=-(f=this.e*this.cos_p12*x)*f/(1-this.es),g=3*this.es*(1-M)*this.sin_p12*this.cos_p12*x/(1-this.es),b=1-M*(v=(_=s/d)-M*(1+M)*Math.pow(_,3)/6-g*(1+3*M)*Math.pow(_,4)/24)*v/2-_*v*v*v/6,p=Math.asin(this.sin_p12*Math.cos(v)+this.cos_p12*Math.sin(v)*x),r=Mi(this.long0+Math.asin(Math.sin(y)*Math.sin(v)/Math.cos(p))),w=Math.sin(p),h=Math.atan2((w-this.es*b*this.sin_p12)*Math.tan(p),w*(1-this.es)),t.x=r,t.y=h,t)},names:["Azimuthal_Equidistant","aeqd"]};var Ca={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var s,i,e,a,r,h,n,o=t.x,u=t.y;return e=Mi(o-this.long0),s=Math.sin(u),i=Math.cos(u),a=Math.cos(e),1,((r=this.sin_p14*s+this.cos_p14*i*a)>0||Math.abs(r)<=Ds)&&(h=1*this.a*i*Math.sin(e),n=this.y0+1*this.a*(this.cos_p14*s-this.sin_p14*i*a)),t.x=h,t.y=n,t},inverse:function(t){var s,i,e,a,r,h,n;return t.x-=this.x0,t.y-=this.y0,i=pa((s=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),e=Math.sin(i),a=Math.cos(i),h=this.long0,Math.abs(s)<=Ds?(n=this.lat0,t.x=h,t.y=n,t):(n=pa(a*this.sin_p14+t.y*e*this.cos_p14/s),r=Math.abs(this.lat0)-Ls,Math.abs(r)<=Ds?(h=this.lat0>=0?Mi(this.long0+Math.atan2(t.x,-t.y)):Mi(this.long0-Math.atan2(-t.x,t.y)),t.x=h,t.y=n,t):(h=Mi(this.long0+Math.atan2(t.x*e,s*this.cos_p14*a-t.y*this.sin_p14*e)),t.x=h,t.y=n,t))},names:["ortho"]},Na=1,Ea=2,Pa=3,ka=4,Oa=5,Ta=6,Ra={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function qa(t,s,i,e){var a;return t<Ds?(e.value=Ra.AREA_0,a=0):(a=Math.atan2(s,i),Math.abs(a)<=Ws?e.value=Ra.AREA_0:a>Ws&&a<=Ls+Ws?(e.value=Ra.AREA_1,a-=Ls):a>Ls+Ws||a<=-(Ls+Ws)?(e.value=Ra.AREA_2,a=a>=0?a-Xs:a+Xs):(e.value=Ra.AREA_3,a+=Ls)),a}function Ba(t,s){var i=t+s;return i<-Xs?i+=Vs:i>+Xs&&(i-=Vs),i}var Ia={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Ls-Ws/2?this.face=Oa:this.lat0<=-(Ls-Ws/2)?this.face=Ta:Math.abs(this.long0)<=Ws?this.face=Na:Math.abs(this.long0)<=Ls+Ws?this.face=this.long0>0?Ea:ka:this.face=Pa,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var s,i,e,a,r,h,n={x:0,y:0},o={value:0};if(t.x-=this.long0,s=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===Oa)a=Ls-s,i>=Ws&&i<=Ls+Ws?(o.value=Ra.AREA_0,e=i-Ls):i>Ls+Ws||i<=-(Ls+Ws)?(o.value=Ra.AREA_1,e=i>0?i-Xs:i+Xs):i>-(Ls+Ws)&&i<=-Ws?(o.value=Ra.AREA_2,e=i+Ls):(o.value=Ra.AREA_3,e=i);else if(this.face===Ta)a=Ls+s,i>=Ws&&i<=Ls+Ws?(o.value=Ra.AREA_0,e=-i+Ls):i<Ws&&i>=-Ws?(o.value=Ra.AREA_1,e=-i):i<-Ws&&i>=-(Ls+Ws)?(o.value=Ra.AREA_2,e=-i-Ls):(o.value=Ra.AREA_3,e=i>0?-i+Xs:-i-Xs);else{var u,l,c,m,d,p;this.face===Ea?i=Ba(i,+Ls):this.face===Pa?i=Ba(i,+Xs):this.face===ka&&(i=Ba(i,-Ls)),m=Math.sin(s),d=Math.cos(s),p=Math.sin(i),u=d*Math.cos(i),l=d*p,c=m,this.face===Na?e=qa(a=Math.acos(u),c,l,o):this.face===Ea?e=qa(a=Math.acos(l),c,-u,o):this.face===Pa?e=qa(a=Math.acos(-u),c,-l,o):this.face===ka?e=qa(a=Math.acos(-l),c,u,o):(a=e=0,o.value=Ra.AREA_0)}return h=Math.atan(12/Xs*(e+Math.acos(Math.sin(e)*Math.cos(Ws))-Ls)),r=Math.sqrt((1-Math.cos(a))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(e))))),o.value===Ra.AREA_1?h+=Ls:o.value===Ra.AREA_2?h+=Xs:o.value===Ra.AREA_3&&(h+=1.5*Xs),n.x=r*Math.cos(h),n.y=r*Math.sin(h),n.x=n.x*this.a+this.x0,n.y=n.y*this.a+this.y0,t.x=n.x,t.y=n.y,t},inverse:function(t){var s,i,e,a,r,h,n,o,u,l,c,m,d={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),s=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?p.value=Ra.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(p.value=Ra.AREA_1,s-=Ls):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Ra.AREA_2,s=s<0?s+Xs:s-Xs):(p.value=Ra.AREA_3,s+=Ls),u=Xs/12*Math.tan(s),r=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),h=Math.atan(r),(n=1-(e=Math.cos(s))*e*(a=Math.tan(i))*a*(1-Math.cos(Math.atan(1/Math.cos(h)))))<-1?n=-1:n>1&&(n=1),this.face===Oa)o=Math.acos(n),d.phi=Ls-o,p.value===Ra.AREA_0?d.lam=h+Ls:p.value===Ra.AREA_1?d.lam=h<0?h+Xs:h-Xs:p.value===Ra.AREA_2?d.lam=h-Ls:d.lam=h;else if(this.face===Ta)o=Math.acos(n),d.phi=o-Ls,p.value===Ra.AREA_0?d.lam=-h+Ls:p.value===Ra.AREA_1?d.lam=-h:p.value===Ra.AREA_2?d.lam=-h-Ls:d.lam=h<0?-h-Xs:-h+Xs;else{var y,x,f;u=(y=n)*y,x=(u+=(f=u>=1?0:Math.sqrt(1-u)*Math.sin(h))*f)>=1?0:Math.sqrt(1-u),p.value===Ra.AREA_1?(u=x,x=-f,f=u):p.value===Ra.AREA_2?(x=-x,f=-f):p.value===Ra.AREA_3&&(u=x,x=f,f=-u),this.face===Ea?(u=y,y=-x,x=u):this.face===Pa?(y=-y,x=-x):this.face===ka&&(u=y,y=x,x=-u),d.phi=Math.acos(-f)-Ls,d.lam=Math.atan2(x,y),this.face===Ea?d.lam=Ba(d.lam,-Ls):this.face===Pa?d.lam=Ba(d.lam,-Xs):this.face===ka&&(d.lam=Ba(d.lam,+Ls))}return 0!==this.es&&(l=d.phi<0?1:0,c=Math.tan(d.phi),m=this.b/Math.sqrt(c*c+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-m*m)/(this.one_minus_f*m)),l&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},La=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Fa=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ja=.8487,Ua=1.3523,Da=Js/5,Ga=1/Da,Ja=18,Wa=function(t,s){return t[0]+s*(t[1]+s*(t[2]+s*t[3]))};var Va={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var s=Mi(t.x-this.long0),i=Math.abs(t.y),e=Math.floor(i*Da);e<0?e=0:e>=Ja&&(e=17);var a={x:Wa(La[e],i=Js*(i-Ga*e))*s,y:Wa(Fa[e],i)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*ja+this.x0,a.y=a.y*this.a*Ua+this.y0,a},inverse:function(t){var s={x:(t.x-this.x0)/(this.a*ja),y:Math.abs(t.y-this.y0)/(this.a*Ua)};if(s.y>=1)s.x/=La[18][0],s.y=t.y<0?-Ls:Ls;else{var i=Math.floor(s.y*Ja);for(i<0?i=0:i>=Ja&&(i=17);;)if(Fa[i][0]>s.y)--i;else{if(!(Fa[i+1][0]<=s.y))break;++i}var e=Fa[i],a=5*(s.y-e[0])/(Fa[i+1][0]-e[0]);a=function(t,s,i,e){for(var a=s;e;--e){var r=t(a);if(a-=r,Math.abs(r)<i)break}return a}((function(t){return(Wa(e,t)-s.y)/function(t,s){return t[1]+s*(2*t[2]+3*s*t[3])}(e,t)}),a,Ds,100),s.x/=Wa(La[i],a),s.y=(5*i+a)*Gs,t.y<0&&(s.y=-s.y)}return s.x=Mi(s.x+this.long0),s},names:["Robinson","robin"]};var Xa={init:function(){this.name="geocent"},forward:function(t){return Li(t,this.es,this.a)},inverse:function(t){return Fi(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},Za=0,Ya=1,Qa=2,Ha=3,Ka={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var $a={init:function(){if(Object.keys(Ka).forEach(function(t){if(void 0===this[t])this[t]=Ka[t].def;else{if(Ka[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Ka[t].num&&(this[t]=parseFloat(this[t]))}Ka[t].degrees&&(this[t]=this[t]*Gs)}.bind(this)),Math.abs(Math.abs(this.lat0)-Ls)<Ds?this.mode=this.lat0<0?Ya:Za:Math.abs(this.lat0)<Ds?this.mode=Qa:(this.mode=Ha,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,s=this.azi;this.cg=Math.cos(s),this.sg=Math.sin(s),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var s,i,e,a,r=Math.sin(t.y),h=Math.cos(t.y),n=Math.cos(t.x);switch(this.mode){case Ha:i=this.sinph0*r+this.cosph0*h*n;break;case Qa:i=h*n;break;case Ya:i=-r;break;case Za:i=r}switch(s=(i=this.pn1/(this.p-i))*h*Math.sin(t.x),this.mode){case Ha:i*=this.cosph0*r-this.sinph0*h*n;break;case Qa:i*=r;break;case Za:i*=-h*n;break;case Ya:i*=h*n}return a=1/((e=i*this.cg+s*this.sg)*this.sw*this.h1+this.cw),s=(s*this.cg-i*this.sg)*this.cw*a,i=e*a,t.x=s*this.a,t.y=i*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var s,i,e,a={x:t.x,y:t.y};e=1/(this.pn1-t.y*this.sw),s=this.pn1*t.x*e,i=this.pn1*t.y*this.cw*e,t.x=s*this.cg+i*this.sg,t.y=i*this.cg-s*this.sg;var r=Be(t.x,t.y);if(Math.abs(r)<Ds)a.x=0,a.y=t.y;else{var h,n;switch(n=1-r*r*this.pfact,n=(this.p-Math.sqrt(n))/(this.pn1/r+r/this.pn1),h=Math.sqrt(1-n*n),this.mode){case Ha:a.y=Math.asin(h*this.sinph0+t.y*n*this.cosph0/r),t.y=(h-this.sinph0*Math.sin(a.y))*r,t.x*=n*this.cosph0;break;case Qa:a.y=Math.asin(t.y*n/r),t.y=h*r,t.x*=n;break;case Za:a.y=Math.asin(h),t.y=-t.y;break;case Ya:a.y=-Math.asin(h)}a.x=Math.atan2(t.x,t.y)}return t.x=a.x+this.long0,t.y=a.y,t},names:["Tilted_Perspective","tpers"]};var tr={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,s=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=s,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var s,i,e,a,r=t.x,h=t.y;if(r-=this.long0,"ellipse"===this.shape){h=Math.atan(this.radius_p2*Math.tan(h));var n=this.radius_p/Be(this.radius_p*Math.cos(h),Math.sin(h));if(i=n*Math.cos(r)*Math.cos(h),e=n*Math.sin(r)*Math.cos(h),a=n*Math.sin(h),(this.radius_g-i)*i-e*e-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(e/Be(a,s)),t.y=this.radius_g_1*Math.atan(a/s)):(t.x=this.radius_g_1*Math.atan(e/s),t.y=this.radius_g_1*Math.atan(a/Be(e,s)))}else"sphere"===this.shape&&(s=Math.cos(h),i=Math.cos(r)*s,e=Math.sin(r)*s,a=Math.sin(h),s=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(e/Be(a,s)),t.y=this.radius_g_1*Math.atan(a/s)):(t.x=this.radius_g_1*Math.atan(e/s),t.y=this.radius_g_1*Math.atan(a/Be(e,s))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var s,i,e,a,r=-1,h=0,n=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),h=Math.tan(t.x/this.radius_g_1)*Be(1,n)):(h=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Be(1,h));var o=n/this.radius_p;if(s=h*h+o*o+r*r,(e=(i=2*this.radius_g*r)*i-4*s*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-i-Math.sqrt(e))/(2*s),r=this.radius_g+a*r,h*=a,n*=a,t.x=Math.atan2(h,r),t.y=Math.atan(n*Math.cos(t.x)/r),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),h=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(h=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+h*h)),s=h*h+n*n+r*r,(e=(i=2*this.radius_g*r)*i-4*s*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-i-Math.sqrt(e))/(2*s),r=this.radius_g+a*r,h*=a,n*=a,t.x=Math.atan2(h,r),t.y=Math.atan(n*Math.cos(t.x)/r)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};Ki.defaultDatum="WGS84",Ki.Proj=Ii,Ki.WGS84=new Ki.Proj("WGS84"),Ki.Point=fe,Ki.toPoint=Vi,Ki.defs=ci,Ki.nadgrid=function(t,s){var i=new DataView(s),e=function(t){var s=t.getInt32(8,!1);if(11===s)return!1;s=t.getInt32(8,!0),11!==s&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(i),a=function(t,s){return{nFields:t.getInt32(8,s),nSubgridFields:t.getInt32(24,s),nSubgrids:t.getInt32(40,s),shiftType:Ti(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,s),fromSemiMinorAxis:t.getFloat64(136,s),toSemiMajorAxis:t.getFloat64(152,s),toSemiMinorAxis:t.getFloat64(168,s)}}(i,e);a.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var r=function(t,s,i){for(var e=176,a=[],r=0;r<s.nSubgrids;r++){var h=qi(t,e,i),n=Bi(t,e,h,i),o=Math.round(1+(h.upperLongitude-h.lowerLongitude)/h.longitudeInterval),u=Math.round(1+(h.upperLatitude-h.lowerLatitude)/h.latitudeInterval);a.push({ll:[Oi(h.lowerLongitude),Oi(h.lowerLatitude)],del:[Oi(h.longitudeInterval),Oi(h.latitudeInterval)],lim:[o,u],count:h.gridNodeCount,cvs:Ri(n)})}return a}(i,a,e),h={header:a,subgrids:r};return Pi[t]=h,h},Ki.transform=Zi,Ki.mgrs=ne,Ki.version="__VERSION__",function(t){t.Proj.projections.add(Re),t.Proj.projections.add(je),t.Proj.projections.add(Ue),t.Proj.projections.add(Je),t.Proj.projections.add(We),t.Proj.projections.add(Ve),t.Proj.projections.add(Ze),t.Proj.projections.add(Ye),t.Proj.projections.add(Qe),t.Proj.projections.add(ra),t.Proj.projections.add(da),t.Proj.projections.add(ya),t.Proj.projections.add(xa),t.Proj.projections.add(fa),t.Proj.projections.add(Ma),t.Proj.projections.add(ga),t.Proj.projections.add(_a),t.Proj.projections.add(va),t.Proj.projections.add(ba),t.Proj.projections.add(wa),t.Proj.projections.add(Aa),t.Proj.projections.add(Sa),t.Proj.projections.add(za),t.Proj.projections.add(Ca),t.Proj.projections.add(Ia),t.Proj.projections.add(Va),t.Proj.projections.add(Xa),t.Proj.projections.add($a),t.Proj.projections.add(tr)}(Ki);const sr={setCenter:function(t,s){sr.center=t,sr.size=s},setTotalLength:function(t){sr.totalLength=t,sr.nowDis=0},generateTopUV:function(t,s,i,e,a){const r=s[3*i],h=s[3*i+1],n=s[3*e],o=s[3*e+1],u=s[3*a],c=s[3*a+1];return[new l((r-sr.center.x)/sr.size.x+.5,(h-sr.center.y)/sr.size.y+.5),new l((n-sr.center.x)/sr.size.x+.5,(o-sr.center.y)/sr.size.y+.5),new l((u-sr.center.x)/sr.size.x+.5,(c-sr.center.y)/sr.size.y+.5)]},generateSideWallUV:function(t,s,i,e,a,r){const h=s[3*i];s[3*i+1];const n=s[3*i+2],o=s[3*e];s[3*e+1];const u=s[3*e+2];return s[3*a],s[3*a+1],s[3*a+2],s[3*r],s[3*r+1],s[3*r+2],sr.nowDis,sr.totalLength,sr.nowDis+=((t,s)=>{const i=(t.x-s.x)*(t.x-s.x)+(t.z-s.z)*(t.z-s.z);return Math.sqrt(i)})({x:h,z:n},{x:o,z:u}),sr.nowDis,sr.totalLength,[new l(0,0),new l(1,0),new l(1,1),new l(0,1)]}},ir=(t,s)=>{const i=(t.x-s.x)*(t.x-s.x)+(t.z-s.z)*(t.z-s.z);return Math.sqrt(i)};const er=new class{constructor(){}init(){Ki.defs("GEOCCS","+proj=geocent +datum=WGS84"),Ki.defs("WGS84","+proj=longlat +datum=WGS84 +no_defs"),Ki.defs("EPSG:3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs")}toMecca(t,s,i=0){const e=Ki("WGS84","EPSG:3857",[t,s,i]);return{x:e[0],z:e[1]}}createAreaGeometryToJSON(t,s,i,e){const a=new Qt,r=t.length;let h=0,n=[];for(let s=0;s<r;s++){const i=this.toMecca(t[s][0],t[s][1]);if(i.x/=1e4,i.z/=1e4,0==s?a.moveTo(i.x,i.z):a.lineTo(i.x,i.z),n[s]=i,t[s+1]&&null!=t[s+1][0]){const e=this.toMecca(t[s+1][0],t[s+1][1]);e.x/=1e4,e.z/=1e4,h+=ir(i,e)}}s.length>0&&((t,s)=>{for(let i=0,e=s.length;i<e;i++){const e=new Yt;for(let t=0,a=s[i].length;t<a;t++)0==t?e.moveTo(s[i][t][0],s[i][t][1]):e.lineTo(s[i][t][0],s[i][t][1]);t.holes.push(e)}})(a,s);const o=sr,u=(t=>{const s=[];for(let i=0;i<t.length;i++)s[i]=new l(t[i].x,t[i].z);return s})(n),c=new Ns;c.setFromPoints(u);const m=new l;o.setCenter(c.getCenter(new l),c.getSize(m)),o.setTotalLength(h);const d=new Ss(a,{depth:50,bevelEnabled:!1,bevelSegments:1,steps:1,bevelSize:1,bevelThickness:1,UVGenerator:o});d.rotateX(-Math.PI/2),d.computeVertexNormals(),d.computeBoundingSphere(),d.areaName=i;const p=(t=>{const s=[];for(let i in t){const e={type:i,array:t[i].array,itemSize:t[i].itemSize};s.push(e)}return s})(d.attributes),y=(t=>{if(t.index)return[...t.index.array]})(d);return{attributeData:p,indexData:y,name:i,count:e}}mergerGeometryArray(){}},ar=t=>{self.postMessage(t)};self.onmessage=({data:t})=>{"testConnect"==t.type?ar({type:t.type,message:"connectSuccess"}):"gisArea"==t.type&&((t,s)=>{let i={name:t.name,areaAttributeData:[]};const e=t.shapeData[0];for(let t=0;t<e.length;t++)for(let s=0,a=e[t].points.length;s<a;s++){const a=er.createAreaGeometryToJSON(e[t].points[s],e[t].holes,e[t].areaName,e.childNum);i.areaAttributeData.push(a)}"function"==typeof s&&s(i)})(t.areaData,(t=>{ar({type:"createArea",geometryAttributeData:t})}))}}));
`;let u6;const xI=s=>{const t=new u6.BufferGeometry;for(let e=0;e<s.length;e++)t.setAttribute(s[e].type,new u6.Float32BufferAttribute(s[e].array,s[e].itemSize));return t};class _I{constructor(t){this.init(t),this.addWorker({type:"testConnect"},e=>{})}init(t){u6=t.THREE}addWorker(t,e){const i=new Blob([yI],{type:"application/javascript"}),n=URL.createObjectURL(i),r=new Worker(n,{name:"shpWorker"});r.onmessage=({data:a})=>{typeof e=="function"&&e(a),r.terminate()},r.postMessage(t)}createAreaInModel(t){return new Promise((e,i)=>{try{this.addWorker({type:"gisArea",areaData:t},n=>{e(n)})}catch(n){i(n)}})}createShapeInBackground(t,e){const i=[];for(let n=0,r=t.length;n<r;n++)i.push(this.createAreaInModel(t[n]));Promise.all(i).then(n=>{typeof e=="function"&&e(n)}).catch(n=>{console.error(n)})}solveAttributeToGeometry(t,e){const i=xI(t.attributeData);return t.indexData&&i.setIndex(t.indexData),i.areaName=t.name,typeof e=="function"&&e(i),i}}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Bg="154",zu=0,Bu=1,vI=100,MI=204,bI=205,SI=3,Ug=300,u4=1e3,ba=1001,Uu=1002,wI=1006,AI=1008,EI=1009,TI=1015,CI=1023,RI=3e3,U7=3001,k7="",J0="srgb",X8="srgb-linear",kg="display-p3",H7=7680,PI=519,ku=35044,Sa=2e3,Hu=2001;class mo{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const n=this._listeners[t];if(n!==void 0){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const n=i.slice(0);for(let r=0,a=n.length;r<a;r++)n[r].call(this,t);t.target=null}}}const l0=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i2(){const s=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(l0[s&255]+l0[s>>8&255]+l0[s>>16&255]+l0[s>>24&255]+"-"+l0[t&255]+l0[t>>8&255]+"-"+l0[t>>16&15|64]+l0[t>>24&255]+"-"+l0[e&63|128]+l0[e>>8&255]+"-"+l0[e>>16&255]+l0[e>>24&255]+l0[i&255]+l0[i>>8&255]+l0[i>>16&255]+l0[i>>24&255]).toLowerCase()}function A0(s,t,e){return Math.max(t,Math.min(e,s))}function LI(s,t){return(s%t+t)%t}function G7(s,t,e){return(1-e)*s+e*t}function wa(s,t){switch(t.constructor){case Float32Array:return s;case Uint32Array:return s/4294967295;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int32Array:return Math.max(s/2147483647,-1);case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function F0(s,t){switch(t.constructor){case Float32Array:return s;case Uint32Array:return Math.round(s*4294967295);case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int32Array:return Math.round(s*2147483647);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}class Ve{constructor(t=0,e=0){Ve.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(A0(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Cs{constructor(t,e,i,n,r,a,o,h,l){Cs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,n,r,a,o,h,l)}set(t,e,i,n,r,a,o,h,l){const c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=r,c[5]=h,c[6]=i,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[3],h=i[6],l=i[1],c=i[4],u=i[7],d=i[2],f=i[5],p=i[8],g=n[0],m=n[3],y=n[6],_=n[1],x=n[4],v=n[7],b=n[2],E=n[5],w=n[8];return r[0]=a*g+o*_+h*b,r[3]=a*m+o*x+h*E,r[6]=a*y+o*v+h*w,r[1]=l*g+c*_+u*b,r[4]=l*m+c*x+u*E,r[7]=l*y+c*v+u*w,r[2]=d*g+f*_+p*b,r[5]=d*m+f*x+p*E,r[8]=d*y+f*v+p*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8];return e*a*c-e*o*l-i*r*c+i*o*h+n*r*l-n*a*h}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],u=c*a-o*l,d=o*h-c*r,f=l*r-a*h,p=e*u+i*d+n*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return t[0]=u*g,t[1]=(n*l-c*i)*g,t[2]=(o*i-n*a)*g,t[3]=d*g,t[4]=(c*e-n*h)*g,t[5]=(n*r-o*e)*g,t[6]=f*g,t[7]=(i*h-l*e)*g,t[8]=(a*e-i*r)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,r,a,o){const h=Math.cos(r),l=Math.sin(r);return this.set(i*h,i*l,-i*(h*a+l*o)+a+t,-n*l,n*h,-n*(-l*a+h*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(V7.makeScale(t,e)),this}rotate(t){return this.premultiply(V7.makeRotation(-t)),this}translate(t,e){return this.premultiply(V7.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const V7=new Cs;function II(s){for(let t=s.length-1;t>=0;--t)if(s[t]>=65535)return!0;return!1}function d6(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}const Gu={};function W7(s){s in Gu||(Gu[s]=!0,console.warn(s))}function Gr(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function q7(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}const NI=new Cs().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),DI=new Cs().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function FI(s){return s.convertSRGBToLinear().applyMatrix3(DI)}function OI(s){return s.applyMatrix3(NI).convertLinearToSRGB()}const zI={[X8]:s=>s,[J0]:s=>s.convertSRGBToLinear(),[kg]:FI},BI={[X8]:s=>s,[J0]:s=>s.convertLinearToSRGB(),[kg]:OI},_i={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(s){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!s},get workingColorSpace(){return X8},set workingColorSpace(s){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(s,t,e){if(this.enabled===!1||t===e||!t||!e)return s;const i=zI[t],n=BI[e];if(i===void 0||n===void 0)throw new Error(`Unsupported color space conversion, "${t}" to "${e}".`);return n(i(s))},fromWorkingColorSpace:function(s,t){return this.convert(s,this.workingColorSpace,t)},toWorkingColorSpace:function(s,t){return this.convert(s,t,this.workingColorSpace)}};let _r;class UI{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{_r===void 0&&(_r=d6("canvas")),_r.width=t.width,_r.height=t.height;const i=_r.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=_r}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=d6("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const n=i.getImageData(0,0,t.width,t.height),r=n.data;for(let a=0;a<r.length;a++)r[a]=Gr(r[a]/255)*255;return i.putImageData(n,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Gr(e[i]/255)*255):e[i]=Gr(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let kI=0;class HI{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kI++}),this.uuid=i2(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let a=0,o=n.length;a<o;a++)n[a].isDataTexture?r.push($7(n[a].image)):r.push($7(n[a]))}else r=$7(n);i.url=r}return e||(t.images[this.uuid]=i),i}}function $7(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?UI.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let GI=0;class fs extends mo{constructor(t=fs.DEFAULT_IMAGE,e=fs.DEFAULT_MAPPING,i=ba,n=ba,r=wI,a=AI,o=CI,h=EI,l=fs.DEFAULT_ANISOTROPY,c=k7){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:GI++}),this.uuid=i2(),this.name="",this.source=new HI(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=h,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(W7("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===U7?J0:k7),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Ug)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case u4:t.x=t.x-Math.floor(t.x);break;case ba:t.x=t.x<0?0:1;break;case Uu:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case u4:t.y=t.y-Math.floor(t.y);break;case ba:t.y=t.y<0?0:1;break;case Uu:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return W7("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===J0?U7:RI}set encoding(t){W7("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===U7?J0:k7}}fs.DEFAULT_IMAGE=null;fs.DEFAULT_MAPPING=Ug;fs.DEFAULT_ANISOTROPY=1;class n2{constructor(t=0,e=0,i=0,n=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=n}static slerpFlat(t,e,i,n,r,a,o){let h=i[n+0],l=i[n+1],c=i[n+2],u=i[n+3];const d=r[a+0],f=r[a+1],p=r[a+2],g=r[a+3];if(o===0){t[e+0]=h,t[e+1]=l,t[e+2]=c,t[e+3]=u;return}if(o===1){t[e+0]=d,t[e+1]=f,t[e+2]=p,t[e+3]=g;return}if(u!==g||h!==d||l!==f||c!==p){let m=1-o;const y=h*d+l*f+c*p+u*g,_=y>=0?1:-1,x=1-y*y;if(x>Number.EPSILON){const b=Math.sqrt(x),E=Math.atan2(b,y*_);m=Math.sin(m*E)/b,o=Math.sin(o*E)/b}const v=o*_;if(h=h*m+d*v,l=l*m+f*v,c=c*m+p*v,u=u*m+g*v,m===1-o){const b=1/Math.sqrt(h*h+l*l+c*c+u*u);h*=b,l*=b,c*=b,u*=b}}t[e]=h,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,n,r,a){const o=i[n],h=i[n+1],l=i[n+2],c=i[n+3],u=r[a],d=r[a+1],f=r[a+2],p=r[a+3];return t[e]=o*p+c*u+h*f-l*d,t[e+1]=h*p+c*d+l*u-o*f,t[e+2]=l*p+c*f+o*d-h*u,t[e+3]=c*p-o*u-h*d-l*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,n=t._y,r=t._z,a=t._order,o=Math.cos,h=Math.sin,l=o(i/2),c=o(n/2),u=o(r/2),d=h(i/2),f=h(n/2),p=h(r/2);switch(a){case"XYZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"YXZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"ZXY":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"ZYX":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"YZX":this._x=d*c*u+l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u-d*f*p;break;case"XZY":this._x=d*c*u-l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],r=e[8],a=e[1],o=e[5],h=e[9],l=e[2],c=e[6],u=e[10],d=i+o+u;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-h)*f,this._y=(r-l)*f,this._z=(a-n)*f}else if(i>o&&i>u){const f=2*Math.sqrt(1+i-o-u);this._w=(c-h)/f,this._x=.25*f,this._y=(n+a)/f,this._z=(r+l)/f}else if(o>u){const f=2*Math.sqrt(1+o-i-u);this._w=(r-l)/f,this._x=(n+a)/f,this._y=.25*f,this._z=(h+c)/f}else{const f=2*Math.sqrt(1+u-i-o);this._w=(a-n)/f,this._x=(r+l)/f,this._y=(h+c)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(A0(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,h=e._y,l=e._z,c=e._w;return this._x=i*c+a*o+n*l-r*h,this._y=n*c+a*h+r*o-i*l,this._z=r*c+a*l+i*h-n*o,this._w=a*c-i*o-n*h-r*l,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,n=this._y,r=this._z,a=this._w;let o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;const h=1-o*o;if(h<=Number.EPSILON){const f=1-e;return this._w=f*a+e*this._w,this._x=f*i+e*this._x,this._y=f*n+e*this._y,this._z=f*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(h),c=Math.atan2(l,o),u=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l;return this._w=a*u+this._w*d,this._x=i*u+this._x*d,this._y=n*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(n),i*Math.sin(r),i*Math.cos(r),e*Math.sin(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class It{constructor(t=0,e=0,i=0){It.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Vu.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Vu.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,h=t.w,l=h*e+a*n-o*i,c=h*i+o*e-r*n,u=h*n+r*i-a*e,d=-r*e-a*i-o*n;return this.x=l*h+d*-r+c*-o-u*-a,this.y=c*h+d*-a+u*-r-l*-o,this.z=u*h+d*-o+l*-a-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,h=e.z;return this.x=n*h-r*o,this.y=r*a-i*h,this.z=i*o-n*a,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return X7.copy(this).projectOnVector(t),this.sub(X7)}reflect(t){return this.sub(X7.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(A0(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const X7=new It,Vu=new n2;class s2{constructor(t=new It(1/0,1/0,1/0),e=new It(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Mn.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Mn.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Mn.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){if(t.updateWorldMatrix(!1,!1),t.boundingBox!==void 0)t.boundingBox===null&&t.computeBoundingBox(),vr.copy(t.boundingBox),vr.applyMatrix4(t.matrixWorld),this.union(vr);else{const n=t.geometry;if(n!==void 0)if(e&&n.attributes!==void 0&&n.attributes.position!==void 0){const r=n.attributes.position;for(let a=0,o=r.count;a<o;a++)Mn.fromBufferAttribute(r,a).applyMatrix4(t.matrixWorld),this.expandByPoint(Mn)}else n.boundingBox===null&&n.computeBoundingBox(),vr.copy(n.boundingBox),vr.applyMatrix4(t.matrixWorld),this.union(vr)}const i=t.children;for(let n=0,r=i.length;n<r;n++)this.expandByObject(i[n],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Mn),Mn.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(W5),Aa.subVectors(this.max,W5),Mr.subVectors(t.a,W5),br.subVectors(t.b,W5),Sr.subVectors(t.c,W5),Yn.subVectors(br,Mr),Zn.subVectors(Sr,br),js.subVectors(Mr,Sr);let e=[0,-Yn.z,Yn.y,0,-Zn.z,Zn.y,0,-js.z,js.y,Yn.z,0,-Yn.x,Zn.z,0,-Zn.x,js.z,0,-js.x,-Yn.y,Yn.x,0,-Zn.y,Zn.x,0,-js.y,js.x,0];return!j7(e,Mr,br,Sr,Aa)||(e=[1,0,0,0,1,0,0,0,1],!j7(e,Mr,br,Sr,Aa))?!1:(Ea.crossVectors(Yn,Zn),e=[Ea.x,Ea.y,Ea.z],j7(e,Mr,br,Sr,Aa))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Mn).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Mn).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(vn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),vn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),vn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),vn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),vn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),vn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),vn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),vn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(vn),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const vn=[new It,new It,new It,new It,new It,new It,new It,new It],Mn=new It,vr=new s2,Mr=new It,br=new It,Sr=new It,Yn=new It,Zn=new It,js=new It,W5=new It,Aa=new It,Ea=new It,Ys=new It;function j7(s,t,e,i,n){for(let r=0,a=s.length-3;r<=a;r+=3){Ys.fromArray(s,r);const o=n.x*Math.abs(Ys.x)+n.y*Math.abs(Ys.y)+n.z*Math.abs(Ys.z),h=t.dot(Ys),l=e.dot(Ys),c=i.dot(Ys);if(Math.max(-Math.max(h,l,c),Math.min(h,l,c))>o)return!1}return!0}const VI=new s2,q5=new It,Y7=new It;class WI{constructor(t=new It,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):VI.setFromPoints(t).getCenter(i);let n=0;for(let r=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;q5.subVectors(t,this.center);const e=q5.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),n=(i-this.radius)*.5;this.center.addScaledVector(q5,n/i),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Y7.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(q5.copy(t.center).add(Y7)),this.expandByPoint(q5.copy(t.center).sub(Y7))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}class Ki{constructor(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m){Ki.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m)}set(t,e,i,n,r,a,o,h,l,c,u,d,f,p,g,m){const y=this.elements;return y[0]=t,y[4]=e,y[8]=i,y[12]=n,y[1]=r,y[5]=a,y[9]=o,y[13]=h,y[2]=l,y[6]=c,y[10]=u,y[14]=d,y[3]=f,y[7]=p,y[11]=g,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ki().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,n=1/wr.setFromMatrixColumn(t,0).length(),r=1/wr.setFromMatrixColumn(t,1).length(),a=1/wr.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),h=Math.cos(n),l=Math.sin(n),c=Math.cos(r),u=Math.sin(r);if(t.order==="XYZ"){const d=a*c,f=a*u,p=o*c,g=o*u;e[0]=h*c,e[4]=-h*u,e[8]=l,e[1]=f+p*l,e[5]=d-g*l,e[9]=-o*h,e[2]=g-d*l,e[6]=p+f*l,e[10]=a*h}else if(t.order==="YXZ"){const d=h*c,f=h*u,p=l*c,g=l*u;e[0]=d+g*o,e[4]=p*o-f,e[8]=a*l,e[1]=a*u,e[5]=a*c,e[9]=-o,e[2]=f*o-p,e[6]=g+d*o,e[10]=a*h}else if(t.order==="ZXY"){const d=h*c,f=h*u,p=l*c,g=l*u;e[0]=d-g*o,e[4]=-a*u,e[8]=p+f*o,e[1]=f+p*o,e[5]=a*c,e[9]=g-d*o,e[2]=-a*l,e[6]=o,e[10]=a*h}else if(t.order==="ZYX"){const d=a*c,f=a*u,p=o*c,g=o*u;e[0]=h*c,e[4]=p*l-f,e[8]=d*l+g,e[1]=h*u,e[5]=g*l+d,e[9]=f*l-p,e[2]=-l,e[6]=o*h,e[10]=a*h}else if(t.order==="YZX"){const d=a*h,f=a*l,p=o*h,g=o*l;e[0]=h*c,e[4]=g-d*u,e[8]=p*u+f,e[1]=u,e[5]=a*c,e[9]=-o*c,e[2]=-l*c,e[6]=f*u+p,e[10]=d-g*u}else if(t.order==="XZY"){const d=a*h,f=a*l,p=o*h,g=o*l;e[0]=h*c,e[4]=-u,e[8]=l*c,e[1]=d*u+g,e[5]=a*c,e[9]=f*u-p,e[2]=p*u-f,e[6]=o*c,e[10]=g*u+d}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(qI,t,$I)}lookAt(t,e,i){const n=this.elements;return O0.subVectors(t,e),O0.lengthSq()===0&&(O0.z=1),O0.normalize(),Jn.crossVectors(i,O0),Jn.lengthSq()===0&&(Math.abs(i.z)===1?O0.x+=1e-4:O0.z+=1e-4,O0.normalize(),Jn.crossVectors(i,O0)),Jn.normalize(),Ta.crossVectors(O0,Jn),n[0]=Jn.x,n[4]=Ta.x,n[8]=O0.x,n[1]=Jn.y,n[5]=Ta.y,n[9]=O0.y,n[2]=Jn.z,n[6]=Ta.z,n[10]=O0.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],h=i[8],l=i[12],c=i[1],u=i[5],d=i[9],f=i[13],p=i[2],g=i[6],m=i[10],y=i[14],_=i[3],x=i[7],v=i[11],b=i[15],E=n[0],w=n[4],R=n[8],S=n[12],A=n[1],U=n[5],B=n[9],F=n[13],H=n[2],G=n[6],Y=n[10],$=n[14],j=n[3],rt=n[7],at=n[11],V=n[15];return r[0]=a*E+o*A+h*H+l*j,r[4]=a*w+o*U+h*G+l*rt,r[8]=a*R+o*B+h*Y+l*at,r[12]=a*S+o*F+h*$+l*V,r[1]=c*E+u*A+d*H+f*j,r[5]=c*w+u*U+d*G+f*rt,r[9]=c*R+u*B+d*Y+f*at,r[13]=c*S+u*F+d*$+f*V,r[2]=p*E+g*A+m*H+y*j,r[6]=p*w+g*U+m*G+y*rt,r[10]=p*R+g*B+m*Y+y*at,r[14]=p*S+g*F+m*$+y*V,r[3]=_*E+x*A+v*H+b*j,r[7]=_*w+x*U+v*G+b*rt,r[11]=_*R+x*B+v*Y+b*at,r[15]=_*S+x*F+v*$+b*V,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],h=t[9],l=t[13],c=t[2],u=t[6],d=t[10],f=t[14],p=t[3],g=t[7],m=t[11],y=t[15];return p*(+r*h*u-n*l*u-r*o*d+i*l*d+n*o*f-i*h*f)+g*(+e*h*f-e*l*d+r*a*d-n*a*f+n*l*c-r*h*c)+m*(+e*l*u-e*o*f-r*a*u+i*a*f+r*o*c-i*l*c)+y*(-n*o*c-e*h*u+e*o*d+n*a*u-i*a*d+i*h*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],h=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],_=u*m*l-g*d*l+g*h*f-o*m*f-u*h*y+o*d*y,x=p*d*l-c*m*l-p*h*f+a*m*f+c*h*y-a*d*y,v=c*g*l-p*u*l+p*o*f-a*g*f-c*o*y+a*u*y,b=p*u*h-c*g*h-p*o*d+a*g*d+c*o*m-a*u*m,E=e*_+i*x+n*v+r*b;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/E;return t[0]=_*w,t[1]=(g*d*r-u*m*r-g*n*f+i*m*f+u*n*y-i*d*y)*w,t[2]=(o*m*r-g*h*r+g*n*l-i*m*l-o*n*y+i*h*y)*w,t[3]=(u*h*r-o*d*r-u*n*l+i*d*l+o*n*f-i*h*f)*w,t[4]=x*w,t[5]=(c*m*r-p*d*r+p*n*f-e*m*f-c*n*y+e*d*y)*w,t[6]=(p*h*r-a*m*r-p*n*l+e*m*l+a*n*y-e*h*y)*w,t[7]=(a*d*r-c*h*r+c*n*l-e*d*l-a*n*f+e*h*f)*w,t[8]=v*w,t[9]=(p*u*r-c*g*r-p*i*f+e*g*f+c*i*y-e*u*y)*w,t[10]=(a*g*r-p*o*r+p*i*l-e*g*l-a*i*y+e*o*y)*w,t[11]=(c*o*r-a*u*r-c*i*l+e*u*l+a*i*f-e*o*f)*w,t[12]=b*w,t[13]=(c*g*n-p*u*n+p*i*d-e*g*d-c*i*m+e*u*m)*w,t[14]=(p*o*n-a*g*n-p*i*h+e*g*h+a*i*m-e*o*m)*w,t[15]=(a*u*n-c*o*n+c*i*h-e*u*h-a*i*d+e*o*d)*w,this}scale(t){const e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,h=t.z,l=r*a,c=r*o;return this.set(l*a+i,l*o-n*h,l*h+n*o,0,l*o+n*h,c*o+i,c*h-n*a,0,l*h-n*o,c*h+n*a,r*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,n,r,a){return this.set(1,i,r,0,t,1,a,0,e,n,1,0,0,0,0,1),this}compose(t,e,i){const n=this.elements,r=e._x,a=e._y,o=e._z,h=e._w,l=r+r,c=a+a,u=o+o,d=r*l,f=r*c,p=r*u,g=a*c,m=a*u,y=o*u,_=h*l,x=h*c,v=h*u,b=i.x,E=i.y,w=i.z;return n[0]=(1-(g+y))*b,n[1]=(f+v)*b,n[2]=(p-x)*b,n[3]=0,n[4]=(f-v)*E,n[5]=(1-(d+y))*E,n[6]=(m+_)*E,n[7]=0,n[8]=(p+x)*w,n[9]=(m-_)*w,n[10]=(1-(d+g))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,i){const n=this.elements;let r=wr.set(n[0],n[1],n[2]).length();const a=wr.set(n[4],n[5],n[6]).length(),o=wr.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],vi.copy(this);const l=1/r,c=1/a,u=1/o;return vi.elements[0]*=l,vi.elements[1]*=l,vi.elements[2]*=l,vi.elements[4]*=c,vi.elements[5]*=c,vi.elements[6]*=c,vi.elements[8]*=u,vi.elements[9]*=u,vi.elements[10]*=u,e.setFromRotationMatrix(vi),i.x=r,i.y=a,i.z=o,this}makePerspective(t,e,i,n,r,a,o=Sa){const h=this.elements,l=2*r/(e-t),c=2*r/(i-n),u=(e+t)/(e-t),d=(i+n)/(i-n);let f,p;if(o===Sa)f=-(a+r)/(a-r),p=-2*a*r/(a-r);else if(o===Hu)f=-a/(a-r),p=-a*r/(a-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return h[0]=l,h[4]=0,h[8]=u,h[12]=0,h[1]=0,h[5]=c,h[9]=d,h[13]=0,h[2]=0,h[6]=0,h[10]=f,h[14]=p,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,e,i,n,r,a,o=Sa){const h=this.elements,l=1/(e-t),c=1/(i-n),u=1/(a-r),d=(e+t)*l,f=(i+n)*c;let p,g;if(o===Sa)p=(a+r)*u,g=-2*u;else if(o===Hu)p=r*u,g=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return h[0]=2*l,h[4]=0,h[8]=0,h[12]=-d,h[1]=0,h[5]=2*c,h[9]=0,h[13]=-f,h[2]=0,h[6]=0,h[10]=g,h[14]=-p,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const wr=new It,vi=new Ki,qI=new It(0,0,0),$I=new It(1,1,1),Jn=new It,Ta=new It,O0=new It,Wu=new Ki,qu=new n2;class go{constructor(t=0,e=0,i=0,n=go.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,n=this._order){return this._x=t,this._y=e,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const n=t.elements,r=n[0],a=n[4],o=n[8],h=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10];switch(e){case"XYZ":this._y=Math.asin(A0(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-A0(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(h,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(A0(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-A0(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(A0(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-A0(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return Wu.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Wu,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return qu.setFromEuler(this),this.setFromQuaternion(qu,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}go.DEFAULT_ORDER="XYZ";class XI{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let jI=0;const $u=new It,Ar=new n2,bn=new Ki,Ca=new It,$5=new It,YI=new It,ZI=new n2,Xu=new It(1,0,0),ju=new It(0,1,0),Yu=new It(0,0,1),JI={type:"added"},Zu={type:"removed"};class ps extends mo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jI++}),this.uuid=i2(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ps.DEFAULT_UP.clone();const t=new It,e=new go,i=new n2,n=new It(1,1,1);function r(){i.setFromEuler(e,!1)}function a(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Ki},normalMatrix:{value:new Cs}}),this.matrix=new Ki,this.matrixWorld=new Ki,this.matrixAutoUpdate=ps.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ps.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new XI,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Ar.setFromAxisAngle(t,e),this.quaternion.multiply(Ar),this}rotateOnWorldAxis(t,e){return Ar.setFromAxisAngle(t,e),this.quaternion.premultiply(Ar),this}rotateX(t){return this.rotateOnAxis(Xu,t)}rotateY(t){return this.rotateOnAxis(ju,t)}rotateZ(t){return this.rotateOnAxis(Yu,t)}translateOnAxis(t,e){return $u.copy(t).applyQuaternion(this.quaternion),this.position.add($u.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Xu,t)}translateY(t){return this.translateOnAxis(ju,t)}translateZ(t){return this.translateOnAxis(Yu,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(bn.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Ca.copy(t):Ca.set(t,e,i);const n=this.parent;this.updateWorldMatrix(!0,!1),$5.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bn.lookAt($5,Ca,this.up):bn.lookAt(Ca,$5,this.up),this.quaternion.setFromRotationMatrix(bn),n&&(bn.extractRotation(n.matrixWorld),Ar.setFromRotationMatrix(bn),this.quaternion.premultiply(Ar.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(JI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Zu)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Zu)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),bn.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),bn.multiply(t.parent.matrixWorld)),t.applyMatrix4(bn),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const a=this.children[i].getObjectByProperty(t,e);if(a!==void 0)return a}}getObjectsByProperty(t,e){let i=[];this[t]===e&&i.push(this);for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectsByProperty(t,e);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($5,t,YI),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($5,ZI,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++){const r=e[i];(r.matrixWorldAutoUpdate===!0||t===!0)&&r.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const n=this.children;for(let r=0,a=n.length;r<a;r++){const o=n[r];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(o,h){return o[h.uuid]===void 0&&(o[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const h=o.shapes;if(Array.isArray(h))for(let l=0,c=h.length;l<c;l++){const u=h[l];r(t.shapes,u)}else r(t.shapes,h)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let h=0,l=this.material.length;h<l;h++)o.push(r(t.materials,this.material[h]));n.material=o}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(let o=0;o<this.children.length;o++)n.children.push(this.children[o].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let o=0;o<this.animations.length;o++){const h=this.animations[o];n.animations.push(r(t.animations,h))}}if(e){const o=a(t.geometries),h=a(t.materials),l=a(t.textures),c=a(t.images),u=a(t.shapes),d=a(t.skeletons),f=a(t.animations),p=a(t.nodes);o.length>0&&(i.geometries=o),h.length>0&&(i.materials=h),l.length>0&&(i.textures=l),c.length>0&&(i.images=c),u.length>0&&(i.shapes=u),d.length>0&&(i.skeletons=d),f.length>0&&(i.animations=f),p.length>0&&(i.nodes=p)}return i.object=n,i;function a(o){const h=[];for(const l in o){const c=o[l];delete c.metadata,h.push(c)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const n=t.children[i];this.add(n.clone())}return this}}ps.DEFAULT_UP=new It(0,1,0);ps.DEFAULT_MATRIX_AUTO_UPDATE=!0;ps.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let KI=0;class QI extends mo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KI++}),this.uuid=i2(),this.name="",this.type="Material",this.blending=Bu,this.side=zu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=MI,this.blendDst=bI,this.blendEquation=vI,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=SI,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=H7,this.stencilZFail=H7,this.stencilZPass=H7,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const n=this[e];if(n===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Bu&&(i.blending=this.blending),this.side!==zu&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(r){const a=[];for(const o in r){const h=r[o];delete h.metadata,a.push(h)}return a}if(e){const r=n(t.textures),a=n(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const n=e.length;i=new Array(n);for(let r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}const Hg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mi={h:0,s:0,l:0},Ra={h:0,s:0,l:0};function Z7(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*6*(2/3-e):s}class qi{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const n=t;n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=J0){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,_i.toWorkingColorSpace(this,e),this}setRGB(t,e,i,n=_i.workingColorSpace){return this.r=t,this.g=e,this.b=i,_i.toWorkingColorSpace(this,n),this}setHSL(t,e,i,n=_i.workingColorSpace){if(t=LI(t,1),e=A0(e,0,1),i=A0(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,a=2*i-r;this.r=Z7(a,r,t+1/3),this.g=Z7(a,r,t),this.b=Z7(a,r,t-1/3)}return _i.toWorkingColorSpace(this,n),this}setStyle(t,e=J0){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const a=n[1],o=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=n[1],a=r.length;if(a===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(a===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=J0){const i=Hg[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Gr(t.r),this.g=Gr(t.g),this.b=Gr(t.b),this}copyLinearToSRGB(t){return this.r=q7(t.r),this.g=q7(t.g),this.b=q7(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=J0){return _i.fromWorkingColorSpace(c0.copy(this),t),Math.round(A0(c0.r*255,0,255))*65536+Math.round(A0(c0.g*255,0,255))*256+Math.round(A0(c0.b*255,0,255))}getHexString(t=J0){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=_i.workingColorSpace){_i.fromWorkingColorSpace(c0.copy(this),e);const i=c0.r,n=c0.g,r=c0.b,a=Math.max(i,n,r),o=Math.min(i,n,r);let h,l;const c=(o+a)/2;if(o===a)h=0,l=0;else{const u=a-o;switch(l=c<=.5?u/(a+o):u/(2-a-o),a){case i:h=(n-r)/u+(n<r?6:0);break;case n:h=(r-i)/u+2;break;case r:h=(i-n)/u+4;break}h/=6}return t.h=h,t.s=l,t.l=c,t}getRGB(t,e=_i.workingColorSpace){return _i.fromWorkingColorSpace(c0.copy(this),e),t.r=c0.r,t.g=c0.g,t.b=c0.b,t}getStyle(t=J0){_i.fromWorkingColorSpace(c0.copy(this),t);const e=c0.r,i=c0.g,n=c0.b;return t!==J0?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(n*255)})`}offsetHSL(t,e,i){return this.getHSL(Mi),Mi.h+=t,Mi.s+=e,Mi.l+=i,this.setHSL(Mi.h,Mi.s,Mi.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Mi),t.getHSL(Ra);const i=G7(Mi.h,Ra.h,e),n=G7(Mi.s,Ra.s,e),r=G7(Mi.l,Ra.l,e);return this.setHSL(i,n,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,n=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*n,this.g=r[1]*e+r[4]*i+r[7]*n,this.b=r[2]*e+r[5]*i+r[8]*n,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const c0=new qi;qi.NAMES=Hg;const ke=new It,Pa=new Ve;class v9{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=ku,this.updateRange={offset:0,count:-1},this.gpuType=TI,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)Pa.fromBufferAttribute(this,e),Pa.applyMatrix3(t),this.setXY(e,Pa.x,Pa.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.applyMatrix3(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.applyMatrix4(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.applyNormalMatrix(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.transformDirection(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=wa(e,this.array)),e}setX(t,e){return this.normalized&&(e=F0(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=wa(e,this.array)),e}setY(t,e){return this.normalized&&(e=F0(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=wa(e,this.array)),e}setZ(t,e){return this.normalized&&(e=F0(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=wa(e,this.array)),e}setW(t,e){return this.normalized&&(e=F0(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=F0(e,this.array),i=F0(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,n){return t*=this.itemSize,this.normalized&&(e=F0(e,this.array),i=F0(i,this.array),n=F0(n,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this}setXYZW(t,e,i,n,r){return t*=this.itemSize,this.normalized&&(e=F0(e,this.array),i=F0(i,this.array),n=F0(n,this.array),r=F0(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==ku&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}class tN extends v9{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class eN extends v9{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class iN extends v9{constructor(t,e,i){super(new Float32Array(t),e,i)}}let nN=0;const X0=new Ki,J7=new ps,Er=new It,z0=new s2,X5=new s2,e0=new It;class j8 extends mo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nN++}),this.uuid=i2(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(II(t)?eN:tN)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Cs().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(t),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return X0.makeRotationFromQuaternion(t),this.applyMatrix4(X0),this}rotateX(t){return X0.makeRotationX(t),this.applyMatrix4(X0),this}rotateY(t){return X0.makeRotationY(t),this.applyMatrix4(X0),this}rotateZ(t){return X0.makeRotationZ(t),this.applyMatrix4(X0),this}translate(t,e,i){return X0.makeTranslation(t,e,i),this.applyMatrix4(X0),this}scale(t,e,i){return X0.makeScale(t,e,i),this.applyMatrix4(X0),this}lookAt(t){return J7.lookAt(t),J7.updateMatrix(),this.applyMatrix4(J7.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Er).negate(),this.translate(Er.x,Er.y,Er.z),this}setFromPoints(t){const e=[];for(let i=0,n=t.length;i<n;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new iN(e,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new s2);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new It(-1/0,-1/0,-1/0),new It(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,n=e.length;i<n;i++){const r=e[i];z0.setFromBufferAttribute(r),this.morphTargetsRelative?(e0.addVectors(this.boundingBox.min,z0.min),this.boundingBox.expandByPoint(e0),e0.addVectors(this.boundingBox.max,z0.max),this.boundingBox.expandByPoint(e0)):(this.boundingBox.expandByPoint(z0.min),this.boundingBox.expandByPoint(z0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new WI);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new It,1/0);return}if(t){const i=this.boundingSphere.center;if(z0.setFromBufferAttribute(t),e)for(let r=0,a=e.length;r<a;r++){const o=e[r];X5.setFromBufferAttribute(o),this.morphTargetsRelative?(e0.addVectors(z0.min,X5.min),z0.expandByPoint(e0),e0.addVectors(z0.max,X5.max),z0.expandByPoint(e0)):(z0.expandByPoint(X5.min),z0.expandByPoint(X5.max))}z0.getCenter(i);let n=0;for(let r=0,a=t.count;r<a;r++)e0.fromBufferAttribute(t,r),n=Math.max(n,i.distanceToSquared(e0));if(e)for(let r=0,a=e.length;r<a;r++){const o=e[r],h=this.morphTargetsRelative;for(let l=0,c=o.count;l<c;l++)e0.fromBufferAttribute(o,l),h&&(Er.fromBufferAttribute(t,l),e0.add(Er)),n=Math.max(n,i.distanceToSquared(e0))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.array,n=e.position.array,r=e.normal.array,a=e.uv.array,o=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new v9(new Float32Array(4*o),4));const h=this.getAttribute("tangent").array,l=[],c=[];for(let A=0;A<o;A++)l[A]=new It,c[A]=new It;const u=new It,d=new It,f=new It,p=new Ve,g=new Ve,m=new Ve,y=new It,_=new It;function x(A,U,B){u.fromArray(n,A*3),d.fromArray(n,U*3),f.fromArray(n,B*3),p.fromArray(a,A*2),g.fromArray(a,U*2),m.fromArray(a,B*2),d.sub(u),f.sub(u),g.sub(p),m.sub(p);const F=1/(g.x*m.y-m.x*g.y);isFinite(F)&&(y.copy(d).multiplyScalar(m.y).addScaledVector(f,-g.y).multiplyScalar(F),_.copy(f).multiplyScalar(g.x).addScaledVector(d,-m.x).multiplyScalar(F),l[A].add(y),l[U].add(y),l[B].add(y),c[A].add(_),c[U].add(_),c[B].add(_))}let v=this.groups;v.length===0&&(v=[{start:0,count:i.length}]);for(let A=0,U=v.length;A<U;++A){const B=v[A],F=B.start,H=B.count;for(let G=F,Y=F+H;G<Y;G+=3)x(i[G+0],i[G+1],i[G+2])}const b=new It,E=new It,w=new It,R=new It;function S(A){w.fromArray(r,A*3),R.copy(w);const U=l[A];b.copy(U),b.sub(w.multiplyScalar(w.dot(U))).normalize(),E.crossVectors(R,U);const F=E.dot(c[A])<0?-1:1;h[A*4]=b.x,h[A*4+1]=b.y,h[A*4+2]=b.z,h[A*4+3]=F}for(let A=0,U=v.length;A<U;++A){const B=v[A],F=B.start,H=B.count;for(let G=F,Y=F+H;G<Y;G+=3)S(i[G+0]),S(i[G+1]),S(i[G+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new v9(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let d=0,f=i.count;d<f;d++)i.setXYZ(d,0,0,0);const n=new It,r=new It,a=new It,o=new It,h=new It,l=new It,c=new It,u=new It;if(t)for(let d=0,f=t.count;d<f;d+=3){const p=t.getX(d+0),g=t.getX(d+1),m=t.getX(d+2);n.fromBufferAttribute(e,p),r.fromBufferAttribute(e,g),a.fromBufferAttribute(e,m),c.subVectors(a,r),u.subVectors(n,r),c.cross(u),o.fromBufferAttribute(i,p),h.fromBufferAttribute(i,g),l.fromBufferAttribute(i,m),o.add(c),h.add(c),l.add(c),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(g,h.x,h.y,h.z),i.setXYZ(m,l.x,l.y,l.z)}else for(let d=0,f=e.count;d<f;d+=3)n.fromBufferAttribute(e,d+0),r.fromBufferAttribute(e,d+1),a.fromBufferAttribute(e,d+2),c.subVectors(a,r),u.subVectors(n,r),c.cross(u),i.setXYZ(d+0,c.x,c.y,c.z),i.setXYZ(d+1,c.x,c.y,c.z),i.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)e0.fromBufferAttribute(t,e),e0.normalize(),t.setXYZ(e,e0.x,e0.y,e0.z)}toNonIndexed(){function t(o,h){const l=o.array,c=o.itemSize,u=o.normalized,d=new l.constructor(h.length*c);let f=0,p=0;for(let g=0,m=h.length;g<m;g++){o.isInterleavedBufferAttribute?f=h[g]*o.data.stride+o.offset:f=h[g]*c;for(let y=0;y<c;y++)d[p++]=l[f++]}return new v9(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new j8,i=this.index.array,n=this.attributes;for(const o in n){const h=n[o],l=t(h,i);e.setAttribute(o,l)}const r=this.morphAttributes;for(const o in r){const h=[],l=r[o];for(let c=0,u=l.length;c<u;c++){const d=l[c],f=t(d,i);h.push(f)}e.morphAttributes[o]=h}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,h=a.length;o<h;o++){const l=a[o];e.addGroup(l.start,l.count,l.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const l in h)h[l]!==void 0&&(t[l]=h[l]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const h in i){const l=i[h];t.data.attributes[h]=l.toJSON(t.data)}const n={};let r=!1;for(const h in this.morphAttributes){const l=this.morphAttributes[h],c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u];c.push(f.toJSON(t.data))}c.length>0&&(n[h]=c,r=!0)}r&&(t.data.morphAttributes=n,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const n=t.attributes;for(const l in n){const c=n[l];this.setAttribute(l,c.clone(e))}const r=t.morphAttributes;for(const l in r){const c=[],u=r[l];for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone(e));this.morphAttributes[l]=c}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];this.addGroup(u.start,u.count,u.materialIndex)}const o=t.boundingBox;o!==null&&(this.boundingBox=o.clone());const h=t.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}function sN(s){const t={};for(const e in s){t[e]={};for(const i in s[e]){const n=s[e][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?n.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=n.clone():Array.isArray(n)?t[e][i]=n.slice():t[e][i]=n}}return t}function rN(s){const t=[];for(let e=0;e<s.length;e++)t.push(s[e].clone());return t}var aN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,oN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class hN extends QI{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=aN,this.fragmentShader=oN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=sN(t.uniforms),this.uniformsGroups=rN(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const a=this.uniforms[n].value;a&&a.isTexture?e.uniforms[n]={type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?e.uniforms[n]={type:"c",value:a.getHex()}:a&&a.isVector2?e.uniforms[n]={type:"v2",value:a.toArray()}:a&&a.isVector3?e.uniforms[n]={type:"v3",value:a.toArray()}:a&&a.isVector4?e.uniforms[n]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?e.uniforms[n]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?e.uniforms[n]={type:"m4",value:a.toArray()}:e.uniforms[n]={value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}const Ju={enabled:!1,files:{},add:function(s,t){this.enabled!==!1&&(this.files[s]=t)},get:function(s){if(this.enabled!==!1)return this.files[s]},remove:function(s){delete this.files[s]},clear:function(){this.files={}}};class lN{constructor(t,e,i){const n=this;let r=!1,a=0,o=0,h;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(c){o++,r===!1&&n.onStart!==void 0&&n.onStart(c,a,o),r=!0},this.itemEnd=function(c){a++,n.onProgress!==void 0&&n.onProgress(c,a,o),a===o&&(r=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(c){n.onError!==void 0&&n.onError(c)},this.resolveURL=function(c){return h?h(c):c},this.setURLModifier=function(c){return h=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=l.length;u<d;u+=2){const f=l[u],p=l[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return p}return null}}}const cN=new lN;class Y8{constructor(t){this.manager=t!==void 0?t:cN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(n,r){i.load(t,n,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}Y8.DEFAULT_MATERIAL_NAME="__DEFAULT";class uN extends Y8{constructor(t){super(t)}load(t,e,i,n){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=Ju.get(t);if(a!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const o=d6("img");function h(){c(),Ju.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(u){c(),n&&n(u),r.manager.itemError(t),r.manager.itemEnd(t)}function c(){o.removeEventListener("load",h,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",h,!1),o.addEventListener("error",l,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}class Ku extends Y8{constructor(t){super(t)}load(t,e,i,n){const r=new fs,a=new uN(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(o){r.image=o,r.needsUpdate=!0,e!==void 0&&e(r)},i,n),r}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Bg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Bg);const dN=`varying vec3 vNormal;
varying vec2 vUV;
varying vec3 vPosition;
varying vec3 vWorldNormal;
uniform bool haveTopMap;
uniform sampler2D topMap;
uniform bool haveSideMap;
uniform sampler2D sideMap;
uniform vec2 topMapOffset;
uniform vec2 topMapScale;
uniform vec2 topMapMove;
uniform vec2 sideMapOffset;
uniform vec2 sideMapScale;
uniform vec2 sideMapMove;
uniform vec3 topColor;uniform vec3 sideColor[2];uniform vec2 sideColorRange;uniform float topAlpha;uniform vec2 sideAlpha;uniform vec2 sideAlphaRange;
uniform sampler2D emissiveMaps;uniform bool enableEmissiveMap;uniform vec3 emissiveColor;uniform int emissiveDir;uniform float emissiveIntensity;uniform vec2 emissiveSpeed;uniform float emissiveScale;
uniform float times;
#include <common>
#include <packing>
#include <lights_pars_begin>
vec3 computeLight( ){
    vec3 LightColor = vec3( 0. );
    vec3 directLightColor = vec3( 0. );
    for ( int s = 0 ; s < NUM_DIR_LIGHTS ; s ++ ){
        float angleValue = dot( vWorldNormal , directionalLights[s].direction );
        if ( angleValue > 0. ){
            directLightColor = angleValue * directionalLights[s].color + directLightColor;
        }
    }
    LightColor = ( directLightColor + ambientLightColor );
    return LightColor;
}
void main( ){
    vec4 outPutColor = vec4( 0.0 , 0.0 , 0.0 , 1.0 );
    float topAngle = dot( vec3( 0. , 1. , 0. ) , vNormal );
    if ( topAngle > 0.5 || topAngle < - 0.5 ){
        if ( haveTopMap ){
            vec4 topMapColor = texture2D( topMap , ( vUV + topMapOffset + topMapMove * times ) * topMapScale );
            outPutColor = topMapColor;
        }
        outPutColor.rgb += topColor;
        outPutColor.a *= topAlpha;
    }else{
        if ( haveSideMap ){
            vec4 sideMapColor = texture2D( sideMap , ( vUV + sideMapOffset + sideMapMove * times ) * sideMapScale );
            outPutColor = sideMapColor;
        }
        vec3 gradientSideColor = vec3( 0. );
        if ( vUV.y < sideColorRange.x ){
            gradientSideColor = sideColor[0];
        }else if ( vUV.y > sideColorRange.y ){
            gradientSideColor = sideColor[1];
        }else{
            vec3 lerpColor = sideColor[1] - sideColor[0];
            float lerpVal = smoothstep( sideColorRange.x , sideColorRange.y , vUV.y );
            gradientSideColor = sideColor[0] + lerpVal * lerpColor;
        }
        outPutColor.rgb += gradientSideColor;
        float outPutAlpha = 1.;
        if ( vUV.y < sideAlphaRange.x ){
            outPutAlpha = sideAlpha.x;
        }else if ( vUV.y > sideAlphaRange.y ){
            outPutAlpha = sideAlpha.y;
        }else{
            float lerpAlpha = sideAlpha.y - sideAlpha.x;
            float lerpVal = smoothstep( sideAlphaRange.x , sideAlphaRange.y , vUV.y );
            outPutAlpha = sideAlpha.x + lerpVal * lerpAlpha;
        }
        outPutColor.a *= outPutAlpha;
    }
    vec3 lightColor = computeLight( );
    outPutColor.rgb *= lightColor;
    if ( enableEmissiveMap ){
        vec2 emissiveUV;
        if ( emissiveDir == 0 ){
            emissiveUV = vec2( vPosition.xy );
        }else if ( emissiveDir == 1 ){
            emissiveUV = vec2( vPosition.xz );
        }else if ( emissiveDir == 2 ){
            emissiveUV = vec2( vPosition.yz );
        }
        emissiveUV += emissiveSpeed * - 1. * times;
        emissiveUV /= emissiveScale;
        vec4 emissiveOutPutColor = texture2D( emissiveMaps , emissiveUV );
        emissiveOutPutColor.rgb *= emissiveColor;
        if ( emissiveOutPutColor.rgb != vec3( 0. ) ){
            outPutColor.rgb += emissiveOutPutColor.rgb * emissiveIntensity;
        }
    }
    gl_FragColor = outPutColor;
}`,fN=`varying vec3 vNormal;
varying vec2 vUV;
varying vec3 vWorldNormal;
varying vec3 vPosition;
void main( ){
    vNormal = normal;
    vUV = uv;
    vPosition=position;
    vWorldNormal = normalize( normalMatrix * normal );
    vec3 finalPosition = position;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( finalPosition , 1. );
}`;class pN extends hN{constructor(){super({uniforms:{topMap:{value:new Ku().load("./image/areaGeo/top.png",t=>{t.wrapS=t.wrapT=u4})},haveTopMap:{value:!0},topMapOffset:{value:new Ve(0,0)},topMapScale:{value:new Ve(1,1)},topMapMove:{value:new Ve(0,0)},sideMap:{value:null},haveSideMap:{value:!1},sideMapOffset:{value:new Ve(0,0)},sideMapScale:{value:new Ve(1,1)},sideMapMove:{value:new Ve(0,0)},topColor:{value:new qi(0)},sideColor:{value:[new qi(0),new qi("rgb(255,136,0)")]},sideColorRange:{value:new Ve(0,1)},topAlpha:{value:1},sideAlpha:{value:new Ve(1,1)},sideAlphaRange:{value:new Ve(0,1)},times:{value:0},emissiveMaps:{value:new Ku().load("./image/areaGeo/flow.png",t=>{t.wrapS=t.wrapT=u4})},enableEmissiveMap:{value:!0},emissiveColor:{value:new qi("rgb(0,255,238)")},emissiveDir:{value:0},emissiveIntensity:{value:1},emissiveSpeed:{value:new Ve(0,30)},emissiveScale:{value:40},fogColor:{value:new qi},fogNear:{value:null},fogFar:{value:null},ambientLightColor:{value:null},lightProbe:{value:null},directionalLights:{value:null},directionalLightShadows:{value:null},spotLights:{value:null},spotLightShadows:{value:null},rectAreaLights:{value:null},ltc_1:{value:null},ltc_2:{value:null},pointLights:{value:null},pointLightShadows:{value:null},hemisphereLights:{value:null},directionalShadowMap:{value:null},directionalShadowMatrix:{value:null},spotShadowMap:{value:null},spotShadowMatrix:{value:null},pointShadowMap:{value:null},pointShadowMatrix:{value:null},spotLightMatrix:{value:null},spotLightMap:{value:null}},fragmentShader:dN,vertexShader:fN,transparent:!0,lights:!0})}set topMap(t){this.uniforms.topMap.value=t,this.uniforms.topMap.value?this.uniforms.haveTopMap.value=!0:this.uniforms.haveTopMap.value=!1}get topMap(){return this.uniforms.topMap.value?this.uniforms.haveTopMap.value=!0:this.uniforms.haveTopMap.value=!1,this.uniforms.topMap.value}set topMapOffset(t){this.uniforms.topMapOffset.value=t}get topMapOffset(){return this.uniforms.topMapOffset.value}set topMapScale(t){this.uniforms.topMapScale.value=t}get topMapScale(){return this.uniforms.topMapScale.value}set topMapMove(t){this.uniforms.topMapMove.value=t}get topMapMove(){return this.uniforms.topMapMove.value}set sideMap(t){this.uniforms.sideMap.value=t,this.uniforms.sideMap.value?this.uniforms.haveSideMap.value=!0:this.uniforms.haveSideMap.value=!1}get sideMap(){return this.uniforms.sideMap.value?this.uniforms.haveSideMap.value=!0:this.uniforms.haveSideMap.value=!1,this.uniforms.sideMap.value}set sideMapOffset(t){this.uniforms.sideMapOffset.value=t}get sideMapOffset(){return this.uniforms.sideMapOffset.value}set sideMapScale(t){this.uniforms.sideMapScale.value=t}get sideMapScale(){return this.uniforms.sideMapScale.value}set sideMapMove(t){this.uniforms.sideMapMove.value=t}get sideMapMove(){return this.uniforms.sideMapMove.value}set topColor(t){this.uniforms.topColor.value.set(t)}get topColor(){return`#${this.uniforms.topColor.value.getHexString()}`}set sideColor(t){this.uniforms.sideColor.value[0]=new qi(t[0]),this.uniforms.sideColor.value[1]=new qi(t[1])}get sideColor(){return[`#${this.uniforms.sideColor.value[0].getHexString()}`,`#${this.uniforms.sideColor.value[1].getHexString()}`]}set sideColorRange(t){this.uniforms.sideColorRange.value=t}get sideColorRange(){return this.uniforms.sideColorRange.value}set times(t){this.uniforms.times.value=t}get times(){return this.uniforms.times.value}set topAlpha(t){this.uniforms.topAlpha.value=t}get topAlpha(){return this.uniforms.topAlpha.value}set sideAlpha(t){this.uniforms.sideAlpha.value=t}get sideAlpha(){return this.uniforms.sideAlpha.value}set sideAlphaRange(t){this.uniforms.sideAlphaRange.value=t}get sideAlphaRange(){return this.uniforms.sideAlphaRange.value}set emissiveMaps(t){this.uniforms.emissiveMaps.value=t}get emissiveMaps(){return this.uniforms.emissiveMaps.value}set enableEmissiveMap(t){this.uniforms.enableEmissiveMap.value=t}get enableEmissiveMap(){return this.uniforms.enableEmissiveMap.value}set emissiveColor(t){this.uniforms.emissiveColor.value=new qi(t)}get emissiveColor(){return`#${this.uniforms.emissiveColor.value.getHexString()}`}set emissiveDir(t){t=="xy"?this.uniforms.emissiveDir.value=0:t=="xz"?this.uniforms.emissiveDir.value=1:t=="yz"&&(this.uniforms.emissiveDir.value=2)}get emissiveDir(){if(this.uniforms.emissiveDir.value==0)return"xy";if(this.uniforms.emissiveDir.value==1)return"xz";if(this.uniforms.emissiveDir.value==2)return"yz"}set emissiveIntensity(t){this.uniforms.emissiveIntensity.value=t}get emissiveIntensity(){return this.uniforms.emissiveIntensity.value}set emissiveSpeed(t){this.uniforms.emissiveSpeed.value=t}get emissiveSpeed(){return this.uniforms.emissiveSpeed.value}set emissiveScale(t){this.uniforms.emissiveScale.value=t}get emissiveScale(){return this.uniforms.emissiveScale.value}}let j5;class mN{constructor(t){this.init(),this.getTwinSpace(t)}getTwinSpace(t){j5=t}init(){this.meshArray=[],this.materialArray=[]}createMaterial(t){const e=new pN;return this.materialArray.push(e),e}collectGeometry(t){const e=new j5.THREE.Group,i=j5.setMesh(t,this.createMaterial(t));i.name=t.areaName,j5.setClickObject(i),e.add(i),j5.scene.add(e),this.meshArray.push(i)}update(t){this.materialArray.forEach(e=>{e.times+=t})}}function gN(s,t=!1){const e=s[0].index!==null,i=new Set(Object.keys(s[0].attributes)),n=new Set(Object.keys(s[0].morphAttributes)),r={},a={},o=s[0].morphTargetsRelative,h=new j8;let l=0;for(let c=0;c<s.length;++c){const u=s[c];let d=0;if(e!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const f in u.attributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+f+'" attribute exists among all geometries, or in none of them.'),null;r[f]===void 0&&(r[f]=[]),r[f].push(u.attributes[f]),d++}if(d!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(o!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const f in u.morphAttributes){if(!n.has(f))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;a[f]===void 0&&(a[f]=[]),a[f].push(u.morphAttributes[f])}if(t){let f;if(e)f=u.index.count;else if(u.attributes.position!==void 0)f=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;h.addGroup(l,f,c),l+=f}}if(e){let c=0;const u=[];for(let d=0;d<s.length;++d){const f=s[d].index;for(let p=0;p<f.count;++p)u.push(f.getX(p)+c);c+=s[d].attributes.position.count}h.setIndex(u)}for(const c in r){const u=Qu(r[c]);if(!u)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" attribute."),null;h.setAttribute(c,u)}for(const c in a){const u=a[c][0].length;if(u===0)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[c]=[];for(let d=0;d<u;++d){const f=[];for(let g=0;g<a[c].length;++g)f.push(a[c][g][d]);const p=Qu(f);if(!p)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" morphAttribute."),null;h.morphAttributes[c].push(p)}}return h}function Qu(s){let t,e,i,n=-1,r=0;for(let l=0;l<s.length;++l){const c=s[l];if(c.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=c.array.constructor),t!==c.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(e===void 0&&(e=c.itemSize),e!==c.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=c.normalized),i!==c.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(n===-1&&(n=c.gpuType),n!==c.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;r+=c.array.length}const a=new t(r);let o=0;for(let l=0;l<s.length;++l)a.set(s[l].array,o),o+=s[l].array.length;const h=new v9(a,e,i);return n!==void 0&&(h.gpuType=n),h}let De,f6,B1,An,p6;const NU=s=>(De=new nL(s),De.camera.position.set(0,1e3,1e3),De.camera.near=1,De.camera.far=1e7,De.camera.updateProjectionMatrix(),f6=new _I(De),B1=new mN(De),bN(),yN(),xN(),De.updateEvent(SN),p6=MM(),De),yN=()=>{An=new gI(De),An.use("renderPass"),An.use("outlinePass"),An.use("outputPass"),An.use("effectFXAA"),An.innerPassList.outlinePass.visibleEdgeColor.set("red"),An.innerPassList.outlinePass.edgeStrength=10},xN=()=>{De.ambientLight.intensity=.05;const s=De.addLight("direct",{color:16777215,intensity:.4});s.name="directionLight",s.position.set(10,10,10),De.scene.add(s)},DU=()=>{De.destroy()},_N=s=>{const t=new De.THREE.Box3;return Array.isArray(s)?s.forEach(e=>{t.expandByObject(e)}):t.setFromObject(s),{center:t.getCenter(new De.THREE.Vector3),size:t.getSize(new De.THREE.Vector3)}},vN=({center:s,size:t})=>{De.control.target=s,De.camera.position.set(s.x,s.y+t.y*8,s.z+t.z*2),De.camera.lookAt(s)},MN=s=>{f6.createShapeInBackground(s,t=>{for(let i=0,n=t.length;i<n;i++){let r=[];for(let o=0,h=t[i].geometryAttributeData.areaAttributeData.length;o<h;o++)r.push(f6.solveAttributeToGeometry(t[i].geometryAttributeData.areaAttributeData[o]));const a=gN(r);B1.collectGeometry(a)}const e=_N(B1.meshArray);vN(e)})},bN=()=>{De.addRayCasterEvent("click",s=>{s[0]&&s[0].object?(p6.state.nowChooseArea=s[0].object,An.innerPassList.outlinePass.selectedObjects=[s[0].object]):(p6.state.nowChooseArea=null,An.innerPassList.outlinePass.selectedObjects=[])})},SN=s=>{B1&&B1.update(s)};var td;const S5=typeof window<"u",wN=s=>typeof s<"u",AN=s=>typeof s=="function",EN=s=>typeof s=="string",Gg=()=>{},TN=S5&&((td=window==null?void 0:window.navigator)==null?void 0:td.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Z8(s){return typeof s=="function"?s():qt(s)}function CN(s){return s}function J8(s){return Ad()?(Iy(s),!0):!1}function RN(s,t=!0){C9()?T4(s):t?s():P6(s)}function PN(s,t,e={}){const{immediate:i=!0}=e,n=G0(!1);let r=null;function a(){r&&(clearTimeout(r),r=null)}function o(){n.value=!1,a()}function h(...l){a(),n.value=!0,r=setTimeout(()=>{n.value=!1,r=null,s(...l)},Z8(t))}return i&&(n.value=!0,S5&&h()),J8(o),{isPending:A6(n),start:h,stop:o}}function Lr(s){var t;const e=Z8(s);return(t=e==null?void 0:e.$el)!=null?t:e}const K8=S5?window:void 0;function Za(...s){let t,e,i,n;if(EN(s[0])||Array.isArray(s[0])?([e,i,n]=s,t=K8):[t,e,i,n]=s,!t)return Gg;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);const r=[],a=()=>{r.forEach(c=>c()),r.length=0},o=(c,u,d,f)=>(c.addEventListener(u,d,f),()=>c.removeEventListener(u,d,f)),h=Pi(()=>[Lr(t),Z8(n)],([c,u])=>{a(),c&&r.push(...e.flatMap(d=>i.map(f=>o(c,d,f,u))))},{immediate:!0,flush:"post"}),l=()=>{h(),a()};return J8(l),l}let ed=!1;function FU(s,t,e={}){const{window:i=K8,ignore:n=[],capture:r=!0,detectIframe:a=!1}=e;if(!i)return;TN&&!ed&&(ed=!0,Array.from(i.document.body.children).forEach(d=>d.addEventListener("click",Gg)));let o=!0;const h=d=>n.some(f=>{if(typeof f=="string")return Array.from(i.document.querySelectorAll(f)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Lr(f);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Za(i,"click",d=>{const f=Lr(s);if(!(!f||f===d.target||d.composedPath().includes(f))){if(d.detail===0&&(o=!h(d)),!o){o=!0;return}t(d)}},{passive:!0,capture:r}),Za(i,"pointerdown",d=>{const f=Lr(s);f&&(o=!d.composedPath().includes(f)&&!h(d))},{passive:!0}),a&&Za(i,"blur",d=>{var f;const p=Lr(s);((f=i.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(d)})].filter(Boolean);return()=>c.forEach(d=>d())}function LN(s,t=!1){const e=G0(),i=()=>e.value=!!s();return i(),RN(i,t),e}function IN(s){return JSON.parse(JSON.stringify(s))}const id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nd="__vueuse_ssr_handlers__";id[nd]=id[nd]||{};var sd=Object.getOwnPropertySymbols,NN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,FN=(s,t)=>{var e={};for(var i in s)NN.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&sd)for(var i of sd(s))t.indexOf(i)<0&&DN.call(s,i)&&(e[i]=s[i]);return e};function ON(s,t,e={}){const i=e,{window:n=K8}=i,r=FN(i,["window"]);let a;const o=LN(()=>n&&"ResizeObserver"in n),h=()=>{a&&(a.disconnect(),a=void 0)},l=Pi(()=>Lr(s),u=>{h(),o.value&&n&&u&&(a=new ResizeObserver(t),a.observe(u,r))},{immediate:!0,flush:"post"}),c=()=>{h(),l()};return J8(c),{isSupported:o,stop:c}}var rd;(function(s){s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE"})(rd||(rd={}));var zN=Object.defineProperty,ad=Object.getOwnPropertySymbols,BN=Object.prototype.hasOwnProperty,UN=Object.prototype.propertyIsEnumerable,od=(s,t,e)=>t in s?zN(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,kN=(s,t)=>{for(var e in t||(t={}))BN.call(t,e)&&od(s,e,t[e]);if(ad)for(var e of ad(t))UN.call(t,e)&&od(s,e,t[e]);return s};const HN={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};kN({linear:CN},HN);function OU(s,t,e,i={}){var n,r,a;const{clone:o=!1,passive:h=!1,eventName:l,deep:c=!1,defaultValue:u}=i,d=C9(),f=e||(d==null?void 0:d.emit)||((n=d==null?void 0:d.$emit)==null?void 0:n.bind(d))||((a=(r=d==null?void 0:d.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(d==null?void 0:d.proxy));let p=l;t||(t="modelValue"),p=l||p||`update:${t.toString()}`;const g=y=>o?AN(o)?o(y):IN(y):y,m=()=>wN(s[t])?g(s[t]):u;if(h){const y=m(),_=G0(y);return Pi(()=>s[t],x=>_.value=g(x)),Pi(_,x=>{(x!==s[t]||c)&&f(p,x)},{deep:c}),_}else return Jt({get(){return m()},set(y){f(p,y)}})}var GN=typeof global=="object"&&global&&global.Object===Object&&global;const VN=GN;var WN=typeof self=="object"&&self&&self.Object===Object&&self,qN=VN||WN||Function("return this")();const Q8=qN;var $N=Q8.Symbol;const i5=$N;var Vg=Object.prototype,XN=Vg.hasOwnProperty,jN=Vg.toString,Y5=i5?i5.toStringTag:void 0;function YN(s){var t=XN.call(s,Y5),e=s[Y5];try{s[Y5]=void 0;var i=!0}catch{}var n=jN.call(s);return i&&(t?s[Y5]=e:delete s[Y5]),n}var ZN=Object.prototype,JN=ZN.toString;function KN(s){return JN.call(s)}var QN="[object Null]",tD="[object Undefined]",hd=i5?i5.toStringTag:void 0;function Wg(s){return s==null?s===void 0?tD:QN:hd&&hd in Object(s)?YN(s):KN(s)}function eD(s){return s!=null&&typeof s=="object"}var iD="[object Symbol]";function th(s){return typeof s=="symbol"||eD(s)&&Wg(s)==iD}function nD(s,t){for(var e=-1,i=s==null?0:s.length,n=Array(i);++e<i;)n[e]=t(s[e],e,s);return n}var sD=Array.isArray;const eh=sD;var rD=1/0,ld=i5?i5.prototype:void 0,cd=ld?ld.toString:void 0;function qg(s){if(typeof s=="string")return s;if(eh(s))return nD(s,qg)+"";if(th(s))return cd?cd.call(s):"";var t=s+"";return t=="0"&&1/s==-rD?"-0":t}function $g(s){var t=typeof s;return s!=null&&(t=="object"||t=="function")}var aD="[object AsyncFunction]",oD="[object Function]",hD="[object GeneratorFunction]",lD="[object Proxy]";function cD(s){if(!$g(s))return!1;var t=Wg(s);return t==oD||t==hD||t==aD||t==lD}var uD=Q8["__core-js_shared__"];const K7=uD;var ud=function(){var s=/[^.]+$/.exec(K7&&K7.keys&&K7.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function dD(s){return!!ud&&ud in s}var fD=Function.prototype,pD=fD.toString;function mD(s){if(s!=null){try{return pD.call(s)}catch{}try{return s+""}catch{}}return""}var gD=/[\\^$.*+?()[\]{}|]/g,yD=/^\[object .+?Constructor\]$/,xD=Function.prototype,_D=Object.prototype,vD=xD.toString,MD=_D.hasOwnProperty,bD=RegExp("^"+vD.call(MD).replace(gD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SD(s){if(!$g(s)||dD(s))return!1;var t=cD(s)?bD:yD;return t.test(mD(s))}function wD(s,t){return s==null?void 0:s[t]}function Xg(s,t){var e=wD(s,t);return SD(e)?e:void 0}function AD(s,t){return s===t||s!==s&&t!==t}var ED=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TD=/^\w*$/;function CD(s,t){if(eh(s))return!1;var e=typeof s;return e=="number"||e=="symbol"||e=="boolean"||s==null||th(s)?!0:TD.test(s)||!ED.test(s)||t!=null&&s in Object(t)}var RD=Xg(Object,"create");const U1=RD;function PD(){this.__data__=U1?U1(null):{},this.size=0}function LD(s){var t=this.has(s)&&delete this.__data__[s];return this.size-=t?1:0,t}var ID="__lodash_hash_undefined__",ND=Object.prototype,DD=ND.hasOwnProperty;function FD(s){var t=this.__data__;if(U1){var e=t[s];return e===ID?void 0:e}return DD.call(t,s)?t[s]:void 0}var OD=Object.prototype,zD=OD.hasOwnProperty;function BD(s){var t=this.__data__;return U1?t[s]!==void 0:zD.call(t,s)}var UD="__lodash_hash_undefined__";function kD(s,t){var e=this.__data__;return this.size+=this.has(s)?0:1,e[s]=U1&&t===void 0?UD:t,this}function E9(s){var t=-1,e=s==null?0:s.length;for(this.clear();++t<e;){var i=s[t];this.set(i[0],i[1])}}E9.prototype.clear=PD;E9.prototype.delete=LD;E9.prototype.get=FD;E9.prototype.has=BD;E9.prototype.set=kD;function HD(){this.__data__=[],this.size=0}function yo(s,t){for(var e=s.length;e--;)if(AD(s[e][0],t))return e;return-1}var GD=Array.prototype,VD=GD.splice;function WD(s){var t=this.__data__,e=yo(t,s);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():VD.call(t,e,1),--this.size,!0}function qD(s){var t=this.__data__,e=yo(t,s);return e<0?void 0:t[e][1]}function $D(s){return yo(this.__data__,s)>-1}function XD(s,t){var e=this.__data__,i=yo(e,s);return i<0?(++this.size,e.push([s,t])):e[i][1]=t,this}function w5(s){var t=-1,e=s==null?0:s.length;for(this.clear();++t<e;){var i=s[t];this.set(i[0],i[1])}}w5.prototype.clear=HD;w5.prototype.delete=WD;w5.prototype.get=qD;w5.prototype.has=$D;w5.prototype.set=XD;var jD=Xg(Q8,"Map");const YD=jD;function ZD(){this.size=0,this.__data__={hash:new E9,map:new(YD||w5),string:new E9}}function JD(s){var t=typeof s;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?s!=="__proto__":s===null}function xo(s,t){var e=s.__data__;return JD(t)?e[typeof t=="string"?"string":"hash"]:e.map}function KD(s){var t=xo(this,s).delete(s);return this.size-=t?1:0,t}function QD(s){return xo(this,s).get(s)}function tF(s){return xo(this,s).has(s)}function eF(s,t){var e=xo(this,s),i=e.size;return e.set(s,t),this.size+=e.size==i?0:1,this}function I9(s){var t=-1,e=s==null?0:s.length;for(this.clear();++t<e;){var i=s[t];this.set(i[0],i[1])}}I9.prototype.clear=ZD;I9.prototype.delete=KD;I9.prototype.get=QD;I9.prototype.has=tF;I9.prototype.set=eF;var iF="Expected a function";function ih(s,t){if(typeof s!="function"||t!=null&&typeof t!="function")throw new TypeError(iF);var e=function(){var i=arguments,n=t?t.apply(this,i):i[0],r=e.cache;if(r.has(n))return r.get(n);var a=s.apply(this,i);return e.cache=r.set(n,a)||r,a};return e.cache=new(ih.Cache||I9),e}ih.Cache=I9;var nF=500;function sF(s){var t=ih(s,function(i){return e.size===nF&&e.clear(),i}),e=t.cache;return t}var rF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aF=/\\(\\)?/g,oF=sF(function(s){var t=[];return s.charCodeAt(0)===46&&t.push(""),s.replace(rF,function(e,i,n,r){t.push(n?r.replace(aF,"$1"):i||e)}),t});const hF=oF;function lF(s){return s==null?"":qg(s)}function cF(s,t){return eh(s)?s:CD(s,t)?[s]:hF(lF(s))}var uF=1/0;function dF(s){if(typeof s=="string"||th(s))return s;var t=s+"";return t=="0"&&1/s==-uF?"-0":t}function fF(s,t){t=cF(t,s);for(var e=0,i=t.length;s!=null&&e<i;)s=s[dF(t[e++])];return e&&e==i?s:void 0}function pF(s,t,e){var i=s==null?void 0:fF(s,t);return i===void 0?e:i}function mF(s){for(var t=-1,e=s==null?0:s.length,i={};++t<e;){var n=s[t];i[n[0]]=n[1]}return i}const gF=s=>s===void 0,zU=s=>typeof s=="boolean",k1=s=>typeof s=="number",yF=s=>typeof Element>"u"?!1:s instanceof Element,xF=s=>ge(s)?!Number.isNaN(Number(s)):!1,dd=s=>Object.keys(s),BU=s=>Object.entries(s),jg=(s="")=>s.split(" ").filter(t=>!!t.trim()),UU=(s,t)=>{if(!s||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return s.classList.contains(t)},kU=(s,t)=>{!s||!t.trim()||s.classList.add(...jg(t))},HU=(s,t)=>{!s||!t.trim()||s.classList.remove(...jg(t))},GU=(s,t)=>{var e;if(!S5||!s||!t)return"";let i=Li(t);i==="float"&&(i="cssFloat");try{const n=s.style[i];if(n)return n;const r=(e=document.defaultView)==null?void 0:e.getComputedStyle(s,"");return r?r[i]:""}catch{return s.style[i]}};function _F(s,t="px"){if(!s)return"";if(k1(s)||xF(s))return`${s}${t}`;if(ge(s))return s}/*! Element Plus Icons Vue v2.1.0 */var Ae=(s,t)=>{let e=s.__vccOpts||s;for(let[i,n]of t)e[i]=n;return e},vF={name:"ArrowDown"},MF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bF=de("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),SF=[bF];function wF(s,t,e,i,n,r){return re(),me("svg",MF,SF)}var VU=Ae(vF,[["render",wF],["__file","arrow-down.vue"]]),AF={name:"ArrowRight"},EF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},TF=de("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),CF=[TF];function RF(s,t,e,i,n,r){return re(),me("svg",EF,CF)}var WU=Ae(AF,[["render",RF],["__file","arrow-right.vue"]]),PF={name:"ArrowUp"},LF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IF=de("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),NF=[IF];function DF(s,t,e,i,n,r){return re(),me("svg",LF,NF)}var qU=Ae(PF,[["render",DF],["__file","arrow-up.vue"]]),FF={name:"Check"},OF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zF=de("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),BF=[zF];function UF(s,t,e,i,n,r){return re(),me("svg",OF,BF)}var $U=Ae(FF,[["render",UF],["__file","check.vue"]]),kF={name:"CircleCheck"},HF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},GF=de("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),VF=de("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),WF=[GF,VF];function qF(s,t,e,i,n,r){return re(),me("svg",HF,WF)}var $F=Ae(kF,[["render",qF],["__file","circle-check.vue"]]),XF={name:"CircleCloseFilled"},jF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},YF=de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),ZF=[YF];function JF(s,t,e,i,n,r){return re(),me("svg",jF,ZF)}var Yg=Ae(XF,[["render",JF],["__file","circle-close-filled.vue"]]),KF={name:"CircleClose"},QF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tO=de("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),eO=de("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),iO=[tO,eO];function nO(s,t,e,i,n,r){return re(),me("svg",QF,iO)}var sO=Ae(KF,[["render",nO],["__file","circle-close.vue"]]),rO={name:"Close"},aO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oO=de("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),hO=[oO];function lO(s,t,e,i,n,r){return re(),me("svg",aO,hO)}var cO=Ae(rO,[["render",lO],["__file","close.vue"]]),uO={name:"Delete"},dO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fO=de("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),pO=[fO];function mO(s,t,e,i,n,r){return re(),me("svg",dO,pO)}var XU=Ae(uO,[["render",mO],["__file","delete.vue"]]),gO={name:"Document"},yO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xO=de("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),_O=[xO];function vO(s,t,e,i,n,r){return re(),me("svg",yO,_O)}var jU=Ae(gO,[["render",vO],["__file","document.vue"]]),MO={name:"Download"},bO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SO=de("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),wO=[SO];function AO(s,t,e,i,n,r){return re(),me("svg",bO,wO)}var YU=Ae(MO,[["render",AO],["__file","download.vue"]]),EO={name:"Hide"},TO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},CO=de("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),RO=de("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),PO=[CO,RO];function LO(s,t,e,i,n,r){return re(),me("svg",TO,PO)}var ZU=Ae(EO,[["render",LO],["__file","hide.vue"]]),IO={name:"InfoFilled"},NO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DO=de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),FO=[DO];function OO(s,t,e,i,n,r){return re(),me("svg",NO,FO)}var Zg=Ae(IO,[["render",OO],["__file","info-filled.vue"]]),zO={name:"Loading"},BO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UO=de("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),kO=[UO];function HO(s,t,e,i,n,r){return re(),me("svg",BO,kO)}var GO=Ae(zO,[["render",HO],["__file","loading.vue"]]),VO={name:"Minus"},WO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qO=de("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),$O=[qO];function XO(s,t,e,i,n,r){return re(),me("svg",WO,$O)}var JU=Ae(VO,[["render",XO],["__file","minus.vue"]]),jO={name:"Plus"},YO={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZO=de("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),JO=[ZO];function KO(s,t,e,i,n,r){return re(),me("svg",YO,JO)}var KU=Ae(jO,[["render",KO],["__file","plus.vue"]]),QO={name:"Printer"},tz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ez=de("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256V768zm64-192v320h384V576H320zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704h128zm64-448h384V128H320v128zm-64 128h64v64h-64v-64zm128 0h64v64h-64v-64z"},null,-1),iz=[ez];function nz(s,t,e,i,n,r){return re(),me("svg",tz,iz)}var QU=Ae(QO,[["render",nz],["__file","printer.vue"]]),sz={name:"StarFilled"},rz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},az=de("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),oz=[az];function hz(s,t,e,i,n,r){return re(),me("svg",rz,oz)}var tk=Ae(sz,[["render",hz],["__file","star-filled.vue"]]),lz={name:"SuccessFilled"},cz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uz=de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),dz=[uz];function fz(s,t,e,i,n,r){return re(),me("svg",cz,dz)}var Jg=Ae(lz,[["render",fz],["__file","success-filled.vue"]]),pz={name:"UploadFilled"},mz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gz=de("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),yz=[gz];function xz(s,t,e,i,n,r){return re(),me("svg",mz,yz)}var ek=Ae(pz,[["render",xz],["__file","upload-filled.vue"]]),_z={name:"View"},vz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mz=de("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),bz=[Mz];function Sz(s,t,e,i,n,r){return re(),me("svg",vz,bz)}var ik=Ae(_z,[["render",Sz],["__file","view.vue"]]),wz={name:"WarningFilled"},Az={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ez=de("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),Tz=[Ez];function Cz(s,t,e,i,n,r){return re(),me("svg",Az,Tz)}var Kg=Ae(wz,[["render",Cz],["__file","warning-filled.vue"]]),Rz={name:"ZoomIn"},Pz={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lz=de("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),Iz=[Lz];function Nz(s,t,e,i,n,r){return re(),me("svg",Pz,Iz)}var nk=Ae(Rz,[["render",Nz],["__file","zoom-in.vue"]]);const Qg="__epPropKey",d4=s=>s,Dz=s=>fe(s)&&!!s[Qg],ty=(s,t)=>{if(!fe(s)||Dz(s))return s;const{values:e,required:i,default:n,type:r,validator:a}=s,h={type:r,required:!!i,validator:e||a?l=>{let c=!1,u=[];if(e&&(u=Array.from(e),ne(s,"default")&&u.push(n),c||(c=u.includes(l))),a&&(c||(c=a(l))),!c&&u.length>0){const d=[...new Set(u)].map(f=>JSON.stringify(f)).join(", ");fx(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(l)}.`)}return c}:void 0,[Qg]:!0};return ne(s,"default")&&(h.default=n),h},nh=s=>mF(Object.entries(s).map(([t,e])=>[t,ty(e,t)])),Fz=d4([String,Object,Function]),Oz={Close:cO,SuccessFilled:Jg,InfoFilled:Zg,WarningFilled:Kg,CircleCloseFilled:Yg},fd={success:Jg,warning:Kg,error:Yg,info:Zg},sk={validating:GO,success:$F,error:sO},ey=(s,t)=>{if(s.install=e=>{for(const i of[s,...Object.values(t??{})])e.component(i.name,i)},t)for(const[e,i]of Object.entries(t))s[e]=i;return s},zz=(s,t)=>(s.install=e=>{s._context=e._context,e.config.globalProperties[t]=s},s),rk=s=>(s.install=ei,s),Bz={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Uz=["","default","small","large"],ak={large:40,default:32,small:24},kz=s=>s;var Hz={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Gz=s=>(t,e)=>Vz(t,e,qt(s)),Vz=(s,t,e)=>pF(e,s,s).replace(/\{(\w+)\}/g,(i,n)=>{var r;return`${(r=t==null?void 0:t[n])!=null?r:`{${n}}`}`}),Wz=s=>{const t=Jt(()=>qt(s).name),e=qe(s)?s:G0(s);return{lang:t,locale:e,t:Gz(s)}},iy=Symbol("localeContextKey"),qz=s=>{const t=s||y0(iy,G0());return Wz(Jt(()=>t.value||Hz))},m6="el",$z="is-",Zs=(s,t,e,i,n)=>{let r=`${s}-${t}`;return e&&(r+=`-${e}`),i&&(r+=`__${i}`),n&&(r+=`--${n}`),r},ny=Symbol("namespaceContextKey"),Xz=s=>{const t=s||y0(ny,G0(m6));return Jt(()=>qt(t)||m6)},sh=(s,t)=>{const e=Xz(t);return{namespace:e,b:(g="")=>Zs(e.value,s,g,"",""),e:g=>g?Zs(e.value,s,"",g,""):"",m:g=>g?Zs(e.value,s,"","",g):"",be:(g,m)=>g&&m?Zs(e.value,s,g,m,""):"",em:(g,m)=>g&&m?Zs(e.value,s,"",g,m):"",bm:(g,m)=>g&&m?Zs(e.value,s,g,"",m):"",bem:(g,m,y)=>g&&m&&y?Zs(e.value,s,g,m,y):"",is:(g,...m)=>{const y=m.length>=1?m[0]:!0;return g&&y?`${$z}${g}`:""},cssVar:g=>{const m={};for(const y in g)g[y]&&(m[`--${e.value}-${y}`]=g[y]);return m},cssVarName:g=>`--${e.value}-${g}`,cssVarBlock:g=>{const m={};for(const y in g)g[y]&&(m[`--${e.value}-${s}-${y}`]=g[y]);return m},cssVarBlockName:g=>`--${e.value}-${s}-${g}`}},pd=G0(0),sy=2e3,ry=Symbol("zIndexContextKey"),jz=s=>{const t=s||y0(ry,void 0),e=Jt(()=>{const r=qt(t);return k1(r)?r:sy}),i=Jt(()=>e.value+pd.value);return{initialZIndex:e,currentZIndex:i,nextZIndex:()=>(pd.value++,i.value)}},ok=ty({type:String,values:Uz,required:!1}),ay=Symbol("size"),hk=()=>{const s=y0(ay,{});return Jt(()=>qt(s.size)||"")},oy=Symbol(),f4=G0();function hy(s,t=void 0){const e=C9()?y0(oy,f4):f4;return s?Jt(()=>{var i,n;return(n=(i=e.value)==null?void 0:i[s])!=null?n:t}):e}function Yz(s,t){const e=hy(),i=sh(s,Jt(()=>{var o;return((o=e.value)==null?void 0:o.namespace)||m6})),n=qz(Jt(()=>{var o;return(o=e.value)==null?void 0:o.locale})),r=jz(Jt(()=>{var o;return((o=e.value)==null?void 0:o.zIndex)||sy})),a=Jt(()=>{var o;return qt(t)||((o=e.value)==null?void 0:o.size)||""});return Zz(Jt(()=>qt(e)||{})),{ns:i,locale:n,zIndex:r,size:a}}const Zz=(s,t,e=!1)=>{var i;const n=!!C9(),r=n?hy():void 0,a=(i=t==null?void 0:t.provide)!=null?i:n?s1:void 0;if(!a)return;const o=Jt(()=>{const h=qt(s);return r!=null&&r.value?Jz(r.value,h):h});return a(oy,o),a(iy,Jt(()=>o.value.locale)),a(ny,Jt(()=>o.value.namespace)),a(ry,Jt(()=>o.value.zIndex)),a(ay,{size:Jt(()=>o.value.size||"")}),(e||!f4.value)&&(f4.value=o.value),o},Jz=(s,t)=>{var e;const i=[...new Set([...dd(s),...dd(t)])],n={};for(const r of i)n[r]=(e=t[r])!=null?e:s[r];return n},md={};var rh=(s,t)=>{const e=s.__vccOpts||s;for(const[i,n]of t)e[i]=n;return e};const Kz=nh({size:{type:d4([Number,String])},color:{type:String}}),Qz=Ss({name:"ElIcon",inheritAttrs:!1}),tB=Ss({...Qz,props:Kz,setup(s){const t=s,e=sh("icon"),i=Jt(()=>{const{size:n,color:r}=t;return!n&&!r?{}:{fontSize:gF(n)?void 0:_F(n),"--color":r}});return(n,r)=>(re(),me("i",yf({class:qt(e).b(),style:qt(i)},n.$attrs),[O6(n.$slots,"default")],16))}});var eB=rh(tB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const gd=ey(eB),iB=nh({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),nB=["textContent"],sB=Ss({name:"ElBadge"}),rB=Ss({...sB,props:iB,setup(s,{expose:t}){const e=s,i=sh("badge"),n=Jt(()=>e.isDot?"":k1(e.value)&&k1(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return t({content:n}),(r,a)=>(re(),me("div",{class:bi(qt(i).b())},[O6(r.$slots,"default"),$e(L4,{name:`${qt(i).namespace.value}-zoom-in-center`,persisted:""},{default:e1(()=>[Yd(de("sup",{class:bi([qt(i).e("content"),qt(i).em("content",r.type),qt(i).is("fixed",!!r.$slots.default),qt(i).is("dot",r.isDot)]),textContent:bd(qt(n))},null,10,nB),[[Rf,!r.hidden&&(qt(n)||r.isDot)]])]),_:1},8,["name"])],2))}});var aB=rh(rB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const oB=ey(aB),ly=["success","info","warning","error"],v0=kz({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:S5?document.body:void 0}),hB=nh({customClass:{type:String,default:v0.customClass},center:{type:Boolean,default:v0.center},dangerouslyUseHTMLString:{type:Boolean,default:v0.dangerouslyUseHTMLString},duration:{type:Number,default:v0.duration},icon:{type:Fz,default:v0.icon},id:{type:String,default:v0.id},message:{type:d4([String,Object,Function]),default:v0.message},onClose:{type:d4(Function),required:!1},showClose:{type:Boolean,default:v0.showClose},type:{type:String,values:ly,default:v0.type},offset:{type:Number,default:v0.offset},zIndex:{type:Number,default:v0.zIndex},grouping:{type:Boolean,default:v0.grouping},repeatNum:{type:Number,default:v0.repeatNum}}),lB={destroy:()=>!0},Ri=Od([]),cB=s=>{const t=Ri.findIndex(n=>n.id===s),e=Ri[t];let i;return t>0&&(i=Ri[t-1]),{current:e,prev:i}},uB=s=>{const{prev:t}=cB(s);return t?t.vm.exposed.bottom.value:0},dB=(s,t)=>Ri.findIndex(i=>i.id===s)>0?20:t,fB=["id"],pB=["innerHTML"],mB=Ss({name:"ElMessage"}),gB=Ss({...mB,props:hB,emits:lB,setup(s,{expose:t}){const e=s,{Close:i}=Oz,{ns:n,zIndex:r}=Yz("message"),{currentZIndex:a,nextZIndex:o}=r,h=G0(),l=G0(!1),c=G0(0);let u;const d=Jt(()=>e.type?e.type==="error"?"danger":e.type:"info"),f=Jt(()=>{const w=e.type;return{[n.bm("icon",w)]:w&&fd[w]}}),p=Jt(()=>e.icon||fd[e.type]||""),g=Jt(()=>uB(e.id)),m=Jt(()=>dB(e.id,e.offset)+g.value),y=Jt(()=>c.value+m.value),_=Jt(()=>({top:`${m.value}px`,zIndex:a.value}));function x(){e.duration!==0&&({stop:u}=PN(()=>{b()},e.duration))}function v(){u==null||u()}function b(){l.value=!1}function E({code:w}){w===Bz.esc&&b()}return T4(()=>{x(),o(),l.value=!0}),Pi(()=>e.repeatNum,()=>{v(),x()}),Za(document,"keydown",E),ON(h,()=>{c.value=h.value.getBoundingClientRect().height}),t({visible:l,bottom:y,close:b}),(w,R)=>(re(),n9(L4,{name:qt(n).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:R[0]||(R[0]=S=>w.$emit("destroy")),persisted:""},{default:e1(()=>[Yd(de("div",{id:w.id,ref_key:"messageRef",ref:h,class:bi([qt(n).b(),{[qt(n).m(w.type)]:w.type&&!w.icon},qt(n).is("center",w.center),qt(n).is("closable",w.showClose),w.customClass]),style:_4(qt(_)),role:"alert",onMouseenter:v,onMouseleave:x},[w.repeatNum>1?(re(),n9(qt(oB),{key:0,value:w.repeatNum,type:qt(d),class:bi(qt(n).e("badge"))},null,8,["value","type","class"])):p2("v-if",!0),qt(p)?(re(),n9(qt(gd),{key:1,class:bi([qt(n).e("icon"),qt(f)])},{default:e1(()=>[(re(),n9(kx(qt(p))))]),_:1},8,["class"])):p2("v-if",!0),O6(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(re(),me(S0,{key:1},[p2(" Caution here, message could've been compromised, never use user's input as message "),de("p",{class:bi(qt(n).e("content")),innerHTML:w.message},null,10,pB)],2112)):(re(),me("p",{key:0,class:bi(qt(n).e("content"))},bd(w.message),3))]),w.showClose?(re(),n9(qt(gd),{key:2,class:bi(qt(n).e("closeBtn")),onClick:Y_(b,["stop"])},{default:e1(()=>[$e(qt(i))]),_:1},8,["class","onClick"])):p2("v-if",!0)],46,fB),[[Rf,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var yB=rh(gB,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let xB=1;const cy=s=>{const t=!s||ge(s)||Wr(s)||Vt(s)?{message:s}:s,e={...v0,...t};if(!e.appendTo)e.appendTo=document.body;else if(ge(e.appendTo)){let i=document.querySelector(e.appendTo);yF(i)||(i=document.body),e.appendTo=i}return e},_B=s=>{const t=Ri.indexOf(s);if(t===-1)return;Ri.splice(t,1);const{handler:e}=s;e.close()},vB=({appendTo:s,...t},e)=>{const i=`message_${xB++}`,n=t.onClose,r=document.createElement("div"),a={...t,id:i,onClose:()=>{n==null||n(),_B(c)},onDestroy:()=>{Kh(null,r)}},o=$e(yB,a,Vt(a.message)||Wr(a.message)?{default:Vt(a.message)?a.message:()=>a.message}:null);o.appContext=e||n5._context,Kh(o,r),s.appendChild(r.firstElementChild);const h=o.component,c={id:i,vnode:o,vm:h,handler:{close:()=>{h.exposed.visible.value=!1}},props:o.component.props};return c},n5=(s={},t)=>{if(!S5)return{close:()=>{}};if(k1(md.max)&&Ri.length>=md.max)return{close:()=>{}};const e=cy(s);if(e.grouping&&Ri.length){const n=Ri.find(({vnode:r})=>{var a;return((a=r.props)==null?void 0:a.message)===e.message});if(n)return n.props.repeatNum+=1,n.props.type=e.type,n.handler}const i=vB(e,t);return Ri.push(i),i.handler};ly.forEach(s=>{n5[s]=(t={},e)=>{const i=cy(t);return n5({...i,type:s},e)}});function MB(s){for(const t of Ri)(!s||s===t.props.type)&&t.handler.close()}n5.closeAll=MB;n5._context=null;const bB=zz(n5,"$message");let H1;const lk=s=>{H1=s};let p4=[];function SB(s){p4.includes(s)||p4.push(s)}const wB=s=>{p4=[];for(let t=0,e=s.features.length;t<e;t++)SB(s.features[t].properties.name);return p4},AB=s=>{let t;if(s=="inner")t=Qf;else if(s=="users"){if(!H1)return bB.error("您没有本地数据，请右边解析shp文件geojson解析，然后再次点击"),[];t=H1}return wB(t)},EB=s=>{let t;if(s=="inner")t=Qf;else if(s=="users"){if(!H1)return[];t=H1}return t},TB=new HM,CB=(s,t)=>{let e=[];for(let i=0,n=t.length;i<n;i++){const r={name:t[i],shapeData:[]};for(let a=0,o=s.features.length;a<o;a++)e[s],s.features[a].properties.name==t[i]&&r.shapeData.push(TB.collectDataArray(s.features[a]));e.push(r)}MN(e)},ck=s=>{const t=s.attributes.position;let e,i;for(let n=0,r=t.array.length;n<r;n+=3){const a=t.array[n+1];e==null&&i==null&&(e=a,i=a),a<e?e=a:a>i&&(i=a)}return{bottom:e,top:i,height:i-e}},uk=(s,t,e)=>{const i=s.geometry.attributes.position;for(let n=0,r=i.array.length;n<r;n+=3)e(i.array[n+1])&&(i.array[n+1]=t);i.needsUpdate=!0},RB=BM({state:{nowGeoJSONData:null,nowNameList:[],nowChooseArea:null},mutations:{testGISData(s,t){}},actions:{viewInScene(s,t){},setViewOrigin(s,t){s.state.nowNameList=AB(t),s.state.nowGeoJSONData=EB(t)},chooseShowData(s,t){CB(JSON.parse(JSON.stringify(s.state.nowGeoJSONData)),JSON.parse(JSON.stringify(t)))}},getters:{}});K_(sv).use(vM).use(RB).mount("#app");export{jU as $,qt as A,kx as B,O6 as C,bi as D,gd as E,S0 as F,rh as G,ey as H,a5 as I,zB as J,$g as K,Q8 as L,eD as M,eh as N,Kg as O,$F as P,sO as Q,$U as R,i5 as S,cO as T,Vt as U,ei as V,kz as W,qz as X,$B as Y,Y_ as Z,tv as _,de as a,ck as a$,nk as a0,XU as a1,VB as a2,Bt as a3,y0 as a4,ax as a5,fe as a6,BU as a7,OU as a8,kB as a9,C9 as aA,ok as aB,ne as aC,FB as aD,VU as aE,gF as aF,JU as aG,qU as aH,KU as aI,he as aJ,pF as aK,LB as aL,PB as aM,_y as aN,Bz as aO,TN as aP,OB as aQ,WB as aR,G6 as aS,zU as aT,GO as aU,yd as aV,tk as aW,MM as aX,uk as aY,bB as aZ,De as a_,ef as aa,s1 as ab,IB as ac,BB as ad,yf as ae,ek as af,lk as ag,QU as ah,YU as ai,NU as aj,nf as ak,DU as al,th as am,ak as an,Za as ao,Yd as ap,Rf as aq,L4 as ar,S5 as as,ON as at,P6 as au,tf as av,yF as aw,UB as ax,WU as ay,rk as az,DB as b,mF as b0,qe as b1,dx as b2,UU as b3,GU as b4,kU as b5,Iy as b6,HU as b7,HB as b8,sk as b9,cD as bA,Wg as bB,VN as bC,w5 as bD,YD as bE,I9 as bF,mD as bG,hk as bH,hy as bI,ik as ba,ZU as bb,Oz as bc,Yz as bd,fd as be,Wr as bf,Kh as bg,ty as bh,J8 as bi,Ix as bj,Xz as bk,gs as bl,C4 as bm,ni as bn,Lr as bo,jz as bp,GB as bq,FU as br,A6 as bs,Px as bt,cF as bu,dF as bv,fF as bw,qB as bx,Xg as by,AD as bz,me as c,l_ as d,T4 as e,Ux as f,$e as g,n9 as h,p2 as i,nh as j,Uz as k,k1 as l,Fz as m,d4 as n,re as o,NB as p,Ss as q,G0 as r,Jt as s,bd as t,sh as u,ge as v,e1 as w,_F as x,Pi as y,_4 as z};
