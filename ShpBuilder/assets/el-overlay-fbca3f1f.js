import{aq as oe,i as ht,n as y,a_ as Et,ay as Ct,o as Ne,aB as wt,a7 as ot,q as Fe,a$ as St,u as Ce,b0 as Tt,b1 as We,s as ne,b2 as It,b3 as Mt,b4 as Bt,b5 as kt,R as be,r as L,j as Xe,h as st,az as At,l as ie,k as je,T as Lt,p as ue,m as we,b6 as zt,a6 as Ot,a2 as Me,b7 as Rt,b8 as Nt,b9 as $t,ar as xt,as as $,a9 as Vt,an as ge,ao as he,b as p,c as B,g as h,F as Be,z as f,v as i,y as q,d as I,f as S,w as M,x as X,E as te,ab as ke,e as K,N as Dt,W as re,G as U,t as Le,A as at,a3 as ze,B as Ht,aM as Pt,aQ as Yt,ba as Kt,bb as Ut,C as Ft,bc as Ge,aJ as Wt,a as ee,V as me,ae as Ae,ap as Xt,bd as lt,be as rt,aA as qe,aD as jt,Q as Qe,au as Ze}from"./index-a6138166.js";import{b as Gt,c as qt,a as Qt,u as Zt,E as Jt,e as Je}from"./el-button-0b292968.js";import{t as _t,r as Oe,q as _e}from"./event-314bb7a2.js";import{i as en,E as tn}from"./focus-trap-8a1942e5.js";const nn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',on=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,et=e=>Array.from(e.querySelectorAll(nn)).filter(t=>sn(t)&&on(t)),sn=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},an=()=>oe&&/firefox/i.test(window.navigator.userAgent);let ye;const ln=e=>{var t;if(!oe)return 0;if(ye!==void 0)return ye;const s=document.createElement("div");s.className=`${e}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const n=s.offsetWidth;s.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",s.appendChild(a);const l=a.offsetWidth;return(t=s.parentNode)==null||t.removeChild(s),ye=n-l,ye};function Jn(e,t){if(!oe)return;if(!t){e.scrollTop=0;return}const s=[];let n=t.offsetParent;for(;n!==null&&e!==n&&e.contains(n);)s.push(n),n=n.offsetParent;const a=t.offsetTop+s.reduce((c,r)=>c+r.offsetTop,0),l=a+t.offsetHeight,u=e.scrollTop,v=u+e.clientHeight;a<u?e.scrollTop=a:l>v&&(e.scrollTop=l-e.clientHeight)}const rn=e=>["",...ht].includes(e);var Ee=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Ee||{});const un=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),dn=["class","style"],cn=/^on[A-Z]/,fn=(e={})=>{const{excludeListeners:t=!1,excludeKeys:s}=e,n=y(()=>((s==null?void 0:s.value)||[]).concat(dn)),a=Ct();return a?y(()=>{var l;return Et(Object.entries((l=a.proxy)==null?void 0:l.$attrs).filter(([u])=>!n.value.includes(u)&&!(t&&cn.test(u))))}):y(()=>({}))},pn=(e,t,s)=>{let n={offsetX:0,offsetY:0};const a=v=>{const c=v.clientX,r=v.clientY,{offsetX:C,offsetY:b}=n,g=e.value.getBoundingClientRect(),Z=g.left,z=g.top,d=g.width,j=g.height,k=document.documentElement.clientWidth,T=document.documentElement.clientHeight,x=-Z+C,G=-z+b,P=k-Z-d+C,A=T-z-j+b,F=V=>{const D=Math.min(Math.max(C+V.clientX-c,x),P),O=Math.min(Math.max(b+V.clientY-r,G),A);n={offsetX:D,offsetY:O},e.value.style.transform=`translate(${Fe(D)}, ${Fe(O)})`},Y=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",Y)},l=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},u=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)};Ne(()=>{wt(()=>{s.value?l():u()})}),ot(()=>{u()})},vn=(e,t={})=>{St(e)||_t("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||Ce("popup"),n=Tt(()=>s.bm("parent","hidden"));if(!oe||We(document.body,n.value))return;let a=0,l=!1,u="0";const v=()=>{setTimeout(()=>{kt(document==null?void 0:document.body,n.value),l&&document&&(document.body.style.width=u)},200)};ne(e,c=>{if(!c){v();return}l=!We(document.body,n.value),l&&(u=document.body.style.width),a=ln(s.namespace.value);const r=document.documentElement.clientHeight<document.body.scrollHeight,C=It(document.body,"overflowY");a>0&&(r||C==="scroll")&&l&&(document.body.style.width=`calc(100% - ${a}px)`),Mt(document.body,n.value)}),Bt(()=>v())},it=e=>{if(!e)return{onClick:be,onMousedown:be,onMouseup:be};let t=!1,s=!1;return{onClick:u=>{t&&s&&e(u),t=s=!1},onMousedown:u=>{t=u.target===u.currentTarget},onMouseup:u=>{s=u.target===u.currentTarget}}};function mn(e){const t=L();function s(){if(e.value==null)return;const{selectionStart:a,selectionEnd:l,value:u}=e.value;if(a==null||l==null)return;const v=u.slice(0,Math.max(0,a)),c=u.slice(Math.max(0,l));t.value={selectionStart:a,selectionEnd:l,value:u,beforeTxt:v,afterTxt:c}}function n(){if(e.value==null||t.value==null)return;const{value:a}=e.value,{beforeTxt:l,afterTxt:u,selectionStart:v}=t.value;if(l==null||u==null||v==null)return;let c=a.length;if(a.endsWith(u))c=a.length-u.length;else if(a.startsWith(l))c=l.length;else{const r=l[v-1],C=a.indexOf(r,v-1);C!==-1&&(c=C+1)}e.value.setSelectionRange(c,c)}return[s,n]}let N;const yn=`
  height:0 !important;
  visibility:hidden !important;
  ${an()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,bn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function gn(e){const t=window.getComputedStyle(e),s=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:bn.map(u=>`${u}:${t.getPropertyValue(u)}`).join(";"),paddingSize:n,borderSize:a,boxSizing:s}}function tt(e,t=1,s){var n;N||(N=document.createElement("textarea"),document.body.appendChild(N));const{paddingSize:a,borderSize:l,boxSizing:u,contextStyle:v}=gn(e);N.setAttribute("style",`${v};${yn}`),N.value=e.value||e.placeholder||"";let c=N.scrollHeight;const r={};u==="border-box"?c=c+l:u==="content-box"&&(c=c-a),N.value="";const C=N.scrollHeight-a;if(Xe(t)){let b=C*t;u==="border-box"&&(b=b+a+l),c=Math.max(b,c),r.minHeight=`${b}px`}if(Xe(s)){let b=C*s;u==="border-box"&&(b=b+a+l),c=Math.min(b,c)}return r.height=`${c}px`,(n=N.parentNode)==null||n.removeChild(N),N=void 0,r}const hn=st({id:{type:String,default:void 0},size:At,disabled:Boolean,modelValue:{type:ie([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ie([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:je},prefixIcon:{type:je},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ie([Object,Array,String]),default:()=>Lt({})}}),En={[Oe]:e=>ue(e),input:e=>ue(e),change:e=>ue(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Cn=["role"],wn=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Sn=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Tn=we({name:"ElInput",inheritAttrs:!1}),In=we({...Tn,props:hn,emits:En,setup(e,{expose:t,emit:s}){const n=e,a=zt(),l=Ot(),u=y(()=>{const o={};return n.containerRole==="combobox"&&(o["aria-haspopup"]=a["aria-haspopup"],o["aria-owns"]=a["aria-owns"],o["aria-expanded"]=a["aria-expanded"]),o}),v=y(()=>[n.type==="textarea"?j.b():d.b(),d.m(Z.value),d.is("disabled",z.value),d.is("exceed",ut.value),{[d.b("group")]:l.prepend||l.append,[d.bm("group","append")]:l.append,[d.bm("group","prepend")]:l.prepend,[d.m("prefix")]:l.prefix||n.prefixIcon,[d.m("suffix")]:l.suffix||n.suffixIcon||n.clearable||n.showPassword,[d.bm("suffix","password-clear")]:R.value&&J.value},a.class]),c=y(()=>[d.e("wrapper"),d.is("focus",x.value)]),r=fn({excludeKeys:y(()=>Object.keys(u.value))}),{form:C,formItem:b}=Gt(),{inputId:g}=qt(n,{formItemContext:b}),Z=Qt(),z=Zt(),d=Ce("input"),j=Ce("textarea"),k=Me(),T=Me(),x=L(!1),G=L(!1),P=L(!1),A=L(!1),F=L(),Y=Me(n.inputStyle),V=y(()=>k.value||T.value),D=y(()=>{var o;return(o=C==null?void 0:C.statusIcon)!=null?o:!1}),O=y(()=>(b==null?void 0:b.validateState)||""),ce=y(()=>O.value&&Rt[O.value]),fe=y(()=>A.value?Nt:$t),Se=y(()=>[a.style,n.inputStyle]),E=y(()=>[n.inputStyle,Y.value,{resize:n.resize}]),w=y(()=>en(n.modelValue)?"":String(n.modelValue)),R=y(()=>n.clearable&&!z.value&&!n.readonly&&!!w.value&&(x.value||G.value)),J=y(()=>n.showPassword&&!z.value&&!n.readonly&&!!w.value&&(!!w.value||x.value)),_=y(()=>n.showWordLimit&&!!r.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!z.value&&!n.readonly&&!n.showPassword),Te=y(()=>w.value.length),ut=y(()=>!!_.value&&Te.value>Number(r.value.maxlength)),dt=y(()=>!!l.suffix||!!n.suffixIcon||R.value||n.showPassword||_.value||!!O.value&&D.value),[ct,ft]=mn(k);xt(T,o=>{if(pt(),!_.value||n.resize!=="both")return;const m=o[0],{width:H}=m.contentRect;F.value={right:`calc(100% - ${H+15+6}px)`}});const ae=()=>{const{type:o,autosize:m}=n;if(!(!oe||o!=="textarea"||!T.value))if(m){const H=ze(m)?m.minRows:void 0,ve=ze(m)?m.maxRows:void 0,Ue=tt(T.value,H,ve);Y.value={overflowY:"hidden",...Ue},$(()=>{T.value.offsetHeight,Y.value=Ue})}else Y.value={minHeight:tt(T.value).minHeight}},pt=(o=>{let m=!1;return()=>{var H;if(m||!n.autosize)return;((H=T.value)==null?void 0:H.offsetParent)===null||(o(),m=!0)}})(ae),le=()=>{const o=V.value,m=n.formatter?n.formatter(w.value):w.value;!o||o.value===m||(o.value=m)},Ie=async o=>{ct();let{value:m}=o.target;if(n.formatter&&(m=n.parser?n.parser(m):m),!P.value){if(m===w.value){le();return}s(Oe,m),s("input",m),await $(),le(),ft()}},$e=o=>{s("change",o.target.value)},xe=o=>{s("compositionstart",o),P.value=!0},Ve=o=>{var m;s("compositionupdate",o);const H=(m=o.target)==null?void 0:m.value,ve=H[H.length-1]||"";P.value=!un(ve)},De=o=>{s("compositionend",o),P.value&&(P.value=!1,Ie(o))},vt=()=>{A.value=!A.value,pe()},pe=async()=>{var o;await $(),(o=V.value)==null||o.focus()},mt=()=>{var o;return(o=V.value)==null?void 0:o.blur()},He=o=>{x.value=!0,s("focus",o)},Pe=o=>{var m;x.value=!1,s("blur",o),n.validateEvent&&((m=b==null?void 0:b.validate)==null||m.call(b,"blur").catch(H=>_e()))},yt=o=>{G.value=!1,s("mouseleave",o)},bt=o=>{G.value=!0,s("mouseenter",o)},Ye=o=>{s("keydown",o)},gt=()=>{var o;(o=V.value)==null||o.select()},Ke=()=>{s(Oe,""),s("change",""),s("clear"),s("input","")};return ne(()=>n.modelValue,()=>{var o;$(()=>ae()),n.validateEvent&&((o=b==null?void 0:b.validate)==null||o.call(b,"change").catch(m=>_e()))}),ne(w,()=>le()),ne(()=>n.type,async()=>{await $(),le(),ae()}),Ne(()=>{!n.formatter&&n.parser,le(),$(ae)}),t({input:k,textarea:T,ref:V,textareaStyle:E,autosize:Vt(n,"autosize"),focus:pe,blur:mt,select:gt,clear:Ke,resizeTextarea:ae}),(o,m)=>ge((p(),B("div",ke(i(u),{class:i(v),style:i(Se),role:o.containerRole,onMouseenter:bt,onMouseleave:yt}),[h(" input "),o.type!=="textarea"?(p(),B(Be,{key:0},[h(" prepend slot "),o.$slots.prepend?(p(),B("div",{key:0,class:f(i(d).be("group","prepend"))},[q(o.$slots,"prepend")],2)):h("v-if",!0),I("div",{class:f(i(c))},[h(" prefix slot "),o.$slots.prefix||o.prefixIcon?(p(),B("span",{key:0,class:f(i(d).e("prefix"))},[I("span",{class:f(i(d).e("prefix-inner")),onClick:pe},[q(o.$slots,"prefix"),o.prefixIcon?(p(),S(i(te),{key:0,class:f(i(d).e("icon"))},{default:M(()=>[(p(),S(X(o.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),I("input",ke({id:i(g),ref_key:"input",ref:k,class:i(d).e("inner")},i(r),{type:o.showPassword?A.value?"text":"password":o.type,disabled:i(z),formatter:o.formatter,parser:o.parser,readonly:o.readonly,autocomplete:o.autocomplete,tabindex:o.tabindex,"aria-label":o.label,placeholder:o.placeholder,style:o.inputStyle,form:n.form,onCompositionstart:xe,onCompositionupdate:Ve,onCompositionend:De,onInput:Ie,onFocus:He,onBlur:Pe,onChange:$e,onKeydown:Ye}),null,16,wn),h(" suffix slot "),i(dt)?(p(),B("span",{key:1,class:f(i(d).e("suffix"))},[I("span",{class:f(i(d).e("suffix-inner")),onClick:pe},[!i(R)||!i(J)||!i(_)?(p(),B(Be,{key:0},[q(o.$slots,"suffix"),o.suffixIcon?(p(),S(i(te),{key:0,class:f(i(d).e("icon"))},{default:M(()=>[(p(),S(X(o.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),i(R)?(p(),S(i(te),{key:1,class:f([i(d).e("icon"),i(d).e("clear")]),onMousedown:re(i(be),["prevent"]),onClick:Ke},{default:M(()=>[K(i(Dt))]),_:1},8,["class","onMousedown"])):h("v-if",!0),i(J)?(p(),S(i(te),{key:2,class:f([i(d).e("icon"),i(d).e("password")]),onClick:vt},{default:M(()=>[(p(),S(X(i(fe))))]),_:1},8,["class"])):h("v-if",!0),i(_)?(p(),B("span",{key:3,class:f(i(d).e("count"))},[I("span",{class:f(i(d).e("count-inner"))},U(i(Te))+" / "+U(i(r).maxlength),3)],2)):h("v-if",!0),i(O)&&i(ce)&&i(D)?(p(),S(i(te),{key:4,class:f([i(d).e("icon"),i(d).e("validateIcon"),i(d).is("loading",i(O)==="validating")])},{default:M(()=>[(p(),S(X(i(ce))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),o.$slots.append?(p(),B("div",{key:1,class:f(i(d).be("group","append"))},[q(o.$slots,"append")],2)):h("v-if",!0)],64)):(p(),B(Be,{key:1},[h(" textarea "),I("textarea",ke({id:i(g),ref_key:"textarea",ref:T,class:i(j).e("inner")},i(r),{tabindex:o.tabindex,disabled:i(z),readonly:o.readonly,autocomplete:o.autocomplete,style:i(E),"aria-label":o.label,placeholder:o.placeholder,form:n.form,onCompositionstart:xe,onCompositionupdate:Ve,onCompositionend:De,onInput:Ie,onFocus:He,onBlur:Pe,onChange:$e,onKeydown:Ye}),null,16,Sn),i(_)?(p(),B("span",{key:0,style:Le(F.value),class:f(i(d).e("count"))},U(i(Te))+" / "+U(i(r).maxlength),7)):h("v-if",!0)],64))],16,Cn)),[[he,o.type!=="hidden"]])}});var Mn=at(In,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Bn=Ht(Mn),Re="_trap-focus-children",Q=[],nt=e=>{if(Q.length===0)return;const t=Q[Q.length-1][Re];if(t.length>0&&e.code===Pt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const s=e.shiftKey,n=e.target===t[0],a=e.target===t[t.length-1];n&&s&&(e.preventDefault(),t[t.length-1].focus()),a&&!s&&(e.preventDefault(),t[0].focus())}},kn={beforeMount(e){e[Re]=et(e),Q.push(e),Q.length<=1&&document.addEventListener("keydown",nt)},updated(e){$(()=>{e[Re]=et(e)})},unmounted(){Q.shift(),Q.length===0&&document.removeEventListener("keydown",nt)}},An=st({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ie([String,Array,Object])},zIndex:{type:ie([String,Number])}}),Ln={click:e=>e instanceof MouseEvent},zn="overlay";var On=we({name:"ElOverlay",props:An,emits:Ln,setup(e,{slots:t,emit:s}){const n=Ce(zn),a=c=>{s("click",c)},{onClick:l,onMousedown:u,onMouseup:v}=it(e.customMaskEvent?void 0:a);return()=>e.mask?K("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:u,onMouseup:v},[q(t,"default")],Ee.STYLE|Ee.CLASS|Ee.PROPS,["onClick","onMouseup","onMousedown"]):Yt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[q(t,"default")])}});const Rn=On,Nn=we({name:"ElMessageBox",directives:{TrapFocus:kn},components:{ElButton:Jt,ElFocusTrap:tn,ElInput:Bn,ElOverlay:Rn,ElIcon:te,...Kt},inheritAttrs:!1,props:{buttonSize:{type:String,validator:rn},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:s,zIndex:n,ns:a,size:l}=Ut("message-box",y(()=>e.buttonSize)),{t:u}=s,{nextZIndex:v}=n,c=L(!1),r=Ft({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:v()}),C=y(()=>{const E=r.type;return{[a.bm("icon",E)]:E&&Ge[E]}}),b=Je(),g=Je(),Z=y(()=>r.icon||Ge[r.type]||""),z=y(()=>!!r.message),d=L(),j=L(),k=L(),T=L(),x=L(),G=y(()=>r.confirmButtonClass);ne(()=>r.inputValue,async E=>{await $(),e.boxType==="prompt"&&E!==null&&O()},{immediate:!0}),ne(()=>c.value,E=>{var w,R;E&&(e.boxType!=="prompt"&&(r.autofocus?k.value=(R=(w=x.value)==null?void 0:w.$el)!=null?R:d.value:k.value=d.value),r.zIndex=v()),e.boxType==="prompt"&&(E?$().then(()=>{var J;T.value&&T.value.$el&&(r.autofocus?k.value=(J=ce())!=null?J:d.value:k.value=d.value)}):(r.editorErrorMessage="",r.validateError=!1))});const P=y(()=>e.draggable);pn(d,j,P),Ne(async()=>{await $(),e.closeOnHashChange&&window.addEventListener("hashchange",A)}),ot(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",A)});function A(){c.value&&(c.value=!1,$(()=>{r.action&&t("action",r.action)}))}const F=()=>{e.closeOnClickModal&&D(r.distinguishCancelAndClose?"close":"cancel")},Y=it(F),V=E=>{if(r.inputType!=="textarea")return E.preventDefault(),D("confirm")},D=E=>{var w;e.boxType==="prompt"&&E==="confirm"&&!O()||(r.action=E,r.beforeClose?(w=r.beforeClose)==null||w.call(r,E,r,A):A())},O=()=>{if(e.boxType==="prompt"){const E=r.inputPattern;if(E&&!E.test(r.inputValue||""))return r.editorErrorMessage=r.inputErrorMessage||u("el.messagebox.error"),r.validateError=!0,!1;const w=r.inputValidator;if(typeof w=="function"){const R=w(r.inputValue);if(R===!1)return r.editorErrorMessage=r.inputErrorMessage||u("el.messagebox.error"),r.validateError=!0,!1;if(typeof R=="string")return r.editorErrorMessage=R,r.validateError=!0,!1}}return r.editorErrorMessage="",r.validateError=!1,!0},ce=()=>{const E=T.value.$refs;return E.input||E.textarea},fe=()=>{D("close")},Se=()=>{e.closeOnPressEscape&&fe()};return e.lockScroll&&vn(c),{...Wt(r),ns:a,overlayEvent:Y,visible:c,hasMessage:z,typeClass:C,contentId:b,inputId:g,btnSize:l,iconComponent:Z,confirmButtonClasses:G,rootRef:d,focusStartRef:k,headerRef:j,inputRef:T,confirmRef:x,doClose:A,handleClose:fe,onCloseRequested:Se,handleWrapperClick:F,handleInputEnter:V,handleAction:D,t:u}}}),$n=["aria-label","aria-describedby"],xn=["aria-label"],Vn=["id"];function Dn(e,t,s,n,a,l){const u=ee("el-icon"),v=ee("close"),c=ee("el-input"),r=ee("el-button"),C=ee("el-focus-trap"),b=ee("el-overlay");return p(),S(Xt,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=g=>e.$emit("vanish")),persisted:""},{default:M(()=>[ge(K(b,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:M(()=>[I("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:f(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...g)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...g)),onMousedown:t[9]||(t[9]=(...g)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...g)),onMouseup:t[10]||(t[10]=(...g)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...g))},[K(C,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:M(()=>[I("div",{ref:"rootRef",class:f([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Le(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=re(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(p(),B("div",{key:0,ref:"headerRef",class:f(e.ns.e("header"))},[I("div",{class:f(e.ns.e("title"))},[e.iconComponent&&e.center?(p(),S(u,{key:0,class:f([e.ns.e("status"),e.typeClass])},{default:M(()=>[(p(),S(X(e.iconComponent)))]),_:1},8,["class"])):h("v-if",!0),I("span",null,U(e.title),1)],2),e.showClose?(p(),B("button",{key:0,type:"button",class:f(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=me(re(g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[K(u,{class:f(e.ns.e("close"))},{default:M(()=>[K(v)]),_:1},8,["class"])],42,xn)):h("v-if",!0)],2)):h("v-if",!0),I("div",{id:e.contentId,class:f(e.ns.e("content"))},[I("div",{class:f(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(p(),S(u,{key:0,class:f([e.ns.e("status"),e.typeClass])},{default:M(()=>[(p(),S(X(e.iconComponent)))]),_:1},8,["class"])):h("v-if",!0),e.hasMessage?(p(),B("div",{key:1,class:f(e.ns.e("message"))},[q(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(p(),S(X(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(p(),S(X(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:M(()=>[Ae(U(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):h("v-if",!0)],2),ge(I("div",{class:f(e.ns.e("input"))},[K(c,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=g=>e.inputValue=g),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:f({invalid:e.validateError}),onKeydown:me(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),I("div",{class:f(e.ns.e("errormsg")),style:Le({visibility:e.editorErrorMessage?"visible":"hidden"})},U(e.editorErrorMessage),7)],2),[[he,e.showInput]])],10,Vn),I("div",{class:f(e.ns.e("btns"))},[e.showCancelButton?(p(),S(r,{key:0,loading:e.cancelButtonLoading,class:f([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=g=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=me(re(g=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:M(()=>[Ae(U(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):h("v-if",!0),ge(K(r,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:f([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=g=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=me(re(g=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:M(()=>[Ae(U(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[he,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,$n)]),_:3},8,["z-index","overlay-class","mask"]),[[he,e.visible]])]),_:3})}var Hn=at(Nn,[["render",Dn],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const de=new Map,Pn=e=>{let t=document.body;return e.appendTo&&(ue(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ze(e.appendTo)&&(t=e.appendTo),Ze(t)||(t=document.body)),t},Yn=(e,t,s=null)=>{const n=K(Hn,e,Qe(e.message)||lt(e.message)?{default:Qe(e.message)?e.message:()=>e.message}:null);return n.appContext=s,rt(n,t),Pn(e).appendChild(t.firstElementChild),n.component},Kn=()=>document.createElement("div"),Un=(e,t)=>{const s=Kn();e.onVanish=()=>{rt(null,s),de.delete(a)},e.onAction=l=>{const u=de.get(a);let v;e.showInput?v={value:a.inputValue,action:l}:v=l,e.callback?e.callback(v,n.proxy):l==="cancel"||l==="close"?e.distinguishCancelAndClose&&l!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(v)};const n=Yn(e,s,t),a=n.proxy;for(const l in e)qe(e,l)&&!qe(a.$props,l)&&(a[l]=e[l]);return a.visible=!0,a};function se(e,t=null){if(!oe)return Promise.reject();let s;return ue(e)||lt(e)?e={message:e}:s=e.callback,new Promise((n,a)=>{const l=Un(e,t??se._context);de.set(l,{options:e,callback:s,resolve:n,reject:a})})}const Fn=["alert","confirm","prompt"],Wn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Fn.forEach(e=>{se[e]=Xn(e)});function Xn(e){return(t,s,n,a)=>{let l="";return ze(s)?(n=s,l=""):jt(s)?l="":l=s,se(Object.assign({title:l,message:t,type:"",...Wn[e]},n,{boxType:e}),a)}}se.close=()=>{de.forEach((e,t)=>{t.doClose()}),de.clear()};se._context=null;const W=se;W.install=e=>{W._context=e._context,e.config.globalProperties.$msgbox=W,e.config.globalProperties.$messageBox=W,e.config.globalProperties.$alert=W.alert,e.config.globalProperties.$confirm=W.confirm,e.config.globalProperties.$prompt=W.prompt};const _n=W;export{_n as E,Bn as a,rn as b,un as i,Jn as s};
